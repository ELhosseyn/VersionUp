var nve=Object.defineProperty;var U8=t=>{throw TypeError(t)};var rve=(t,e,n)=>e in t?nve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var it=(t,e,n)=>rve(t,typeof e!="symbol"?e+"":e,n),yN=(t,e,n)=>e.has(t)||U8("Cannot "+n);var tt=(t,e,n)=>(yN(t,e,"read from private field"),n?n.call(t):e.get(t)),rr=(t,e,n)=>e.has(t)?U8("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),An=(t,e,n,r)=>(yN(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Rs=(t,e,n)=>(yN(t,e,"access private method"),n);var SS=(t,e,n,r)=>({set _(i){An(t,e,i,n)},get _(){return tt(t,e,r)}});function YZ(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ES=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function lr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ive(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var ZZ={exports:{}},SC={},JZ={exports:{}},Xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I1=Symbol.for("react.element"),sve=Symbol.for("react.portal"),ave=Symbol.for("react.fragment"),ove=Symbol.for("react.strict_mode"),lve=Symbol.for("react.profiler"),cve=Symbol.for("react.provider"),uve=Symbol.for("react.context"),dve=Symbol.for("react.forward_ref"),fve=Symbol.for("react.suspense"),hve=Symbol.for("react.memo"),pve=Symbol.for("react.lazy"),B8=Symbol.iterator;function mve(t){return t===null||typeof t!="object"?null:(t=B8&&t[B8]||t["@@iterator"],typeof t=="function"?t:null)}var QZ={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},eJ=Object.assign,tJ={};function G0(t,e,n){this.props=t,this.context=e,this.refs=tJ,this.updater=n||QZ}G0.prototype.isReactComponent={};G0.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};G0.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function nJ(){}nJ.prototype=G0.prototype;function aU(t,e,n){this.props=t,this.context=e,this.refs=tJ,this.updater=n||QZ}var oU=aU.prototype=new nJ;oU.constructor=aU;eJ(oU,G0.prototype);oU.isPureReactComponent=!0;var z8=Array.isArray,rJ=Object.prototype.hasOwnProperty,lU={current:null},iJ={key:!0,ref:!0,__self:!0,__source:!0};function sJ(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)rJ.call(e,r)&&!iJ.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:I1,type:t,key:s,ref:a,props:i,_owner:lU.current}}function gve(t,e){return{$$typeof:I1,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cU(t){return typeof t=="object"&&t!==null&&t.$$typeof===I1}function vve(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var V8=/\/+/g;function xN(t,e){return typeof t=="object"&&t!==null&&t.key!=null?vve(""+t.key):e.toString(36)}function NT(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case I1:case sve:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+xN(a,0):r,z8(i)?(n="",t!=null&&(n=t.replace(V8,"$&/")+"/"),NT(i,e,n,"",function(c){return c})):i!=null&&(cU(i)&&(i=gve(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(V8,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",z8(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+xN(s,o);a+=NT(s,e,n,l,i)}else if(l=mve(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+xN(s,o++),a+=NT(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function TS(t,e,n){if(t==null)return t;var r=[],i=0;return NT(t,r,"","",function(s){return e.call(n,s,i++)}),r}function yve(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var _a={current:null},IT={transition:null},xve={ReactCurrentDispatcher:_a,ReactCurrentBatchConfig:IT,ReactCurrentOwner:lU};function aJ(){throw Error("act(...) is not supported in production builds of React.")}Xn.Children={map:TS,forEach:function(t,e,n){TS(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return TS(t,function(){e++}),e},toArray:function(t){return TS(t,function(e){return e})||[]},only:function(t){if(!cU(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xn.Component=G0;Xn.Fragment=ave;Xn.Profiler=lve;Xn.PureComponent=aU;Xn.StrictMode=ove;Xn.Suspense=fve;Xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=xve;Xn.act=aJ;Xn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=eJ({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=lU.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)rJ.call(e,l)&&!iJ.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:I1,type:t.type,key:i,ref:s,props:r,_owner:a}};Xn.createContext=function(t){return t={$$typeof:uve,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:cve,_context:t},t.Consumer=t};Xn.createElement=sJ;Xn.createFactory=function(t){var e=sJ.bind(null,t);return e.type=t,e};Xn.createRef=function(){return{current:null}};Xn.forwardRef=function(t){return{$$typeof:dve,render:t}};Xn.isValidElement=cU;Xn.lazy=function(t){return{$$typeof:pve,_payload:{_status:-1,_result:t},_init:yve}};Xn.memo=function(t,e){return{$$typeof:hve,type:t,compare:e===void 0?null:e}};Xn.startTransition=function(t){var e=IT.transition;IT.transition={};try{t()}finally{IT.transition=e}};Xn.unstable_act=aJ;Xn.useCallback=function(t,e){return _a.current.useCallback(t,e)};Xn.useContext=function(t){return _a.current.useContext(t)};Xn.useDebugValue=function(){};Xn.useDeferredValue=function(t){return _a.current.useDeferredValue(t)};Xn.useEffect=function(t,e){return _a.current.useEffect(t,e)};Xn.useId=function(){return _a.current.useId()};Xn.useImperativeHandle=function(t,e,n){return _a.current.useImperativeHandle(t,e,n)};Xn.useInsertionEffect=function(t,e){return _a.current.useInsertionEffect(t,e)};Xn.useLayoutEffect=function(t,e){return _a.current.useLayoutEffect(t,e)};Xn.useMemo=function(t,e){return _a.current.useMemo(t,e)};Xn.useReducer=function(t,e,n){return _a.current.useReducer(t,e,n)};Xn.useRef=function(t){return _a.current.useRef(t)};Xn.useState=function(t){return _a.current.useState(t)};Xn.useSyncExternalStore=function(t,e,n){return _a.current.useSyncExternalStore(t,e,n)};Xn.useTransition=function(){return _a.current.useTransition()};Xn.version="18.3.1";JZ.exports=Xn;var T=JZ.exports;const ie=lr(T),uU=YZ({__proto__:null,default:ie},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bve=T,wve=Symbol.for("react.element"),_ve=Symbol.for("react.fragment"),Sve=Object.prototype.hasOwnProperty,Eve=bve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Tve={key:!0,ref:!0,__self:!0,__source:!0};function oJ(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Sve.call(e,r)&&!Tve.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:wve,type:t,key:s,ref:a,props:i,_owner:Eve.current}}SC.Fragment=_ve;SC.jsx=oJ;SC.jsxs=oJ;ZZ.exports=SC;var p=ZZ.exports,lJ={exports:{}},To={},cJ={exports:{}},uJ={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var $=j.length;j.push(U);e:for(;0<$;){var G=$-1>>>1,X=j[G];if(0<i(X,U))j[G]=U,j[$]=X,$=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],$=j.pop();if($!==U){j[0]=$;e:for(var G=0,X=j.length,Q=X>>>1;G<Q;){var oe=2*(G+1)-1,de=j[oe],ae=oe+1,ne=j[ae];if(0>i(de,$))ae<X&&0>i(ne,de)?(j[G]=ne,j[ae]=$,G=ae):(j[G]=de,j[oe]=$,G=oe);else if(ae<X&&0>i(ne,$))j[G]=ne,j[ae]=$,G=ae;else break e}}return U}function i(j,U){var $=j.sortIndex-U.sortIndex;return $!==0?$:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(j){if(g=!1,_(j),!m)if(n(l)!==null)m=!0,z(E);else{var U=n(c);U!==null&&K(S,U.startTime-j)}}function E(j,U){m=!1,g&&(g=!1,y(R),R=-1),h=!0;var $=f;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||j&&!k());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var X=G(d.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var oe=n(c);oe!==null&&K(S,oe.startTime-U),Q=!1}return Q}finally{d=null,f=$,h=!1}}var A=!1,M=null,R=-1,P=5,O=-1;function k(){return!(t.unstable_now()-O<P)}function I(){if(M!==null){var j=t.unstable_now();O=j;var U=!0;try{U=M(!0,j)}finally{U?F():(A=!1,M=null)}}else A=!1}var F;if(typeof w=="function")F=function(){w(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=I,F=function(){V.postMessage(null)}}else F=function(){v(I,0)};function z(j){M=j,A||(A=!0,F())}function K(j,U){R=v(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,z(E))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var $=f;f=U;try{return j()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=f;f=j;try{return U()}finally{f=$}},t.unstable_scheduleCallback=function(j,U,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,j={id:u++,callback:U,priorityLevel:j,startTime:$,expirationTime:X,sortIndex:-1},$>G?(j.sortIndex=$,e(c,j),n(l)===null&&j===n(c)&&(g?(y(R),R=-1):g=!0,K(S,$-G))):(j.sortIndex=X,e(l,j),m||h||(m=!0,z(E))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var U=f;return function(){var $=f;f=U;try{return j.apply(this,arguments)}finally{f=$}}}})(uJ);cJ.exports=uJ;var Ave=cJ.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mve=T,So=Ave;function gt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var dJ=new Set,Zb={};function fm(t,e){Uv(t,e),Uv(t+"Capture",e)}function Uv(t,e){for(Zb[t]=e,t=0;t<e.length;t++)dJ.add(e[t])}var Iu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lk=Object.prototype.hasOwnProperty,Cve=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,$8={},H8={};function Pve(t){return Lk.call(H8,t)?!0:Lk.call($8,t)?!1:Cve.test(t)?H8[t]=!0:($8[t]=!0,!1)}function Rve(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ove(t,e,n,r){if(e===null||typeof e>"u"||Rve(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sa(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Ts={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ts[t]=new Sa(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ts[e]=new Sa(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ts[t]=new Sa(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ts[t]=new Sa(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ts[t]=new Sa(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ts[t]=new Sa(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ts[t]=new Sa(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ts[t]=new Sa(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ts[t]=new Sa(t,5,!1,t.toLowerCase(),null,!1,!1)});var dU=/[\-:]([a-z])/g;function fU(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dU,fU);Ts[e]=new Sa(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dU,fU);Ts[e]=new Sa(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dU,fU);Ts[e]=new Sa(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ts[t]=new Sa(t,1,!1,t.toLowerCase(),null,!1,!1)});Ts.xlinkHref=new Sa("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ts[t]=new Sa(t,1,!1,t.toLowerCase(),null,!0,!0)});function hU(t,e,n,r){var i=Ts.hasOwnProperty(e)?Ts[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ove(e,n,i,r)&&(n=null),r||i===null?Pve(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Xu=Mve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,AS=Symbol.for("react.element"),Ug=Symbol.for("react.portal"),Bg=Symbol.for("react.fragment"),pU=Symbol.for("react.strict_mode"),jk=Symbol.for("react.profiler"),fJ=Symbol.for("react.provider"),hJ=Symbol.for("react.context"),mU=Symbol.for("react.forward_ref"),Fk=Symbol.for("react.suspense"),Uk=Symbol.for("react.suspense_list"),gU=Symbol.for("react.memo"),Md=Symbol.for("react.lazy"),pJ=Symbol.for("react.offscreen"),G8=Symbol.iterator;function rx(t){return t===null||typeof t!="object"?null:(t=G8&&t[G8]||t["@@iterator"],typeof t=="function"?t:null)}var ri=Object.assign,bN;function Jx(t){if(bN===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bN=e&&e[1]||""}return`
`+bN+t}var wN=!1;function _N(t,e){if(!t||wN)return"";wN=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{wN=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Jx(t):""}function Nve(t){switch(t.tag){case 5:return Jx(t.type);case 16:return Jx("Lazy");case 13:return Jx("Suspense");case 19:return Jx("SuspenseList");case 0:case 2:case 15:return t=_N(t.type,!1),t;case 11:return t=_N(t.type.render,!1),t;case 1:return t=_N(t.type,!0),t;default:return""}}function Bk(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Bg:return"Fragment";case Ug:return"Portal";case jk:return"Profiler";case pU:return"StrictMode";case Fk:return"Suspense";case Uk:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case hJ:return(t.displayName||"Context")+".Consumer";case fJ:return(t._context.displayName||"Context")+".Provider";case mU:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gU:return e=t.displayName||null,e!==null?e:Bk(t.type)||"Memo";case Md:e=t._payload,t=t._init;try{return Bk(t(e))}catch{}}return null}function Ive(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bk(e);case 8:return e===pU?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gf(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function mJ(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kve(t){var e=mJ(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function MS(t){t._valueTracker||(t._valueTracker=kve(t))}function gJ(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=mJ(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function pA(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function zk(t,e){var n=e.checked;return ri({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function W8(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gf(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function vJ(t,e){e=e.checked,e!=null&&hU(t,"checked",e,!1)}function Vk(t,e){vJ(t,e);var n=gf(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?$k(t,e.type,n):e.hasOwnProperty("defaultValue")&&$k(t,e.type,gf(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function X8(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function $k(t,e,n){(e!=="number"||pA(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Qx=Array.isArray;function uv(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gf(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Hk(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(gt(91));return ri({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function q8(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(gt(92));if(Qx(n)){if(1<n.length)throw Error(gt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gf(n)}}function yJ(t,e){var n=gf(e.value),r=gf(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function K8(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xJ(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gk(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xJ(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var CS,bJ=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(CS=CS||document.createElement("div"),CS.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=CS.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Jb(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var db={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Dve=["Webkit","ms","Moz","O"];Object.keys(db).forEach(function(t){Dve.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),db[e]=db[t]})});function wJ(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||db.hasOwnProperty(t)&&db[t]?(""+e).trim():e+"px"}function _J(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=wJ(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Lve=ri({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Wk(t,e){if(e){if(Lve[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(gt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(gt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(gt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(gt(62))}}function Xk(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qk=null;function vU(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Kk=null,dv=null,fv=null;function Y8(t){if(t=L1(t)){if(typeof Kk!="function")throw Error(gt(280));var e=t.stateNode;e&&(e=CC(e),Kk(t.stateNode,t.type,e))}}function SJ(t){dv?fv?fv.push(t):fv=[t]:dv=t}function EJ(){if(dv){var t=dv,e=fv;if(fv=dv=null,Y8(t),e)for(t=0;t<e.length;t++)Y8(e[t])}}function TJ(t,e){return t(e)}function AJ(){}var SN=!1;function MJ(t,e,n){if(SN)return t(e,n);SN=!0;try{return TJ(t,e,n)}finally{SN=!1,(dv!==null||fv!==null)&&(AJ(),EJ())}}function Qb(t,e){var n=t.stateNode;if(n===null)return null;var r=CC(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(gt(231,e,typeof n));return n}var Yk=!1;if(Iu)try{var ix={};Object.defineProperty(ix,"passive",{get:function(){Yk=!0}}),window.addEventListener("test",ix,ix),window.removeEventListener("test",ix,ix)}catch{Yk=!1}function jve(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var fb=!1,mA=null,gA=!1,Zk=null,Fve={onError:function(t){fb=!0,mA=t}};function Uve(t,e,n,r,i,s,a,o,l){fb=!1,mA=null,jve.apply(Fve,arguments)}function Bve(t,e,n,r,i,s,a,o,l){if(Uve.apply(this,arguments),fb){if(fb){var c=mA;fb=!1,mA=null}else throw Error(gt(198));gA||(gA=!0,Zk=c)}}function hm(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function CJ(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Z8(t){if(hm(t)!==t)throw Error(gt(188))}function zve(t){var e=t.alternate;if(!e){if(e=hm(t),e===null)throw Error(gt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Z8(i),t;if(s===r)return Z8(i),e;s=s.sibling}throw Error(gt(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(gt(189))}}if(n.alternate!==r)throw Error(gt(190))}if(n.tag!==3)throw Error(gt(188));return n.stateNode.current===n?t:e}function PJ(t){return t=zve(t),t!==null?RJ(t):null}function RJ(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=RJ(t);if(e!==null)return e;t=t.sibling}return null}var OJ=So.unstable_scheduleCallback,J8=So.unstable_cancelCallback,Vve=So.unstable_shouldYield,$ve=So.unstable_requestPaint,_i=So.unstable_now,Hve=So.unstable_getCurrentPriorityLevel,yU=So.unstable_ImmediatePriority,NJ=So.unstable_UserBlockingPriority,vA=So.unstable_NormalPriority,Gve=So.unstable_LowPriority,IJ=So.unstable_IdlePriority,EC=null,Tc=null;function Wve(t){if(Tc&&typeof Tc.onCommitFiberRoot=="function")try{Tc.onCommitFiberRoot(EC,t,void 0,(t.current.flags&128)===128)}catch{}}var Vl=Math.clz32?Math.clz32:Kve,Xve=Math.log,qve=Math.LN2;function Kve(t){return t>>>=0,t===0?32:31-(Xve(t)/qve|0)|0}var PS=64,RS=4194304;function eb(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yA(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=eb(o):(s&=a,s!==0&&(r=eb(s)))}else a=n&~i,a!==0?r=eb(a):s!==0&&(r=eb(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Vl(e),i=1<<n,r|=t[n],e&=~i;return r}function Yve(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Zve(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Vl(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=Yve(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Jk(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function kJ(){var t=PS;return PS<<=1,!(PS&4194240)&&(PS=64),t}function EN(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function k1(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Vl(e),t[e]=n}function Jve(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-Vl(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function xU(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Vl(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var gr=0;function DJ(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var LJ,bU,jJ,FJ,UJ,Qk=!1,OS=[],Qd=null,ef=null,tf=null,ew=new Map,tw=new Map,kd=[],Qve="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Q8(t,e){switch(t){case"focusin":case"focusout":Qd=null;break;case"dragenter":case"dragleave":ef=null;break;case"mouseover":case"mouseout":tf=null;break;case"pointerover":case"pointerout":ew.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tw.delete(e.pointerId)}}function sx(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=L1(e),e!==null&&bU(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function e0e(t,e,n,r,i){switch(e){case"focusin":return Qd=sx(Qd,t,e,n,r,i),!0;case"dragenter":return ef=sx(ef,t,e,n,r,i),!0;case"mouseover":return tf=sx(tf,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ew.set(s,sx(ew.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tw.set(s,sx(tw.get(s)||null,t,e,n,r,i)),!0}return!1}function BJ(t){var e=Qh(t.target);if(e!==null){var n=hm(e);if(n!==null){if(e=n.tag,e===13){if(e=CJ(n),e!==null){t.blockedOn=e,UJ(t.priority,function(){jJ(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function kT(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=eD(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);qk=r,n.target.dispatchEvent(r),qk=null}else return e=L1(n),e!==null&&bU(e),t.blockedOn=n,!1;e.shift()}return!0}function e6(t,e,n){kT(t)&&n.delete(e)}function t0e(){Qk=!1,Qd!==null&&kT(Qd)&&(Qd=null),ef!==null&&kT(ef)&&(ef=null),tf!==null&&kT(tf)&&(tf=null),ew.forEach(e6),tw.forEach(e6)}function ax(t,e){t.blockedOn===e&&(t.blockedOn=null,Qk||(Qk=!0,So.unstable_scheduleCallback(So.unstable_NormalPriority,t0e)))}function nw(t){function e(i){return ax(i,t)}if(0<OS.length){ax(OS[0],t);for(var n=1;n<OS.length;n++){var r=OS[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Qd!==null&&ax(Qd,t),ef!==null&&ax(ef,t),tf!==null&&ax(tf,t),ew.forEach(e),tw.forEach(e),n=0;n<kd.length;n++)r=kd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kd.length&&(n=kd[0],n.blockedOn===null);)BJ(n),n.blockedOn===null&&kd.shift()}var hv=Xu.ReactCurrentBatchConfig,xA=!0;function n0e(t,e,n,r){var i=gr,s=hv.transition;hv.transition=null;try{gr=1,wU(t,e,n,r)}finally{gr=i,hv.transition=s}}function r0e(t,e,n,r){var i=gr,s=hv.transition;hv.transition=null;try{gr=4,wU(t,e,n,r)}finally{gr=i,hv.transition=s}}function wU(t,e,n,r){if(xA){var i=eD(t,e,n,r);if(i===null)kN(t,e,r,bA,n),Q8(t,r);else if(e0e(i,t,e,n,r))r.stopPropagation();else if(Q8(t,r),e&4&&-1<Qve.indexOf(t)){for(;i!==null;){var s=L1(i);if(s!==null&&LJ(s),s=eD(t,e,n,r),s===null&&kN(t,e,r,bA,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else kN(t,e,r,null,n)}}var bA=null;function eD(t,e,n,r){if(bA=null,t=vU(r),t=Qh(t),t!==null)if(e=hm(t),e===null)t=null;else if(n=e.tag,n===13){if(t=CJ(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return bA=t,null}function zJ(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Hve()){case yU:return 1;case NJ:return 4;case vA:case Gve:return 16;case IJ:return 536870912;default:return 16}default:return 16}}var Gd=null,_U=null,DT=null;function VJ(){if(DT)return DT;var t,e=_U,n=e.length,r,i="value"in Gd?Gd.value:Gd.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return DT=i.slice(t,1<r?1-r:void 0)}function LT(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function NS(){return!0}function t6(){return!1}function Ao(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?NS:t6,this.isPropagationStopped=t6,this}return ri(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=NS)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=NS)},persist:function(){},isPersistent:NS}),e}var W0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SU=Ao(W0),D1=ri({},W0,{view:0,detail:0}),i0e=Ao(D1),TN,AN,ox,TC=ri({},D1,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EU,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ox&&(ox&&t.type==="mousemove"?(TN=t.screenX-ox.screenX,AN=t.screenY-ox.screenY):AN=TN=0,ox=t),TN)},movementY:function(t){return"movementY"in t?t.movementY:AN}}),n6=Ao(TC),s0e=ri({},TC,{dataTransfer:0}),a0e=Ao(s0e),o0e=ri({},D1,{relatedTarget:0}),MN=Ao(o0e),l0e=ri({},W0,{animationName:0,elapsedTime:0,pseudoElement:0}),c0e=Ao(l0e),u0e=ri({},W0,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),d0e=Ao(u0e),f0e=ri({},W0,{data:0}),r6=Ao(f0e),h0e={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},p0e={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},m0e={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function g0e(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=m0e[t])?!!e[t]:!1}function EU(){return g0e}var v0e=ri({},D1,{key:function(t){if(t.key){var e=h0e[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=LT(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?p0e[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EU,charCode:function(t){return t.type==="keypress"?LT(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?LT(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),y0e=Ao(v0e),x0e=ri({},TC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),i6=Ao(x0e),b0e=ri({},D1,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EU}),w0e=Ao(b0e),_0e=ri({},W0,{propertyName:0,elapsedTime:0,pseudoElement:0}),S0e=Ao(_0e),E0e=ri({},TC,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),T0e=Ao(E0e),A0e=[9,13,27,32],TU=Iu&&"CompositionEvent"in window,hb=null;Iu&&"documentMode"in document&&(hb=document.documentMode);var M0e=Iu&&"TextEvent"in window&&!hb,$J=Iu&&(!TU||hb&&8<hb&&11>=hb),s6=" ",a6=!1;function HJ(t,e){switch(t){case"keyup":return A0e.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function GJ(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var zg=!1;function C0e(t,e){switch(t){case"compositionend":return GJ(e);case"keypress":return e.which!==32?null:(a6=!0,s6);case"textInput":return t=e.data,t===s6&&a6?null:t;default:return null}}function P0e(t,e){if(zg)return t==="compositionend"||!TU&&HJ(t,e)?(t=VJ(),DT=_U=Gd=null,zg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $J&&e.locale!=="ko"?null:e.data;default:return null}}var R0e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o6(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!R0e[t.type]:e==="textarea"}function WJ(t,e,n,r){SJ(r),e=wA(e,"onChange"),0<e.length&&(n=new SU("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pb=null,rw=null;function O0e(t){rQ(t,0)}function AC(t){var e=Hg(t);if(gJ(e))return t}function N0e(t,e){if(t==="change")return e}var XJ=!1;if(Iu){var CN;if(Iu){var PN="oninput"in document;if(!PN){var l6=document.createElement("div");l6.setAttribute("oninput","return;"),PN=typeof l6.oninput=="function"}CN=PN}else CN=!1;XJ=CN&&(!document.documentMode||9<document.documentMode)}function c6(){pb&&(pb.detachEvent("onpropertychange",qJ),rw=pb=null)}function qJ(t){if(t.propertyName==="value"&&AC(rw)){var e=[];WJ(e,rw,t,vU(t)),MJ(O0e,e)}}function I0e(t,e,n){t==="focusin"?(c6(),pb=e,rw=n,pb.attachEvent("onpropertychange",qJ)):t==="focusout"&&c6()}function k0e(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return AC(rw)}function D0e(t,e){if(t==="click")return AC(e)}function L0e(t,e){if(t==="input"||t==="change")return AC(e)}function j0e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Wl=typeof Object.is=="function"?Object.is:j0e;function iw(t,e){if(Wl(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lk.call(e,i)||!Wl(t[i],e[i]))return!1}return!0}function u6(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function d6(t,e){var n=u6(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=u6(n)}}function KJ(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?KJ(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function YJ(){for(var t=window,e=pA();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=pA(t.document)}return e}function AU(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function F0e(t){var e=YJ(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&KJ(n.ownerDocument.documentElement,n)){if(r!==null&&AU(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=d6(n,s);var a=d6(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var U0e=Iu&&"documentMode"in document&&11>=document.documentMode,Vg=null,tD=null,mb=null,nD=!1;function f6(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;nD||Vg==null||Vg!==pA(r)||(r=Vg,"selectionStart"in r&&AU(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mb&&iw(mb,r)||(mb=r,r=wA(tD,"onSelect"),0<r.length&&(e=new SU("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Vg)))}function IS(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var $g={animationend:IS("Animation","AnimationEnd"),animationiteration:IS("Animation","AnimationIteration"),animationstart:IS("Animation","AnimationStart"),transitionend:IS("Transition","TransitionEnd")},RN={},ZJ={};Iu&&(ZJ=document.createElement("div").style,"AnimationEvent"in window||(delete $g.animationend.animation,delete $g.animationiteration.animation,delete $g.animationstart.animation),"TransitionEvent"in window||delete $g.transitionend.transition);function MC(t){if(RN[t])return RN[t];if(!$g[t])return t;var e=$g[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ZJ)return RN[t]=e[n];return t}var JJ=MC("animationend"),QJ=MC("animationiteration"),eQ=MC("animationstart"),tQ=MC("transitionend"),nQ=new Map,h6="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Of(t,e){nQ.set(t,e),fm(e,[t])}for(var ON=0;ON<h6.length;ON++){var NN=h6[ON],B0e=NN.toLowerCase(),z0e=NN[0].toUpperCase()+NN.slice(1);Of(B0e,"on"+z0e)}Of(JJ,"onAnimationEnd");Of(QJ,"onAnimationIteration");Of(eQ,"onAnimationStart");Of("dblclick","onDoubleClick");Of("focusin","onFocus");Of("focusout","onBlur");Of(tQ,"onTransitionEnd");Uv("onMouseEnter",["mouseout","mouseover"]);Uv("onMouseLeave",["mouseout","mouseover"]);Uv("onPointerEnter",["pointerout","pointerover"]);Uv("onPointerLeave",["pointerout","pointerover"]);fm("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fm("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fm("onBeforeInput",["compositionend","keypress","textInput","paste"]);fm("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fm("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fm("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),V0e=new Set("cancel close invalid load scroll toggle".split(" ").concat(tb));function p6(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Bve(r,e,void 0,t),t.currentTarget=null}function rQ(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;p6(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;p6(i,o,c),s=l}}}if(gA)throw t=Zk,gA=!1,Zk=null,t}function Lr(t,e){var n=e[oD];n===void 0&&(n=e[oD]=new Set);var r=t+"__bubble";n.has(r)||(iQ(e,t,2,!1),n.add(r))}function IN(t,e,n){var r=0;e&&(r|=4),iQ(n,t,r,e)}var kS="_reactListening"+Math.random().toString(36).slice(2);function sw(t){if(!t[kS]){t[kS]=!0,dJ.forEach(function(n){n!=="selectionchange"&&(V0e.has(n)||IN(n,!1,t),IN(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kS]||(e[kS]=!0,IN("selectionchange",!1,e))}}function iQ(t,e,n,r){switch(zJ(e)){case 1:var i=n0e;break;case 4:i=r0e;break;default:i=wU}n=i.bind(null,e,n,t),i=void 0,!Yk||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function kN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Qh(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}MJ(function(){var c=s,u=vU(n),d=[];e:{var f=nQ.get(t);if(f!==void 0){var h=SU,m=t;switch(t){case"keypress":if(LT(n)===0)break e;case"keydown":case"keyup":h=y0e;break;case"focusin":m="focus",h=MN;break;case"focusout":m="blur",h=MN;break;case"beforeblur":case"afterblur":h=MN;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=n6;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=a0e;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=w0e;break;case JJ:case QJ:case eQ:h=c0e;break;case tQ:h=S0e;break;case"scroll":h=i0e;break;case"wheel":h=T0e;break;case"copy":case"cut":case"paste":h=d0e;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=i6}var g=(e&4)!==0,v=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var w=c,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=Qb(w,y),S!=null&&g.push(aw(w,S,_)))),v)break;w=w.return}0<g.length&&(f=new h(f,m,null,n,u),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",f&&n!==qk&&(m=n.relatedTarget||n.fromElement)&&(Qh(m)||m[ku]))break e;if((h||f)&&(f=u.window===u?u:(f=u.ownerDocument)?f.defaultView||f.parentWindow:window,h?(m=n.relatedTarget||n.toElement,h=c,m=m?Qh(m):null,m!==null&&(v=hm(m),m!==v||m.tag!==5&&m.tag!==6)&&(m=null)):(h=null,m=c),h!==m)){if(g=n6,S="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=i6,S="onPointerLeave",y="onPointerEnter",w="pointer"),v=h==null?f:Hg(h),_=m==null?f:Hg(m),f=new g(S,w+"leave",h,n,u),f.target=v,f.relatedTarget=_,S=null,Qh(u)===c&&(g=new g(y,w+"enter",m,n,u),g.target=_,g.relatedTarget=v,S=g),v=S,h&&m)t:{for(g=h,y=m,w=0,_=g;_;_=Vm(_))w++;for(_=0,S=y;S;S=Vm(S))_++;for(;0<w-_;)g=Vm(g),w--;for(;0<_-w;)y=Vm(y),_--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Vm(g),y=Vm(y)}g=null}else g=null;h!==null&&m6(d,f,h,g,!1),m!==null&&v!==null&&m6(d,v,m,g,!0)}}e:{if(f=c?Hg(c):window,h=f.nodeName&&f.nodeName.toLowerCase(),h==="select"||h==="input"&&f.type==="file")var E=N0e;else if(o6(f))if(XJ)E=L0e;else{E=k0e;var A=I0e}else(h=f.nodeName)&&h.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(E=D0e);if(E&&(E=E(t,c))){WJ(d,E,n,u);break e}A&&A(t,f,c),t==="focusout"&&(A=f._wrapperState)&&A.controlled&&f.type==="number"&&$k(f,"number",f.value)}switch(A=c?Hg(c):window,t){case"focusin":(o6(A)||A.contentEditable==="true")&&(Vg=A,tD=c,mb=null);break;case"focusout":mb=tD=Vg=null;break;case"mousedown":nD=!0;break;case"contextmenu":case"mouseup":case"dragend":nD=!1,f6(d,n,u);break;case"selectionchange":if(U0e)break;case"keydown":case"keyup":f6(d,n,u)}var M;if(TU)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else zg?HJ(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&($J&&n.locale!=="ko"&&(zg||R!=="onCompositionStart"?R==="onCompositionEnd"&&zg&&(M=VJ()):(Gd=u,_U="value"in Gd?Gd.value:Gd.textContent,zg=!0)),A=wA(c,R),0<A.length&&(R=new r6(R,t,null,n,u),d.push({event:R,listeners:A}),M?R.data=M:(M=GJ(n),M!==null&&(R.data=M)))),(M=M0e?C0e(t,n):P0e(t,n))&&(c=wA(c,"onBeforeInput"),0<c.length&&(u=new r6("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=M))}rQ(d,e)})}function aw(t,e,n){return{instance:t,listener:e,currentTarget:n}}function wA(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Qb(t,n),s!=null&&r.unshift(aw(t,s,i)),s=Qb(t,e),s!=null&&r.push(aw(t,s,i))),t=t.return}return r}function Vm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function m6(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Qb(n,s),l!=null&&a.unshift(aw(n,l,o))):i||(l=Qb(n,s),l!=null&&a.push(aw(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var $0e=/\r\n?/g,H0e=/\u0000|\uFFFD/g;function g6(t){return(typeof t=="string"?t:""+t).replace($0e,`
`).replace(H0e,"")}function DS(t,e,n){if(e=g6(e),g6(t)!==e&&n)throw Error(gt(425))}function _A(){}var rD=null,iD=null;function sD(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var aD=typeof setTimeout=="function"?setTimeout:void 0,G0e=typeof clearTimeout=="function"?clearTimeout:void 0,v6=typeof Promise=="function"?Promise:void 0,W0e=typeof queueMicrotask=="function"?queueMicrotask:typeof v6<"u"?function(t){return v6.resolve(null).then(t).catch(X0e)}:aD;function X0e(t){setTimeout(function(){throw t})}function DN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nw(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nw(e)}function nf(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function y6(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var X0=Math.random().toString(36).slice(2),vc="__reactFiber$"+X0,ow="__reactProps$"+X0,ku="__reactContainer$"+X0,oD="__reactEvents$"+X0,q0e="__reactListeners$"+X0,K0e="__reactHandles$"+X0;function Qh(t){var e=t[vc];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ku]||n[vc]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=y6(t);t!==null;){if(n=t[vc])return n;t=y6(t)}return e}t=n,n=t.parentNode}return null}function L1(t){return t=t[vc]||t[ku],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Hg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(gt(33))}function CC(t){return t[ow]||null}var lD=[],Gg=-1;function Nf(t){return{current:t}}function zr(t){0>Gg||(t.current=lD[Gg],lD[Gg]=null,Gg--)}function Or(t,e){Gg++,lD[Gg]=t.current,t.current=e}var vf={},Ws=Nf(vf),Ha=Nf(!1),Dp=vf;function Bv(t,e){var n=t.type.contextTypes;if(!n)return vf;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Ga(t){return t=t.childContextTypes,t!=null}function SA(){zr(Ha),zr(Ws)}function x6(t,e,n){if(Ws.current!==vf)throw Error(gt(168));Or(Ws,e),Or(Ha,n)}function sQ(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(gt(108,Ive(t)||"Unknown",i));return ri({},n,r)}function EA(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||vf,Dp=Ws.current,Or(Ws,t),Or(Ha,Ha.current),!0}function b6(t,e,n){var r=t.stateNode;if(!r)throw Error(gt(169));n?(t=sQ(t,e,Dp),r.__reactInternalMemoizedMergedChildContext=t,zr(Ha),zr(Ws),Or(Ws,t)):zr(Ha),Or(Ha,n)}var gu=null,PC=!1,LN=!1;function aQ(t){gu===null?gu=[t]:gu.push(t)}function Y0e(t){PC=!0,aQ(t)}function If(){if(!LN&&gu!==null){LN=!0;var t=0,e=gr;try{var n=gu;for(gr=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}gu=null,PC=!1}catch(i){throw gu!==null&&(gu=gu.slice(t+1)),OJ(yU,If),i}finally{gr=e,LN=!1}}return null}var Wg=[],Xg=0,TA=null,AA=0,Ho=[],Go=0,Lp=null,bu=1,wu="";function Ih(t,e){Wg[Xg++]=AA,Wg[Xg++]=TA,TA=t,AA=e}function oQ(t,e,n){Ho[Go++]=bu,Ho[Go++]=wu,Ho[Go++]=Lp,Lp=t;var r=bu;t=wu;var i=32-Vl(r)-1;r&=~(1<<i),n+=1;var s=32-Vl(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,bu=1<<32-Vl(e)+i|n<<i|r,wu=s+t}else bu=1<<s|n<<i|r,wu=t}function MU(t){t.return!==null&&(Ih(t,1),oQ(t,1,0))}function CU(t){for(;t===TA;)TA=Wg[--Xg],Wg[Xg]=null,AA=Wg[--Xg],Wg[Xg]=null;for(;t===Lp;)Lp=Ho[--Go],Ho[Go]=null,wu=Ho[--Go],Ho[Go]=null,bu=Ho[--Go],Ho[Go]=null}var yo=null,go=null,Hr=!1,Ll=null;function lQ(t,e){var n=Ko(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function w6(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,yo=t,go=nf(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,yo=t,go=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Lp!==null?{id:bu,overflow:wu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ko(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,yo=t,go=null,!0):!1;default:return!1}}function cD(t){return(t.mode&1)!==0&&(t.flags&128)===0}function uD(t){if(Hr){var e=go;if(e){var n=e;if(!w6(t,e)){if(cD(t))throw Error(gt(418));e=nf(n.nextSibling);var r=yo;e&&w6(t,e)?lQ(r,n):(t.flags=t.flags&-4097|2,Hr=!1,yo=t)}}else{if(cD(t))throw Error(gt(418));t.flags=t.flags&-4097|2,Hr=!1,yo=t}}}function _6(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;yo=t}function LS(t){if(t!==yo)return!1;if(!Hr)return _6(t),Hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!sD(t.type,t.memoizedProps)),e&&(e=go)){if(cD(t))throw cQ(),Error(gt(418));for(;e;)lQ(t,e),e=nf(e.nextSibling)}if(_6(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(gt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){go=nf(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}go=null}}else go=yo?nf(t.stateNode.nextSibling):null;return!0}function cQ(){for(var t=go;t;)t=nf(t.nextSibling)}function zv(){go=yo=null,Hr=!1}function PU(t){Ll===null?Ll=[t]:Ll.push(t)}var Z0e=Xu.ReactCurrentBatchConfig;function lx(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(gt(309));var r=n.stateNode}if(!r)throw Error(gt(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(gt(284));if(!n._owner)throw Error(gt(290,t))}return t}function jS(t,e){throw t=Object.prototype.toString.call(e),Error(gt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function S6(t){var e=t._init;return e(t._payload)}function uQ(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=of(y,w),y.index=0,y.sibling=null,y}function s(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,S){return w===null||w.tag!==6?(w=$N(_,y.mode,S),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,S){var E=_.type;return E===Bg?u(y,w,_.props.children,S,_.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Md&&S6(E)===w.type)?(S=i(w,_.props),S.ref=lx(y,w,_),S.return=y,S):(S=$T(_.type,_.key,_.props,null,y.mode,S),S.ref=lx(y,w,_),S.return=y,S)}function c(y,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=HN(_,y.mode,S),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,S,E){return w===null||w.tag!==7?(w=Ap(_,y.mode,S,E),w.return=y,w):(w=i(w,_),w.return=y,w)}function d(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=$N(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case AS:return _=$T(w.type,w.key,w.props,null,y.mode,_),_.ref=lx(y,null,w),_.return=y,_;case Ug:return w=HN(w,y.mode,_),w.return=y,w;case Md:var S=w._init;return d(y,S(w._payload),_)}if(Qx(w)||rx(w))return w=Ap(w,y.mode,_,null),w.return=y,w;jS(y,w)}return null}function f(y,w,_,S){var E=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return E!==null?null:o(y,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case AS:return _.key===E?l(y,w,_,S):null;case Ug:return _.key===E?c(y,w,_,S):null;case Md:return E=_._init,f(y,w,E(_._payload),S)}if(Qx(_)||rx(_))return E!==null?null:u(y,w,_,S,null);jS(y,_)}return null}function h(y,w,_,S,E){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,o(w,y,""+S,E);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case AS:return y=y.get(S.key===null?_:S.key)||null,l(w,y,S,E);case Ug:return y=y.get(S.key===null?_:S.key)||null,c(w,y,S,E);case Md:var A=S._init;return h(y,w,_,A(S._payload),E)}if(Qx(S)||rx(S))return y=y.get(_)||null,u(w,y,S,E,null);jS(w,S)}return null}function m(y,w,_,S){for(var E=null,A=null,M=w,R=w=0,P=null;M!==null&&R<_.length;R++){M.index>R?(P=M,M=null):P=M.sibling;var O=f(y,M,_[R],S);if(O===null){M===null&&(M=P);break}t&&M&&O.alternate===null&&e(y,M),w=s(O,w,R),A===null?E=O:A.sibling=O,A=O,M=P}if(R===_.length)return n(y,M),Hr&&Ih(y,R),E;if(M===null){for(;R<_.length;R++)M=d(y,_[R],S),M!==null&&(w=s(M,w,R),A===null?E=M:A.sibling=M,A=M);return Hr&&Ih(y,R),E}for(M=r(y,M);R<_.length;R++)P=h(M,y,R,_[R],S),P!==null&&(t&&P.alternate!==null&&M.delete(P.key===null?R:P.key),w=s(P,w,R),A===null?E=P:A.sibling=P,A=P);return t&&M.forEach(function(k){return e(y,k)}),Hr&&Ih(y,R),E}function g(y,w,_,S){var E=rx(_);if(typeof E!="function")throw Error(gt(150));if(_=E.call(_),_==null)throw Error(gt(151));for(var A=E=null,M=w,R=w=0,P=null,O=_.next();M!==null&&!O.done;R++,O=_.next()){M.index>R?(P=M,M=null):P=M.sibling;var k=f(y,M,O.value,S);if(k===null){M===null&&(M=P);break}t&&M&&k.alternate===null&&e(y,M),w=s(k,w,R),A===null?E=k:A.sibling=k,A=k,M=P}if(O.done)return n(y,M),Hr&&Ih(y,R),E;if(M===null){for(;!O.done;R++,O=_.next())O=d(y,O.value,S),O!==null&&(w=s(O,w,R),A===null?E=O:A.sibling=O,A=O);return Hr&&Ih(y,R),E}for(M=r(y,M);!O.done;R++,O=_.next())O=h(M,y,R,O.value,S),O!==null&&(t&&O.alternate!==null&&M.delete(O.key===null?R:O.key),w=s(O,w,R),A===null?E=O:A.sibling=O,A=O);return t&&M.forEach(function(I){return e(y,I)}),Hr&&Ih(y,R),E}function v(y,w,_,S){if(typeof _=="object"&&_!==null&&_.type===Bg&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case AS:e:{for(var E=_.key,A=w;A!==null;){if(A.key===E){if(E=_.type,E===Bg){if(A.tag===7){n(y,A.sibling),w=i(A,_.props.children),w.return=y,y=w;break e}}else if(A.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Md&&S6(E)===A.type){n(y,A.sibling),w=i(A,_.props),w.ref=lx(y,A,_),w.return=y,y=w;break e}n(y,A);break}else e(y,A);A=A.sibling}_.type===Bg?(w=Ap(_.props.children,y.mode,S,_.key),w.return=y,y=w):(S=$T(_.type,_.key,_.props,null,y.mode,S),S.ref=lx(y,w,_),S.return=y,y=S)}return a(y);case Ug:e:{for(A=_.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=HN(_,y.mode,S),w.return=y,y=w}return a(y);case Md:return A=_._init,v(y,w,A(_._payload),S)}if(Qx(_))return m(y,w,_,S);if(rx(_))return g(y,w,_,S);jS(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,_),w.return=y,y=w):(n(y,w),w=$N(_,y.mode,S),w.return=y,y=w),a(y)):n(y,w)}return v}var Vv=uQ(!0),dQ=uQ(!1),MA=Nf(null),CA=null,qg=null,RU=null;function OU(){RU=qg=CA=null}function NU(t){var e=MA.current;zr(MA),t._currentValue=e}function dD(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function pv(t,e){CA=t,RU=qg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(za=!0),t.firstContext=null)}function sl(t){var e=t._currentValue;if(RU!==t)if(t={context:t,memoizedValue:e,next:null},qg===null){if(CA===null)throw Error(gt(308));qg=t,CA.dependencies={lanes:0,firstContext:t}}else qg=qg.next=t;return e}var ep=null;function IU(t){ep===null?ep=[t]:ep.push(t)}function fQ(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,IU(e)):(n.next=i.next,i.next=n),e.interleaved=n,Du(t,r)}function Du(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Cd=!1;function kU(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hQ(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Cu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function rf(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Jn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Du(t,n)}return i=r.interleaved,i===null?(e.next=e,IU(r)):(e.next=i.next,i.next=e),r.interleaved=e,Du(t,n)}function jT(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xU(t,n)}}function E6(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function PA(t,e,n,r){var i=t.updateQueue;Cd=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;a=0,u=c=l=null,o=s;do{var f=o.lane,h=o.eventTime;if((r&f)===f){u!==null&&(u=u.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,g=o;switch(f=e,h=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(h,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(h,d,f):m,f==null)break e;d=ri({},d,f);break e;case 2:Cd=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else h={eventTime:h,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=h,l=d):u=u.next=h,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(u===null&&(l=d),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Fp|=a,t.lanes=a,t.memoizedState=d}}function T6(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(gt(191,i));i.call(r)}}}var j1={},Ac=Nf(j1),lw=Nf(j1),cw=Nf(j1);function tp(t){if(t===j1)throw Error(gt(174));return t}function DU(t,e){switch(Or(cw,e),Or(lw,t),Or(Ac,j1),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gk(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gk(e,t)}zr(Ac),Or(Ac,e)}function $v(){zr(Ac),zr(lw),zr(cw)}function pQ(t){tp(cw.current);var e=tp(Ac.current),n=Gk(e,t.type);e!==n&&(Or(lw,t),Or(Ac,n))}function LU(t){lw.current===t&&(zr(Ac),zr(lw))}var Zr=Nf(0);function RA(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jN=[];function jU(){for(var t=0;t<jN.length;t++)jN[t]._workInProgressVersionPrimary=null;jN.length=0}var FT=Xu.ReactCurrentDispatcher,FN=Xu.ReactCurrentBatchConfig,jp=0,ni=null,Xi=null,fs=null,OA=!1,gb=!1,uw=0,J0e=0;function Os(){throw Error(gt(321))}function FU(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Wl(t[n],e[n]))return!1;return!0}function UU(t,e,n,r,i,s){if(jp=s,ni=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,FT.current=t===null||t.memoizedState===null?nye:rye,t=n(r,i),gb){s=0;do{if(gb=!1,uw=0,25<=s)throw Error(gt(301));s+=1,fs=Xi=null,e.updateQueue=null,FT.current=iye,t=n(r,i)}while(gb)}if(FT.current=NA,e=Xi!==null&&Xi.next!==null,jp=0,fs=Xi=ni=null,OA=!1,e)throw Error(gt(300));return t}function BU(){var t=uw!==0;return uw=0,t}function dc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fs===null?ni.memoizedState=fs=t:fs=fs.next=t,fs}function al(){if(Xi===null){var t=ni.alternate;t=t!==null?t.memoizedState:null}else t=Xi.next;var e=fs===null?ni.memoizedState:fs.next;if(e!==null)fs=e,Xi=t;else{if(t===null)throw Error(gt(310));Xi=t,t={memoizedState:Xi.memoizedState,baseState:Xi.baseState,baseQueue:Xi.baseQueue,queue:Xi.queue,next:null},fs===null?ni.memoizedState=fs=t:fs=fs.next=t}return fs}function dw(t,e){return typeof e=="function"?e(t):e}function UN(t){var e=al(),n=e.queue;if(n===null)throw Error(gt(311));n.lastRenderedReducer=t;var r=Xi,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if((jp&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=d,a=r):l=l.next=d,ni.lanes|=u,Fp|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,Wl(r,e.memoizedState)||(za=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,ni.lanes|=s,Fp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function BN(t){var e=al(),n=e.queue;if(n===null)throw Error(gt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Wl(s,e.memoizedState)||(za=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function mQ(){}function gQ(t,e){var n=ni,r=al(),i=e(),s=!Wl(r.memoizedState,i);if(s&&(r.memoizedState=i,za=!0),r=r.queue,zU(xQ.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||fs!==null&&fs.memoizedState.tag&1){if(n.flags|=2048,fw(9,yQ.bind(null,n,r,i,e),void 0,null),ps===null)throw Error(gt(349));jp&30||vQ(n,e,i)}return i}function vQ(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=ni.updateQueue,e===null?(e={lastEffect:null,stores:null},ni.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function yQ(t,e,n,r){e.value=n,e.getSnapshot=r,bQ(e)&&wQ(t)}function xQ(t,e,n){return n(function(){bQ(e)&&wQ(t)})}function bQ(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Wl(t,n)}catch{return!0}}function wQ(t){var e=Du(t,1);e!==null&&$l(e,t,1,-1)}function A6(t){var e=dc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dw,lastRenderedState:t},e.queue=t,t=t.dispatch=tye.bind(null,ni,t),[e.memoizedState,t]}function fw(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=ni.updateQueue,e===null?(e={lastEffect:null,stores:null},ni.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function _Q(){return al().memoizedState}function UT(t,e,n,r){var i=dc();ni.flags|=t,i.memoizedState=fw(1|e,n,void 0,r===void 0?null:r)}function RC(t,e,n,r){var i=al();r=r===void 0?null:r;var s=void 0;if(Xi!==null){var a=Xi.memoizedState;if(s=a.destroy,r!==null&&FU(r,a.deps)){i.memoizedState=fw(e,n,s,r);return}}ni.flags|=t,i.memoizedState=fw(1|e,n,s,r)}function M6(t,e){return UT(8390656,8,t,e)}function zU(t,e){return RC(2048,8,t,e)}function SQ(t,e){return RC(4,2,t,e)}function EQ(t,e){return RC(4,4,t,e)}function TQ(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function AQ(t,e,n){return n=n!=null?n.concat([t]):null,RC(4,4,TQ.bind(null,e,t),n)}function VU(){}function MQ(t,e){var n=al();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&FU(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function CQ(t,e){var n=al();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&FU(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function PQ(t,e,n){return jp&21?(Wl(n,e)||(n=kJ(),ni.lanes|=n,Fp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,za=!0),t.memoizedState=n)}function Q0e(t,e){var n=gr;gr=n!==0&&4>n?n:4,t(!0);var r=FN.transition;FN.transition={};try{t(!1),e()}finally{gr=n,FN.transition=r}}function RQ(){return al().memoizedState}function eye(t,e,n){var r=af(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OQ(t))NQ(e,n);else if(n=fQ(t,e,n,r),n!==null){var i=ya();$l(n,t,r,i),IQ(n,e,r)}}function tye(t,e,n){var r=af(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OQ(t))NQ(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Wl(o,a)){var l=e.interleaved;l===null?(i.next=i,IU(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=fQ(t,e,i,r),n!==null&&(i=ya(),$l(n,t,r,i),IQ(n,e,r))}}function OQ(t){var e=t.alternate;return t===ni||e!==null&&e===ni}function NQ(t,e){gb=OA=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function IQ(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,xU(t,n)}}var NA={readContext:sl,useCallback:Os,useContext:Os,useEffect:Os,useImperativeHandle:Os,useInsertionEffect:Os,useLayoutEffect:Os,useMemo:Os,useReducer:Os,useRef:Os,useState:Os,useDebugValue:Os,useDeferredValue:Os,useTransition:Os,useMutableSource:Os,useSyncExternalStore:Os,useId:Os,unstable_isNewReconciler:!1},nye={readContext:sl,useCallback:function(t,e){return dc().memoizedState=[t,e===void 0?null:e],t},useContext:sl,useEffect:M6,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,UT(4194308,4,TQ.bind(null,e,t),n)},useLayoutEffect:function(t,e){return UT(4194308,4,t,e)},useInsertionEffect:function(t,e){return UT(4,2,t,e)},useMemo:function(t,e){var n=dc();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=dc();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=eye.bind(null,ni,t),[r.memoizedState,t]},useRef:function(t){var e=dc();return t={current:t},e.memoizedState=t},useState:A6,useDebugValue:VU,useDeferredValue:function(t){return dc().memoizedState=t},useTransition:function(){var t=A6(!1),e=t[0];return t=Q0e.bind(null,t[1]),dc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=ni,i=dc();if(Hr){if(n===void 0)throw Error(gt(407));n=n()}else{if(n=e(),ps===null)throw Error(gt(349));jp&30||vQ(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,M6(xQ.bind(null,r,s,t),[t]),r.flags|=2048,fw(9,yQ.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=dc(),e=ps.identifierPrefix;if(Hr){var n=wu,r=bu;n=(r&~(1<<32-Vl(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uw++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=J0e++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},rye={readContext:sl,useCallback:MQ,useContext:sl,useEffect:zU,useImperativeHandle:AQ,useInsertionEffect:SQ,useLayoutEffect:EQ,useMemo:CQ,useReducer:UN,useRef:_Q,useState:function(){return UN(dw)},useDebugValue:VU,useDeferredValue:function(t){var e=al();return PQ(e,Xi.memoizedState,t)},useTransition:function(){var t=UN(dw)[0],e=al().memoizedState;return[t,e]},useMutableSource:mQ,useSyncExternalStore:gQ,useId:RQ,unstable_isNewReconciler:!1},iye={readContext:sl,useCallback:MQ,useContext:sl,useEffect:zU,useImperativeHandle:AQ,useInsertionEffect:SQ,useLayoutEffect:EQ,useMemo:CQ,useReducer:BN,useRef:_Q,useState:function(){return BN(dw)},useDebugValue:VU,useDeferredValue:function(t){var e=al();return Xi===null?e.memoizedState=t:PQ(e,Xi.memoizedState,t)},useTransition:function(){var t=BN(dw)[0],e=al().memoizedState;return[t,e]},useMutableSource:mQ,useSyncExternalStore:gQ,useId:RQ,unstable_isNewReconciler:!1};function Al(t,e){if(t&&t.defaultProps){e=ri({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function fD(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:ri({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var OC={isMounted:function(t){return(t=t._reactInternals)?hm(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ya(),i=af(t),s=Cu(r,i);s.payload=e,n!=null&&(s.callback=n),e=rf(t,s,i),e!==null&&($l(e,t,i,r),jT(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ya(),i=af(t),s=Cu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=rf(t,s,i),e!==null&&($l(e,t,i,r),jT(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ya(),r=af(t),i=Cu(n,r);i.tag=2,e!=null&&(i.callback=e),e=rf(t,i,r),e!==null&&($l(e,t,r,n),jT(e,t,r))}};function C6(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!iw(n,r)||!iw(i,s):!0}function kQ(t,e,n){var r=!1,i=vf,s=e.contextType;return typeof s=="object"&&s!==null?s=sl(s):(i=Ga(e)?Dp:Ws.current,r=e.contextTypes,s=(r=r!=null)?Bv(t,i):vf),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=OC,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function P6(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&OC.enqueueReplaceState(e,e.state,null)}function hD(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},kU(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=sl(s):(s=Ga(e)?Dp:Ws.current,i.context=Bv(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(fD(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&OC.enqueueReplaceState(i,i.state,null),PA(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hv(t,e){try{var n="",r=e;do n+=Nve(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function zN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function pD(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var sye=typeof WeakMap=="function"?WeakMap:Map;function DQ(t,e,n){n=Cu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){kA||(kA=!0,ED=r),pD(t,e)},n}function LQ(t,e,n){n=Cu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){pD(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){pD(t,e),typeof r!="function"&&(sf===null?sf=new Set([this]):sf.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function R6(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new sye;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=xye.bind(null,t,e,n),e.then(t,t))}function O6(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N6(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Cu(-1,1),e.tag=2,rf(n,e,1))),n.lanes|=1),t)}var aye=Xu.ReactCurrentOwner,za=!1;function la(t,e,n,r){e.child=t===null?dQ(e,null,n,r):Vv(e,t.child,n,r)}function I6(t,e,n,r,i){n=n.render;var s=e.ref;return pv(e,i),r=UU(t,e,n,r,s,i),n=BU(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lu(t,e,i)):(Hr&&n&&MU(e),e.flags|=1,la(t,e,r,i),e.child)}function k6(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!YU(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,jQ(t,e,s,r,i)):(t=$T(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:iw,n(a,r)&&t.ref===e.ref)return Lu(t,e,i)}return e.flags|=1,t=of(s,r),t.ref=e.ref,t.return=e,e.child=t}function jQ(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(iw(s,r)&&t.ref===e.ref)if(za=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(za=!0);else return e.lanes=t.lanes,Lu(t,e,i)}return mD(t,e,n,r,i)}function FQ(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Or(Yg,oo),oo|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Or(Yg,oo),oo|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Or(Yg,oo),oo|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Or(Yg,oo),oo|=r;return la(t,e,i,n),e.child}function UQ(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function mD(t,e,n,r,i){var s=Ga(n)?Dp:Ws.current;return s=Bv(e,s),pv(e,i),n=UU(t,e,n,r,s,i),r=BU(),t!==null&&!za?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Lu(t,e,i)):(Hr&&r&&MU(e),e.flags|=1,la(t,e,n,i),e.child)}function D6(t,e,n,r,i){if(Ga(n)){var s=!0;EA(e)}else s=!1;if(pv(e,i),e.stateNode===null)BT(t,e),kQ(e,n,r),hD(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=sl(c):(c=Ga(n)?Dp:Ws.current,c=Bv(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";d||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&P6(e,a,r,c),Cd=!1;var f=e.memoizedState;a.state=f,PA(e,r,a,i),l=e.memoizedState,o!==r||f!==l||Ha.current||Cd?(typeof u=="function"&&(fD(e,n,u,r),l=e.memoizedState),(o=Cd||C6(e,n,o,r,f,l,c))?(d||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,hQ(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Al(e.type,o),a.props=c,d=e.pendingProps,f=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=sl(l):(l=Ga(n)?Dp:Ws.current,l=Bv(e,l));var h=n.getDerivedStateFromProps;(u=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==d||f!==l)&&P6(e,a,r,l),Cd=!1,f=e.memoizedState,a.state=f,PA(e,r,a,i);var m=e.memoizedState;o!==d||f!==m||Ha.current||Cd?(typeof h=="function"&&(fD(e,n,h,r),m=e.memoizedState),(c=Cd||C6(e,n,c,r,f,m,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),a.props=r,a.state=m,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return gD(t,e,n,r,s,i)}function gD(t,e,n,r,i,s){UQ(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&b6(e,n,!1),Lu(t,e,s);r=e.stateNode,aye.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=Vv(e,t.child,null,s),e.child=Vv(e,null,o,s)):la(t,e,o,s),e.memoizedState=r.state,i&&b6(e,n,!0),e.child}function BQ(t){var e=t.stateNode;e.pendingContext?x6(t,e.pendingContext,e.pendingContext!==e.context):e.context&&x6(t,e.context,!1),DU(t,e.containerInfo)}function L6(t,e,n,r,i){return zv(),PU(i),e.flags|=256,la(t,e,n,r),e.child}var vD={dehydrated:null,treeContext:null,retryLane:0};function yD(t){return{baseLanes:t,cachePool:null,transitions:null}}function zQ(t,e,n){var r=e.pendingProps,i=Zr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Or(Zr,i&1),t===null)return uD(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=kC(a,r,0,null),t=Ap(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=yD(n),e.memoizedState=vD,t):$U(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return oye(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=of(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=of(o,s):(s=Ap(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?yD(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=vD,r}return s=t.child,t=s.sibling,r=of(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function $U(t,e){return e=kC({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function FS(t,e,n,r){return r!==null&&PU(r),Vv(e,t.child,null,n),t=$U(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function oye(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=zN(Error(gt(422))),FS(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=kC({mode:"visible",children:r.children},i,0,null),s=Ap(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&Vv(e,t.child,null,a),e.child.memoizedState=yD(a),e.memoizedState=vD,s);if(!(e.mode&1))return FS(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(gt(419)),r=zN(s,r,void 0),FS(t,e,a,r)}if(o=(a&t.childLanes)!==0,za||o){if(r=ps,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Du(t,i),$l(r,t,i,-1))}return KU(),r=zN(Error(gt(421))),FS(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=bye.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,go=nf(i.nextSibling),yo=e,Hr=!0,Ll=null,t!==null&&(Ho[Go++]=bu,Ho[Go++]=wu,Ho[Go++]=Lp,bu=t.id,wu=t.overflow,Lp=e),e=$U(e,r.children),e.flags|=4096,e)}function j6(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),dD(t.return,e,n)}function VN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function VQ(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(la(t,e,r.children,n),r=Zr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&j6(t,n,e);else if(t.tag===19)j6(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Or(Zr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&RA(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),VN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&RA(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}VN(e,!0,n,null,s);break;case"together":VN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function BT(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Lu(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Fp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(gt(153));if(e.child!==null){for(t=e.child,n=of(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=of(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function lye(t,e,n){switch(e.tag){case 3:BQ(e),zv();break;case 5:pQ(e);break;case 1:Ga(e.type)&&EA(e);break;case 4:DU(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Or(MA,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Or(Zr,Zr.current&1),e.flags|=128,null):n&e.child.childLanes?zQ(t,e,n):(Or(Zr,Zr.current&1),t=Lu(t,e,n),t!==null?t.sibling:null);Or(Zr,Zr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return VQ(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Or(Zr,Zr.current),r)break;return null;case 22:case 23:return e.lanes=0,FQ(t,e,n)}return Lu(t,e,n)}var $Q,xD,HQ,GQ;$Q=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};xD=function(){};HQ=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,tp(Ac.current);var s=null;switch(n){case"input":i=zk(t,i),r=zk(t,r),s=[];break;case"select":i=ri({},i,{value:void 0}),r=ri({},r,{value:void 0}),s=[];break;case"textarea":i=Hk(t,i),r=Hk(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=_A)}Wk(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Zb.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Zb.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Lr("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};GQ=function(t,e,n,r){n!==r&&(e.flags|=4)};function cx(t,e){if(!Hr)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ns(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function cye(t,e,n){var r=e.pendingProps;switch(CU(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ns(e),null;case 1:return Ga(e.type)&&SA(),Ns(e),null;case 3:return r=e.stateNode,$v(),zr(Ha),zr(Ws),jU(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(LS(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ll!==null&&(MD(Ll),Ll=null))),xD(t,e),Ns(e),null;case 5:LU(e);var i=tp(cw.current);if(n=e.type,t!==null&&e.stateNode!=null)HQ(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(gt(166));return Ns(e),null}if(t=tp(Ac.current),LS(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[vc]=e,r[ow]=s,t=(e.mode&1)!==0,n){case"dialog":Lr("cancel",r),Lr("close",r);break;case"iframe":case"object":case"embed":Lr("load",r);break;case"video":case"audio":for(i=0;i<tb.length;i++)Lr(tb[i],r);break;case"source":Lr("error",r);break;case"img":case"image":case"link":Lr("error",r),Lr("load",r);break;case"details":Lr("toggle",r);break;case"input":W8(r,s),Lr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Lr("invalid",r);break;case"textarea":q8(r,s),Lr("invalid",r)}Wk(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&DS(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&DS(r.textContent,o,t),i=["children",""+o]):Zb.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Lr("scroll",r)}switch(n){case"input":MS(r),X8(r,s,!0);break;case"textarea":MS(r),K8(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=_A)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xJ(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[vc]=e,t[ow]=r,$Q(t,e,!1,!1),e.stateNode=t;e:{switch(a=Xk(n,r),n){case"dialog":Lr("cancel",t),Lr("close",t),i=r;break;case"iframe":case"object":case"embed":Lr("load",t),i=r;break;case"video":case"audio":for(i=0;i<tb.length;i++)Lr(tb[i],t);i=r;break;case"source":Lr("error",t),i=r;break;case"img":case"image":case"link":Lr("error",t),Lr("load",t),i=r;break;case"details":Lr("toggle",t),i=r;break;case"input":W8(t,r),i=zk(t,r),Lr("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=ri({},r,{value:void 0}),Lr("invalid",t);break;case"textarea":q8(t,r),i=Hk(t,r),Lr("invalid",t);break;default:i=r}Wk(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?_J(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&bJ(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Jb(t,l):typeof l=="number"&&Jb(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Zb.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Lr("scroll",t):l!=null&&hU(t,s,l,a))}switch(n){case"input":MS(t),X8(t,r,!1);break;case"textarea":MS(t),K8(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gf(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?uv(t,!!r.multiple,s,!1):r.defaultValue!=null&&uv(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=_A)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ns(e),null;case 6:if(t&&e.stateNode!=null)GQ(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(gt(166));if(n=tp(cw.current),tp(Ac.current),LS(e)){if(r=e.stateNode,n=e.memoizedProps,r[vc]=e,(s=r.nodeValue!==n)&&(t=yo,t!==null))switch(t.tag){case 3:DS(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&DS(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[vc]=e,e.stateNode=r}return Ns(e),null;case 13:if(zr(Zr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hr&&go!==null&&e.mode&1&&!(e.flags&128))cQ(),zv(),e.flags|=98560,s=!1;else if(s=LS(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(gt(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(gt(317));s[vc]=e}else zv(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ns(e),s=!1}else Ll!==null&&(MD(Ll),Ll=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Zr.current&1?Ki===0&&(Ki=3):KU())),e.updateQueue!==null&&(e.flags|=4),Ns(e),null);case 4:return $v(),xD(t,e),t===null&&sw(e.stateNode.containerInfo),Ns(e),null;case 10:return NU(e.type._context),Ns(e),null;case 17:return Ga(e.type)&&SA(),Ns(e),null;case 19:if(zr(Zr),s=e.memoizedState,s===null)return Ns(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)cx(s,!1);else{if(Ki!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=RA(t),a!==null){for(e.flags|=128,cx(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Or(Zr,Zr.current&1|2),e.child}t=t.sibling}s.tail!==null&&_i()>Gv&&(e.flags|=128,r=!0,cx(s,!1),e.lanes=4194304)}else{if(!r)if(t=RA(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),cx(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Hr)return Ns(e),null}else 2*_i()-s.renderingStartTime>Gv&&n!==1073741824&&(e.flags|=128,r=!0,cx(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=_i(),e.sibling=null,n=Zr.current,Or(Zr,r?n&1|2:n&1),e):(Ns(e),null);case 22:case 23:return qU(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?oo&1073741824&&(Ns(e),e.subtreeFlags&6&&(e.flags|=8192)):Ns(e),null;case 24:return null;case 25:return null}throw Error(gt(156,e.tag))}function uye(t,e){switch(CU(e),e.tag){case 1:return Ga(e.type)&&SA(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return $v(),zr(Ha),zr(Ws),jU(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return LU(e),null;case 13:if(zr(Zr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(gt(340));zv()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zr(Zr),null;case 4:return $v(),null;case 10:return NU(e.type._context),null;case 22:case 23:return qU(),null;case 24:return null;default:return null}}var US=!1,Bs=!1,dye=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function Kg(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ui(t,e,r)}else n.current=null}function bD(t,e,n){try{n()}catch(r){ui(t,e,r)}}var F6=!1;function fye(t,e){if(rD=xA,t=YJ(),AU(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,d=t,f=null;t:for(;;){for(var h;d!==n||i!==0&&d.nodeType!==3||(o=a+i),d!==s||r!==0&&d.nodeType!==3||(l=a+r),d.nodeType===3&&(a+=d.nodeValue.length),(h=d.firstChild)!==null;)f=d,d=h;for(;;){if(d===t)break t;if(f===n&&++c===i&&(o=a),f===s&&++u===r&&(l=a),(h=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(iD={focusedElem:t,selectionRange:n},xA=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){e=Ft;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,v=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Al(e.type,g),v);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(gt(163))}}catch(S){ui(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}return m=F6,F6=!1,m}function vb(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&bD(e,n,s)}i=i.next}while(i!==r)}}function NC(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function wD(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function WQ(t){var e=t.alternate;e!==null&&(t.alternate=null,WQ(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[vc],delete e[ow],delete e[oD],delete e[q0e],delete e[K0e])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function XQ(t){return t.tag===5||t.tag===3||t.tag===4}function U6(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||XQ(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _D(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=_A));else if(r!==4&&(t=t.child,t!==null))for(_D(t,e,n),t=t.sibling;t!==null;)_D(t,e,n),t=t.sibling}function SD(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(SD(t,e,n),t=t.sibling;t!==null;)SD(t,e,n),t=t.sibling}var bs=null,Nl=!1;function dd(t,e,n){for(n=n.child;n!==null;)qQ(t,e,n),n=n.sibling}function qQ(t,e,n){if(Tc&&typeof Tc.onCommitFiberUnmount=="function")try{Tc.onCommitFiberUnmount(EC,n)}catch{}switch(n.tag){case 5:Bs||Kg(n,e);case 6:var r=bs,i=Nl;bs=null,dd(t,e,n),bs=r,Nl=i,bs!==null&&(Nl?(t=bs,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):bs.removeChild(n.stateNode));break;case 18:bs!==null&&(Nl?(t=bs,n=n.stateNode,t.nodeType===8?DN(t.parentNode,n):t.nodeType===1&&DN(t,n),nw(t)):DN(bs,n.stateNode));break;case 4:r=bs,i=Nl,bs=n.stateNode.containerInfo,Nl=!0,dd(t,e,n),bs=r,Nl=i;break;case 0:case 11:case 14:case 15:if(!Bs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&bD(n,e,a),i=i.next}while(i!==r)}dd(t,e,n);break;case 1:if(!Bs&&(Kg(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){ui(n,e,o)}dd(t,e,n);break;case 21:dd(t,e,n);break;case 22:n.mode&1?(Bs=(r=Bs)||n.memoizedState!==null,dd(t,e,n),Bs=r):dd(t,e,n);break;default:dd(t,e,n)}}function B6(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new dye),e.forEach(function(r){var i=wye.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function gl(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:bs=o.stateNode,Nl=!1;break e;case 3:bs=o.stateNode.containerInfo,Nl=!0;break e;case 4:bs=o.stateNode.containerInfo,Nl=!0;break e}o=o.return}if(bs===null)throw Error(gt(160));qQ(s,a,i),bs=null,Nl=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){ui(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)KQ(e,t),e=e.sibling}function KQ(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(gl(e,t),lc(t),r&4){try{vb(3,t,t.return),NC(3,t)}catch(g){ui(t,t.return,g)}try{vb(5,t,t.return)}catch(g){ui(t,t.return,g)}}break;case 1:gl(e,t),lc(t),r&512&&n!==null&&Kg(n,n.return);break;case 5:if(gl(e,t),lc(t),r&512&&n!==null&&Kg(n,n.return),t.flags&32){var i=t.stateNode;try{Jb(i,"")}catch(g){ui(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&vJ(i,s),Xk(o,a);var c=Xk(o,s);for(a=0;a<l.length;a+=2){var u=l[a],d=l[a+1];u==="style"?_J(i,d):u==="dangerouslySetInnerHTML"?bJ(i,d):u==="children"?Jb(i,d):hU(i,u,d,c)}switch(o){case"input":Vk(i,s);break;case"textarea":yJ(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?uv(i,!!s.multiple,h,!1):f!==!!s.multiple&&(s.defaultValue!=null?uv(i,!!s.multiple,s.defaultValue,!0):uv(i,!!s.multiple,s.multiple?[]:"",!1))}i[ow]=s}catch(g){ui(t,t.return,g)}}break;case 6:if(gl(e,t),lc(t),r&4){if(t.stateNode===null)throw Error(gt(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){ui(t,t.return,g)}}break;case 3:if(gl(e,t),lc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nw(e.containerInfo)}catch(g){ui(t,t.return,g)}break;case 4:gl(e,t),lc(t);break;case 13:gl(e,t),lc(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(WU=_i())),r&4&&B6(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Bs=(c=Bs)||u,gl(e,t),Bs=c):gl(e,t),lc(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(Ft=t,u=t.child;u!==null;){for(d=Ft=u;Ft!==null;){switch(f=Ft,h=f.child,f.tag){case 0:case 11:case 14:case 15:vb(4,f,f.return);break;case 1:Kg(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){ui(r,n,g)}}break;case 5:Kg(f,f.return);break;case 22:if(f.memoizedState!==null){V6(d);continue}}h!==null?(h.return=f,Ft=h):V6(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=d.stateNode,l=d.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=wJ("display",a))}catch(g){ui(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){ui(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:gl(e,t),lc(t),r&4&&B6(t);break;case 21:break;default:gl(e,t),lc(t)}}function lc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(XQ(n)){var r=n;break e}n=n.return}throw Error(gt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Jb(i,""),r.flags&=-33);var s=U6(t);SD(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=U6(t);_D(t,o,a);break;default:throw Error(gt(161))}}catch(l){ui(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function hye(t,e,n){Ft=t,YQ(t)}function YQ(t,e,n){for(var r=(t.mode&1)!==0;Ft!==null;){var i=Ft,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||US;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Bs;o=US;var c=Bs;if(US=a,(Bs=l)&&!c)for(Ft=i;Ft!==null;)a=Ft,l=a.child,a.tag===22&&a.memoizedState!==null?$6(i):l!==null?(l.return=a,Ft=l):$6(i);for(;s!==null;)Ft=s,YQ(s),s=s.sibling;Ft=i,US=o,Bs=c}z6(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Ft=s):z6(t)}}function z6(t){for(;Ft!==null;){var e=Ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Bs||NC(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Bs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Al(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&T6(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}T6(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&nw(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(gt(163))}Bs||e.flags&512&&wD(e)}catch(f){ui(e,e.return,f)}}if(e===t){Ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function V6(t){for(;Ft!==null;){var e=Ft;if(e===t){Ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function $6(t){for(;Ft!==null;){var e=Ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{NC(4,e)}catch(l){ui(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){ui(e,i,l)}}var s=e.return;try{wD(e)}catch(l){ui(e,s,l)}break;case 5:var a=e.return;try{wD(e)}catch(l){ui(e,a,l)}}}catch(l){ui(e,e.return,l)}if(e===t){Ft=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Ft=o;break}Ft=e.return}}var pye=Math.ceil,IA=Xu.ReactCurrentDispatcher,HU=Xu.ReactCurrentOwner,Qo=Xu.ReactCurrentBatchConfig,Jn=0,ps=null,Fi=null,Es=0,oo=0,Yg=Nf(0),Ki=0,hw=null,Fp=0,IC=0,GU=0,yb=null,Fa=null,WU=0,Gv=1/0,hu=null,kA=!1,ED=null,sf=null,BS=!1,Wd=null,DA=0,xb=0,TD=null,zT=-1,VT=0;function ya(){return Jn&6?_i():zT!==-1?zT:zT=_i()}function af(t){return t.mode&1?Jn&2&&Es!==0?Es&-Es:Z0e.transition!==null?(VT===0&&(VT=kJ()),VT):(t=gr,t!==0||(t=window.event,t=t===void 0?16:zJ(t.type)),t):1}function $l(t,e,n,r){if(50<xb)throw xb=0,TD=null,Error(gt(185));k1(t,n,r),(!(Jn&2)||t!==ps)&&(t===ps&&(!(Jn&2)&&(IC|=n),Ki===4&&Dd(t,Es)),Wa(t,r),n===1&&Jn===0&&!(e.mode&1)&&(Gv=_i()+500,PC&&If()))}function Wa(t,e){var n=t.callbackNode;Zve(t,e);var r=yA(t,t===ps?Es:0);if(r===0)n!==null&&J8(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&J8(n),e===1)t.tag===0?Y0e(H6.bind(null,t)):aQ(H6.bind(null,t)),W0e(function(){!(Jn&6)&&If()}),n=null;else{switch(DJ(r)){case 1:n=yU;break;case 4:n=NJ;break;case 16:n=vA;break;case 536870912:n=IJ;break;default:n=vA}n=iee(n,ZQ.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ZQ(t,e){if(zT=-1,VT=0,Jn&6)throw Error(gt(327));var n=t.callbackNode;if(mv()&&t.callbackNode!==n)return null;var r=yA(t,t===ps?Es:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=LA(t,r);else{e=r;var i=Jn;Jn|=2;var s=QQ();(ps!==t||Es!==e)&&(hu=null,Gv=_i()+500,Tp(t,e));do try{vye();break}catch(o){JQ(t,o)}while(!0);OU(),IA.current=s,Jn=i,Fi!==null?e=0:(ps=null,Es=0,e=Ki)}if(e!==0){if(e===2&&(i=Jk(t),i!==0&&(r=i,e=AD(t,i))),e===1)throw n=hw,Tp(t,0),Dd(t,r),Wa(t,_i()),n;if(e===6)Dd(t,r);else{if(i=t.current.alternate,!(r&30)&&!mye(i)&&(e=LA(t,r),e===2&&(s=Jk(t),s!==0&&(r=s,e=AD(t,s))),e===1))throw n=hw,Tp(t,0),Dd(t,r),Wa(t,_i()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(gt(345));case 2:kh(t,Fa,hu);break;case 3:if(Dd(t,r),(r&130023424)===r&&(e=WU+500-_i(),10<e)){if(yA(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){ya(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=aD(kh.bind(null,t,Fa,hu),e);break}kh(t,Fa,hu);break;case 4:if(Dd(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-Vl(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=_i()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*pye(r/1960))-r,10<r){t.timeoutHandle=aD(kh.bind(null,t,Fa,hu),r);break}kh(t,Fa,hu);break;case 5:kh(t,Fa,hu);break;default:throw Error(gt(329))}}}return Wa(t,_i()),t.callbackNode===n?ZQ.bind(null,t):null}function AD(t,e){var n=yb;return t.current.memoizedState.isDehydrated&&(Tp(t,e).flags|=256),t=LA(t,e),t!==2&&(e=Fa,Fa=n,e!==null&&MD(e)),t}function MD(t){Fa===null?Fa=t:Fa.push.apply(Fa,t)}function mye(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Wl(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Dd(t,e){for(e&=~GU,e&=~IC,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Vl(e),r=1<<n;t[n]=-1,e&=~r}}function H6(t){if(Jn&6)throw Error(gt(327));mv();var e=yA(t,0);if(!(e&1))return Wa(t,_i()),null;var n=LA(t,e);if(t.tag!==0&&n===2){var r=Jk(t);r!==0&&(e=r,n=AD(t,r))}if(n===1)throw n=hw,Tp(t,0),Dd(t,e),Wa(t,_i()),n;if(n===6)throw Error(gt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,kh(t,Fa,hu),Wa(t,_i()),null}function XU(t,e){var n=Jn;Jn|=1;try{return t(e)}finally{Jn=n,Jn===0&&(Gv=_i()+500,PC&&If())}}function Up(t){Wd!==null&&Wd.tag===0&&!(Jn&6)&&mv();var e=Jn;Jn|=1;var n=Qo.transition,r=gr;try{if(Qo.transition=null,gr=1,t)return t()}finally{gr=r,Qo.transition=n,Jn=e,!(Jn&6)&&If()}}function qU(){oo=Yg.current,zr(Yg)}function Tp(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,G0e(n)),Fi!==null)for(n=Fi.return;n!==null;){var r=n;switch(CU(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&SA();break;case 3:$v(),zr(Ha),zr(Ws),jU();break;case 5:LU(r);break;case 4:$v();break;case 13:zr(Zr);break;case 19:zr(Zr);break;case 10:NU(r.type._context);break;case 22:case 23:qU()}n=n.return}if(ps=t,Fi=t=of(t.current,null),Es=oo=e,Ki=0,hw=null,GU=IC=Fp=0,Fa=yb=null,ep!==null){for(e=0;e<ep.length;e++)if(n=ep[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}ep=null}return t}function JQ(t,e){do{var n=Fi;try{if(OU(),FT.current=NA,OA){for(var r=ni.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}OA=!1}if(jp=0,fs=Xi=ni=null,gb=!1,uw=0,HU.current=null,n===null||n.return===null){Ki=1,hw=e,Fi=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=Es,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var f=u.alternate;f?(u.updateQueue=f.updateQueue,u.memoizedState=f.memoizedState,u.lanes=f.lanes):(u.updateQueue=null,u.memoizedState=null)}var h=O6(a);if(h!==null){h.flags&=-257,N6(h,a,o,s,e),h.mode&1&&R6(s,c,e),e=h,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){R6(s,c,e),KU();break e}l=Error(gt(426))}}else if(Hr&&o.mode&1){var v=O6(a);if(v!==null){!(v.flags&65536)&&(v.flags|=256),N6(v,a,o,s,e),PU(Hv(l,o));break e}}s=l=Hv(l,o),Ki!==4&&(Ki=2),yb===null?yb=[s]:yb.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=DQ(s,l,e);E6(s,y);break e;case 1:o=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(sf===null||!sf.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=LQ(s,o,e);E6(s,S);break e}}s=s.return}while(s!==null)}tee(n)}catch(E){e=E,Fi===n&&n!==null&&(Fi=n=n.return);continue}break}while(!0)}function QQ(){var t=IA.current;return IA.current=NA,t===null?NA:t}function KU(){(Ki===0||Ki===3||Ki===2)&&(Ki=4),ps===null||!(Fp&268435455)&&!(IC&268435455)||Dd(ps,Es)}function LA(t,e){var n=Jn;Jn|=2;var r=QQ();(ps!==t||Es!==e)&&(hu=null,Tp(t,e));do try{gye();break}catch(i){JQ(t,i)}while(!0);if(OU(),Jn=n,IA.current=r,Fi!==null)throw Error(gt(261));return ps=null,Es=0,Ki}function gye(){for(;Fi!==null;)eee(Fi)}function vye(){for(;Fi!==null&&!Vve();)eee(Fi)}function eee(t){var e=ree(t.alternate,t,oo);t.memoizedProps=t.pendingProps,e===null?tee(t):Fi=e,HU.current=null}function tee(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=uye(n,e),n!==null){n.flags&=32767,Fi=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ki=6,Fi=null;return}}else if(n=cye(n,e,oo),n!==null){Fi=n;return}if(e=e.sibling,e!==null){Fi=e;return}Fi=e=t}while(e!==null);Ki===0&&(Ki=5)}function kh(t,e,n){var r=gr,i=Qo.transition;try{Qo.transition=null,gr=1,yye(t,e,n,r)}finally{Qo.transition=i,gr=r}return null}function yye(t,e,n,r){do mv();while(Wd!==null);if(Jn&6)throw Error(gt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(gt(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Jve(t,s),t===ps&&(Fi=ps=null,Es=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||BS||(BS=!0,iee(vA,function(){return mv(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Qo.transition,Qo.transition=null;var a=gr;gr=1;var o=Jn;Jn|=4,HU.current=null,fye(t,n),KQ(n,t),F0e(iD),xA=!!rD,iD=rD=null,t.current=n,hye(n),$ve(),Jn=o,gr=a,Qo.transition=s}else t.current=n;if(BS&&(BS=!1,Wd=t,DA=i),s=t.pendingLanes,s===0&&(sf=null),Wve(n.stateNode),Wa(t,_i()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(kA)throw kA=!1,t=ED,ED=null,t;return DA&1&&t.tag!==0&&mv(),s=t.pendingLanes,s&1?t===TD?xb++:(xb=0,TD=t):xb=0,If(),null}function mv(){if(Wd!==null){var t=DJ(DA),e=Qo.transition,n=gr;try{if(Qo.transition=null,gr=16>t?16:t,Wd===null)var r=!1;else{if(t=Wd,Wd=null,DA=0,Jn&6)throw Error(gt(331));var i=Jn;for(Jn|=4,Ft=t.current;Ft!==null;){var s=Ft,a=s.child;if(Ft.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Ft=c;Ft!==null;){var u=Ft;switch(u.tag){case 0:case 11:case 15:vb(8,u,s)}var d=u.child;if(d!==null)d.return=u,Ft=d;else for(;Ft!==null;){u=Ft;var f=u.sibling,h=u.return;if(WQ(u),u===c){Ft=null;break}if(f!==null){f.return=h,Ft=f;break}Ft=h}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(g!==null)}}Ft=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Ft=a;else e:for(;Ft!==null;){if(s=Ft,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vb(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,Ft=y;break e}Ft=s.return}}var w=t.current;for(Ft=w;Ft!==null;){a=Ft;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,Ft=_;else e:for(a=w;Ft!==null;){if(o=Ft,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:NC(9,o)}}catch(E){ui(o,o.return,E)}if(o===a){Ft=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,Ft=S;break e}Ft=o.return}}if(Jn=i,If(),Tc&&typeof Tc.onPostCommitFiberRoot=="function")try{Tc.onPostCommitFiberRoot(EC,t)}catch{}r=!0}return r}finally{gr=n,Qo.transition=e}}return!1}function G6(t,e,n){e=Hv(n,e),e=DQ(t,e,1),t=rf(t,e,1),e=ya(),t!==null&&(k1(t,1,e),Wa(t,e))}function ui(t,e,n){if(t.tag===3)G6(t,t,n);else for(;e!==null;){if(e.tag===3){G6(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(sf===null||!sf.has(r))){t=Hv(n,t),t=LQ(e,t,1),e=rf(e,t,1),t=ya(),e!==null&&(k1(e,1,t),Wa(e,t));break}}e=e.return}}function xye(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ya(),t.pingedLanes|=t.suspendedLanes&n,ps===t&&(Es&n)===n&&(Ki===4||Ki===3&&(Es&130023424)===Es&&500>_i()-WU?Tp(t,0):GU|=n),Wa(t,e)}function nee(t,e){e===0&&(t.mode&1?(e=RS,RS<<=1,!(RS&130023424)&&(RS=4194304)):e=1);var n=ya();t=Du(t,e),t!==null&&(k1(t,e,n),Wa(t,n))}function bye(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),nee(t,n)}function wye(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(gt(314))}r!==null&&r.delete(e),nee(t,n)}var ree;ree=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ha.current)za=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return za=!1,lye(t,e,n);za=!!(t.flags&131072)}else za=!1,Hr&&e.flags&1048576&&oQ(e,AA,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;BT(t,e),t=e.pendingProps;var i=Bv(e,Ws.current);pv(e,n),i=UU(null,e,r,t,i,n);var s=BU();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ga(r)?(s=!0,EA(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kU(e),i.updater=OC,e.stateNode=i,i._reactInternals=e,hD(e,r,t,n),e=gD(null,e,r,!0,s,n)):(e.tag=0,Hr&&s&&MU(e),la(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(BT(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=Sye(r),t=Al(r,t),i){case 0:e=mD(null,e,r,t,n);break e;case 1:e=D6(null,e,r,t,n);break e;case 11:e=I6(null,e,r,t,n);break e;case 14:e=k6(null,e,r,Al(r.type,t),n);break e}throw Error(gt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),mD(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),D6(t,e,r,i,n);case 3:e:{if(BQ(e),t===null)throw Error(gt(387));r=e.pendingProps,s=e.memoizedState,i=s.element,hQ(t,e),PA(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hv(Error(gt(423)),e),e=L6(t,e,r,n,i);break e}else if(r!==i){i=Hv(Error(gt(424)),e),e=L6(t,e,r,n,i);break e}else for(go=nf(e.stateNode.containerInfo.firstChild),yo=e,Hr=!0,Ll=null,n=dQ(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(zv(),r===i){e=Lu(t,e,n);break e}la(t,e,r,n)}e=e.child}return e;case 5:return pQ(e),t===null&&uD(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,sD(r,i)?a=null:s!==null&&sD(r,s)&&(e.flags|=32),UQ(t,e),la(t,e,a,n),e.child;case 6:return t===null&&uD(e),null;case 13:return zQ(t,e,n);case 4:return DU(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Vv(e,null,r,n):la(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),I6(t,e,r,i,n);case 7:return la(t,e,e.pendingProps,n),e.child;case 8:return la(t,e,e.pendingProps.children,n),e.child;case 12:return la(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Or(MA,r._currentValue),r._currentValue=a,s!==null)if(Wl(s.value,a)){if(s.children===i.children&&!Ha.current){e=Lu(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Cu(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),dD(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(gt(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),dD(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}la(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,pv(e,n),i=sl(i),r=r(i),e.flags|=1,la(t,e,r,n),e.child;case 14:return r=e.type,i=Al(r,e.pendingProps),i=Al(r.type,i),k6(t,e,r,i,n);case 15:return jQ(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Al(r,i),BT(t,e),e.tag=1,Ga(r)?(t=!0,EA(e)):t=!1,pv(e,n),kQ(e,r,i),hD(e,r,i,n),gD(null,e,r,!0,t,n);case 19:return VQ(t,e,n);case 22:return FQ(t,e,n)}throw Error(gt(156,e.tag))};function iee(t,e){return OJ(t,e)}function _ye(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ko(t,e,n,r){return new _ye(t,e,n,r)}function YU(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Sye(t){if(typeof t=="function")return YU(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mU)return 11;if(t===gU)return 14}return 2}function of(t,e){var n=t.alternate;return n===null?(n=Ko(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function $T(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")YU(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Bg:return Ap(n.children,i,s,e);case pU:a=8,i|=8;break;case jk:return t=Ko(12,n,e,i|2),t.elementType=jk,t.lanes=s,t;case Fk:return t=Ko(13,n,e,i),t.elementType=Fk,t.lanes=s,t;case Uk:return t=Ko(19,n,e,i),t.elementType=Uk,t.lanes=s,t;case pJ:return kC(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case fJ:a=10;break e;case hJ:a=9;break e;case mU:a=11;break e;case gU:a=14;break e;case Md:a=16,r=null;break e}throw Error(gt(130,t==null?t:typeof t,""))}return e=Ko(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Ap(t,e,n,r){return t=Ko(7,t,r,e),t.lanes=n,t}function kC(t,e,n,r){return t=Ko(22,t,r,e),t.elementType=pJ,t.lanes=n,t.stateNode={isHidden:!1},t}function $N(t,e,n){return t=Ko(6,t,null,e),t.lanes=n,t}function HN(t,e,n){return e=Ko(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function Eye(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=EN(0),this.expirationTimes=EN(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=EN(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZU(t,e,n,r,i,s,a,o,l){return t=new Eye(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ko(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},kU(s),t}function Tye(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ug,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function see(t){if(!t)return vf;t=t._reactInternals;e:{if(hm(t)!==t||t.tag!==1)throw Error(gt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ga(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(gt(171))}if(t.tag===1){var n=t.type;if(Ga(n))return sQ(t,n,e)}return e}function aee(t,e,n,r,i,s,a,o,l){return t=ZU(n,r,!0,t,i,s,a,o,l),t.context=see(null),n=t.current,r=ya(),i=af(n),s=Cu(r,i),s.callback=e??null,rf(n,s,i),t.current.lanes=i,k1(t,i,r),Wa(t,r),t}function DC(t,e,n,r){var i=e.current,s=ya(),a=af(i);return n=see(n),e.context===null?e.context=n:e.pendingContext=n,e=Cu(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=rf(i,e,a),t!==null&&($l(t,i,a,s),jT(t,i,a)),a}function jA(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function W6(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function JU(t,e){W6(t,e),(t=t.alternate)&&W6(t,e)}function Aye(){return null}var oee=typeof reportError=="function"?reportError:function(t){console.error(t)};function QU(t){this._internalRoot=t}LC.prototype.render=QU.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(gt(409));DC(t,e,null,null)};LC.prototype.unmount=QU.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Up(function(){DC(null,t,null,null)}),e[ku]=null}};function LC(t){this._internalRoot=t}LC.prototype.unstable_scheduleHydration=function(t){if(t){var e=FJ();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kd.length&&e!==0&&e<kd[n].priority;n++);kd.splice(n,0,t),n===0&&BJ(t)}};function e4(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function jC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function X6(){}function Mye(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=jA(a);s.call(c)}}var a=aee(e,r,t,0,null,!1,!1,"",X6);return t._reactRootContainer=a,t[ku]=a.current,sw(t.nodeType===8?t.parentNode:t),Up(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=jA(l);o.call(c)}}var l=ZU(t,0,!1,null,null,!1,!1,"",X6);return t._reactRootContainer=l,t[ku]=l.current,sw(t.nodeType===8?t.parentNode:t),Up(function(){DC(e,l,n,r)}),l}function FC(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=jA(a);o.call(l)}}DC(e,a,t,i)}else a=Mye(n,e,t,i,r);return jA(a)}LJ=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=eb(e.pendingLanes);n!==0&&(xU(e,n|1),Wa(e,_i()),!(Jn&6)&&(Gv=_i()+500,If()))}break;case 13:Up(function(){var r=Du(t,1);if(r!==null){var i=ya();$l(r,t,1,i)}}),JU(t,1)}};bU=function(t){if(t.tag===13){var e=Du(t,134217728);if(e!==null){var n=ya();$l(e,t,134217728,n)}JU(t,134217728)}};jJ=function(t){if(t.tag===13){var e=af(t),n=Du(t,e);if(n!==null){var r=ya();$l(n,t,e,r)}JU(t,e)}};FJ=function(){return gr};UJ=function(t,e){var n=gr;try{return gr=t,e()}finally{gr=n}};Kk=function(t,e,n){switch(e){case"input":if(Vk(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=CC(r);if(!i)throw Error(gt(90));gJ(r),Vk(r,i)}}}break;case"textarea":yJ(t,n);break;case"select":e=n.value,e!=null&&uv(t,!!n.multiple,e,!1)}};TJ=XU;AJ=Up;var Cye={usingClientEntryPoint:!1,Events:[L1,Hg,CC,SJ,EJ,XU]},ux={findFiberByHostInstance:Qh,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Pye={bundleType:ux.bundleType,version:ux.version,rendererPackageName:ux.rendererPackageName,rendererConfig:ux.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=PJ(t),t===null?null:t.stateNode},findFiberByHostInstance:ux.findFiberByHostInstance||Aye,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zS=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zS.isDisabled&&zS.supportsFiber)try{EC=zS.inject(Pye),Tc=zS}catch{}}To.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Cye;To.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!e4(e))throw Error(gt(200));return Tye(t,e,null,n)};To.createRoot=function(t,e){if(!e4(t))throw Error(gt(299));var n=!1,r="",i=oee;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZU(t,1,!1,null,null,n,!1,r,i),t[ku]=e.current,sw(t.nodeType===8?t.parentNode:t),new QU(e)};To.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(gt(188)):(t=Object.keys(t).join(","),Error(gt(268,t)));return t=PJ(e),t=t===null?null:t.stateNode,t};To.flushSync=function(t){return Up(t)};To.hydrate=function(t,e,n){if(!jC(e))throw Error(gt(200));return FC(null,t,e,!0,n)};To.hydrateRoot=function(t,e,n){if(!e4(t))throw Error(gt(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=oee;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=aee(e,null,t,1,n??null,i,!1,s,a),t[ku]=e.current,sw(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new LC(e)};To.render=function(t,e,n){if(!jC(e))throw Error(gt(200));return FC(null,t,e,!1,n)};To.unmountComponentAtNode=function(t){if(!jC(t))throw Error(gt(40));return t._reactRootContainer?(Up(function(){FC(null,null,t,!1,function(){t._reactRootContainer=null,t[ku]=null})}),!0):!1};To.unstable_batchedUpdates=XU;To.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!jC(n))throw Error(gt(200));if(t==null||t._reactInternals===void 0)throw Error(gt(38));return FC(t,e,n,!1,r)};To.version="18.3.1-next-f1338f8080-20240426";function lee(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(lee)}catch(t){console.error(t)}}lee(),lJ.exports=To;var pm=lJ.exports;const cee=lr(pm);var UC,q6=pm;UC=q6.createRoot,q6.hydrateRoot;const Rye=1,Oye=1e6;let GN=0;function Nye(){return GN=(GN+1)%Number.MAX_SAFE_INTEGER,GN.toString()}const WN=new Map,K6=t=>{if(WN.has(t))return;const e=setTimeout(()=>{WN.delete(t),bb({type:"REMOVE_TOAST",toastId:t})},Oye);WN.set(t,e)},Iye=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,Rye)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?K6(n):t.toasts.forEach(r=>{K6(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},HT=[];let GT={toasts:[]};function bb(t){GT=Iye(GT,t),HT.forEach(e=>{e(GT)})}function kye({...t}){const e=Nye(),n=i=>bb({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>bb({type:"DISMISS_TOAST",toastId:e});return bb({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function uee(){const[t,e]=T.useState(GT);return T.useEffect(()=>(HT.push(e),()=>{const n=HT.indexOf(e);n>-1&&HT.splice(n,1)}),[t]),{...t,toast:kye,dismiss:n=>bb({type:"DISMISS_TOAST",toastId:n})}}function vt(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function Y6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function BC(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Y6(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Y6(t[i],null)}}}}function mn(...t){return T.useCallback(BC(...t),t)}function Dye(t,e){const n=T.createContext(e),r=s=>{const{children:a,...o}=s,l=T.useMemo(()=>o,Object.values(o));return p.jsx(n.Provider,{value:l,children:a})};r.displayName=t+"Provider";function i(s){const a=T.useContext(n);if(a)return a;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Xs(t,e=[]){let n=[];function r(s,a){const o=T.createContext(a),l=n.length;n=[...n,a];const c=d=>{var y;const{scope:f,children:h,...m}=d,g=((y=f==null?void 0:f[t])==null?void 0:y[l])||o,v=T.useMemo(()=>m,Object.values(m));return p.jsx(g.Provider,{value:v,children:h})};c.displayName=s+"Provider";function u(d,f){var g;const h=((g=f==null?void 0:f[t])==null?void 0:g[l])||o,m=T.useContext(h);if(m)return m;if(a!==void 0)return a;throw new Error(`\`${d}\` must be used within \`${s}\``)}return[c,u]}const i=()=>{const s=n.map(a=>T.createContext(a));return function(o){const l=(o==null?void 0:o[t])||s;return T.useMemo(()=>({[`__scope${t}`]:{...o,[t]:l}}),[o,l])}};return i.scopeName=t,[r,Lye(i,...e)]}function Lye(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:l,scopeName:c})=>{const d=l(s)[`__scope${c}`];return{...o,...d}},{});return T.useMemo(()=>({[`__scope${e.scopeName}`]:a}),[a])}};return n.scopeName=e.scopeName,n}function Bp(t){const e=jye(t),n=T.forwardRef((r,i)=>{const{children:s,...a}=r,o=T.Children.toArray(s),l=o.find(Uye);if(l){const c=l.props.children,u=o.map(d=>d===l?T.Children.count(c)>1?T.Children.only(null):T.isValidElement(c)?c.props.children:null:d);return p.jsx(e,{...a,ref:i,children:T.isValidElement(c)?T.cloneElement(c,void 0,u):null})}return p.jsx(e,{...a,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var mm=Bp("Slot");function jye(t){const e=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const a=zye(i),o=Bye(s,i.props);return i.type!==T.Fragment&&(o.ref=r?BC(r,a):a),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var dee=Symbol("radix.slottable");function Fye(t){const e=({children:n})=>p.jsx(p.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=dee,e}function Uye(t){return T.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===dee}function Bye(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{const l=s(...o);return i(...o),l}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function zye(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function F1(t){const e=t+"CollectionProvider",[n,r]=Xs(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),a=g=>{const{scope:v,children:y}=g,w=ie.useRef(null),_=ie.useRef(new Map).current;return p.jsx(i,{scope:v,itemMap:_,collectionRef:w,children:y})};a.displayName=e;const o=t+"CollectionSlot",l=Bp(o),c=ie.forwardRef((g,v)=>{const{scope:y,children:w}=g,_=s(o,y),S=mn(v,_.collectionRef);return p.jsx(l,{ref:S,children:w})});c.displayName=o;const u=t+"CollectionItemSlot",d="data-radix-collection-item",f=Bp(u),h=ie.forwardRef((g,v)=>{const{scope:y,children:w,..._}=g,S=ie.useRef(null),E=mn(v,S),A=s(u,y);return ie.useEffect(()=>(A.itemMap.set(S,{ref:S,..._}),()=>void A.itemMap.delete(S))),p.jsx(f,{[d]:"",ref:E,children:w})});h.displayName=u;function m(g){const v=s(t+"CollectionConsumer",g);return ie.useCallback(()=>{const w=v.collectionRef.current;if(!w)return[];const _=Array.from(w.querySelectorAll(`[${d}]`));return Array.from(v.itemMap.values()).sort((A,M)=>_.indexOf(A.ref.current)-_.indexOf(M.ref.current))},[v.collectionRef,v.itemMap])}return[{Provider:a,Slot:c,ItemSlot:h},m,r]}var Vye=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Lt=Vye.reduce((t,e)=>{const n=Bp(`Primitive.${e}`),r=T.forwardRef((i,s)=>{const{asChild:a,...o}=i,l=a?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),p.jsx(l,{...o,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function t4(t,e){t&&pm.flushSync(()=>t.dispatchEvent(e))}function fi(t){const e=T.useRef(t);return T.useEffect(()=>{e.current=t}),T.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $ye(t,e=globalThis==null?void 0:globalThis.document){const n=fi(t);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var Hye="DismissableLayer",CD="dismissableLayer.update",Gye="dismissableLayer.pointerDownOutside",Wye="dismissableLayer.focusOutside",Z6,fee=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),q0=T.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...l}=t,c=T.useContext(fee),[u,d]=T.useState(null),f=(u==null?void 0:u.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,h]=T.useState({}),m=mn(e,M=>d(M)),g=Array.from(c.layers),[v]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),y=g.indexOf(v),w=u?g.indexOf(u):-1,_=c.layersWithOutsidePointerEventsDisabled.size>0,S=w>=y,E=qye(M=>{const R=M.target,P=[...c.branches].some(O=>O.contains(R));!S||P||(i==null||i(M),a==null||a(M),M.defaultPrevented||o==null||o())},f),A=Kye(M=>{const R=M.target;[...c.branches].some(O=>O.contains(R))||(s==null||s(M),a==null||a(M),M.defaultPrevented||o==null||o())},f);return $ye(M=>{w===c.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&o&&(M.preventDefault(),o()))},f),T.useEffect(()=>{if(u)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Z6=f.body.style.pointerEvents,f.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(u)),c.layers.add(u),J6(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(f.body.style.pointerEvents=Z6)}},[u,f,n,c]),T.useEffect(()=>()=>{u&&(c.layers.delete(u),c.layersWithOutsidePointerEventsDisabled.delete(u),J6())},[u,c]),T.useEffect(()=>{const M=()=>h({});return document.addEventListener(CD,M),()=>document.removeEventListener(CD,M)},[]),p.jsx(Lt.div,{...l,ref:m,style:{pointerEvents:_?S?"auto":"none":void 0,...t.style},onFocusCapture:vt(t.onFocusCapture,A.onFocusCapture),onBlurCapture:vt(t.onBlurCapture,A.onBlurCapture),onPointerDownCapture:vt(t.onPointerDownCapture,E.onPointerDownCapture)})});q0.displayName=Hye;var Xye="DismissableLayerBranch",hee=T.forwardRef((t,e)=>{const n=T.useContext(fee),r=T.useRef(null),i=mn(e,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),p.jsx(Lt.div,{...t,ref:i})});hee.displayName=Xye;function qye(t,e=globalThis==null?void 0:globalThis.document){const n=fi(t),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let l=function(){pee(Gye,n,c,{discrete:!0})};const c={originalEvent:o};o.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function Kye(t,e=globalThis==null?void 0:globalThis.document){const n=fi(t),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&pee(Wye,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function J6(){const t=new CustomEvent(CD);document.dispatchEvent(t)}function pee(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?t4(i,s):i.dispatchEvent(s)}var Yye=q0,Zye=hee,Mi=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Jye="Portal",U1=T.forwardRef((t,e)=>{var o;const{container:n,...r}=t,[i,s]=T.useState(!1);Mi(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?cee.createPortal(p.jsx(Lt.div,{...r,ref:e}),a):null});U1.displayName=Jye;function Qye(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var qs=t=>{const{present:e,children:n}=t,r=exe(e),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=mn(r.ref,txe(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};qs.displayName="Presence";function exe(t){const[e,n]=T.useState(),r=T.useRef(null),i=T.useRef(t),s=T.useRef("none"),a=t?"mounted":"unmounted",[o,l]=Qye(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const c=VS(r.current);s.current=o==="mounted"?c:"none"},[o]),Mi(()=>{const c=r.current,u=i.current;if(u!==t){const f=s.current,h=VS(c);t?l("MOUNT"):h==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(u&&f!==h?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Mi(()=>{if(e){let c;const u=e.ownerDocument.defaultView??window,d=h=>{const g=VS(r.current).includes(h.animationName);if(h.target===e&&g&&(l("ANIMATION_END"),!i.current)){const v=e.style.animationFillMode;e.style.animationFillMode="forwards",c=u.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=v)})}},f=h=>{h.target===e&&(s.current=VS(r.current))};return e.addEventListener("animationstart",f),e.addEventListener("animationcancel",d),e.addEventListener("animationend",d),()=>{u.clearTimeout(c),e.removeEventListener("animationstart",f),e.removeEventListener("animationcancel",d),e.removeEventListener("animationend",d)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function VS(t){return(t==null?void 0:t.animationName)||"none"}function txe(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var nxe=uU[" useInsertionEffect ".trim().toString()]||Mi;function Xl({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[i,s,a]=rxe({defaultProp:e,onChange:n}),o=t!==void 0,l=o?t:i;{const u=T.useRef(t!==void 0);T.useEffect(()=>{const d=u.current;d!==o&&console.warn(`${r} is changing from ${d?"controlled":"uncontrolled"} to ${o?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),u.current=o},[o,r])}const c=T.useCallback(u=>{var d;if(o){const f=ixe(u)?u(t):u;f!==t&&((d=a.current)==null||d.call(a,f))}else s(u)},[o,t,s,a]);return[l,c]}function rxe({defaultProp:t,onChange:e}){const[n,r]=T.useState(t),i=T.useRef(n),s=T.useRef(e);return nxe(()=>{s.current=e},[e]),T.useEffect(()=>{var a;i.current!==n&&((a=s.current)==null||a.call(s,n),i.current=n)},[n,i]),[n,r,s]}function ixe(t){return typeof t=="function"}var mee=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),sxe="VisuallyHidden",zC=T.forwardRef((t,e)=>p.jsx(Lt.span,{...t,ref:e,style:{...mee,...t.style}}));zC.displayName=sxe;var axe=zC,n4="ToastProvider",[r4,oxe,lxe]=F1("Toast"),[gee,$xt]=Xs("Toast",[lxe]),[cxe,VC]=gee(n4),vee=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=t,[o,l]=T.useState(null),[c,u]=T.useState(0),d=T.useRef(!1),f=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${n4}\`. Expected non-empty \`string\`.`),p.jsx(r4.Provider,{scope:e,children:p.jsx(cxe,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:o,onViewportChange:l,onToastAdd:T.useCallback(()=>u(h=>h+1),[]),onToastRemove:T.useCallback(()=>u(h=>h-1),[]),isFocusedToastEscapeKeyDownRef:d,isClosePausedRef:f,children:a})})};vee.displayName=n4;var yee="ToastViewport",uxe=["F8"],PD="toast.viewportPause",RD="toast.viewportResume",xee=T.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=uxe,label:i="Notifications ({hotkey})",...s}=t,a=VC(yee,n),o=oxe(n),l=T.useRef(null),c=T.useRef(null),u=T.useRef(null),d=T.useRef(null),f=mn(e,d,a.onViewportChange),h=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),m=a.toastCount>0;T.useEffect(()=>{const v=y=>{var _;r.length!==0&&r.every(S=>y[S]||y.code===S)&&((_=d.current)==null||_.focus())};return document.addEventListener("keydown",v),()=>document.removeEventListener("keydown",v)},[r]),T.useEffect(()=>{const v=l.current,y=d.current;if(m&&v&&y){const w=()=>{if(!a.isClosePausedRef.current){const A=new CustomEvent(PD);y.dispatchEvent(A),a.isClosePausedRef.current=!0}},_=()=>{if(a.isClosePausedRef.current){const A=new CustomEvent(RD);y.dispatchEvent(A),a.isClosePausedRef.current=!1}},S=A=>{!v.contains(A.relatedTarget)&&_()},E=()=>{v.contains(document.activeElement)||_()};return v.addEventListener("focusin",w),v.addEventListener("focusout",S),v.addEventListener("pointermove",w),v.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",_),()=>{v.removeEventListener("focusin",w),v.removeEventListener("focusout",S),v.removeEventListener("pointermove",w),v.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",_)}}},[m,a.isClosePausedRef]);const g=T.useCallback(({tabbingDirection:v})=>{const w=o().map(_=>{const S=_.ref.current,E=[S,...Sxe(S)];return v==="forwards"?E:E.reverse()});return(v==="forwards"?w.reverse():w).flat()},[o]);return T.useEffect(()=>{const v=d.current;if(v){const y=w=>{var E,A,M;const _=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!_){const R=document.activeElement,P=w.shiftKey;if(w.target===v&&P){(E=c.current)==null||E.focus();return}const I=g({tabbingDirection:P?"backwards":"forwards"}),F=I.findIndex(L=>L===R);XN(I.slice(F+1))?w.preventDefault():P?(A=c.current)==null||A.focus():(M=u.current)==null||M.focus()}};return v.addEventListener("keydown",y),()=>v.removeEventListener("keydown",y)}},[o,g]),p.jsxs(Zye,{ref:l,role:"region","aria-label":i.replace("{hotkey}",h),tabIndex:-1,style:{pointerEvents:m?void 0:"none"},children:[m&&p.jsx(OD,{ref:c,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"forwards"});XN(v)}}),p.jsx(r4.Slot,{scope:n,children:p.jsx(Lt.ol,{tabIndex:-1,...s,ref:f})}),m&&p.jsx(OD,{ref:u,onFocusFromOutsideViewport:()=>{const v=g({tabbingDirection:"backwards"});XN(v)}})]})});xee.displayName=yee;var bee="ToastFocusProxy",OD=T.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=VC(bee,n);return p.jsx(zC,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:a=>{var c;const o=a.relatedTarget;!((c=s.viewport)!=null&&c.contains(o))&&r()}})});OD.displayName=bee;var B1="Toast",dxe="toast.swipeStart",fxe="toast.swipeMove",hxe="toast.swipeCancel",pxe="toast.swipeEnd",wee=T.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=t,[o,l]=Xl({prop:r,defaultProp:i??!0,onChange:s,caller:B1});return p.jsx(qs,{present:n||o,children:p.jsx(vxe,{open:o,...a,ref:e,onClose:()=>l(!1),onPause:fi(t.onPause),onResume:fi(t.onResume),onSwipeStart:vt(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:vt(t.onSwipeMove,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${d}px`)}),onSwipeCancel:vt(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:vt(t.onSwipeEnd,c=>{const{x:u,y:d}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${u}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${d}px`),l(!1)})})})});wee.displayName=B1;var[mxe,gxe]=gee(B1,{onClose(){}}),vxe=T.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:l,onResume:c,onSwipeStart:u,onSwipeMove:d,onSwipeCancel:f,onSwipeEnd:h,...m}=t,g=VC(B1,n),[v,y]=T.useState(null),w=mn(e,L=>y(L)),_=T.useRef(null),S=T.useRef(null),E=i||g.duration,A=T.useRef(0),M=T.useRef(E),R=T.useRef(0),{onToastAdd:P,onToastRemove:O}=g,k=fi(()=>{var V;(v==null?void 0:v.contains(document.activeElement))&&((V=g.viewport)==null||V.focus()),a()}),I=T.useCallback(L=>{!L||L===1/0||(window.clearTimeout(R.current),A.current=new Date().getTime(),R.current=window.setTimeout(k,L))},[k]);T.useEffect(()=>{const L=g.viewport;if(L){const V=()=>{I(M.current),c==null||c()},z=()=>{const K=new Date().getTime()-A.current;M.current=M.current-K,window.clearTimeout(R.current),l==null||l()};return L.addEventListener(PD,z),L.addEventListener(RD,V),()=>{L.removeEventListener(PD,z),L.removeEventListener(RD,V)}}},[g.viewport,E,l,c,I]),T.useEffect(()=>{s&&!g.isClosePausedRef.current&&I(E)},[s,E,g.isClosePausedRef,I]),T.useEffect(()=>(P(),()=>O()),[P,O]);const F=T.useMemo(()=>v?Cee(v):null,[v]);return g.viewport?p.jsxs(p.Fragment,{children:[F&&p.jsx(yxe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),p.jsx(mxe,{scope:n,onClose:k,children:pm.createPortal(p.jsx(r4.ItemSlot,{scope:n,children:p.jsx(Yye,{asChild:!0,onEscapeKeyDown:vt(o,()=>{g.isFocusedToastEscapeKeyDownRef.current||k(),g.isFocusedToastEscapeKeyDownRef.current=!1}),children:p.jsx(Lt.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":g.swipeDirection,...m,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:vt(t.onKeyDown,L=>{L.key==="Escape"&&(o==null||o(L.nativeEvent),L.nativeEvent.defaultPrevented||(g.isFocusedToastEscapeKeyDownRef.current=!0,k()))}),onPointerDown:vt(t.onPointerDown,L=>{L.button===0&&(_.current={x:L.clientX,y:L.clientY})}),onPointerMove:vt(t.onPointerMove,L=>{if(!_.current)return;const V=L.clientX-_.current.x,z=L.clientY-_.current.y,K=!!S.current,j=["left","right"].includes(g.swipeDirection),U=["left","up"].includes(g.swipeDirection)?Math.min:Math.max,$=j?U(0,V):0,G=j?0:U(0,z),X=L.pointerType==="touch"?10:2,Q={x:$,y:G},oe={originalEvent:L,delta:Q};K?(S.current=Q,$S(fxe,d,oe,{discrete:!1})):Q6(Q,g.swipeDirection,X)?(S.current=Q,$S(dxe,u,oe,{discrete:!1}),L.target.setPointerCapture(L.pointerId)):(Math.abs(V)>X||Math.abs(z)>X)&&(_.current=null)}),onPointerUp:vt(t.onPointerUp,L=>{const V=S.current,z=L.target;if(z.hasPointerCapture(L.pointerId)&&z.releasePointerCapture(L.pointerId),S.current=null,_.current=null,V){const K=L.currentTarget,j={originalEvent:L,delta:V};Q6(V,g.swipeDirection,g.swipeThreshold)?$S(pxe,h,j,{discrete:!0}):$S(hxe,f,j,{discrete:!0}),K.addEventListener("click",U=>U.preventDefault(),{once:!0})}})})})}),g.viewport)})]}):null}),yxe=t=>{const{__scopeToast:e,children:n,...r}=t,i=VC(B1,e),[s,a]=T.useState(!1),[o,l]=T.useState(!1);return wxe(()=>a(!0)),T.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),o?null:p.jsx(U1,{asChild:!0,children:p.jsx(zC,{...r,children:s&&p.jsxs(p.Fragment,{children:[i.label," ",n]})})})},xxe="ToastTitle",_ee=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Lt.div,{...r,ref:e})});_ee.displayName=xxe;var bxe="ToastDescription",See=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return p.jsx(Lt.div,{...r,ref:e})});See.displayName=bxe;var Eee="ToastAction",Tee=T.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?p.jsx(Mee,{altText:n,asChild:!0,children:p.jsx(i4,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${Eee}\`. Expected non-empty \`string\`.`),null)});Tee.displayName=Eee;var Aee="ToastClose",i4=T.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=gxe(Aee,n);return p.jsx(Mee,{asChild:!0,children:p.jsx(Lt.button,{type:"button",...r,ref:e,onClick:vt(t.onClick,i.onClose)})})});i4.displayName=Aee;var Mee=T.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return p.jsx(Lt.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function Cee(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_xe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&e.push(a)}else e.push(...Cee(r))}}),e}function $S(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?t4(i,s):i.dispatchEvent(s)}var Q6=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function wxe(t=()=>{}){const e=fi(t);Mi(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _xe(t){return t.nodeType===t.ELEMENT_NODE}function Sxe(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function XN(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var Exe=vee,Pee=xee,Ree=wee,Oee=_ee,Nee=See,Iee=Tee,kee=i4;function Dee(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=Dee(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Mn(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=Dee(t))&&(r&&(r+=" "),r+=e);return r}const e$=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,t$=Mn,K0=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return t$(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,a=Object.keys(i).map(c=>{const u=n==null?void 0:n[c],d=s==null?void 0:s[c];if(u===null)return null;const f=e$(u)||e$(d);return i[c][f]}),o=n&&Object.entries(n).reduce((c,u)=>{let[d,f]=u;return f===void 0||(c[d]=f),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,u)=>{let{class:d,className:f,...h}=u;return Object.entries(h).every(m=>{let[g,v]=m;return Array.isArray(v)?v.includes({...s,...o}[g]):{...s,...o}[g]===v})?[...c,d,f]:c},[]);return t$(t,a,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Txe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Lee=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Axe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mxe=T.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>T.createElement("svg",{ref:l,...Axe,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:Lee("lucide",i),...o},[...a.map(([c,u])=>T.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=(t,e)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(Mxe,{ref:s,iconNode:e,className:Lee(`lucide-${Txe(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ND=jt("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $C=jt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=jt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qN=jt("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=jt("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cxe=jt("Bookmark",[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lf=jt("Box",[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pxe=jt("Brain",[["path",{d:"M12 5a3 3 0 1 0-5.997.125 4 4 0 0 0-2.526 5.77 4 4 0 0 0 .556 6.588A4 4 0 1 0 12 18Z",key:"l5xja"}],["path",{d:"M12 5a3 3 0 1 1 5.997.125 4 4 0 0 1 2.526 5.77 4 4 0 0 1-.556 6.588A4 4 0 1 1 12 18Z",key:"ep3f8r"}],["path",{d:"M15 13a4.5 4.5 0 0 1-3-4 4.5 4.5 0 0 1-3 4",key:"1p4c4q"}],["path",{d:"M17.599 6.5a3 3 0 0 0 .399-1.375",key:"tmeiqw"}],["path",{d:"M6.003 5.125A3 3 0 0 0 6.401 6.5",key:"105sqy"}],["path",{d:"M3.477 10.896a4 4 0 0 1 .585-.396",key:"ql3yin"}],["path",{d:"M19.938 10.5a4 4 0 0 1 .585.396",key:"1qfode"}],["path",{d:"M6 18a4 4 0 0 1-1.967-.516",key:"2e4loj"}],["path",{d:"M19.967 17.484A4 4 0 0 1 18 18",key:"159ez6"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rxe=jt("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=jt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const s4=jt("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jee=jt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fee=jt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oxe=jt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ID=jt("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=jt("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nxe=jt("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ixe=jt("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=jt("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=jt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kD=jt("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mw=jt("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kxe=jt("Footprints",[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dxe=jt("Glasses",[["circle",{cx:"6",cy:"15",r:"4",key:"vux9w4"}],["circle",{cx:"18",cy:"15",r:"4",key:"18o8ve"}],["path",{d:"M14 15a2 2 0 0 0-2-2 2 2 0 0 0-2 2",key:"1ag4bs"}],["path",{d:"M2.5 13 5 7c.7-1.3 1.4-2 3-2",key:"1hm1gs"}],["path",{d:"M21.5 13 19 7c-.7-1.3-1.5-2-3-2",key:"1r31ai"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uee=jt("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lxe=jt("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jxe=jt("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fxe=jt("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XT=jt("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uxe=jt("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bxe=jt("Languages",[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zxe=jt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vxe=jt("LockOpen",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=jt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $xe=jt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DD=jt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hxe=jt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gxe=jt("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bee=jt("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wxe=jt("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xxe=jt("MonitorPlay",[["path",{d:"M10 7.75a.75.75 0 0 1 1.142-.638l3.664 2.249a.75.75 0 0 1 0 1.278l-3.664 2.25a.75.75 0 0 1-1.142-.64z",key:"1pctta"}],["path",{d:"M12 17v4",key:"1riwvh"}],["path",{d:"M8 21h8",key:"1ev6f3"}],["rect",{x:"2",y:"3",width:"20",height:"14",rx:"2",key:"x3v2xh"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qxe=jt("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n$=jt("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kxe=jt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yxe=jt("Play",[["polygon",{points:"6 3 20 12 6 21 6 3",key:"1oa8hb"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zee=jt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a4=jt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zxe=jt("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vee=jt("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jxe=jt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ee=jt("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qxe=jt("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hee=jt("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gee=jt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wee=jt("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ebe=jt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tbe=jt("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qT=jt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pd=jt("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xee=jt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=jt("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wv=jt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=jt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=jt("Volume2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nbe=jt("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=jt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xv=jt("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]]),o4="-",rbe=t=>{const e=sbe(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:a=>{const o=a.split(o4);return o[0]===""&&o.length!==1&&o.shift(),qee(o,e)||ibe(a)},getConflictingClassGroupIds:(a,o)=>{const l=n[a]||[];return o&&r[a]?[...l,...r[a]]:l}}},qee=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?qee(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(o4);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},r$=/^\[(.+)\]$/,ibe=t=>{if(r$.test(t)){const e=r$.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},sbe=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return obe(Object.entries(t.classGroups),n).forEach(([s,a])=>{LD(a,r,s,e)}),r},LD=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:i$(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(abe(i)){LD(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{LD(a,i$(e,s),n,r)})})},i$=(t,e)=>{let n=t;return e.split(o4).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},abe=t=>t.isThemeGetter,obe=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[n,i]}):t,lbe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},Kee="!",cbe=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let c=0,u=0,d;for(let v=0;v<o.length;v++){let y=o[v];if(c===0){if(y===i&&(r||o.slice(v,v+s)===e)){l.push(o.slice(u,v)),u=v+s;continue}if(y==="/"){d=v;continue}}y==="["?c++:y==="]"&&c--}const f=l.length===0?o:o.substring(u),h=f.startsWith(Kee),m=h?f.substring(1):f,g=d&&d>u?d-u:void 0;return{modifiers:l,hasImportantModifier:h,baseClassName:m,maybePostfixModifierPosition:g}};return n?o=>n({className:o,parseClassName:a}):a},ube=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},dbe=t=>({cache:lbe(t.cacheSize),parseClassName:cbe(t),...rbe(t)}),fbe=/\s+/,hbe=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(fbe);let o="";for(let l=a.length-1;l>=0;l-=1){const c=a[l],{modifiers:u,hasImportantModifier:d,baseClassName:f,maybePostfixModifierPosition:h}=n(c);let m=!!h,g=r(m?f.substring(0,h):f);if(!g){if(!m){o=c+(o.length>0?" "+o:o);continue}if(g=r(f),!g){o=c+(o.length>0?" "+o:o);continue}m=!1}const v=ube(u).join(":"),y=d?v+Kee:v,w=y+g;if(s.includes(w))continue;s.push(w);const _=i(g,m);for(let S=0;S<_.length;++S){const E=_[S];s.push(y+E)}o=c+(o.length>0?" "+o:o)}return o};function pbe(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=Yee(e))&&(r&&(r+=" "),r+=n);return r}const Yee=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=Yee(t[r]))&&(n&&(n+=" "),n+=e);return n};function mbe(t,...e){let n,r,i,s=a;function a(l){const c=e.reduce((u,d)=>d(u),t());return n=dbe(c),r=n.cache.get,i=n.cache.set,s=o,o(l)}function o(l){const c=r(l);if(c)return c;const u=hbe(l,n);return i(l,u),u}return function(){return s(pbe.apply(null,arguments))}}const Dr=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},Zee=/^\[(?:([a-z-]+):)?(.+)\]$/i,gbe=/^\d+\/\d+$/,vbe=new Set(["px","full","screen"]),ybe=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,xbe=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,bbe=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,wbe=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,_be=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,eu=t=>gv(t)||vbe.has(t)||gbe.test(t),fd=t=>Z0(t,"length",Rbe),gv=t=>!!t&&!Number.isNaN(Number(t)),KN=t=>Z0(t,"number",gv),dx=t=>!!t&&Number.isInteger(Number(t)),Sbe=t=>t.endsWith("%")&&gv(t.slice(0,-1)),In=t=>Zee.test(t),hd=t=>ybe.test(t),Ebe=new Set(["length","size","percentage"]),Tbe=t=>Z0(t,Ebe,Jee),Abe=t=>Z0(t,"position",Jee),Mbe=new Set(["image","url"]),Cbe=t=>Z0(t,Mbe,Nbe),Pbe=t=>Z0(t,"",Obe),fx=()=>!0,Z0=(t,e,n)=>{const r=Zee.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},Rbe=t=>xbe.test(t)&&!bbe.test(t),Jee=()=>!1,Obe=t=>wbe.test(t),Nbe=t=>_be.test(t),Ibe=()=>{const t=Dr("colors"),e=Dr("spacing"),n=Dr("blur"),r=Dr("brightness"),i=Dr("borderColor"),s=Dr("borderRadius"),a=Dr("borderSpacing"),o=Dr("borderWidth"),l=Dr("contrast"),c=Dr("grayscale"),u=Dr("hueRotate"),d=Dr("invert"),f=Dr("gap"),h=Dr("gradientColorStops"),m=Dr("gradientColorStopPositions"),g=Dr("inset"),v=Dr("margin"),y=Dr("opacity"),w=Dr("padding"),_=Dr("saturate"),S=Dr("scale"),E=Dr("sepia"),A=Dr("skew"),M=Dr("space"),R=Dr("translate"),P=()=>["auto","contain","none"],O=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto",In,e],I=()=>[In,e],F=()=>["",eu,fd],L=()=>["auto",gv,In],V=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],z=()=>["solid","dashed","dotted","double","none"],K=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],j=()=>["start","end","center","between","around","evenly","stretch"],U=()=>["","0",In],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],G=()=>[gv,In];return{cacheSize:500,separator:":",theme:{colors:[fx],spacing:[eu,fd],blur:["none","",hd,In],brightness:G(),borderColor:[t],borderRadius:["none","","full",hd,In],borderSpacing:I(),borderWidth:F(),contrast:G(),grayscale:U(),hueRotate:G(),invert:U(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[Sbe,fd],inset:k(),margin:k(),opacity:G(),padding:I(),saturate:G(),scale:G(),sepia:U(),skew:G(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",In]}],container:["container"],columns:[{columns:[hd]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...V(),In]}],overflow:[{overflow:O()}],"overflow-x":[{"overflow-x":O()}],"overflow-y":[{"overflow-y":O()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",dx,In]}],basis:[{basis:k()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",In]}],grow:[{grow:U()}],shrink:[{shrink:U()}],order:[{order:["first","last","none",dx,In]}],"grid-cols":[{"grid-cols":[fx]}],"col-start-end":[{col:["auto",{span:["full",dx,In]},In]}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":[fx]}],"row-start-end":[{row:["auto",{span:[dx,In]},In]}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",In]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",In]}],gap:[{gap:[f]}],"gap-x":[{"gap-x":[f]}],"gap-y":[{"gap-y":[f]}],"justify-content":[{justify:["normal",...j()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...j(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...j(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[v]}],mx:[{mx:[v]}],my:[{my:[v]}],ms:[{ms:[v]}],me:[{me:[v]}],mt:[{mt:[v]}],mr:[{mr:[v]}],mb:[{mb:[v]}],ml:[{ml:[v]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",In,e]}],"min-w":[{"min-w":[In,e,"min","max","fit"]}],"max-w":[{"max-w":[In,e,"none","full","min","max","fit","prose",{screen:[hd]},hd]}],h:[{h:[In,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[In,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[In,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[In,e,"auto","min","max","fit"]}],"font-size":[{text:["base",hd,fd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",KN]}],"font-family":[{font:[fx]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",In]}],"line-clamp":[{"line-clamp":["none",gv,KN]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",eu,In]}],"list-image":[{"list-image":["none",In]}],"list-style-type":[{list:["none","disc","decimal",In]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...z(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",eu,fd]}],"underline-offset":[{"underline-offset":["auto",eu,In]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",In]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",In]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...V(),Abe]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Tbe]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Cbe]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[m]}],"gradient-via-pos":[{via:[m]}],"gradient-to-pos":[{to:[m]}],"gradient-from":[{from:[h]}],"gradient-via":[{via:[h]}],"gradient-to":[{to:[h]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[...z(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:z()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...z()]}],"outline-offset":[{"outline-offset":[eu,In]}],"outline-w":[{outline:[eu,fd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[eu,fd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",hd,Pbe]}],"shadow-color":[{shadow:[fx]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":[...K(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":K()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",hd,In]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[u]}],invert:[{invert:[d]}],saturate:[{saturate:[_]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[u]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",In]}],duration:[{duration:G()}],ease:[{ease:["linear","in","out","in-out",In]}],delay:[{delay:G()}],animate:[{animate:["none","spin","ping","pulse","bounce",In]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[S]}],"scale-x":[{"scale-x":[S]}],"scale-y":[{"scale-y":[S]}],rotate:[{rotate:[dx,In]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[A]}],"skew-y":[{"skew-y":[A]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",In]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",In]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",In]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[eu,fd,KN]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},kbe=mbe(Ibe);function ht(...t){return kbe(Mn(t))}const Dbe=Exe,Qee=T.forwardRef(({className:t,...e},n)=>p.jsx(Pee,{ref:n,className:ht("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));Qee.displayName=Pee.displayName;const Lbe=K0("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ete=T.forwardRef(({className:t,variant:e,...n},r)=>p.jsx(Ree,{ref:r,className:ht(Lbe({variant:e}),t),...n}));ete.displayName=Ree.displayName;const jbe=T.forwardRef(({className:t,...e},n)=>p.jsx(Iee,{ref:n,className:ht("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));jbe.displayName=Iee.displayName;const tte=T.forwardRef(({className:t,...e},n)=>p.jsx(kee,{ref:n,className:ht("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:p.jsx(Y0,{className:"h-4 w-4"})}));tte.displayName=kee.displayName;const nte=T.forwardRef(({className:t,...e},n)=>p.jsx(Oee,{ref:n,className:ht("text-sm font-semibold",t),...e}));nte.displayName=Oee.displayName;const rte=T.forwardRef(({className:t,...e},n)=>p.jsx(Nee,{ref:n,className:ht("text-sm opacity-90",t),...e}));rte.displayName=Nee.displayName;function Fbe(){const{toasts:t}=uee();return p.jsxs(Dbe,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return p.jsxs(ete,{...s,children:[p.jsxs("div",{className:"grid gap-1",children:[n&&p.jsx(nte,{children:n}),r&&p.jsx(rte,{children:r})]}),i,p.jsx(tte,{})]},e)}),p.jsx(Qee,{})]})}const Ube={theme:"system",setTheme:()=>null},ite=T.createContext(Ube);function Bbe({children:t,defaultTheme:e="system",storageKey:n="vite-ui-theme",...r}){const[i,s]=T.useState(()=>localStorage.getItem(n)||e);T.useEffect(()=>{const o=window.document.documentElement;if(o.classList.remove("light","dark"),i==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";o.classList.add(l);return}o.classList.add(i)},[i]);const a={theme:i,setTheme:o=>{localStorage.setItem(n,o),s(o)}};return p.jsx(ite.Provider,{...r,value:a,children:t})}const ste=()=>{const t=T.useContext(ite);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};var zbe=t=>{switch(t){case"success":return Hbe;case"info":return Wbe;case"warning":return Gbe;case"error":return Xbe;default:return null}},Vbe=Array(12).fill(0),$be=({visible:t,className:e})=>ie.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ie.createElement("div",{className:"sonner-spinner"},Vbe.map((n,r)=>ie.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Hbe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Gbe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Wbe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),Xbe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ie.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),qbe=ie.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ie.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ie.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Kbe=()=>{let[t,e]=ie.useState(document.hidden);return ie.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},jD=1,Ybe=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,i=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:jD++,s=this.toasts.find(o=>o.id===i),a=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),s?this.toasts=this.toasts.map(o=>o.id===i?(this.publish({...o,...t,id:i,title:n}),{...o,...t,id:i,dismissible:a,title:n}):o):this.addToast({title:n,...r,dismissible:a,id:i}),i},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),i=n!==void 0,s,a=r.then(async l=>{if(s=["resolve",l],ie.isValidElement(l))i=!1,this.create({id:n,type:"default",message:l});else if(Jbe(l)&&!l.ok){i=!1;let c=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,u=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:c,description:u})}else if(e.success!==void 0){i=!1;let c=typeof e.success=="function"?await e.success(l):e.success,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:c,description:u})}}).catch(async l=>{if(s=["reject",l],e.error!==void 0){i=!1;let c=typeof e.error=="function"?await e.error(l):e.error,u=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:c,description:u})}}).finally(()=>{var l;i&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),o=()=>new Promise((l,c)=>a.then(()=>s[0]==="reject"?c(s[1]):l(s[1])).catch(c));return typeof n!="string"&&typeof n!="number"?{unwrap:o}:Object.assign(n,{unwrap:o})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||jD++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},La=new Ybe,Zbe=(t,e)=>{let n=(e==null?void 0:e.id)||jD++;return La.addToast({title:t,...e,id:n}),n},Jbe=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Qbe=Zbe,ewe=()=>La.toasts,twe=()=>La.getActiveToasts(),ua=Object.assign(Qbe,{success:La.success,info:La.info,warning:La.warning,error:La.error,custom:La.custom,message:La.message,promise:La.promise,dismiss:La.dismiss,loading:La.loading},{getHistory:ewe,getToasts:twe});function nwe(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}nwe(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function HS(t){return t.label!==void 0}var rwe=3,iwe="32px",swe="16px",s$=4e3,awe=356,owe=14,lwe=20,cwe=200;function vl(...t){return t.filter(Boolean).join(" ")}function uwe(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var dwe=t=>{var e,n,r,i,s,a,o,l,c,u,d;let{invert:f,toast:h,unstyled:m,interacting:g,setHeights:v,visibleToasts:y,heights:w,index:_,toasts:S,expanded:E,removeToast:A,defaultRichColors:M,closeButton:R,style:P,cancelButtonStyle:O,actionButtonStyle:k,className:I="",descriptionClassName:F="",duration:L,position:V,gap:z,loadingIcon:K,expandByDefault:j,classNames:U,icons:$,closeButtonAriaLabel:G="Close toast",pauseWhenPageIsHidden:X}=t,[Q,oe]=ie.useState(null),[de,ae]=ie.useState(null),[ne,ve]=ie.useState(!1),[ge,_e]=ie.useState(!1),[ye,ce]=ie.useState(!1),[De,Ee]=ie.useState(!1),[Z,Me]=ie.useState(!1),[Oe,Ce]=ie.useState(0),[Ne,ee]=ie.useState(0),te=ie.useRef(h.duration||L||s$),me=ie.useRef(null),W=ie.useRef(null),B=_===0,re=_+1<=y,xe=h.type,Te=h.dismissible!==!1,we=h.className||"",Ke=h.descriptionClassName||"",Xe=ie.useMemo(()=>w.findIndex($e=>$e.toastId===h.id)||0,[w,h.id]),dt=ie.useMemo(()=>{var $e;return($e=h.closeButton)!=null?$e:R},[h.closeButton,R]),pt=ie.useMemo(()=>h.duration||L||s$,[h.duration,L]),Le=ie.useRef(0),Be=ie.useRef(0),nt=ie.useRef(0),he=ie.useRef(null),[Pe,Ye]=V.split("-"),ue=ie.useMemo(()=>w.reduce(($e,rt,lt)=>lt>=Xe?$e:$e+rt.height,0),[w,Xe]),Ae=Kbe(),Ze=h.invert||f,at=xe==="loading";Be.current=ie.useMemo(()=>Xe*z+ue,[Xe,ue]),ie.useEffect(()=>{te.current=pt},[pt]),ie.useEffect(()=>{ve(!0)},[]),ie.useEffect(()=>{let $e=W.current;if($e){let rt=$e.getBoundingClientRect().height;return ee(rt),v(lt=>[{toastId:h.id,height:rt,position:h.position},...lt]),()=>v(lt=>lt.filter(Mt=>Mt.toastId!==h.id))}},[v,h.id]),ie.useLayoutEffect(()=>{if(!ne)return;let $e=W.current,rt=$e.style.height;$e.style.height="auto";let lt=$e.getBoundingClientRect().height;$e.style.height=rt,ee(lt),v(Mt=>Mt.find(ln=>ln.toastId===h.id)?Mt.map(ln=>ln.toastId===h.id?{...ln,height:lt}:ln):[{toastId:h.id,height:lt,position:h.position},...Mt])},[ne,h.title,h.description,v,h.id]);let qe=ie.useCallback(()=>{_e(!0),Ce(Be.current),v($e=>$e.filter(rt=>rt.toastId!==h.id)),setTimeout(()=>{A(h)},cwe)},[h,A,v,Be]);ie.useEffect(()=>{if(h.promise&&xe==="loading"||h.duration===1/0||h.type==="loading")return;let $e;return E||g||X&&Ae?(()=>{if(nt.current<Le.current){let rt=new Date().getTime()-Le.current;te.current=te.current-rt}nt.current=new Date().getTime()})():te.current!==1/0&&(Le.current=new Date().getTime(),$e=setTimeout(()=>{var rt;(rt=h.onAutoClose)==null||rt.call(h,h),qe()},te.current)),()=>clearTimeout($e)},[E,g,h,xe,X,Ae,qe]),ie.useEffect(()=>{h.delete&&qe()},[qe,h.delete]);function je(){var $e,rt,lt;return $!=null&&$.loading?ie.createElement("div",{className:vl(U==null?void 0:U.loader,($e=h==null?void 0:h.classNames)==null?void 0:$e.loader,"sonner-loader"),"data-visible":xe==="loading"},$.loading):K?ie.createElement("div",{className:vl(U==null?void 0:U.loader,(rt=h==null?void 0:h.classNames)==null?void 0:rt.loader,"sonner-loader"),"data-visible":xe==="loading"},K):ie.createElement($be,{className:vl(U==null?void 0:U.loader,(lt=h==null?void 0:h.classNames)==null?void 0:lt.loader),visible:xe==="loading"})}return ie.createElement("li",{tabIndex:0,ref:W,className:vl(I,we,U==null?void 0:U.toast,(e=h==null?void 0:h.classNames)==null?void 0:e.toast,U==null?void 0:U.default,U==null?void 0:U[xe],(n=h==null?void 0:h.classNames)==null?void 0:n[xe]),"data-sonner-toast":"","data-rich-colors":(r=h.richColors)!=null?r:M,"data-styled":!(h.jsx||h.unstyled||m),"data-mounted":ne,"data-promise":!!h.promise,"data-swiped":Z,"data-removed":ge,"data-visible":re,"data-y-position":Pe,"data-x-position":Ye,"data-index":_,"data-front":B,"data-swiping":ye,"data-dismissible":Te,"data-type":xe,"data-invert":Ze,"data-swipe-out":De,"data-swipe-direction":de,"data-expanded":!!(E||j&&ne),style:{"--index":_,"--toasts-before":_,"--z-index":S.length-_,"--offset":`${ge?Oe:Be.current}px`,"--initial-height":j?"auto":`${Ne}px`,...P,...h.style},onDragEnd:()=>{ce(!1),oe(null),he.current=null},onPointerDown:$e=>{at||!Te||(me.current=new Date,Ce(Be.current),$e.target.setPointerCapture($e.pointerId),$e.target.tagName!=="BUTTON"&&(ce(!0),he.current={x:$e.clientX,y:$e.clientY}))},onPointerUp:()=>{var $e,rt,lt,Mt;if(De||!Te)return;he.current=null;let ln=Number((($e=W.current)==null?void 0:$e.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gn=Number(((rt=W.current)==null?void 0:rt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zn=new Date().getTime()-((lt=me.current)==null?void 0:lt.getTime()),ur=Q==="x"?ln:gn,yr=Math.abs(ur)/Zn;if(Math.abs(ur)>=lwe||yr>.11){Ce(Be.current),(Mt=h.onDismiss)==null||Mt.call(h,h),ae(Q==="x"?ln>0?"right":"left":gn>0?"down":"up"),qe(),Ee(!0),Me(!1);return}ce(!1),oe(null)},onPointerMove:$e=>{var rt,lt,Mt,ln;if(!he.current||!Te||((rt=window.getSelection())==null?void 0:rt.toString().length)>0)return;let gn=$e.clientY-he.current.y,Zn=$e.clientX-he.current.x,ur=(lt=t.swipeDirections)!=null?lt:uwe(V);!Q&&(Math.abs(Zn)>1||Math.abs(gn)>1)&&oe(Math.abs(Zn)>Math.abs(gn)?"x":"y");let yr={x:0,y:0};Q==="y"?(ur.includes("top")||ur.includes("bottom"))&&(ur.includes("top")&&gn<0||ur.includes("bottom")&&gn>0)&&(yr.y=gn):Q==="x"&&(ur.includes("left")||ur.includes("right"))&&(ur.includes("left")&&Zn<0||ur.includes("right")&&Zn>0)&&(yr.x=Zn),(Math.abs(yr.x)>0||Math.abs(yr.y)>0)&&Me(!0),(Mt=W.current)==null||Mt.style.setProperty("--swipe-amount-x",`${yr.x}px`),(ln=W.current)==null||ln.style.setProperty("--swipe-amount-y",`${yr.y}px`)}},dt&&!h.jsx?ie.createElement("button",{"aria-label":G,"data-disabled":at,"data-close-button":!0,onClick:at||!Te?()=>{}:()=>{var $e;qe(),($e=h.onDismiss)==null||$e.call(h,h)},className:vl(U==null?void 0:U.closeButton,(i=h==null?void 0:h.classNames)==null?void 0:i.closeButton)},(s=$==null?void 0:$.close)!=null?s:qbe):null,h.jsx||T.isValidElement(h.title)?h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title:ie.createElement(ie.Fragment,null,xe||h.icon||h.promise?ie.createElement("div",{"data-icon":"",className:vl(U==null?void 0:U.icon,(a=h==null?void 0:h.classNames)==null?void 0:a.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||je():null,h.type!=="loading"?h.icon||($==null?void 0:$[xe])||zbe(xe):null):null,ie.createElement("div",{"data-content":"",className:vl(U==null?void 0:U.content,(o=h==null?void 0:h.classNames)==null?void 0:o.content)},ie.createElement("div",{"data-title":"",className:vl(U==null?void 0:U.title,(l=h==null?void 0:h.classNames)==null?void 0:l.title)},typeof h.title=="function"?h.title():h.title),h.description?ie.createElement("div",{"data-description":"",className:vl(F,Ke,U==null?void 0:U.description,(c=h==null?void 0:h.classNames)==null?void 0:c.description)},typeof h.description=="function"?h.description():h.description):null),T.isValidElement(h.cancel)?h.cancel:h.cancel&&HS(h.cancel)?ie.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||O,onClick:$e=>{var rt,lt;HS(h.cancel)&&Te&&((lt=(rt=h.cancel).onClick)==null||lt.call(rt,$e),qe())},className:vl(U==null?void 0:U.cancelButton,(u=h==null?void 0:h.classNames)==null?void 0:u.cancelButton)},h.cancel.label):null,T.isValidElement(h.action)?h.action:h.action&&HS(h.action)?ie.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||k,onClick:$e=>{var rt,lt;HS(h.action)&&((lt=(rt=h.action).onClick)==null||lt.call(rt,$e),!$e.defaultPrevented&&qe())},className:vl(U==null?void 0:U.actionButton,(d=h==null?void 0:h.classNames)==null?void 0:d.actionButton)},h.action.label):null))};function a$(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function fwe(t,e){let n={};return[t,e].forEach((r,i)=>{let s=i===1,a=s?"--mobile-offset":"--offset",o=s?swe:iwe;function l(c){["top","right","bottom","left"].forEach(u=>{n[`${a}-${u}`]=typeof c=="number"?`${c}px`:c})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(c=>{r[c]===void 0?n[`${a}-${c}`]=o:n[`${a}-${c}`]=typeof r[c]=="number"?`${r[c]}px`:r[c]}):l(o)}),n}var hwe=T.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:i=["altKey","KeyT"],expand:s,closeButton:a,className:o,offset:l,mobileOffset:c,theme:u="light",richColors:d,duration:f,style:h,visibleToasts:m=rwe,toastOptions:g,dir:v=a$(),gap:y=owe,loadingIcon:w,icons:_,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:E}=t,[A,M]=ie.useState([]),R=ie.useMemo(()=>Array.from(new Set([r].concat(A.filter(X=>X.position).map(X=>X.position)))),[A,r]),[P,O]=ie.useState([]),[k,I]=ie.useState(!1),[F,L]=ie.useState(!1),[V,z]=ie.useState(u!=="system"?u:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ie.useRef(null),j=i.join("+").replace(/Key/g,"").replace(/Digit/g,""),U=ie.useRef(null),$=ie.useRef(!1),G=ie.useCallback(X=>{M(Q=>{var oe;return(oe=Q.find(de=>de.id===X.id))!=null&&oe.delete||La.dismiss(X.id),Q.filter(({id:de})=>de!==X.id)})},[]);return ie.useEffect(()=>La.subscribe(X=>{if(X.dismiss){M(Q=>Q.map(oe=>oe.id===X.id?{...oe,delete:!0}:oe));return}setTimeout(()=>{cee.flushSync(()=>{M(Q=>{let oe=Q.findIndex(de=>de.id===X.id);return oe!==-1?[...Q.slice(0,oe),{...Q[oe],...X},...Q.slice(oe+1)]:[X,...Q]})})})}),[]),ie.useEffect(()=>{if(u!=="system"){z(u);return}if(u==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?z("dark"):z("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:Q})=>{z(Q?"dark":"light")})}catch{X.addListener(({matches:oe})=>{try{z(oe?"dark":"light")}catch(de){console.error(de)}})}},[u]),ie.useEffect(()=>{A.length<=1&&I(!1)},[A]),ie.useEffect(()=>{let X=Q=>{var oe,de;i.every(ae=>Q[ae]||Q.code===ae)&&(I(!0),(oe=K.current)==null||oe.focus()),Q.code==="Escape"&&(document.activeElement===K.current||(de=K.current)!=null&&de.contains(document.activeElement))&&I(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[i]),ie.useEffect(()=>{if(K.current)return()=>{U.current&&(U.current.focus({preventScroll:!0}),U.current=null,$.current=!1)}},[K.current]),ie.createElement("section",{ref:e,"aria-label":`${S} ${j}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((X,Q)=>{var oe;let[de,ae]=X.split("-");return A.length?ie.createElement("ol",{key:X,dir:v==="auto"?a$():v,tabIndex:-1,ref:K,className:o,"data-sonner-toaster":!0,"data-theme":V,"data-y-position":de,"data-lifted":k&&A.length>1&&!s,"data-x-position":ae,style:{"--front-toast-height":`${((oe=P[0])==null?void 0:oe.height)||0}px`,"--width":`${awe}px`,"--gap":`${y}px`,...h,...fwe(l,c)},onBlur:ne=>{$.current&&!ne.currentTarget.contains(ne.relatedTarget)&&($.current=!1,U.current&&(U.current.focus({preventScroll:!0}),U.current=null))},onFocus:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||$.current||($.current=!0,U.current=ne.relatedTarget)},onMouseEnter:()=>I(!0),onMouseMove:()=>I(!0),onMouseLeave:()=>{F||I(!1)},onDragEnd:()=>I(!1),onPointerDown:ne=>{ne.target instanceof HTMLElement&&ne.target.dataset.dismissible==="false"||L(!0)},onPointerUp:()=>L(!1)},A.filter(ne=>!ne.position&&Q===0||ne.position===X).map((ne,ve)=>{var ge,_e;return ie.createElement(dwe,{key:ne.id,icons:_,index:ve,toast:ne,defaultRichColors:d,duration:(ge=g==null?void 0:g.duration)!=null?ge:f,className:g==null?void 0:g.className,descriptionClassName:g==null?void 0:g.descriptionClassName,invert:n,visibleToasts:m,closeButton:(_e=g==null?void 0:g.closeButton)!=null?_e:a,interacting:F,position:X,style:g==null?void 0:g.style,unstyled:g==null?void 0:g.unstyled,classNames:g==null?void 0:g.classNames,cancelButtonStyle:g==null?void 0:g.cancelButtonStyle,actionButtonStyle:g==null?void 0:g.actionButtonStyle,removeToast:G,toasts:A.filter(ye=>ye.position==ne.position),heights:P.filter(ye=>ye.position==ne.position),setHeights:O,expandByDefault:s,gap:y,loadingIcon:w,expanded:k,pauseWhenPageIsHidden:E,swipeDirections:t.swipeDirections})})):null}))});const pwe=({...t})=>{const{theme:e}=ste();return p.jsx(hwe,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var mwe=uU[" useId ".trim().toString()]||(()=>{}),gwe=0;function Hl(t){const[e,n]=T.useState(mwe());return Mi(()=>{n(r=>r??String(gwe++))},[t]),e?`radix-${e}`:""}const vwe=["top","right","bottom","left"],xf=Math.min,uo=Math.max,VA=Math.round,GS=Math.floor,Mc=t=>({x:t,y:t}),ywe={left:"right",right:"left",bottom:"top",top:"bottom"},xwe={start:"end",end:"start"};function FD(t,e,n){return uo(t,xf(e,n))}function ju(t,e){return typeof t=="function"?t(e):t}function Fu(t){return t.split("-")[0]}function J0(t){return t.split("-")[1]}function l4(t){return t==="x"?"y":"x"}function c4(t){return t==="y"?"height":"width"}const bwe=new Set(["top","bottom"]);function yc(t){return bwe.has(Fu(t))?"y":"x"}function u4(t){return l4(yc(t))}function wwe(t,e,n){n===void 0&&(n=!1);const r=J0(t),i=u4(t),s=c4(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=$A(a)),[a,$A(a)]}function _we(t){const e=$A(t);return[UD(t),e,UD(e)]}function UD(t){return t.replace(/start|end/g,e=>xwe[e])}const o$=["left","right"],l$=["right","left"],Swe=["top","bottom"],Ewe=["bottom","top"];function Twe(t,e,n){switch(t){case"top":case"bottom":return n?e?l$:o$:e?o$:l$;case"left":case"right":return e?Swe:Ewe;default:return[]}}function Awe(t,e,n,r){const i=J0(t);let s=Twe(Fu(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(UD)))),s}function $A(t){return t.replace(/left|right|bottom|top/g,e=>ywe[e])}function Mwe(t){return{top:0,right:0,bottom:0,left:0,...t}}function ate(t){return typeof t!="number"?Mwe(t):{top:t,right:t,bottom:t,left:t}}function HA(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function c$(t,e,n){let{reference:r,floating:i}=t;const s=yc(e),a=u4(e),o=c4(a),l=Fu(e),c=s==="y",u=r.x+r.width/2-i.width/2,d=r.y+r.height/2-i.height/2,f=r[o]/2-i[o]/2;let h;switch(l){case"top":h={x:u,y:r.y-i.height};break;case"bottom":h={x:u,y:r.y+r.height};break;case"right":h={x:r.x+r.width,y:d};break;case"left":h={x:r.x-i.width,y:d};break;default:h={x:r.x,y:r.y}}switch(J0(e)){case"start":h[a]-=f*(n&&c?-1:1);break;case"end":h[a]+=f*(n&&c?-1:1);break}return h}const Cwe=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let c=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:u,y:d}=c$(c,r,l),f=r,h={},m=0;for(let g=0;g<o.length;g++){const{name:v,fn:y}=o[g],{x:w,y:_,data:S,reset:E}=await y({x:u,y:d,initialPlacement:r,placement:f,strategy:i,middlewareData:h,rects:c,platform:a,elements:{reference:t,floating:e}});u=w??u,d=_??d,h={...h,[v]:{...h[v],...S}},E&&m<=50&&(m++,typeof E=="object"&&(E.placement&&(f=E.placement),E.rects&&(c=E.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):E.rects),{x:u,y:d}=c$(c,f,l)),g=-1)}return{x:u,y:d,placement:f,strategy:i,middlewareData:h}};async function gw(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:u="viewport",elementContext:d="floating",altBoundary:f=!1,padding:h=0}=ju(e,t),m=ate(h),v=o[f?d==="floating"?"reference":"floating":d],y=HA(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(v)))==null||n?v:v.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:c,rootBoundary:u,strategy:l})),w=d==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),S=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},E=HA(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:_,strategy:l}):w);return{top:(y.top-E.top+m.top)/S.y,bottom:(E.bottom-y.bottom+m.bottom)/S.y,left:(y.left-E.left+m.left)/S.x,right:(E.right-y.right+m.right)/S.x}}const Pwe=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:l}=e,{element:c,padding:u=0}=ju(t,e)||{};if(c==null)return{};const d=ate(u),f={x:n,y:r},h=u4(i),m=c4(h),g=await a.getDimensions(c),v=h==="y",y=v?"top":"left",w=v?"bottom":"right",_=v?"clientHeight":"clientWidth",S=s.reference[m]+s.reference[h]-f[h]-s.floating[m],E=f[h]-s.reference[h],A=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c));let M=A?A[_]:0;(!M||!await(a.isElement==null?void 0:a.isElement(A)))&&(M=o.floating[_]||s.floating[m]);const R=S/2-E/2,P=M/2-g[m]/2-1,O=xf(d[y],P),k=xf(d[w],P),I=O,F=M-g[m]-k,L=M/2-g[m]/2+R,V=FD(I,L,F),z=!l.arrow&&J0(i)!=null&&L!==V&&s.reference[m]/2-(L<I?O:k)-g[m]/2<0,K=z?L<I?L-I:L-F:0;return{[h]:f[h]+K,data:{[h]:V,centerOffset:L-V-K,...z&&{alignmentOffset:K}},reset:z}}}),Rwe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:c}=e,{mainAxis:u=!0,crossAxis:d=!0,fallbackPlacements:f,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:m="none",flipAlignment:g=!0,...v}=ju(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const y=Fu(i),w=yc(o),_=Fu(o)===o,S=await(l.isRTL==null?void 0:l.isRTL(c.floating)),E=f||(_||!g?[$A(o)]:_we(o)),A=m!=="none";!f&&A&&E.push(...Awe(o,g,m,S));const M=[o,...E],R=await gw(e,v),P=[];let O=((r=s.flip)==null?void 0:r.overflows)||[];if(u&&P.push(R[y]),d){const L=wwe(i,a,S);P.push(R[L[0]],R[L[1]])}if(O=[...O,{placement:i,overflows:P}],!P.every(L=>L<=0)){var k,I;const L=(((k=s.flip)==null?void 0:k.index)||0)+1,V=M[L];if(V&&(!(d==="alignment"?w!==yc(V):!1)||O.every(j=>j.overflows[0]>0&&yc(j.placement)===w)))return{data:{index:L,overflows:O},reset:{placement:V}};let z=(I=O.filter(K=>K.overflows[0]<=0).sort((K,j)=>K.overflows[1]-j.overflows[1])[0])==null?void 0:I.placement;if(!z)switch(h){case"bestFit":{var F;const K=(F=O.filter(j=>{if(A){const U=yc(j.placement);return U===w||U==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(U=>U>0).reduce((U,$)=>U+$,0)]).sort((j,U)=>j[1]-U[1])[0])==null?void 0:F[0];K&&(z=K);break}case"initialPlacement":z=o;break}if(i!==z)return{reset:{placement:z}}}return{}}}};function u$(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function d$(t){return vwe.some(e=>t[e]>=0)}const Owe=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=ju(t,e);switch(r){case"referenceHidden":{const s=await gw(e,{...i,elementContext:"reference"}),a=u$(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:d$(a)}}}case"escaped":{const s=await gw(e,{...i,altBoundary:!0}),a=u$(s,n.floating);return{data:{escapedOffsets:a,escaped:d$(a)}}}default:return{}}}}},ote=new Set(["left","top"]);async function Nwe(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Fu(n),o=J0(n),l=yc(n)==="y",c=ote.has(a)?-1:1,u=s&&l?-1:1,d=ju(e,t);let{mainAxis:f,crossAxis:h,alignmentAxis:m}=typeof d=="number"?{mainAxis:d,crossAxis:0,alignmentAxis:null}:{mainAxis:d.mainAxis||0,crossAxis:d.crossAxis||0,alignmentAxis:d.alignmentAxis};return o&&typeof m=="number"&&(h=o==="end"?m*-1:m),l?{x:h*u,y:f*c}:{x:f*c,y:h*u}}const Iwe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Nwe(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},kwe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:v=>{let{x:y,y:w}=v;return{x:y,y:w}}},...l}=ju(t,e),c={x:n,y:r},u=await gw(e,l),d=yc(Fu(i)),f=l4(d);let h=c[f],m=c[d];if(s){const v=f==="y"?"top":"left",y=f==="y"?"bottom":"right",w=h+u[v],_=h-u[y];h=FD(w,h,_)}if(a){const v=d==="y"?"top":"left",y=d==="y"?"bottom":"right",w=m+u[v],_=m-u[y];m=FD(w,m,_)}const g=o.fn({...e,[f]:h,[d]:m});return{...g,data:{x:g.x-n,y:g.y-r,enabled:{[f]:s,[d]:a}}}}}},Dwe=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:l=!0,crossAxis:c=!0}=ju(t,e),u={x:n,y:r},d=yc(i),f=l4(d);let h=u[f],m=u[d];const g=ju(o,e),v=typeof g=="number"?{mainAxis:g,crossAxis:0}:{mainAxis:0,crossAxis:0,...g};if(l){const _=f==="y"?"height":"width",S=s.reference[f]-s.floating[_]+v.mainAxis,E=s.reference[f]+s.reference[_]-v.mainAxis;h<S?h=S:h>E&&(h=E)}if(c){var y,w;const _=f==="y"?"width":"height",S=ote.has(Fu(i)),E=s.reference[d]-s.floating[_]+(S&&((y=a.offset)==null?void 0:y[d])||0)+(S?0:v.crossAxis),A=s.reference[d]+s.reference[_]+(S?0:((w=a.offset)==null?void 0:w[d])||0)-(S?v.crossAxis:0);m<E?m=E:m>A&&(m=A)}return{[f]:h,[d]:m}}}},Lwe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...c}=ju(t,e),u=await gw(e,c),d=Fu(i),f=J0(i),h=yc(i)==="y",{width:m,height:g}=s.floating;let v,y;d==="top"||d==="bottom"?(v=d,y=f===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(y=d,v=f==="end"?"top":"bottom");const w=g-u.top-u.bottom,_=m-u.left-u.right,S=xf(g-u[v],w),E=xf(m-u[y],_),A=!e.middlewareData.shift;let M=S,R=E;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=_),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(M=w),A&&!f){const O=uo(u.left,0),k=uo(u.right,0),I=uo(u.top,0),F=uo(u.bottom,0);h?R=m-2*(O!==0||k!==0?O+k:uo(u.left,u.right)):M=g-2*(I!==0||F!==0?I+F:uo(u.top,u.bottom))}await l({...e,availableWidth:R,availableHeight:M});const P=await a.getDimensions(o.floating);return m!==P.width||g!==P.height?{reset:{rects:!0}}:{}}}};function HC(){return typeof window<"u"}function Q0(t){return lte(t)?(t.nodeName||"").toLowerCase():"#document"}function xo(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Vc(t){var e;return(e=(lte(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lte(t){return HC()?t instanceof Node||t instanceof xo(t).Node:!1}function ql(t){return HC()?t instanceof Element||t instanceof xo(t).Element:!1}function Dc(t){return HC()?t instanceof HTMLElement||t instanceof xo(t).HTMLElement:!1}function f$(t){return!HC()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xo(t).ShadowRoot}const jwe=new Set(["inline","contents"]);function z1(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Kl(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!jwe.has(i)}const Fwe=new Set(["table","td","th"]);function Uwe(t){return Fwe.has(Q0(t))}const Bwe=[":popover-open",":modal"];function GC(t){return Bwe.some(e=>{try{return t.matches(e)}catch{return!1}})}const zwe=["transform","translate","scale","rotate","perspective"],Vwe=["transform","translate","scale","rotate","perspective","filter"],$we=["paint","layout","strict","content"];function d4(t){const e=f4(),n=ql(t)?Kl(t):t;return zwe.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||Vwe.some(r=>(n.willChange||"").includes(r))||$we.some(r=>(n.contain||"").includes(r))}function Hwe(t){let e=bf(t);for(;Dc(e)&&!qv(e);){if(d4(e))return e;if(GC(e))return null;e=bf(e)}return null}function f4(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gwe=new Set(["html","body","#document"]);function qv(t){return Gwe.has(Q0(t))}function Kl(t){return xo(t).getComputedStyle(t)}function WC(t){return ql(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function bf(t){if(Q0(t)==="html")return t;const e=t.assignedSlot||t.parentNode||f$(t)&&t.host||Vc(t);return f$(e)?e.host:e}function cte(t){const e=bf(t);return qv(e)?t.ownerDocument?t.ownerDocument.body:t.body:Dc(e)&&z1(e)?e:cte(e)}function vw(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=cte(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=xo(i);if(s){const o=BD(a);return e.concat(a,a.visualViewport||[],z1(i)?i:[],o&&n?vw(o):[])}return e.concat(i,vw(i,[],n))}function BD(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function ute(t){const e=Kl(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Dc(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=VA(n)!==s||VA(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function h4(t){return ql(t)?t:t.contextElement}function vv(t){const e=h4(t);if(!Dc(e))return Mc(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=ute(e);let a=(s?VA(n.width):n.width)/r,o=(s?VA(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Wwe=Mc(0);function dte(t){const e=xo(t);return!f4()||!e.visualViewport?Wwe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Xwe(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==xo(t)?!1:e}function zp(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=h4(t);let a=Mc(1);e&&(r?ql(r)&&(a=vv(r)):a=vv(t));const o=Xwe(s,n,r)?dte(s):Mc(0);let l=(i.left+o.x)/a.x,c=(i.top+o.y)/a.y,u=i.width/a.x,d=i.height/a.y;if(s){const f=xo(s),h=r&&ql(r)?xo(r):r;let m=f,g=BD(m);for(;g&&r&&h!==m;){const v=vv(g),y=g.getBoundingClientRect(),w=Kl(g),_=y.left+(g.clientLeft+parseFloat(w.paddingLeft))*v.x,S=y.top+(g.clientTop+parseFloat(w.paddingTop))*v.y;l*=v.x,c*=v.y,u*=v.x,d*=v.y,l+=_,c+=S,m=xo(g),g=BD(m)}}return HA({width:u,height:d,x:l,y:c})}function p4(t,e){const n=WC(t).scrollLeft;return e?e.left+n:zp(Vc(t)).left+n}function fte(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:p4(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function qwe(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Vc(r),o=e?GC(e.floating):!1;if(r===a||o&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Mc(1);const u=Mc(0),d=Dc(r);if((d||!d&&!s)&&((Q0(r)!=="body"||z1(a))&&(l=WC(r)),Dc(r))){const h=zp(r);c=vv(r),u.x=h.x+r.clientLeft,u.y=h.y+r.clientTop}const f=a&&!d&&!s?fte(a,l,!0):Mc(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+u.x+f.x,y:n.y*c.y-l.scrollTop*c.y+u.y+f.y}}function Kwe(t){return Array.from(t.getClientRects())}function Ywe(t){const e=Vc(t),n=WC(t),r=t.ownerDocument.body,i=uo(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=uo(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+p4(t);const o=-n.scrollTop;return Kl(r).direction==="rtl"&&(a+=uo(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Zwe(t,e){const n=xo(t),r=Vc(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const c=f4();(!c||c&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}return{width:s,height:a,x:o,y:l}}const Jwe=new Set(["absolute","fixed"]);function Qwe(t,e){const n=zp(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Dc(t)?vv(t):Mc(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:a,height:o,x:l,y:c}}function h$(t,e,n){let r;if(e==="viewport")r=Zwe(t,n);else if(e==="document")r=Ywe(Vc(t));else if(ql(e))r=Qwe(e,n);else{const i=dte(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return HA(r)}function hte(t,e){const n=bf(t);return n===e||!ql(n)||qv(n)?!1:Kl(n).position==="fixed"||hte(n,e)}function e1e(t,e){const n=e.get(t);if(n)return n;let r=vw(t,[],!1).filter(o=>ql(o)&&Q0(o)!=="body"),i=null;const s=Kl(t).position==="fixed";let a=s?bf(t):t;for(;ql(a)&&!qv(a);){const o=Kl(a),l=d4(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Jwe.has(i.position)||z1(a)&&!l&&hte(t,a))?r=r.filter(u=>u!==a):i=o,a=bf(a)}return e.set(t,r),r}function t1e(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?GC(e)?[]:e1e(e,this._c):[].concat(n),r],o=a[0],l=a.reduce((c,u)=>{const d=h$(e,u,i);return c.top=uo(d.top,c.top),c.right=xf(d.right,c.right),c.bottom=xf(d.bottom,c.bottom),c.left=uo(d.left,c.left),c},h$(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function n1e(t){const{width:e,height:n}=ute(t);return{width:e,height:n}}function r1e(t,e,n){const r=Dc(e),i=Vc(e),s=n==="fixed",a=zp(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=Mc(0);function c(){l.x=p4(i)}if(r||!r&&!s)if((Q0(e)!=="body"||z1(i))&&(o=WC(e)),r){const h=zp(e,!0,s,e);l.x=h.x+e.clientLeft,l.y=h.y+e.clientTop}else i&&c();s&&!r&&i&&c();const u=i&&!r&&!s?fte(i,o):Mc(0),d=a.left+o.scrollLeft-l.x-u.x,f=a.top+o.scrollTop-l.y-u.y;return{x:d,y:f,width:a.width,height:a.height}}function YN(t){return Kl(t).position==="static"}function p$(t,e){if(!Dc(t)||Kl(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Vc(t)===n&&(n=n.ownerDocument.body),n}function pte(t,e){const n=xo(t);if(GC(t))return n;if(!Dc(t)){let i=bf(t);for(;i&&!qv(i);){if(ql(i)&&!YN(i))return i;i=bf(i)}return n}let r=p$(t,e);for(;r&&Uwe(r)&&YN(r);)r=p$(r,e);return r&&qv(r)&&YN(r)&&!d4(r)?n:r||Hwe(t)||n}const i1e=async function(t){const e=this.getOffsetParent||pte,n=this.getDimensions,r=await n(t.floating);return{reference:r1e(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function s1e(t){return Kl(t).direction==="rtl"}const a1e={convertOffsetParentRelativeRectToViewportRelativeRect:qwe,getDocumentElement:Vc,getClippingRect:t1e,getOffsetParent:pte,getElementRects:i1e,getClientRects:Kwe,getDimensions:n1e,getScale:vv,isElement:ql,isRTL:s1e};function mte(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function o1e(t,e){let n=null,r;const i=Vc(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:u,top:d,width:f,height:h}=c;if(o||e(),!f||!h)return;const m=GS(d),g=GS(i.clientWidth-(u+f)),v=GS(i.clientHeight-(d+h)),y=GS(u),_={rootMargin:-m+"px "+-g+"px "+-v+"px "+-y+"px",threshold:uo(0,xf(1,l))||1};let S=!0;function E(A){const M=A[0].intersectionRatio;if(M!==l){if(!S)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!mte(c,t.getBoundingClientRect())&&a(),S=!1}try{n=new IntersectionObserver(E,{..._,root:i.ownerDocument})}catch{n=new IntersectionObserver(E,_)}n.observe(t)}return a(!0),s}function l1e(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=h4(t),u=i||s?[...c?vw(c):[],...vw(e)]:[];u.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),s&&y.addEventListener("resize",n)});const d=c&&o?o1e(c,n):null;let f=-1,h=null;a&&(h=new ResizeObserver(y=>{let[w]=y;w&&w.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(f),f=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(e)})),n()}),c&&!l&&h.observe(c),h.observe(e));let m,g=l?zp(t):null;l&&v();function v(){const y=zp(t);g&&!mte(g,y)&&n(),g=y,m=requestAnimationFrame(v)}return n(),()=>{var y;u.forEach(w=>{i&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),d==null||d(),(y=h)==null||y.disconnect(),h=null,l&&cancelAnimationFrame(m)}}const c1e=Iwe,u1e=kwe,d1e=Rwe,f1e=Lwe,h1e=Owe,m$=Pwe,p1e=Dwe,m1e=(t,e,n)=>{const r=new Map,i={platform:a1e,...n},s={...i.platform,_c:r};return Cwe(t,e,{...i,platform:s})};var g1e=typeof document<"u",v1e=function(){},YT=g1e?T.useLayoutEffect:v1e;function GA(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!GA(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!GA(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function gte(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function g$(t,e){const n=gte(t);return Math.round(e*n)/n}function ZN(t){const e=T.useRef(t);return YT(()=>{e.current=t}),e}function y1e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:c}=t,[u,d]=T.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[f,h]=T.useState(r);GA(f,r)||h(r);const[m,g]=T.useState(null),[v,y]=T.useState(null),w=T.useCallback(j=>{j!==A.current&&(A.current=j,g(j))},[]),_=T.useCallback(j=>{j!==M.current&&(M.current=j,y(j))},[]),S=s||m,E=a||v,A=T.useRef(null),M=T.useRef(null),R=T.useRef(u),P=l!=null,O=ZN(l),k=ZN(i),I=ZN(c),F=T.useCallback(()=>{if(!A.current||!M.current)return;const j={placement:e,strategy:n,middleware:f};k.current&&(j.platform=k.current),m1e(A.current,M.current,j).then(U=>{const $={...U,isPositioned:I.current!==!1};L.current&&!GA(R.current,$)&&(R.current=$,pm.flushSync(()=>{d($)}))})},[f,e,n,k,I]);YT(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,d(j=>({...j,isPositioned:!1})))},[c]);const L=T.useRef(!1);YT(()=>(L.current=!0,()=>{L.current=!1}),[]),YT(()=>{if(S&&(A.current=S),E&&(M.current=E),S&&E){if(O.current)return O.current(S,E,F);F()}},[S,E,F,O,P]);const V=T.useMemo(()=>({reference:A,floating:M,setReference:w,setFloating:_}),[w,_]),z=T.useMemo(()=>({reference:S,floating:E}),[S,E]),K=T.useMemo(()=>{const j={position:n,left:0,top:0};if(!z.floating)return j;const U=g$(z.floating,u.x),$=g$(z.floating,u.y);return o?{...j,transform:"translate("+U+"px, "+$+"px)",...gte(z.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:U,top:$}},[n,o,z.floating,u.x,u.y]);return T.useMemo(()=>({...u,update:F,refs:V,elements:z,floatingStyles:K}),[u,F,V,z,K])}const x1e=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?m$({element:r.current,padding:i}).fn(n):{}:r?m$({element:r,padding:i}).fn(n):{}}}},b1e=(t,e)=>({...c1e(t),options:[t,e]}),w1e=(t,e)=>({...u1e(t),options:[t,e]}),_1e=(t,e)=>({...p1e(t),options:[t,e]}),S1e=(t,e)=>({...d1e(t),options:[t,e]}),E1e=(t,e)=>({...f1e(t),options:[t,e]}),T1e=(t,e)=>({...h1e(t),options:[t,e]}),A1e=(t,e)=>({...x1e(t),options:[t,e]});var M1e="Arrow",vte=T.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return p.jsx(Lt.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:p.jsx("polygon",{points:"0,0 30,0 15,10"})})});vte.displayName=M1e;var C1e=vte;function XC(t){const[e,n]=T.useState(void 0);return Mi(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;a=c.inlineSize,o=c.blockSize}else a=t.offsetWidth,o=t.offsetHeight;n({width:a,height:o})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var m4="Popper",[yte,ey]=Xs(m4),[P1e,xte]=yte(m4),bte=t=>{const{__scopePopper:e,children:n}=t,[r,i]=T.useState(null);return p.jsx(P1e,{scope:e,anchor:r,onAnchorChange:i,children:n})};bte.displayName=m4;var wte="PopperAnchor",_te=T.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=xte(wte,n),a=T.useRef(null),o=mn(e,a);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:p.jsx(Lt.div,{...i,ref:o})});_te.displayName=wte;var g4="PopperContent",[R1e,O1e]=yte(g4),Ste=T.forwardRef((t,e)=>{var ne,ve,ge,_e,ye,ce;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:u=0,sticky:d="partial",hideWhenDetached:f=!1,updatePositionStrategy:h="optimized",onPlaced:m,...g}=t,v=xte(g4,n),[y,w]=T.useState(null),_=mn(e,De=>w(De)),[S,E]=T.useState(null),A=XC(S),M=(A==null?void 0:A.width)??0,R=(A==null?void 0:A.height)??0,P=r+(s!=="center"?"-"+s:""),O=typeof u=="number"?u:{top:0,right:0,bottom:0,left:0,...u},k=Array.isArray(c)?c:[c],I=k.length>0,F={padding:O,boundary:k.filter(I1e),altBoundary:I},{refs:L,floatingStyles:V,placement:z,isPositioned:K,middlewareData:j}=y1e({strategy:"fixed",placement:P,whileElementsMounted:(...De)=>l1e(...De,{animationFrame:h==="always"}),elements:{reference:v.anchor},middleware:[b1e({mainAxis:i+R,alignmentAxis:a}),l&&w1e({mainAxis:!0,crossAxis:!1,limiter:d==="partial"?_1e():void 0,...F}),l&&S1e({...F}),E1e({...F,apply:({elements:De,rects:Ee,availableWidth:Z,availableHeight:Me})=>{const{width:Oe,height:Ce}=Ee.reference,Ne=De.floating.style;Ne.setProperty("--radix-popper-available-width",`${Z}px`),Ne.setProperty("--radix-popper-available-height",`${Me}px`),Ne.setProperty("--radix-popper-anchor-width",`${Oe}px`),Ne.setProperty("--radix-popper-anchor-height",`${Ce}px`)}}),S&&A1e({element:S,padding:o}),k1e({arrowWidth:M,arrowHeight:R}),f&&T1e({strategy:"referenceHidden",...F})]}),[U,$]=Ate(z),G=fi(m);Mi(()=>{K&&(G==null||G())},[K,G]);const X=(ne=j.arrow)==null?void 0:ne.x,Q=(ve=j.arrow)==null?void 0:ve.y,oe=((ge=j.arrow)==null?void 0:ge.centerOffset)!==0,[de,ae]=T.useState();return Mi(()=>{y&&ae(window.getComputedStyle(y).zIndex)},[y]),p.jsx("div",{ref:L.setFloating,"data-radix-popper-content-wrapper":"",style:{...V,transform:K?V.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:de,"--radix-popper-transform-origin":[(_e=j.transformOrigin)==null?void 0:_e.x,(ye=j.transformOrigin)==null?void 0:ye.y].join(" "),...((ce=j.hide)==null?void 0:ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:p.jsx(R1e,{scope:n,placedSide:U,onArrowChange:E,arrowX:X,arrowY:Q,shouldHideArrow:oe,children:p.jsx(Lt.div,{"data-side":U,"data-align":$,...g,ref:_,style:{...g.style,animation:K?void 0:"none"}})})})});Ste.displayName=g4;var Ete="PopperArrow",N1e={top:"bottom",right:"left",bottom:"top",left:"right"},Tte=T.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=O1e(Ete,r),a=N1e[s.placedSide];return p.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:p.jsx(C1e,{...i,ref:n,style:{...i.style,display:"block"}})})});Tte.displayName=Ete;function I1e(t){return t!==null}var k1e=t=>({name:"transformOrigin",options:t,fn(e){var v,y,w;const{placement:n,rects:r,middlewareData:i}=e,a=((v=i.arrow)==null?void 0:v.centerOffset)!==0,o=a?0:t.arrowWidth,l=a?0:t.arrowHeight,[c,u]=Ate(n),d={start:"0%",center:"50%",end:"100%"}[u],f=(((y=i.arrow)==null?void 0:y.x)??0)+o/2,h=(((w=i.arrow)==null?void 0:w.y)??0)+l/2;let m="",g="";return c==="bottom"?(m=a?d:`${f}px`,g=`${-l}px`):c==="top"?(m=a?d:`${f}px`,g=`${r.floating.height+l}px`):c==="right"?(m=`${-l}px`,g=a?d:`${h}px`):c==="left"&&(m=`${r.floating.width+l}px`,g=a?d:`${h}px`),{data:{x:m,y:g}}}});function Ate(t){const[e,n="center"]=t.split("-");return[e,n]}var v4=bte,y4=_te,x4=Ste,b4=Tte,[qC,Hxt]=Xs("Tooltip",[ey]),KC=ey(),Mte="TooltipProvider",D1e=700,zD="tooltip.open",[L1e,w4]=qC(Mte),Cte=t=>{const{__scopeTooltip:e,delayDuration:n=D1e,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,a=T.useRef(!0),o=T.useRef(!1),l=T.useRef(0);return T.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),p.jsx(L1e,{scope:e,isOpenDelayedRef:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(l.current),a.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(c=>{o.current=c},[]),disableHoverableContent:i,children:s})};Cte.displayName=Mte;var yw="Tooltip",[j1e,YC]=qC(yw),Pte=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:i,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=t,l=w4(yw,t.__scopeTooltip),c=KC(e),[u,d]=T.useState(null),f=Hl(),h=T.useRef(0),m=a??l.disableHoverableContent,g=o??l.delayDuration,v=T.useRef(!1),[y,w]=Xl({prop:r,defaultProp:i??!1,onChange:M=>{M?(l.onOpen(),document.dispatchEvent(new CustomEvent(zD))):l.onClose(),s==null||s(M)},caller:yw}),_=T.useMemo(()=>y?v.current?"delayed-open":"instant-open":"closed",[y]),S=T.useCallback(()=>{window.clearTimeout(h.current),h.current=0,v.current=!1,w(!0)},[w]),E=T.useCallback(()=>{window.clearTimeout(h.current),h.current=0,w(!1)},[w]),A=T.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>{v.current=!0,w(!0),h.current=0},g)},[g,w]);return T.useEffect(()=>()=>{h.current&&(window.clearTimeout(h.current),h.current=0)},[]),p.jsx(v4,{...c,children:p.jsx(j1e,{scope:e,contentId:f,open:y,stateAttribute:_,trigger:u,onTriggerChange:d,onTriggerEnter:T.useCallback(()=>{l.isOpenDelayedRef.current?A():S()},[l.isOpenDelayedRef,A,S]),onTriggerLeave:T.useCallback(()=>{m?E():(window.clearTimeout(h.current),h.current=0)},[E,m]),onOpen:S,onClose:E,disableHoverableContent:m,children:n})})};Pte.displayName=yw;var VD="TooltipTrigger",Rte=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=YC(VD,n),s=w4(VD,n),a=KC(n),o=T.useRef(null),l=mn(e,o,i.onTriggerChange),c=T.useRef(!1),u=T.useRef(!1),d=T.useCallback(()=>c.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",d),[d]),p.jsx(y4,{asChild:!0,...a,children:p.jsx(Lt.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:vt(t.onPointerMove,f=>{f.pointerType!=="touch"&&!u.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),u.current=!0)}),onPointerLeave:vt(t.onPointerLeave,()=>{i.onTriggerLeave(),u.current=!1}),onPointerDown:vt(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",d,{once:!0})}),onFocus:vt(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:vt(t.onBlur,i.onClose),onClick:vt(t.onClick,i.onClose)})})});Rte.displayName=VD;var F1e="TooltipPortal",[Gxt,U1e]=qC(F1e,{forceMount:void 0}),Kv="TooltipContent",Ote=T.forwardRef((t,e)=>{const n=U1e(Kv,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,a=YC(Kv,t.__scopeTooltip);return p.jsx(qs,{present:r||a.open,children:a.disableHoverableContent?p.jsx(Nte,{side:i,...s,ref:e}):p.jsx(B1e,{side:i,...s,ref:e})})}),B1e=T.forwardRef((t,e)=>{const n=YC(Kv,t.__scopeTooltip),r=w4(Kv,t.__scopeTooltip),i=T.useRef(null),s=mn(e,i),[a,o]=T.useState(null),{trigger:l,onClose:c}=n,u=i.current,{onPointerInTransitChange:d}=r,f=T.useCallback(()=>{o(null),d(!1)},[d]),h=T.useCallback((m,g)=>{const v=m.currentTarget,y={x:m.clientX,y:m.clientY},w=G1e(y,v.getBoundingClientRect()),_=W1e(y,w),S=X1e(g.getBoundingClientRect()),E=K1e([..._,...S]);o(E),d(!0)},[d]);return T.useEffect(()=>()=>f(),[f]),T.useEffect(()=>{if(l&&u){const m=v=>h(v,u),g=v=>h(v,l);return l.addEventListener("pointerleave",m),u.addEventListener("pointerleave",g),()=>{l.removeEventListener("pointerleave",m),u.removeEventListener("pointerleave",g)}}},[l,u,h,f]),T.useEffect(()=>{if(a){const m=g=>{const v=g.target,y={x:g.clientX,y:g.clientY},w=(l==null?void 0:l.contains(v))||(u==null?void 0:u.contains(v)),_=!q1e(y,a);w?f():_&&(f(),c())};return document.addEventListener("pointermove",m),()=>document.removeEventListener("pointermove",m)}},[l,u,a,c,f]),p.jsx(Nte,{...t,ref:s})}),[z1e,V1e]=qC(yw,{isInside:!1}),$1e=Fye("TooltipContent"),Nte=T.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=t,l=YC(Kv,n),c=KC(n),{onClose:u}=l;return T.useEffect(()=>(document.addEventListener(zD,u),()=>document.removeEventListener(zD,u)),[u]),T.useEffect(()=>{if(l.trigger){const d=f=>{const h=f.target;h!=null&&h.contains(l.trigger)&&u()};return window.addEventListener("scroll",d,{capture:!0}),()=>window.removeEventListener("scroll",d,{capture:!0})}},[l.trigger,u]),p.jsx(q0,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:d=>d.preventDefault(),onDismiss:u,children:p.jsxs(x4,{"data-state":l.stateAttribute,...c,...o,ref:e,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[p.jsx($1e,{children:r}),p.jsx(z1e,{scope:n,isInside:!0,children:p.jsx(axe,{id:l.contentId,role:"tooltip",children:i||r})})]})})});Ote.displayName=Kv;var Ite="TooltipArrow",H1e=T.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=KC(n);return V1e(Ite,n).isInside?null:p.jsx(b4,{...i,...r,ref:e})});H1e.displayName=Ite;function G1e(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W1e(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function X1e(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function q1e(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function K1e(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),Y1e(e)}function Y1e(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],a=e[e.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Z1e=Cte,J1e=Pte,Q1e=Rte,kte=Ote;const Dte=Z1e,e_e=J1e,t_e=Q1e,Lte=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(kte,{ref:r,sideOffset:e,className:ht("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));Lte.displayName=kte.displayName;var ZC=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JC=typeof window>"u"||"Deno"in globalThis;function Ml(){}function n_e(t,e){return typeof t=="function"?t(e):t}function r_e(t){return typeof t=="number"&&t>=0&&t!==1/0}function i_e(t,e){return Math.max(t+(e||0)-Date.now(),0)}function $D(t,e){return typeof t=="function"?t(e):t}function s_e(t,e){return typeof t=="function"?t(e):t}function v$(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(r){if(e.queryHash!==_4(a,e.options))return!1}else if(!bw(e.queryKey,a))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function y$(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(xw(e.options.mutationKey)!==xw(s))return!1}else if(!bw(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function _4(t,e){return((e==null?void 0:e.queryKeyHashFn)||xw)(t)}function xw(t){return JSON.stringify(t,(e,n)=>HD(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bw(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>bw(t[n],e[n])):!1}function jte(t,e){if(t===e)return t;const n=x$(t)&&x$(e);if(n||HD(t)&&HD(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),a=s.length,o=n?[]:{},l=new Set(r);let c=0;for(let u=0;u<a;u++){const d=n?u:s[u];(!n&&l.has(d)||n)&&t[d]===void 0&&e[d]===void 0?(o[d]=void 0,c++):(o[d]=jte(t[d],e[d]),o[d]===t[d]&&t[d]!==void 0&&c++)}return i===a&&c===i?t:o}return e}function x$(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function HD(t){if(!b$(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!b$(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function b$(t){return Object.prototype.toString.call(t)==="[object Object]"}function a_e(t){return new Promise(e=>{setTimeout(e,t)})}function o_e(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?jte(t,e):e}function l_e(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function c_e(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var S4=Symbol();function Fte(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===S4?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var xp,Bd,Ov,VZ,u_e=(VZ=class extends ZC{constructor(){super();rr(this,xp);rr(this,Bd);rr(this,Ov);An(this,Ov,e=>{if(!JC&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){tt(this,Bd)||this.setEventListener(tt(this,Ov))}onUnsubscribe(){var e;this.hasListeners()||((e=tt(this,Bd))==null||e.call(this),An(this,Bd,void 0))}setEventListener(e){var n;An(this,Ov,e),(n=tt(this,Bd))==null||n.call(this),An(this,Bd,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){tt(this,xp)!==e&&(An(this,xp,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof tt(this,xp)=="boolean"?tt(this,xp):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},xp=new WeakMap,Bd=new WeakMap,Ov=new WeakMap,VZ),Ute=new u_e,Nv,zd,Iv,$Z,d_e=($Z=class extends ZC{constructor(){super();rr(this,Nv,!0);rr(this,zd);rr(this,Iv);An(this,Iv,e=>{if(!JC&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){tt(this,zd)||this.setEventListener(tt(this,Iv))}onUnsubscribe(){var e;this.hasListeners()||((e=tt(this,zd))==null||e.call(this),An(this,zd,void 0))}setEventListener(e){var n;An(this,Iv,e),(n=tt(this,zd))==null||n.call(this),An(this,zd,e(this.setOnline.bind(this)))}setOnline(e){tt(this,Nv)!==e&&(An(this,Nv,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return tt(this,Nv)}},Nv=new WeakMap,zd=new WeakMap,Iv=new WeakMap,$Z),WA=new d_e;function f_e(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function h_e(t){return Math.min(1e3*2**t,3e4)}function Bte(t){return(t??"online")==="online"?WA.isOnline():!0}var zte=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function JN(t){return t instanceof zte}function Vte(t){let e=!1,n=0,r=!1,i;const s=f_e(),a=g=>{var v;r||(f(new zte(g)),(v=t.abort)==null||v.call(t))},o=()=>{e=!0},l=()=>{e=!1},c=()=>Ute.isFocused()&&(t.networkMode==="always"||WA.isOnline())&&t.canRun(),u=()=>Bte(t.networkMode)&&t.canRun(),d=g=>{var v;r||(r=!0,(v=t.onSuccess)==null||v.call(t,g),i==null||i(),s.resolve(g))},f=g=>{var v;r||(r=!0,(v=t.onError)==null||v.call(t,g),i==null||i(),s.reject(g))},h=()=>new Promise(g=>{var v;i=y=>{(r||c())&&g(y)},(v=t.onPause)==null||v.call(t)}).then(()=>{var g;i=void 0,r||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(r)return;let g;const v=n===0?t.initialPromise:void 0;try{g=v??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var A;if(r)return;const w=t.retry??(JC?0:3),_=t.retryDelay??h_e,S=typeof _=="function"?_(n,y):_,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,y);if(e||!E){f(y);return}n++,(A=t.onFail)==null||A.call(t,n,y),a_e(S).then(()=>c()?void 0:h()).then(()=>{e?f(y):m()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:l,canStart:u,start:()=>(u()?m():h().then(m),s)}}var p_e=t=>setTimeout(t,0);function m_e(){let t=[],e=0,n=o=>{o()},r=o=>{o()},i=p_e;const s=o=>{e?t.push(o):i(()=>{n(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{r(()=>{o.forEach(l=>{n(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var da=m_e(),bp,HZ,$te=(HZ=class{constructor(){rr(this,bp)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),r_e(this.gcTime)&&An(this,bp,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(JC?1/0:5*60*1e3))}clearGcTimeout(){tt(this,bp)&&(clearTimeout(tt(this,bp)),An(this,bp,void 0))}},bp=new WeakMap,HZ),kv,wp,$o,_p,js,O1,Sp,Rl,fu,GZ,g_e=(GZ=class extends $te{constructor(e){super();rr(this,Rl);rr(this,kv);rr(this,wp);rr(this,$o);rr(this,_p);rr(this,js);rr(this,O1);rr(this,Sp);An(this,Sp,!1),An(this,O1,e.defaultOptions),this.setOptions(e.options),this.observers=[],An(this,_p,e.client),An(this,$o,tt(this,_p).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,An(this,kv,y_e(this.options)),this.state=e.state??tt(this,kv),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=tt(this,js))==null?void 0:e.promise}setOptions(e){this.options={...tt(this,O1),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&tt(this,$o).remove(this)}setData(e,n){const r=o_e(this.state.data,e,this.options);return Rs(this,Rl,fu).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(e,n){Rs(this,Rl,fu).call(this,{type:"setState",state:e,setStateOptions:n})}cancel(e){var r,i;const n=(r=tt(this,js))==null?void 0:r.promise;return(i=tt(this,js))==null||i.cancel(e),n?n.then(Ml).catch(Ml):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(tt(this,kv))}isActive(){return this.observers.some(e=>s_e(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===S4||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>$D(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i_e(this.state.dataUpdatedAt,e)}onFocus(){var n;const e=this.observers.find(r=>r.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(n=tt(this,js))==null||n.continue()}onOnline(){var n;const e=this.observers.find(r=>r.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(n=tt(this,js))==null||n.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),tt(this,$o).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(tt(this,js)&&(tt(this,Sp)?tt(this,js).cancel({revert:!0}):tt(this,js).cancelRetry()),this.scheduleGc()),tt(this,$o).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Rs(this,Rl,fu).call(this,{type:"invalidate"})}fetch(e,n){var c,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(tt(this,js))return tt(this,js).continueRetry(),tt(this,js).promise}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(h=>h.options.queryFn);f&&this.setOptions(f.options)}const r=new AbortController,i=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>(An(this,Sp,!0),r.signal)})},s=()=>{const f=Fte(this.options,n),m=(()=>{const g={client:tt(this,_p),queryKey:this.queryKey,meta:this.meta};return i(g),g})();return An(this,Sp,!1),this.options.persister?this.options.persister(f,m,this):f(m)},o=(()=>{const f={fetchOptions:n,options:this.options,queryKey:this.queryKey,client:tt(this,_p),state:this.state,fetchFn:s};return i(f),f})();(c=this.options.behavior)==null||c.onFetch(o,this),An(this,wp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=o.fetchOptions)==null?void 0:u.meta))&&Rs(this,Rl,fu).call(this,{type:"fetch",meta:(d=o.fetchOptions)==null?void 0:d.meta});const l=f=>{var h,m,g,v;JN(f)&&f.silent||Rs(this,Rl,fu).call(this,{type:"error",error:f}),JN(f)||((m=(h=tt(this,$o).config).onError)==null||m.call(h,f,this),(v=(g=tt(this,$o).config).onSettled)==null||v.call(g,this.state.data,f,this)),this.scheduleGc()};return An(this,js,Vte({initialPromise:n==null?void 0:n.initialPromise,fn:o.fetchFn,abort:r.abort.bind(r),onSuccess:f=>{var h,m,g,v;if(f===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(f)}catch(y){l(y);return}(m=(h=tt(this,$o).config).onSuccess)==null||m.call(h,f,this),(v=(g=tt(this,$o).config).onSettled)==null||v.call(g,f,this.state.error,this),this.scheduleGc()},onError:l,onFail:(f,h)=>{Rs(this,Rl,fu).call(this,{type:"failed",failureCount:f,error:h})},onPause:()=>{Rs(this,Rl,fu).call(this,{type:"pause"})},onContinue:()=>{Rs(this,Rl,fu).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),tt(this,js).start()}},kv=new WeakMap,wp=new WeakMap,$o=new WeakMap,_p=new WeakMap,js=new WeakMap,O1=new WeakMap,Sp=new WeakMap,Rl=new WeakSet,fu=function(e){const n=r=>{switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...v_e(r.data,this.options),fetchMeta:e.meta??null};case"success":return An(this,wp,void 0),{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=e.error;return JN(i)&&i.revert&&tt(this,wp)?{...tt(this,wp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),da.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),tt(this,$o).notify({query:this,type:"updated",action:e})})},GZ);function v_e(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:Bte(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function y_e(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var pc,WZ,x_e=(WZ=class extends ZC{constructor(e={}){super();rr(this,pc);this.config=e,An(this,pc,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??_4(i,n);let a=this.get(s);return a||(a=new g_e({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){tt(this,pc).has(e.queryHash)||(tt(this,pc).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=tt(this,pc).get(e.queryHash);n&&(e.destroy(),n===e&&tt(this,pc).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){da.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return tt(this,pc).get(e)}getAll(){return[...tt(this,pc).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>v$(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>v$(e,r)):n}notify(e){da.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){da.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){da.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},pc=new WeakMap,WZ),mc,oa,Ep,gc,Ed,XZ,b_e=(XZ=class extends $te{constructor(e){super();rr(this,gc);rr(this,mc);rr(this,oa);rr(this,Ep);this.mutationId=e.mutationId,An(this,oa,e.mutationCache),An(this,mc,[]),this.state=e.state||w_e(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){tt(this,mc).includes(e)||(tt(this,mc).push(e),this.clearGcTimeout(),tt(this,oa).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){An(this,mc,tt(this,mc).filter(n=>n!==e)),this.scheduleGc(),tt(this,oa).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){tt(this,mc).length||(this.state.status==="pending"?this.scheduleGc():tt(this,oa).remove(this))}continue(){var e;return((e=tt(this,Ep))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var s,a,o,l,c,u,d,f,h,m,g,v,y,w,_,S,E,A,M,R;const n=()=>{Rs(this,gc,Ed).call(this,{type:"continue"})};An(this,Ep,Vte({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(P,O)=>{Rs(this,gc,Ed).call(this,{type:"failed",failureCount:P,error:O})},onPause:()=>{Rs(this,gc,Ed).call(this,{type:"pause"})},onContinue:n,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>tt(this,oa).canRun(this)}));const r=this.state.status==="pending",i=!tt(this,Ep).canStart();try{if(r)n();else{Rs(this,gc,Ed).call(this,{type:"pending",variables:e,isPaused:i}),await((a=(s=tt(this,oa).config).onMutate)==null?void 0:a.call(s,e,this));const O=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));O!==this.state.context&&Rs(this,gc,Ed).call(this,{type:"pending",context:O,variables:e,isPaused:i})}const P=await tt(this,Ep).start();return await((u=(c=tt(this,oa).config).onSuccess)==null?void 0:u.call(c,P,e,this.state.context,this)),await((f=(d=this.options).onSuccess)==null?void 0:f.call(d,P,e,this.state.context)),await((m=(h=tt(this,oa).config).onSettled)==null?void 0:m.call(h,P,null,this.state.variables,this.state.context,this)),await((v=(g=this.options).onSettled)==null?void 0:v.call(g,P,null,e,this.state.context)),Rs(this,gc,Ed).call(this,{type:"success",data:P}),P}catch(P){try{throw await((w=(y=tt(this,oa).config).onError)==null?void 0:w.call(y,P,e,this.state.context,this)),await((S=(_=this.options).onError)==null?void 0:S.call(_,P,e,this.state.context)),await((A=(E=tt(this,oa).config).onSettled)==null?void 0:A.call(E,void 0,P,this.state.variables,this.state.context,this)),await((R=(M=this.options).onSettled)==null?void 0:R.call(M,void 0,P,e,this.state.context)),P}finally{Rs(this,gc,Ed).call(this,{type:"error",error:P})}}finally{tt(this,oa).runNext(this)}}},mc=new WeakMap,oa=new WeakMap,Ep=new WeakMap,gc=new WeakSet,Ed=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),da.batch(()=>{tt(this,mc).forEach(r=>{r.onMutationUpdate(e)}),tt(this,oa).notify({mutation:this,type:"updated",action:e})})},XZ);function w_e(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var vu,Ol,N1,qZ,__e=(qZ=class extends ZC{constructor(e={}){super();rr(this,vu);rr(this,Ol);rr(this,N1);this.config=e,An(this,vu,new Set),An(this,Ol,new Map),An(this,N1,0)}build(e,n,r){const i=new b_e({mutationCache:this,mutationId:++SS(this,N1)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){tt(this,vu).add(e);const n=WS(e);if(typeof n=="string"){const r=tt(this,Ol).get(n);r?r.push(e):tt(this,Ol).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(tt(this,vu).delete(e)){const n=WS(e);if(typeof n=="string"){const r=tt(this,Ol).get(n);if(r)if(r.length>1){const i=r.indexOf(e);i!==-1&&r.splice(i,1)}else r[0]===e&&tt(this,Ol).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=WS(e);if(typeof n=="string"){const r=tt(this,Ol).get(n),i=r==null?void 0:r.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var r;const n=WS(e);if(typeof n=="string"){const i=(r=tt(this,Ol).get(n))==null?void 0:r.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){da.batch(()=>{tt(this,vu).forEach(e=>{this.notify({type:"removed",mutation:e})}),tt(this,vu).clear(),tt(this,Ol).clear()})}getAll(){return Array.from(tt(this,vu))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>y$(n,r))}findAll(e={}){return this.getAll().filter(n=>y$(e,n))}notify(e){da.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return da.batch(()=>Promise.all(e.map(n=>n.continue().catch(Ml))))}},vu=new WeakMap,Ol=new WeakMap,N1=new WeakMap,qZ);function WS(t){var e;return(e=t.options.scope)==null?void 0:e.id}function w$(t){return{onFetch:(e,n)=>{var u,d,f,h,m;const r=e.options,i=(f=(d=(u=e.fetchOptions)==null?void 0:u.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((h=e.state.data)==null?void 0:h.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let g=!1;const v=_=>{Object.defineProperty(_,"signal",{enumerable:!0,get:()=>(e.signal.aborted?g=!0:e.signal.addEventListener("abort",()=>{g=!0}),e.signal)})},y=Fte(e.options,e.fetchOptions),w=async(_,S,E)=>{if(g)return Promise.reject();if(S==null&&_.pages.length)return Promise.resolve(_);const M=(()=>{const k={client:e.client,queryKey:e.queryKey,pageParam:S,direction:E?"backward":"forward",meta:e.options.meta};return v(k),k})(),R=await y(M),{maxPages:P}=e.options,O=E?c_e:l_e;return{pages:O(_.pages,R,P),pageParams:O(_.pageParams,S,P)}};if(i&&s.length){const _=i==="backward",S=_?S_e:_$,E={pages:s,pageParams:a},A=S(r,E);o=await w(E,A,_)}else{const _=t??s.length;do{const S=l===0?a[0]??r.initialPageParam:_$(r,o);if(l>0&&S==null)break;o=await w(o,S),l++}while(l<_)}return o};e.options.persister?e.fetchFn=()=>{var g,v;return(v=(g=e.options).persister)==null?void 0:v.call(g,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function _$(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function S_e(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var oi,Vd,$d,Dv,Lv,Hd,jv,Fv,KZ,E_e=(KZ=class{constructor(t={}){rr(this,oi);rr(this,Vd);rr(this,$d);rr(this,Dv);rr(this,Lv);rr(this,Hd);rr(this,jv);rr(this,Fv);An(this,oi,t.queryCache||new x_e),An(this,Vd,t.mutationCache||new __e),An(this,$d,t.defaultOptions||{}),An(this,Dv,new Map),An(this,Lv,new Map),An(this,Hd,0)}mount(){SS(this,Hd)._++,tt(this,Hd)===1&&(An(this,jv,Ute.subscribe(async t=>{t&&(await this.resumePausedMutations(),tt(this,oi).onFocus())})),An(this,Fv,WA.subscribe(async t=>{t&&(await this.resumePausedMutations(),tt(this,oi).onOnline())})))}unmount(){var t,e;SS(this,Hd)._--,tt(this,Hd)===0&&((t=tt(this,jv))==null||t.call(this),An(this,jv,void 0),(e=tt(this,Fv))==null||e.call(this),An(this,Fv,void 0))}isFetching(t){return tt(this,oi).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return tt(this,Vd).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=tt(this,oi).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=tt(this,oi).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime($D(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return tt(this,oi).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=tt(this,oi).get(r.queryHash),s=i==null?void 0:i.state.data,a=n_e(e,s);if(a!==void 0)return tt(this,oi).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(t,e,n){return da.batch(()=>tt(this,oi).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=tt(this,oi).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=tt(this,oi);da.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=tt(this,oi);return da.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=da.batch(()=>tt(this,oi).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(Ml).catch(Ml)}invalidateQueries(t,e={}){return da.batch(()=>(tt(this,oi).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=da.batch(()=>tt(this,oi).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ml)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ml)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=tt(this,oi).build(this,e);return n.isStaleByTime($D(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Ml).catch(Ml)}fetchInfiniteQuery(t){return t.behavior=w$(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Ml).catch(Ml)}ensureInfiniteQueryData(t){return t.behavior=w$(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return WA.isOnline()?tt(this,Vd).resumePausedMutations():Promise.resolve()}getQueryCache(){return tt(this,oi)}getMutationCache(){return tt(this,Vd)}getDefaultOptions(){return tt(this,$d)}setDefaultOptions(t){An(this,$d,t)}setQueryDefaults(t,e){tt(this,Dv).set(xw(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...tt(this,Dv).values()],n={};return e.forEach(r=>{bw(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){tt(this,Lv).set(xw(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...tt(this,Lv).values()],n={};return e.forEach(r=>{bw(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...tt(this,$d).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=_4(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===S4&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...tt(this,$d).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){tt(this,oi).clear(),tt(this,Vd).clear()}},oi=new WeakMap,Vd=new WeakMap,$d=new WeakMap,Dv=new WeakMap,Lv=new WeakMap,Hd=new WeakMap,jv=new WeakMap,Fv=new WeakMap,KZ),T_e=T.createContext(void 0),A_e=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),p.jsx(T_e.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ww(){return ww=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ww.apply(this,arguments)}var Xd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xd||(Xd={}));const S$="popstate";function M_e(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return GD("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:XA(i)}return P_e(e,n,null,t)}function pi(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hte(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function C_e(){return Math.random().toString(36).substr(2,8)}function E$(t,e){return{usr:t.state,key:t.key,idx:e}}function GD(t,e,n,r){return n===void 0&&(n=null),ww({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ty(e):e,{state:n,key:e&&e.key||r||C_e()})}function XA(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ty(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function P_e(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Xd.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(ww({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function d(){o=Xd.Pop;let v=u(),y=v==null?null:v-c;c=v,l&&l({action:o,location:g.location,delta:y})}function f(v,y){o=Xd.Push;let w=GD(g.location,v,y);c=u()+1;let _=E$(w,c),S=g.createHref(w);try{a.pushState(_,"",S)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(S)}s&&l&&l({action:o,location:g.location,delta:1})}function h(v,y){o=Xd.Replace;let w=GD(g.location,v,y);c=u();let _=E$(w,c),S=g.createHref(w);a.replaceState(_,"",S),s&&l&&l({action:o,location:g.location,delta:0})}function m(v){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof v=="string"?v:XA(v);return w=w.replace(/ $/,"%20"),pi(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return o},get location(){return t(i,a)},listen(v){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(S$,d),l=v,()=>{i.removeEventListener(S$,d),l=null}},createHref(v){return e(i,v)},createURL:m,encodeLocation(v){let y=m(v);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:h,go(v){return a.go(v)}};return g}var T$;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(T$||(T$={}));function R_e(t,e,n){return n===void 0&&(n="/"),O_e(t,e,n,!1)}function O_e(t,e,n,r){let i=typeof e=="string"?ty(e):e,s=Yv(i.pathname||"/",n);if(s==null)return null;let a=Gte(t);N_e(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=$_e(s);o=z_e(a[l],c,r)}return o}function Gte(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(pi(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=cf([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(pi(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Gte(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:U_e(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Wte(s.path))i(s,a,l)}),e}function Wte(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Wte(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function N_e(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:B_e(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const I_e=/^:[\w-]+$/,k_e=3,D_e=2,L_e=1,j_e=10,F_e=-2,A$=t=>t==="*";function U_e(t,e){let n=t.split("/"),r=n.length;return n.some(A$)&&(r+=F_e),e&&(r+=D_e),n.filter(i=>!A$(i)).reduce((i,s)=>i+(I_e.test(s)?k_e:s===""?L_e:j_e),r)}function B_e(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function z_e(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=qA({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),f=l.route;if(!d&&c&&n&&!r[r.length-1].route.index&&(d=qA({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),a.push({params:i,pathname:cf([s,d.pathname]),pathnameBase:X_e(cf([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=cf([s,d.pathnameBase]))}return a}function qA(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=V_e(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,d)=>{let{paramName:f,isOptional:h}=u;if(f==="*"){let g=o[d]||"";a=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=o[d];return h&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function V_e(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hte(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function $_e(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hte(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Yv(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function H_e(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?ty(t):t;return{pathname:n?n.startsWith("/")?n:G_e(n,e):e,search:q_e(r),hash:K_e(i)}}function G_e(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function QN(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function W_e(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Xte(t,e){let n=W_e(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function qte(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=ty(t):(i=ww({},t),pi(!i.pathname||!i.pathname.includes("?"),QN("?","pathname","search",i)),pi(!i.pathname||!i.pathname.includes("#"),QN("#","pathname","hash",i)),pi(!i.search||!i.search.includes("#"),QN("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let d=e.length-1;if(!r&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}o=d>=0?e[d]:"/"}let l=H_e(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const cf=t=>t.join("/").replace(/\/\/+/g,"/"),X_e=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q_e=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,K_e=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Y_e(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Kte=["post","put","patch","delete"];new Set(Kte);const Z_e=["get",...Kte];new Set(Z_e);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _w(){return _w=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_w.apply(this,arguments)}const QC=T.createContext(null),Yte=T.createContext(null),kf=T.createContext(null),eP=T.createContext(null),Df=T.createContext({outlet:null,matches:[],isDataRoute:!1}),Zte=T.createContext(null);function J_e(t,e){let{relative:n}=e===void 0?{}:e;V1()||pi(!1);let{basename:r,navigator:i}=T.useContext(kf),{hash:s,pathname:a,search:o}=nP(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:cf([r,a])),i.createHref({pathname:l,search:o,hash:s})}function V1(){return T.useContext(eP)!=null}function qu(){return V1()||pi(!1),T.useContext(eP).location}function Jte(t){T.useContext(kf).static||T.useLayoutEffect(t)}function tP(){let{isDataRoute:t}=T.useContext(Df);return t?fSe():Q_e()}function Q_e(){V1()||pi(!1);let t=T.useContext(QC),{basename:e,future:n,navigator:r}=T.useContext(kf),{matches:i}=T.useContext(Df),{pathname:s}=qu(),a=JSON.stringify(Xte(i,n.v7_relativeSplatPath)),o=T.useRef(!1);return Jte(()=>{o.current=!0}),T.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let d=qte(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:cf([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,a,s,t])}function eSe(){let{matches:t}=T.useContext(Df),e=t[t.length-1];return e?e.params:{}}function nP(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=T.useContext(kf),{matches:i}=T.useContext(Df),{pathname:s}=qu(),a=JSON.stringify(Xte(i,r.v7_relativeSplatPath));return T.useMemo(()=>qte(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function tSe(t,e){return nSe(t,e)}function nSe(t,e,n,r){V1()||pi(!1);let{navigator:i}=T.useContext(kf),{matches:s}=T.useContext(Df),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=qu(),u;if(e){var d;let v=typeof e=="string"?ty(e):e;l==="/"||(d=v.pathname)!=null&&d.startsWith(l)||pi(!1),u=v}else u=c;let f=u.pathname||"/",h=f;if(l!=="/"){let v=l.replace(/^\//,"").split("/");h="/"+f.replace(/^\//,"").split("/").slice(v.length).join("/")}let m=R_e(t,{pathname:h}),g=oSe(m&&m.map(v=>Object.assign({},v,{params:Object.assign({},o,v.params),pathname:cf([l,i.encodeLocation?i.encodeLocation(v.pathname).pathname:v.pathname]),pathnameBase:v.pathnameBase==="/"?l:cf([l,i.encodeLocation?i.encodeLocation(v.pathnameBase).pathname:v.pathnameBase])})),s,n,r);return e&&g?T.createElement(eP.Provider,{value:{location:_w({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xd.Pop}},g):g}function rSe(){let t=dSe(),e=Y_e(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),n?T.createElement("pre",{style:i},n):null,null)}const iSe=T.createElement(rSe,null);class sSe extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?T.createElement(Df.Provider,{value:this.props.routeContext},T.createElement(Zte.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function aSe(t){let{routeContext:e,match:n,children:r}=t,i=T.useContext(QC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),T.createElement(Df.Provider,{value:e},r)}function oSe(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(d=>d.route.id&&(o==null?void 0:o[d.route.id])!==void 0);u>=0||pi(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let d=a[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(c=u),d.route.id){let{loaderData:f,errors:h}=n,m=d.route.loader&&f[d.route.id]===void 0&&(!h||h[d.route.id]===void 0);if(d.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,d,f)=>{let h,m=!1,g=null,v=null;n&&(h=o&&d.route.id?o[d.route.id]:void 0,g=d.route.errorElement||iSe,l&&(c<0&&f===0?(m=!0,v=null):c===f&&(m=!0,v=d.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,f+1)),w=()=>{let _;return h?_=g:m?_=v:d.route.Component?_=T.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=u,T.createElement(aSe,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?T.createElement(sSe,{location:n.location,revalidation:n.revalidation,component:g,error:h,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Qte=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Qte||{}),KA=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(KA||{});function lSe(t){let e=T.useContext(QC);return e||pi(!1),e}function cSe(t){let e=T.useContext(Yte);return e||pi(!1),e}function uSe(t){let e=T.useContext(Df);return e||pi(!1),e}function ene(t){let e=uSe(),n=e.matches[e.matches.length-1];return n.route.id||pi(!1),n.route.id}function dSe(){var t;let e=T.useContext(Zte),n=cSe(KA.UseRouteError),r=ene(KA.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function fSe(){let{router:t}=lSe(Qte.UseNavigateStable),e=ene(KA.UseNavigateStable),n=T.useRef(!1);return Jte(()=>{n.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,_w({fromRouteId:e},s)))},[t,e])}function hSe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cs(t){pi(!1)}function pSe(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xd.Pop,navigator:s,static:a=!1,future:o}=t;V1()&&pi(!1);let l=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:l,navigator:s,static:a,future:_w({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=ty(r));let{pathname:u="/",search:d="",hash:f="",state:h=null,key:m="default"}=r,g=T.useMemo(()=>{let v=Yv(u,l);return v==null?null:{location:{pathname:v,search:d,hash:f,state:h,key:m},navigationType:i}},[l,u,d,f,h,m,i]);return g==null?null:T.createElement(kf.Provider,{value:c},T.createElement(eP.Provider,{children:n,value:g}))}function mSe(t){let{children:e,location:n}=t;return tSe(WD(e),n)}new Promise(()=>{});function WD(t,e){e===void 0&&(e=[]);let n=[];return T.Children.forEach(t,(r,i)=>{if(!T.isValidElement(r))return;let s=[...e,i];if(r.type===T.Fragment){n.push.apply(n,WD(r.props.children,s));return}r.type!==cs&&pi(!1),!r.props.index||!r.props.children||pi(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=WD(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}function tne(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function gSe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function vSe(t,e){return t.button===0&&(!e||e==="_self")&&!gSe(t)}const ySe=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],xSe=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],bSe="6";try{window.__reactRouterVersion=bSe}catch{}const wSe=T.createContext({isTransitioning:!1}),_Se="startTransition",M$=uU[_Se];function SSe(t){let{basename:e,children:n,future:r,window:i}=t,s=T.useRef();s.current==null&&(s.current=M_e({window:i,v5Compat:!0}));let a=s.current,[o,l]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=T.useCallback(d=>{c&&M$?M$(()=>l(d)):l(d)},[l,c]);return T.useLayoutEffect(()=>a.listen(u),[a,u]),T.useEffect(()=>hSe(r),[r]),T.createElement(pSe,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const ESe=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TSe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fr=T.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:d}=e,f=tne(e,ySe),{basename:h}=T.useContext(kf),m,g=!1;if(typeof c=="string"&&TSe.test(c)&&(m=c,ESe))try{let _=new URL(window.location.href),S=c.startsWith("//")?new URL(_.protocol+c):new URL(c),E=Yv(S.pathname,h);S.origin===_.origin&&E!=null?c=E+S.search+S.hash:g=!0}catch{}let v=J_e(c,{relative:i}),y=CSe(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:d});function w(_){r&&r(_),_.defaultPrevented||y(_)}return T.createElement("a",YA({},f,{href:m||v,onClick:g||s?r:w,ref:n,target:l}))}),ASe=T.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:u}=e,d=tne(e,xSe),f=nP(l,{relative:d.relative}),h=qu(),m=T.useContext(Yte),{navigator:g,basename:v}=T.useContext(kf),y=m!=null&&PSe(f)&&c===!0,w=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,_=h.pathname,S=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(_=_.toLowerCase(),S=S?S.toLowerCase():null,w=w.toLowerCase()),S&&v&&(S=Yv(S,v)||S);const E=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let A=_===w||!a&&_.startsWith(w)&&_.charAt(E)==="/",M=S!=null&&(S===w||!a&&S.startsWith(w)&&S.charAt(w.length)==="/"),R={isActive:A,isPending:M,isTransitioning:y},P=A?r:void 0,O;typeof s=="function"?O=s(R):O=[s,A?"active":null,M?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let k=typeof o=="function"?o(R):o;return T.createElement(fr,YA({},d,{"aria-current":P,className:O,ref:n,style:k,to:l,viewTransition:c}),typeof u=="function"?u(R):u)});var XD;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(XD||(XD={}));var C$;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(C$||(C$={}));function MSe(t){let e=T.useContext(QC);return e||pi(!1),e}function CSe(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=tP(),c=qu(),u=nP(t,{relative:a});return T.useCallback(d=>{if(vSe(d,n)){d.preventDefault();let f=r!==void 0?r:XA(c)===XA(u);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}function PSe(t,e){e===void 0&&(e={});let n=T.useContext(wSe);n==null&&pi(!1);let{basename:r}=MSe(XD.useViewTransitionState),i=nP(t,{relative:e.relative});if(!n.isTransitioning)return!1;let s=Yv(n.currentLocation.pathname,r)||n.currentLocation.pathname,a=Yv(n.nextLocation.pathname,r)||n.nextLocation.pathname;return qA(i.pathname,a)!=null||qA(i.pathname,s)!=null}const E4=T.createContext({});function $1(t){const e=T.useRef(null);return e.current===null&&(e.current=t()),e.current}const T4=typeof window<"u",A4=T4?T.useLayoutEffect:T.useEffect,rP=T.createContext(null);function M4(t,e){t.indexOf(e)===-1&&t.push(e)}function C4(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const Uu=(t,e,n)=>n>e?e:n<t?t:n;let ZA=()=>{};const Bu={},nne=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function rne(t){return typeof t=="object"&&t!==null}const ine=t=>/^0[^.\s]+$/u.test(t);function P4(t){let e;return()=>(e===void 0&&(e=t()),e)}const el=t=>t,RSe=(t,e)=>n=>e(t(n)),H1=(...t)=>t.reduce(RSe),Sw=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r};class R4{constructor(){this.subscriptions=[]}add(e){return M4(this.subscriptions,e),()=>C4(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Cc=t=>t*1e3,Yo=t=>t/1e3;function sne(t,e){return e?t*(1e3/e):0}const ane=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,OSe=1e-7,NSe=12;function ISe(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=ane(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>OSe&&++o<NSe);return a}function G1(t,e,n,r){if(t===e&&n===r)return el;const i=s=>ISe(s,0,1,t,n);return s=>s===0||s===1?s:ane(i(s),e,r)}const one=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,lne=t=>e=>1-t(1-e),cne=G1(.33,1.53,.69,.99),O4=lne(cne),une=one(O4),dne=t=>(t*=2)<1?.5*O4(t):.5*(2-Math.pow(2,-10*(t-1))),N4=t=>1-Math.sin(Math.acos(t)),fne=lne(N4),hne=one(N4),kSe=G1(.42,0,1,1),DSe=G1(0,0,.58,1),pne=G1(.42,0,.58,1),LSe=t=>Array.isArray(t)&&typeof t[0]!="number",mne=t=>Array.isArray(t)&&typeof t[0]=="number",P$={linear:el,easeIn:kSe,easeInOut:pne,easeOut:DSe,circIn:N4,circInOut:hne,circOut:fne,backIn:O4,backInOut:une,backOut:cne,anticipate:dne},jSe=t=>typeof t=="string",R$=t=>{if(mne(t)){ZA(t.length===4);const[e,n,r,i]=t;return G1(e,n,r,i)}else if(jSe(t))return ZA(P$[t]!==void 0),P$[t];return t},XS=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"],O$={value:null,addProjectionMetrics:null};function FSe(t,e){let n=new Set,r=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1},l=0;function c(d){a.has(d)&&(u.schedule(d),t()),l++,d(o)}const u={schedule:(d,f=!1,h=!1)=>{const g=h&&i?n:r;return f&&a.add(d),g.has(d)||g.add(d),d},cancel:d=>{r.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[n,r]=[r,n],n.forEach(c),e&&O$.value&&O$.value.frameloop[e].push(l),l=0,n.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const USe=40;function gne(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=XS.reduce((_,S)=>(_[S]=FSe(s,e?S:void 0),_),{}),{setup:o,read:l,resolveKeyframes:c,preUpdate:u,update:d,preRender:f,render:h,postRender:m}=a,g=()=>{const _=Bu.useManualTiming?i.timestamp:performance.now();n=!1,Bu.useManualTiming||(i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,USe),1)),i.timestamp=_,i.isProcessing=!0,o.process(i),l.process(i),c.process(i),u.process(i),d.process(i),f.process(i),h.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(g))},v=()=>{n=!0,r=!0,i.isProcessing||t(g)};return{schedule:XS.reduce((_,S)=>{const E=a[S];return _[S]=(A,M=!1,R=!1)=>(n||v(),E.schedule(A,M,R)),_},{}),cancel:_=>{for(let S=0;S<XS.length;S++)a[XS[S]].cancel(_)},state:i,steps:a}}const{schedule:Gr,cancel:wf,state:ws,steps:eI}=gne(typeof requestAnimationFrame<"u"?requestAnimationFrame:el,!0);let ZT;function BSe(){ZT=void 0}const Va={now:()=>(ZT===void 0&&Va.set(ws.isProcessing||Bu.useManualTiming?ws.timestamp:performance.now()),ZT),set:t=>{ZT=t,queueMicrotask(BSe)}},vne=t=>e=>typeof e=="string"&&e.startsWith(t),I4=vne("--"),zSe=vne("var(--"),k4=t=>zSe(t)?VSe.test(t.split("/*")[0].trim()):!1,VSe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ny={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Ew={...ny,transform:t=>Uu(0,1,t)},qS={...ny,default:1},wb=t=>Math.round(t*1e5)/1e5,D4=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $Se(t){return t==null}const HSe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,L4=(t,e)=>n=>!!(typeof n=="string"&&HSe.test(n)&&n.startsWith(t)||e&&!$Se(n)&&Object.prototype.hasOwnProperty.call(n,e)),yne=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(D4);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},GSe=t=>Uu(0,255,t),tI={...ny,transform:t=>Math.round(GSe(t))},rp={test:L4("rgb","red"),parse:yne("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+tI.transform(t)+", "+tI.transform(e)+", "+tI.transform(n)+", "+wb(Ew.transform(r))+")"};function WSe(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const qD={test:L4("#"),parse:WSe,transform:rp.transform},W1=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Td=W1("deg"),Pc=W1("%"),fn=W1("px"),XSe=W1("vh"),qSe=W1("vw"),N$={...Pc,parse:t=>Pc.parse(t)/100,transform:t=>Pc.transform(t*100)},Jg={test:L4("hsl","hue"),parse:yne("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+Pc.transform(wb(e))+", "+Pc.transform(wb(n))+", "+wb(Ew.transform(r))+")"},Li={test:t=>rp.test(t)||qD.test(t)||Jg.test(t),parse:t=>rp.test(t)?rp.parse(t):Jg.test(t)?Jg.parse(t):qD.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?rp.transform(t):Jg.transform(t),getAnimatableNone:t=>{const e=Li.parse(t);return e.alpha=0,Li.transform(e)}},KSe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function YSe(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(D4))==null?void 0:e.length)||0)+(((n=t.match(KSe))==null?void 0:n.length)||0)>0}const xne="number",bne="color",ZSe="var",JSe="var(",I$="${}",QSe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Tw(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(QSe,l=>(Li.test(l)?(r.color.push(s),i.push(bne),n.push(Li.parse(l))):l.startsWith(JSe)?(r.var.push(s),i.push(ZSe),n.push(l)):(r.number.push(s),i.push(xne),n.push(parseFloat(l))),++s,I$)).split(I$);return{values:n,split:o,indexes:r,types:i}}function wne(t){return Tw(t).values}function _ne(t){const{split:e,types:n}=Tw(t),r=e.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=e[a],i[a]!==void 0){const o=n[a];o===xne?s+=wb(i[a]):o===bne?s+=Li.transform(i[a]):s+=i[a]}return s}}const eEe=t=>typeof t=="number"?0:Li.test(t)?Li.getAnimatableNone(t):t;function tEe(t){const e=wne(t);return _ne(t)(e.map(eEe))}const _f={test:YSe,parse:wne,createTransformer:_ne,getAnimatableNone:tEe};function nI(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function nEe({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=nI(l,o,t+1/3),s=nI(l,o,t),a=nI(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function JA(t,e){return n=>n>0?e:t}const Jr=(t,e,n)=>t+(e-t)*n,rI=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},rEe=[qD,rp,Jg],iEe=t=>rEe.find(e=>e.test(t));function k$(t){const e=iEe(t);if(!e)return!1;let n=e.parse(t);return e===Jg&&(n=nEe(n)),n}const D$=(t,e)=>{const n=k$(t),r=k$(e);if(!n||!r)return JA(t,e);const i={...n};return s=>(i.red=rI(n.red,r.red,s),i.green=rI(n.green,r.green,s),i.blue=rI(n.blue,r.blue,s),i.alpha=Jr(n.alpha,r.alpha,s),rp.transform(i))},KD=new Set(["none","hidden"]);function sEe(t,e){return KD.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function aEe(t,e){return n=>Jr(t,e,n)}function j4(t){return typeof t=="number"?aEe:typeof t=="string"?k4(t)?JA:Li.test(t)?D$:cEe:Array.isArray(t)?Sne:typeof t=="object"?Li.test(t)?D$:oEe:JA}function Sne(t,e){const n=[...t],r=n.length,i=t.map((s,a)=>j4(s)(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function oEe(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=j4(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function lEe(t,e){const n=[],r={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][r[s]],o=t.values[a]??0;n[i]=o,r[s]++}return n}const cEe=(t,e)=>{const n=_f.createTransformer(e),r=Tw(t),i=Tw(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?KD.has(t)&&!i.values.length||KD.has(e)&&!r.values.length?sEe(t,e):H1(Sne(lEe(r,i),i.values),n):JA(t,e)};function Ene(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Jr(t,e,n):j4(t)(t,e)}const uEe=t=>{const e=({timestamp:n})=>t(n);return{start:(n=!0)=>Gr.update(e,n),stop:()=>wf(e),now:()=>ws.isProcessing?ws.timestamp:Va.now()}},Tne=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${r.substring(0,r.length-2)})`},QA=2e4;function F4(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<QA;)e+=n,r=t.next(e);return e>=QA?1/0:e}function dEe(t,e=100,n){const r=n({...t,keyframes:[0,e]}),i=Math.min(F4(r),QA);return{type:"keyframes",ease:s=>r.next(i*s).value/e,duration:Yo(i)}}const fEe=5;function Ane(t,e,n){const r=Math.max(e-fEe,0);return sne(n-t(r),e-r)}const li={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},iI=.001;function hEe({duration:t=li.duration,bounce:e=li.bounce,velocity:n=li.velocity,mass:r=li.mass}){let i,s,a=1-e;a=Uu(li.minDamping,li.maxDamping,a),t=Uu(li.minDuration,li.maxDuration,Yo(t)),a<1?(i=c=>{const u=c*a,d=u*t,f=u-n,h=YD(c,a),m=Math.exp(-d);return iI-f/h*m},s=c=>{const d=c*a*t,f=d*n+n,h=Math.pow(a,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=YD(Math.pow(c,2),a);return(-i(c)+iI>0?-1:1)*((f-h)*m)/g}):(i=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-iI+u*d},s=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const o=5/t,l=mEe(i,s,o);if(t=Cc(t),isNaN(l))return{stiffness:li.stiffness,damping:li.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const pEe=12;function mEe(t,e,n){let r=n;for(let i=1;i<pEe;i++)r=r-t(r)/e(r);return r}function YD(t,e){return t*Math.sqrt(1-e*e)}const gEe=["duration","bounce"],vEe=["stiffness","damping","mass"];function L$(t,e){return e.some(n=>t[n]!==void 0)}function yEe(t){let e={velocity:li.velocity,stiffness:li.stiffness,damping:li.damping,mass:li.mass,isResolvedFromDuration:!1,...t};if(!L$(t,vEe)&&L$(t,gEe))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Uu(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:li.mass,stiffness:i,damping:s}}else{const n=hEe(t);e={...e,...n,mass:li.mass},e.isResolvedFromDuration=!0}return e}function eM(t=li.visualDuration,e=li.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=yEe({...n,velocity:-Yo(n.velocity||0)}),m=f||0,g=c/(2*Math.sqrt(l*u)),v=a-s,y=Yo(Math.sqrt(l/u)),w=Math.abs(v)<5;r||(r=w?li.restSpeed.granular:li.restSpeed.default),i||(i=w?li.restDelta.granular:li.restDelta.default);let _;if(g<1){const E=YD(y,g);_=A=>{const M=Math.exp(-g*y*A);return a-M*((m+g*y*v)/E*Math.sin(E*A)+v*Math.cos(E*A))}}else if(g===1)_=E=>a-Math.exp(-y*E)*(v+(m+y*v)*E);else{const E=y*Math.sqrt(g*g-1);_=A=>{const M=Math.exp(-g*y*A),R=Math.min(E*A,300);return a-M*((m+g*y*v)*Math.sinh(R)+E*v*Math.cosh(R))/E}}const S={calculatedDuration:h&&d||null,next:E=>{const A=_(E);if(h)o.done=E>=d;else{let M=E===0?m:0;g<1&&(M=E===0?Cc(m):Ane(_,E,A));const R=Math.abs(M)<=r,P=Math.abs(a-A)<=i;o.done=R&&P}return o.value=o.done?a:A,o},toString:()=>{const E=Math.min(F4(S),QA),A=Tne(M=>S.next(E*M).value,E,30);return E+"ms "+A},toTransition:()=>{}};return S}eM.applyToOptions=t=>{const e=dEe(t,100,eM);return t.ease=e.ease,t.duration=Cc(e.duration),t.type="keyframes",t};function ZD({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],f={done:!1,value:d},h=R=>o!==void 0&&R<o||l!==void 0&&R>l,m=R=>o===void 0?l:l===void 0||Math.abs(o-R)<Math.abs(l-R)?o:l;let g=n*e;const v=d+g,y=a===void 0?v:a(v);y!==v&&(g=y-d);const w=R=>-g*Math.exp(-R/r),_=R=>y+w(R),S=R=>{const P=w(R),O=_(R);f.done=Math.abs(P)<=c,f.value=f.done?y:O};let E,A;const M=R=>{h(f.value)&&(E=R,A=eM({keyframes:[f.value,m(f.value)],velocity:Ane(_,R,f.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return M(0),{calculatedDuration:null,next:R=>{let P=!1;return!A&&E===void 0&&(P=!0,S(R),M(R)),E!==void 0&&R>=E?A.next(R-E):(!P&&S(R),f)}}}function xEe(t,e,n){const r=[],i=n||Bu.mix||Ene,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||el:e;o=H1(l,o)}r.push(o)}return r}function bEe(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(ZA(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=xEe(e,r,i),l=o.length,c=u=>{if(a&&u<t[0])return e[0];let d=0;if(l>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const f=Sw(t[d],t[d+1],u);return o[d](f)};return n?u=>c(Uu(t[0],t[s-1],u)):c}function wEe(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=Sw(0,e,r);t.push(Jr(n,1,i))}}function _Ee(t){const e=[0];return wEe(e,t.length-1),e}function SEe(t,e){return t.map(n=>n*e)}function EEe(t,e){return t.map(()=>e||pne).splice(0,t.length-1)}function _b({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=LSe(r)?r.map(R$):R$(r),s={done:!1,value:e[0]},a=SEe(n&&n.length===e.length?n:_Ee(e),t),o=bEe(a,e,{ease:Array.isArray(i)?i:EEe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const TEe=t=>t!==null;function U4(t,{repeat:e,repeatType:n="loop"},r,i=1){const s=t.filter(TEe),o=i<0||e&&n!=="loop"&&e%2===1?0:s.length-1;return!o||r===void 0?s[o]:r}const AEe={decay:ZD,inertia:ZD,tween:_b,keyframes:_b,spring:eM};function Mne(t){typeof t.type=="string"&&(t.type=AEe[t.type])}class B4{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,n){return this.finished.then(e,n)}}const MEe=t=>t/100;class z4 extends B4{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var r,i;const{motionValue:n}=this.options;n&&n.updatedAt!==Va.now()&&this.tick(Va.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(r=this.options).onStop)==null||i.call(r))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Mne(e);const{type:n=_b,repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=n||_b;l!==_b&&typeof o[0]!="number"&&(this.mixKeyframes=H1(MEe,Ene(o[0],o[1])),o=[0,100]);const c=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),c.calculatedDuration===null&&(c.calculatedDuration=F4(c));const{calculatedDuration:u}=c;this.calculatedDuration=u,this.resolvedDuration=u+i,this.totalDuration=this.resolvedDuration*(r+1)-i,this.generator=c}updateTime(e){const n=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=n}tick(e,n=!1){const{generator:r,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return r.next(0);const{delay:c=0,keyframes:u,repeat:d,repeatType:f,repeatDelay:h,type:m,onUpdate:g,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),n?this.currentTime=e:this.updateTime(e);const y=this.currentTime-c*(this.playbackSpeed>=0?1:-1),w=this.playbackSpeed>=0?y<0:y>i;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let _=this.currentTime,S=r;if(d){const R=Math.min(this.currentTime,i)/o;let P=Math.floor(R),O=R%1;!O&&R>=1&&(O=1),O===1&&P--,P=Math.min(P,d+1),!!(P%2)&&(f==="reverse"?(O=1-O,h&&(O-=h/o)):f==="mirror"&&(S=a)),_=Uu(0,1,O)*o}const E=w?{done:!1,value:u[0]}:S.next(_);s&&(E.value=s(E.value));let{done:A}=E;!w&&l!==null&&(A=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return M&&m!==ZD&&(E.value=U4(u,this.options,v,this.speed)),g&&g(E.value),M&&this.finish(),E}then(e,n){return this.finished.then(e,n)}get duration(){return Yo(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yo(e)}get time(){return Yo(this.currentTime)}set time(e){var n;e=Cc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(n=this.driver)==null||n.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Va.now());const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Yo(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=uEe,startTime:n}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const r=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=r):this.holdTime!==null?this.startTime=r-this.holdTime:this.startTime||(this.startTime=n??r),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Va.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,n;this.notifyFinished(),this.teardown(),this.state="finished",(n=(e=this.options).onComplete)==null||n.call(e)}cancel(){var e,n;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(n=(e=this.options).onCancel)==null||n.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var n;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(n=this.driver)==null||n.stop(),e.observe(this)}}function CEe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ip=t=>t*180/Math.PI,JD=t=>{const e=ip(Math.atan2(t[1],t[0]));return QD(e)},PEe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:JD,rotateZ:JD,skewX:t=>ip(Math.atan(t[1])),skewY:t=>ip(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},QD=t=>(t=t%360,t<0&&(t+=360),t),j$=JD,F$=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),U$=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),REe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:F$,scaleY:U$,scale:t=>(F$(t)+U$(t))/2,rotateX:t=>QD(ip(Math.atan2(t[6],t[5]))),rotateY:t=>QD(ip(Math.atan2(-t[2],t[0]))),rotateZ:j$,rotate:j$,skewX:t=>ip(Math.atan(t[4])),skewY:t=>ip(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function eL(t){return t.includes("scale")?1:0}function tL(t,e){if(!t||t==="none")return eL(e);const n=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let r,i;if(n)r=REe,i=n;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);r=PEe,i=o}if(!i)return eL(e);const s=r[e],a=i[1].split(",").map(NEe);return typeof s=="function"?s(a):a[s]}const OEe=(t,e)=>{const{transform:n="none"}=getComputedStyle(t);return tL(n,e)};function NEe(t){return parseFloat(t.trim())}const ry=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],iy=new Set(ry),B$=t=>t===ny||t===fn,IEe=new Set(["x","y","z"]),kEe=ry.filter(t=>!IEe.has(t));function DEe(t){const e=[];return kEe.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const Mp={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>tL(e,"x"),y:(t,{transform:e})=>tL(e,"y")};Mp.translateX=Mp.x;Mp.translateY=Mp.y;const Cp=new Set;let nL=!1,rL=!1,iL=!1;function Cne(){if(rL){const t=Array.from(Cp).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=DEe(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))==null||o.set(a)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}rL=!1,nL=!1,Cp.forEach(t=>t.complete(iL)),Cp.clear()}function Pne(){Cp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(rL=!0)})}function LEe(){iL=!0,Pne(),Cne(),iL=!1}class V4{constructor(e,n,r,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(Cp.add(this),nL||(nL=!0,Gr.read(Pne),Gr.resolveKeyframes(Cne))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(r&&n){const o=r.readValue(n,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}CEe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Cp.delete(this)}cancel(){this.state==="scheduled"&&(Cp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const jEe=t=>t.startsWith("--");function FEe(t,e,n){jEe(e)?t.style.setProperty(e,n):t.style[e]=n}const UEe=P4(()=>window.ScrollTimeline!==void 0),BEe={};function zEe(t,e){const n=P4(t);return()=>BEe[e]??n()}const Rne=zEe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),nb=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,z$={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:nb([0,.65,.55,1]),circOut:nb([.55,0,1,.45]),backIn:nb([.31,.01,.66,-.59]),backOut:nb([.33,1.53,.69,.99])};function One(t,e){if(t)return typeof t=="function"?Rne()?Tne(t,e):"ease-out":mne(t)?nb(t):Array.isArray(t)?t.map(n=>One(n,e)||z$.easeOut):z$[t]}function VEe(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},c=void 0){const u={[e]:n};l&&(u.offset=l);const d=One(o,i);Array.isArray(d)&&(u.easing=d);const f={delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return c&&(f.pseudoElement=c),t.animate(u,f)}function Nne(t){return typeof t=="function"&&"applyToOptions"in t}function $Ee({type:t,...e}){return Nne(t)&&Rne()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class HEe extends B4{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:n,name:r,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,ZA(typeof e.type!="string");const c=$Ee(e);this.animation=VEe(n,r,i,c,s),c.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const u=U4(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(u):FEe(n,r,u),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,n;(n=(e=this.animation).finish)==null||n.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,n;this.isPseudoElement||(n=(e=this.animation).commitStyles)==null||n.call(e)}get duration(){var n,r;const e=((r=(n=this.animation.effect)==null?void 0:n.getComputedTiming)==null?void 0:r.call(n).duration)||0;return Yo(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Yo(e)}get time(){return Yo(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Cc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:n}){var r;return this.allowFlatten&&((r=this.animation.effect)==null||r.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&UEe()?(this.animation.timeline=e,el):n(this)}}const Ine={anticipate:dne,backInOut:une,circInOut:hne};function GEe(t){return t in Ine}function WEe(t){typeof t.ease=="string"&&GEe(t.ease)&&(t.ease=Ine[t.ease])}const V$=10;class XEe extends HEe{constructor(e){WEe(e),Mne(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:n,onUpdate:r,onComplete:i,element:s,...a}=this.options;if(!n)return;if(e!==void 0){n.set(e);return}const o=new z4({...a,autoplay:!1}),l=Cc(this.finishedTime??this.time);n.setWithVelocity(o.sample(l-V$).value,o.sample(l).value,V$),o.stop()}}const $$=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_f.test(t)||t==="0")&&!t.startsWith("url("));function qEe(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function KEe(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=$$(i,e),o=$$(s,e);return!a||!o?!1:qEe(t)||(n==="spring"||Nne(n))&&r}function sL(t){t.duration=0,t.type="keyframes"}const YEe=new Set(["opacity","clipPath","filter","transform"]),ZEe=P4(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function JEe(t){var u;const{motionValue:e,name:n,repeatDelay:r,repeatType:i,damping:s,type:a}=t;if(!(((u=e==null?void 0:e.owner)==null?void 0:u.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=e.owner.getProps();return ZEe()&&n&&YEe.has(n)&&(n!=="transform"||!c)&&!l&&!r&&i!=="mirror"&&s!==0&&a!=="inertia"}const QEe=40;class eTe extends B4{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:c,element:u,...d}){var m;super(),this.stop=()=>{var g,v;this._animation&&(this._animation.stop(),(g=this.stopTimeline)==null||g.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=Va.now();const f={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:c,element:u,...d},h=(u==null?void 0:u.KeyframeResolver)||V4;this.keyframeResolver=new h(o,(g,v,y)=>this.onKeyframesResolved(g,v,f,!y),l,c,u),(m=this.keyframeResolver)==null||m.scheduleResolve()}onKeyframesResolved(e,n,r,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:c,onUpdate:u}=r;this.resolvedAt=Va.now(),KEe(e,s,a,o)||((Bu.instantAnimations||!l)&&(u==null||u(U4(e,r,n))),e[0]=e[e.length-1],sL(r),r.repeat=0);const f={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>QEe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:n,...r,keyframes:e},h=!c&&JEe(f)?new XEe({...f,element:f.motionValue.owner.current}):new z4(f);h.finished.then(()=>this.notifyFinished()).catch(el),this.pendingTimeline&&(this.stopTimeline=h.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=h}get finished(){return this._animation?this.animation.finished:this._finished}then(e,n){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),LEe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const tTe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nTe(t){const e=tTe.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function kne(t,e,n=1){const[r,i]=nTe(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return nne(a)?parseFloat(a):a}return k4(i)?kne(i,e,n+1):i}function $4(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const Dne=new Set(["width","height","top","left","right","bottom",...ry]),rTe={test:t=>t==="auto",parse:t=>t},Lne=t=>e=>e.test(t),jne=[ny,fn,Pc,Td,qSe,XSe,rTe],H$=t=>jne.find(Lne(t));function iTe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||ine(t):!0}const sTe=new Set(["brightness","contrast","saturate","opacity"]);function aTe(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(D4)||[];if(!r)return t;const i=n.replace(r,"");let s=sTe.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const oTe=/\b([a-z-]*)\(.*?\)/gu,aL={..._f,getAnimatableNone:t=>{const e=t.match(oTe);return e?e.map(aTe).join(" "):t}},G$={...ny,transform:Math.round},lTe={rotate:Td,rotateX:Td,rotateY:Td,rotateZ:Td,scale:qS,scaleX:qS,scaleY:qS,scaleZ:qS,skew:Td,skewX:Td,skewY:Td,distance:fn,translateX:fn,translateY:fn,translateZ:fn,x:fn,y:fn,z:fn,perspective:fn,transformPerspective:fn,opacity:Ew,originX:N$,originY:N$,originZ:fn},H4={borderWidth:fn,borderTopWidth:fn,borderRightWidth:fn,borderBottomWidth:fn,borderLeftWidth:fn,borderRadius:fn,radius:fn,borderTopLeftRadius:fn,borderTopRightRadius:fn,borderBottomRightRadius:fn,borderBottomLeftRadius:fn,width:fn,maxWidth:fn,height:fn,maxHeight:fn,top:fn,right:fn,bottom:fn,left:fn,padding:fn,paddingTop:fn,paddingRight:fn,paddingBottom:fn,paddingLeft:fn,margin:fn,marginTop:fn,marginRight:fn,marginBottom:fn,marginLeft:fn,backgroundPositionX:fn,backgroundPositionY:fn,...lTe,zIndex:G$,fillOpacity:Ew,strokeOpacity:Ew,numOctaves:G$},cTe={...H4,color:Li,backgroundColor:Li,outlineColor:Li,fill:Li,stroke:Li,borderColor:Li,borderTopColor:Li,borderRightColor:Li,borderBottomColor:Li,borderLeftColor:Li,filter:aL,WebkitFilter:aL},Fne=t=>cTe[t];function Une(t,e){let n=Fne(t);return n!==aL&&(n=_f),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const uTe=new Set(["auto","none","0"]);function dTe(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!uTe.has(s)&&Tw(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=Une(n,i)}class fTe extends V4{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),k4(c))){const u=kne(c,n.current);u!==void 0&&(e[l]=u),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!Dne.has(r)||e.length!==2)return;const[i,s]=e,a=H$(i),o=H$(s);if(a!==o)if(B$(a)&&B$(o))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else Mp[r]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)(e[i]===null||iTe(e[i]))&&r.push(i);r.length&&dTe(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Mp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:n,unresolvedKeyframes:r}=this;if(!e||!e.current)return;const i=e.getValue(n);i&&i.jump(this.measuredOrigin,!1);const s=r.length-1,a=r[s];r[s]=Mp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,c])=>{e.getValue(l).set(c)}),this.resolveNoneKeyframes()}}function hTe(t,e,n){if(t instanceof EventTarget)return[t];if(typeof t=="string"){const i=document.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const Bne=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function zne(t){return rne(t)&&"offsetHeight"in t}const W$=30,pTe=t=>!isNaN(parseFloat(t));class mTe{constructor(e,n={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=r=>{var s;const i=Va.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Va.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=pTe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new R4);const r=this.events[e].add(n);return e==="change"?()=>{r(),Gr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Va.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>W$)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,W$);return sne(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,n;(e=this.dependents)==null||e.clear(),(n=this.events.destroy)==null||n.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Vp(t,e){return new mTe(t,e)}const{schedule:G4,cancel:Wxt}=gne(queueMicrotask,!1),El={x:!1,y:!1};function Vne(){return El.x||El.y}function gTe(t){return t==="x"||t==="y"?El[t]?null:(El[t]=!0,()=>{El[t]=!1}):El.x||El.y?null:(El.x=El.y=!0,()=>{El.x=El.y=!1})}function $ne(t,e){const n=hTe(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function X$(t){return!(t.pointerType==="touch"||Vne())}function vTe(t,e,n={}){const[r,i,s]=$ne(t,n),a=o=>{if(!X$(o))return;const{target:l}=o,c=e(l,o);if(typeof c!="function"||!l)return;const u=d=>{X$(d)&&(c(d),l.removeEventListener("pointerleave",u))};l.addEventListener("pointerleave",u,i)};return r.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const Hne=(t,e)=>e?t===e?!0:Hne(t,e.parentElement):!1,W4=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,yTe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function xTe(t){return yTe.has(t.tagName)||t.tabIndex!==-1}const JT=new WeakSet;function q$(t){return e=>{e.key==="Enter"&&t(e)}}function sI(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const bTe=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=q$(()=>{if(JT.has(n))return;sI(n,"down");const i=q$(()=>{sI(n,"up")}),s=()=>sI(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function K$(t){return W4(t)&&!Vne()}function wTe(t,e,n={}){const[r,i,s]=$ne(t,n),a=o=>{const l=o.currentTarget;if(!K$(o))return;JT.add(l);const c=e(l,o),u=(h,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",f),JT.has(l)&&JT.delete(l),K$(h)&&typeof c=="function"&&c(h,{success:m})},d=h=>{u(h,l===window||l===document||n.useGlobalTarget||Hne(l,h.target))},f=h=>{u(h,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",f,i)};return r.forEach(o=>{(n.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),zne(o)&&(o.addEventListener("focus",c=>bTe(c,i)),!xTe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function Gne(t){return rne(t)&&"ownerSVGElement"in t}function _Te(t){return Gne(t)&&t.tagName==="svg"}const Hs=t=>!!(t&&t.getVelocity),STe=[...jne,Li,_f],ETe=t=>STe.find(Lne(t)),iP=T.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Y$(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function TTe(...t){return e=>{let n=!1;const r=t.map(i=>{const s=Y$(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():Y$(t[i],null)}}}}function ATe(...t){return T.useCallback(TTe(...t),t)}class MTe extends T.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=n.offsetParent,i=zne(r)&&r.offsetWidth||0,s=this.props.sizeRef.current;s.height=n.offsetHeight||0,s.width=n.offsetWidth||0,s.top=n.offsetTop,s.left=n.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function CTe({children:t,isPresent:e,anchorX:n,root:r}){const i=T.useId(),s=T.useRef(null),a=T.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=T.useContext(iP),l=ATe(s,t==null?void 0:t.ref);return T.useInsertionEffect(()=>{const{width:c,height:u,top:d,left:f,right:h}=a.current;if(e||!s.current||!c||!u)return;const m=n==="left"?`left: ${f}`:`right: ${h}`;s.current.dataset.motionPopId=i;const g=document.createElement("style");o&&(g.nonce=o);const v=r??document.head;return v.appendChild(g),g.sheet&&g.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${c}px !important;
            height: ${u}px !important;
            ${m}px !important;
            top: ${d}px !important;
          }
        `),()=>{v.contains(g)&&v.removeChild(g)}},[e]),p.jsx(MTe,{isPresent:e,childRef:s,sizeRef:a,children:T.cloneElement(t,{ref:l})})}const PTe=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const c=$1(RTe),u=T.useId();let d=!0,f=T.useMemo(()=>(d=!1,{id:u,initial:e,isPresent:n,custom:i,onExitComplete:h=>{c.set(h,!0);for(const m of c.values())if(!m)return;r&&r()},register:h=>(c.set(h,!1),()=>c.delete(h))}),[n,c,r]);return s&&d&&(f={...f}),T.useMemo(()=>{c.forEach((h,m)=>c.set(m,!1))},[n]),T.useEffect(()=>{!n&&!c.size&&r&&r()},[n]),a==="popLayout"&&(t=p.jsx(CTe,{isPresent:n,anchorX:o,root:l,children:t})),p.jsx(rP.Provider,{value:f,children:t})};function RTe(){return new Map}function Wne(t=!0){const e=T.useContext(rP);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=T.useId();T.useEffect(()=>{if(t)return i(s)},[t]);const a=T.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,a]:[!0]}const KS=t=>t.key||"";function Z$(t){const e=[];return T.Children.forEach(t,n=>{T.isValidElement(n)&&e.push(n)}),e}const J$=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[c,u]=Wne(a),d=T.useMemo(()=>Z$(t),[t]),f=a&&!c?[]:d.map(KS),h=T.useRef(!0),m=T.useRef(d),g=$1(()=>new Map),[v,y]=T.useState(d),[w,_]=T.useState(d);A4(()=>{h.current=!1,m.current=d;for(let A=0;A<w.length;A++){const M=KS(w[A]);f.includes(M)?g.delete(M):g.get(M)!==!0&&g.set(M,!1)}},[w,f.length,f.join("-")]);const S=[];if(d!==v){let A=[...d];for(let M=0;M<w.length;M++){const R=w[M],P=KS(R);f.includes(P)||(A.splice(M,0,R),S.push(R))}return s==="wait"&&S.length&&(A=S),_(Z$(A)),y(d),null}const{forceRender:E}=T.useContext(E4);return p.jsx(p.Fragment,{children:w.map(A=>{const M=KS(A),R=a&&!c?!1:d===w||f.includes(M),P=()=>{if(g.has(M))g.set(M,!0);else return;let O=!0;g.forEach(k=>{k||(O=!1)}),O&&(E==null||E(),_(m.current),a&&(u==null||u()),r&&r())};return p.jsx(PTe,{isPresent:R,initial:!h.current||n?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:R?void 0:P,anchorX:o,children:A},M)})})},Xne=T.createContext({strict:!1}),Q$={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Zv={};for(const t in Q$)Zv[t]={isEnabled:e=>Q$[t].some(n=>!!e[n])};function OTe(t){for(const e in t)Zv[e]={...Zv[e],...t[e]}}const NTe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function tM(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||NTe.has(t)}let qne=t=>!tM(t);function ITe(t){typeof t=="function"&&(qne=e=>e.startsWith("on")?!tM(e):t(e))}try{ITe(require("@emotion/is-prop-valid").default)}catch{}function kTe(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(qne(i)||n===!0&&tM(i)||!e&&!tM(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}const sP=T.createContext({});function aP(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Aw(t){return typeof t=="string"||Array.isArray(t)}const X4=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],q4=["initial",...X4];function oP(t){return aP(t.animate)||q4.some(e=>Aw(t[e]))}function Kne(t){return!!(oP(t)||t.variants)}function DTe(t,e){if(oP(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Aw(n)?n:void 0,animate:Aw(r)?r:void 0}}return t.inherit!==!1?e:{}}function LTe(t){const{initial:e,animate:n}=DTe(t,T.useContext(sP));return T.useMemo(()=>({initial:e,animate:n}),[eH(e),eH(n)])}function eH(t){return Array.isArray(t)?t.join(" "):t}const Mw={};function jTe(t){for(const e in t)Mw[e]=t[e],I4(e)&&(Mw[e].isCSSVariable=!0)}function Yne(t,{layout:e,layoutId:n}){return iy.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Mw[t]||t==="opacity")}const FTe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},UTe=ry.length;function BTe(t,e,n){let r="",i=!0;for(let s=0;s<UTe;s++){const a=ry[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||n){const c=Bne(o,H4[a]);if(!l){i=!1;const u=FTe[a]||a;r+=`${u}(${c}) `}n&&(e[a]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function K4(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const c=e[l];if(iy.has(l)){a=!0;continue}else if(I4(l)){i[l]=c;continue}else{const u=Bne(c,H4[l]);l.startsWith("origin")?(o=!0,s[l]=u):r[l]=u}}if(e.transform||(a||n?r.transform=BTe(e,t.transform,n):r.transform&&(r.transform="none")),o){const{originX:l="50%",originY:c="50%",originZ:u=0}=s;r.transformOrigin=`${l} ${c} ${u}`}}const Y4=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Zne(t,e,n){for(const r in e)!Hs(e[r])&&!Yne(r,n)&&(t[r]=e[r])}function zTe({transformTemplate:t},e){return T.useMemo(()=>{const n=Y4();return K4(n,e,t),Object.assign({},n.vars,n.style)},[e])}function VTe(t,e){const n=t.style||{},r={};return Zne(r,n,t),Object.assign(r,zTe(t,e)),r}function $Te(t,e){const n={},r=VTe(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}const HTe={offset:"stroke-dashoffset",array:"stroke-dasharray"},GTe={offset:"strokeDashoffset",array:"strokeDasharray"};function WTe(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?HTe:GTe;t[s.offset]=fn.transform(-r);const a=fn.transform(e),o=fn.transform(n);t[s.array]=`${a} ${o}`}function Jne(t,{attrX:e,attrY:n,attrScale:r,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,c,u){if(K4(t,o,c),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:d,style:f}=t;d.transform&&(f.transform=d.transform,delete d.transform),(f.transform||d.transformOrigin)&&(f.transformOrigin=d.transformOrigin??"50% 50%",delete d.transformOrigin),f.transform&&(f.transformBox=(u==null?void 0:u.transformBox)??"fill-box",delete d.transformBox),e!==void 0&&(d.x=e),n!==void 0&&(d.y=n),r!==void 0&&(d.scale=r),i!==void 0&&WTe(d,i,s,a,!1)}const Qne=()=>({...Y4(),attrs:{}}),ere=t=>typeof t=="string"&&t.toLowerCase()==="svg";function XTe(t,e,n,r){const i=T.useMemo(()=>{const s=Qne();return Jne(s,e,ere(r),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};Zne(s,t.style,t),i.style={...s,...i.style}}return i}const qTe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Z4(t){return typeof t!="string"||t.includes("-")?!1:!!(qTe.indexOf(t)>-1||/[A-Z]/u.test(t))}function KTe(t,e,n,{latestValues:r},i,s=!1){const o=(Z4(t)?XTe:$Te)(e,r,i,t),l=kTe(e,typeof t=="string",s),c=t!==T.Fragment?{...l,...o,ref:n}:{},{children:u}=e,d=T.useMemo(()=>Hs(u)?u.get():u,[u]);return T.createElement(t,{...c,children:d})}function tH(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function J4(t,e,n,r){if(typeof e=="function"){const[i,s]=tH(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=tH(r);e=e(n!==void 0?n:t.custom,i,s)}return e}function QT(t){return Hs(t)?t.get():t}function YTe({scrapeMotionValuesFromProps:t,createRenderState:e},n,r,i){return{latestValues:ZTe(n,r,i,t),renderState:e()}}function ZTe(t,e,n,r){const i={},s=r(t,{});for(const f in s)i[f]=QT(s[f]);let{initial:a,animate:o}=t;const l=oP(t),c=Kne(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const d=u?o:a;if(d&&typeof d!="boolean"&&!aP(d)){const f=Array.isArray(d)?d:[d];for(let h=0;h<f.length;h++){const m=J4(t,f[h]);if(m){const{transitionEnd:g,transition:v,...y}=m;for(const w in y){let _=y[w];if(Array.isArray(_)){const S=u?_.length-1:0;_=_[S]}_!==null&&(i[w]=_)}for(const w in g)i[w]=g[w]}}}return i}const tre=t=>(e,n)=>{const r=T.useContext(sP),i=T.useContext(rP),s=()=>YTe(t,e,r,i);return n?s():$1(s)};function Q4(t,e,n){var s;const{style:r}=t,i={};for(const a in r)(Hs(r[a])||e.style&&Hs(e.style[a])||Yne(a,t)||((s=n==null?void 0:n.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=r[a]);return i}const JTe=tre({scrapeMotionValuesFromProps:Q4,createRenderState:Y4});function nre(t,e,n){const r=Q4(t,e,n);for(const i in t)if(Hs(t[i])||Hs(e[i])){const s=ry.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}const QTe=tre({scrapeMotionValuesFromProps:nre,createRenderState:Qne}),eAe=Symbol.for("motionComponentSymbol");function Qg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function tAe(t,e,n){return T.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Qg(n)&&(n.current=r))},[e])}const eB=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nAe="framerAppearId",rre="data-"+eB(nAe),ire=T.createContext({});function rAe(t,e,n,r,i){var g,v;const{visualElement:s}=T.useContext(sP),a=T.useContext(Xne),o=T.useContext(rP),l=T.useContext(iP).reducedMotion,c=T.useRef(null);r=r||a.renderer,!c.current&&r&&(c.current=r(t,{visualState:e,parent:s,props:n,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const u=c.current,d=T.useContext(ire);u&&!u.projection&&i&&(u.type==="html"||u.type==="svg")&&iAe(c.current,n,i,d);const f=T.useRef(!1);T.useInsertionEffect(()=>{u&&f.current&&u.update(n,o)});const h=n[rre],m=T.useRef(!!h&&!((g=window.MotionHandoffIsComplete)!=null&&g.call(window,h))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,h)));return A4(()=>{u&&(f.current=!0,window.MotionIsMounted=!0,u.updateFeatures(),u.scheduleRenderMicrotask(),m.current&&u.animationState&&u.animationState.animateChanges())}),T.useEffect(()=>{u&&(!m.current&&u.animationState&&u.animationState.animateChanges(),m.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)==null||y.call(window,h)}),m.current=!1),u.enteringChildren=void 0)}),u}function iAe(t,e,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:c,layoutCrossfade:u}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:sre(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Qg(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,crossfade:u,layoutScroll:l,layoutRoot:c})}function sre(t){if(t)return t.options.allowProjection!==!1?t.projection:sre(t.parent)}function aI(t,{forwardMotionProps:e=!1}={},n,r){n&&OTe(n);const i=Z4(t)?QTe:JTe;function s(o,l){let c;const u={...T.useContext(iP),...o,layoutId:sAe(o)},{isStatic:d}=u,f=LTe(o),h=i(o,d);if(!d&&T4){aAe();const m=oAe(u);c=m.MeasureLayout,f.visualElement=rAe(t,h,u,r,m.ProjectionNode)}return p.jsxs(sP.Provider,{value:f,children:[c&&f.visualElement?p.jsx(c,{visualElement:f.visualElement,...u}):null,KTe(t,o,tAe(h,f.visualElement,l),h,d,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=T.forwardRef(s);return a[eAe]=t,a}function sAe({layoutId:t}){const e=T.useContext(E4).id;return e&&t!==void 0?e+"-"+t:t}function aAe(t,e){T.useContext(Xne).strict}function oAe(t){const{drag:e,layout:n}=Zv;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}function lAe(t,e){if(typeof Proxy>"u")return aI;const n=new Map,r=(s,a)=>aI(s,a,t,e),i=(s,a)=>r(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?r:(n.has(a)||n.set(a,aI(a,void 0,t,e)),n.get(a))})}function are({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function cAe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function uAe(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function oI(t){return t===void 0||t===1}function oL({scale:t,scaleX:e,scaleY:n}){return!oI(t)||!oI(e)||!oI(n)}function Dh(t){return oL(t)||ore(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function ore(t){return nH(t.x)||nH(t.y)}function nH(t){return t&&t!=="0%"}function nM(t,e,n){const r=t-n,i=e*r;return n+i}function rH(t,e,n,r,i){return i!==void 0&&(t=nM(t,i,r)),nM(t,n,r)+e}function lL(t,e=0,n=1,r,i){t.min=rH(t.min,e,n,r,i),t.max=rH(t.max,e,n,r,i)}function lre(t,{x:e,y:n}){lL(t.x,e.translate,e.scale,e.originPoint),lL(t.y,n.translate,n.scale,n.originPoint)}const iH=.999999999999,sH=1.0000000000001;function dAe(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&tv(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,lre(t,a)),r&&Dh(s.latestValues)&&tv(t,s.latestValues))}e.x<sH&&e.x>iH&&(e.x=1),e.y<sH&&e.y>iH&&(e.y=1)}function ev(t,e){t.min=t.min+e,t.max=t.max+e}function aH(t,e,n,r,i=.5){const s=Jr(t.min,t.max,i);lL(t,e,n,s,r)}function tv(t,e){aH(t.x,e.x,e.scaleX,e.scale,e.originX),aH(t.y,e.y,e.scaleY,e.scale,e.originY)}function cre(t,e){return are(uAe(t.getBoundingClientRect(),e))}function fAe(t,e,n){const r=cre(t,n),{scroll:i}=e;return i&&(ev(r.x,i.offset.x),ev(r.y,i.offset.y)),r}const oH=()=>({translate:0,scale:1,origin:0,originPoint:0}),nv=()=>({x:oH(),y:oH()}),lH=()=>({min:0,max:0}),bi=()=>({x:lH(),y:lH()}),cL={current:null},ure={current:!1};function hAe(){if(ure.current=!0,!!T4)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>cL.current=t.matches;t.addEventListener("change",e),e()}else cL.current=!1}const pAe=new WeakMap;function mAe(t,e,n){for(const r in e){const i=e[r],s=n[r];if(Hs(i))t.addValue(r,i);else if(Hs(s))t.addValue(r,Vp(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const a=t.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(r);t.addValue(r,Vp(a!==void 0?a:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const cH=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class gAe{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=V4,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=Va.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,Gr.render(this.render,!1,!0))};const{latestValues:l,renderState:c}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=oP(n),this.isVariantNode=Kne(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in d){const h=d[f];l[f]!==void 0&&Hs(h)&&h.set(l[f])}}mount(e){var n;this.current=e,pAe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,i)=>this.bindToMotionValue(i,r)),ure.current||hAe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:cL.current,(n=this.parent)==null||n.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),wf(this.notifyUpdate),wf(this.render),this.valueSubscriptions.forEach(n=>n()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const n in this.events)this.events[n].clear();for(const n in this.features){const r=this.features[n];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=iy.has(e);r&&this.onBindTransform&&this.onBindTransform();const i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Gr.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Zv){const n=Zv[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):bi()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<cH.length;r++){const i=cH[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=mAe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Vp(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){let r=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return r!=null&&(typeof r=="string"&&(nne(r)||ine(r))?r=parseFloat(r):!ETe(r)&&_f.test(n)&&(r=Une(e,n)),this.setBaseTarget(e,Hs(r)?r.get():r)),Hs(r)?r.get():r}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var s;const{initial:n}=this.props;let r;if(typeof n=="string"||typeof n=="object"){const a=J4(this.props,n,(s=this.presenceContext)==null?void 0:s.custom);a&&(r=a[e])}if(n&&r!==void 0)return r;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Hs(i)?i:this.initialValues[e]!==void 0&&r===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new R4),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}scheduleRenderMicrotask(){G4.render(this.render)}}class dre extends gAe{constructor(){super(...arguments),this.KeyframeResolver=fTe}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Hs(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function fre(t,{style:e,vars:n},r,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,r);for(a in n)s.setProperty(a,n[a])}function vAe(t){return window.getComputedStyle(t)}class yAe extends dre{constructor(){super(...arguments),this.type="html",this.renderInstance=fre}readValueFromInstance(e,n){var r;if(iy.has(n))return(r=this.projection)!=null&&r.isProjecting?eL(n):OEe(e,n);{const i=vAe(e),s=(I4(n)?i.getPropertyValue(n):i[n])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:n}){return cre(e,n)}build(e,n,r){K4(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return Q4(e,n,r)}}const hre=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function xAe(t,e,n,r){fre(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(hre.has(i)?i:eB(i),e.attrs[i])}class bAe extends dre{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=bi}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(iy.has(n)){const r=Fne(n);return r&&r.default||0}return n=hre.has(n)?n:eB(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return nre(e,n,r)}build(e,n,r){Jne(e,n,this.isSVGTag,r.transformTemplate,r.style)}renderInstance(e,n,r,i){xAe(e,n,r,i)}mount(e){this.isSVGTag=ere(e.tagName),super.mount(e)}}const wAe=(t,e)=>Z4(t)?new bAe(e):new yAe(e,{allowProjection:t!==T.Fragment});function yv(t,e,n){const r=t.getProps();return J4(r,e,n!==void 0?n:r.custom,t)}const uL=t=>Array.isArray(t);function _Ae(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Vp(n))}function SAe(t){return uL(t)?t[t.length-1]||0:t}function tB(t,e){const n=yv(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=SAe(s[a]);_Ae(t,a,o)}}function EAe(t){return!!(Hs(t)&&t.add)}function dL(t,e){const n=t.getValue("willChange");if(EAe(n))return n.add(e);if(!n&&Bu.WillChange){const r=new Bu.WillChange("auto");t.addValue("willChange",r),r.add(e)}}function pre(t){return t.props[rre]}const TAe=t=>t!==null;function AAe(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(TAe),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const MAe={type:"spring",stiffness:500,damping:25,restSpeed:10},CAe=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),PAe={type:"keyframes",duration:.8},RAe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},OAe=(t,{keyframes:e})=>e.length>2?PAe:iy.has(t)?t.startsWith("scale")?CAe(e[1]):MAe:RAe;function NAe({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}const nB=(t,e,n,r={},i,s)=>a=>{const o=$4(r,t)||{},l=o.delay||r.delay||0;let{elapsed:c=0}=r;c=c-Cc(l);const u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-c,onUpdate:f=>{e.set(f),o.onUpdate&&o.onUpdate(f)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};NAe(o)||Object.assign(u,OAe(t,u)),u.duration&&(u.duration=Cc(u.duration)),u.repeatDelay&&(u.repeatDelay=Cc(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(sL(u),u.delay===0&&(d=!0)),(Bu.instantAnimations||Bu.skipAnimations)&&(d=!0,sL(u),u.delay=0),u.allowFlatten=!o.type&&!o.ease,d&&!s&&e.get()!==void 0){const f=AAe(u.keyframes,o);if(f!==void 0){Gr.update(()=>{u.onUpdate(f),u.onComplete()});return}}return o.isSync?new z4(u):new eTe(u)};function IAe({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function mre(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;r&&(s=r);const l=[],c=i&&t.animationState&&t.animationState.getState()[i];for(const u in o){const d=t.getValue(u,t.latestValues[u]??null),f=o[u];if(f===void 0||c&&IAe(c,u))continue;const h={delay:n,...$4(s||{},u)},m=d.get();if(m!==void 0&&!d.isAnimating&&!Array.isArray(f)&&f===m&&!h.velocity)continue;let g=!1;if(window.MotionHandoffAnimation){const y=pre(t);if(y){const w=window.MotionHandoffAnimation(y,u,Gr);w!==null&&(h.startTime=w,g=!0)}}dL(t,u),d.start(nB(u,d,f,t.shouldReduceMotion&&Dne.has(u)?{type:!1}:h,t,g));const v=d.animation;v&&l.push(v)}return a&&Promise.all(l).then(()=>{Gr.update(()=>{a&&tB(t,a)})}),l}function gre(t,e,n,r=0,i=1){const s=Array.from(t).sort((c,u)=>c.sortNodePosition(u)).indexOf(e),a=t.size,o=(a-1)*r;return typeof n=="function"?n(s,a):i===1?s*r:o-s*r}function fL(t,e,n={}){var l;const r=yv(t,e,n.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(mre(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return kAe(t,e,c,u,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[s,a]:[a,s];return c().then(()=>u())}else return Promise.all([s(),a(n.delay)])}function kAe(t,e,n=0,r=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(fL(l,e,{...a,delay:n+(typeof r=="function"?0:r)+gre(t.variantChildren,l,r,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function vre(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>fL(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=fL(t,e,n);else{const i=typeof e=="function"?yv(t,e,n.custom):e;r=Promise.all(mre(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}function yre(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}const DAe=q4.length;function xre(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?xre(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<DAe;n++){const r=q4[n],i=t.props[r];(Aw(i)||i===!1)&&(e[r]=i)}return e}const LAe=[...X4].reverse(),jAe=X4.length;function FAe(t){return e=>Promise.all(e.map(({animation:n,options:r})=>vre(t,n,r)))}function UAe(t){let e=FAe(t),n=uH(),r=!0;const i=l=>(c,u)=>{var f;const d=yv(t,u,l==="exit"?(f=t.presenceContext)==null?void 0:f.custom:void 0);if(d){const{transition:h,transitionEnd:m,...g}=d;c={...c,...g,...m}}return c};function s(l){e=l(t)}function a(l){const{props:c}=t,u=xre(t.parent)||{},d=[],f=new Set;let h={},m=1/0;for(let v=0;v<jAe;v++){const y=LAe[v],w=n[y],_=c[y]!==void 0?c[y]:u[y],S=Aw(_),E=y===l?w.isActive:null;E===!1&&(m=v);let A=_===u[y]&&_!==c[y]&&S;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),w.protectedKeys={...h},!w.isActive&&E===null||!_&&!w.prevProp||aP(_)||typeof _=="boolean")continue;const M=BAe(w.prevProp,_);let R=M||y===l&&w.isActive&&!A&&S||v>m&&S,P=!1;const O=Array.isArray(_)?_:[_];let k=O.reduce(i(y),{});E===!1&&(k={});const{prevResolvedValues:I={}}=w,F={...I,...k},L=K=>{R=!0,f.has(K)&&(P=!0,f.delete(K)),w.needsAnimating[K]=!0;const j=t.getValue(K);j&&(j.liveStyle=!1)};for(const K in F){const j=k[K],U=I[K];if(h.hasOwnProperty(K))continue;let $=!1;uL(j)&&uL(U)?$=!yre(j,U):$=j!==U,$?j!=null?L(K):f.add(K):j!==void 0&&f.has(K)?L(K):w.protectedKeys[K]=!0}w.prevProp=_,w.prevResolvedValues=k,w.isActive&&(h={...h,...k}),r&&t.blockInitialAnimation&&(R=!1);const V=A&&M;R&&(!V||P)&&d.push(...O.map(K=>{const j={type:y};if(typeof K=="string"&&r&&!V&&t.manuallyAnimateOnMount&&t.parent){const{parent:U}=t,$=yv(U,K);if(U.enteringChildren&&$){const{delayChildren:G}=$.transition||{};j.delay=gre(U.enteringChildren,t,G)}}return{animation:K,options:j}}))}if(f.size){const v={};if(typeof c.initial!="boolean"){const y=yv(t,Array.isArray(c.initial)?c.initial[0]:c.initial);y&&y.transition&&(v.transition=y.transition)}f.forEach(y=>{const w=t.getBaseTarget(y),_=t.getValue(y);_&&(_.liveStyle=!0),v[y]=w??null}),d.push({animation:v})}let g=!!d.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function o(l,c){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)==null||d.forEach(f=>{var h;return(h=f.animationState)==null?void 0:h.setActive(l,c)}),n[l].isActive=c;const u=a(l);for(const f in n)n[f].protectedKeys={};return u}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=uH()}}}function BAe(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!yre(e,t):!1}function dh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function uH(){return{animate:dh(!0),whileInView:dh(),whileHover:dh(),whileTap:dh(),whileDrag:dh(),whileFocus:dh(),exit:dh()}}class Lf{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zAe extends Lf{constructor(e){super(e),e.animationState||(e.animationState=UAe(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();aP(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let VAe=0;class $Ae extends Lf{constructor(){super(...arguments),this.id=VAe++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>{n(this.id)})}mount(){const{register:e,onExitComplete:n}=this.node.presenceContext||{};n&&n(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const HAe={animation:{Feature:zAe},exit:{Feature:$Ae}};function Cw(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function X1(t){return{point:{x:t.pageX,y:t.pageY}}}const GAe=t=>e=>W4(e)&&t(e,X1(e));function Sb(t,e,n,r){return Cw(t,e,GAe(n),r)}const bre=1e-4,WAe=1-bre,XAe=1+bre,wre=.01,qAe=0-wre,KAe=0+wre;function pa(t){return t.max-t.min}function YAe(t,e,n){return Math.abs(t-e)<=n}function dH(t,e,n,r=.5){t.origin=r,t.originPoint=Jr(e.min,e.max,t.origin),t.scale=pa(n)/pa(e),t.translate=Jr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=WAe&&t.scale<=XAe||isNaN(t.scale))&&(t.scale=1),(t.translate>=qAe&&t.translate<=KAe||isNaN(t.translate))&&(t.translate=0)}function Eb(t,e,n,r){dH(t.x,e.x,n.x,r?r.originX:void 0),dH(t.y,e.y,n.y,r?r.originY:void 0)}function fH(t,e,n){t.min=n.min+e.min,t.max=t.min+pa(e)}function ZAe(t,e,n){fH(t.x,e.x,n.x),fH(t.y,e.y,n.y)}function hH(t,e,n){t.min=e.min-n.min,t.max=t.min+pa(e)}function Tb(t,e,n){hH(t.x,e.x,n.x),hH(t.y,e.y,n.y)}function zo(t){return[t("x"),t("y")]}const _re=({current:t})=>t?t.ownerDocument.defaultView:null,pH=(t,e)=>Math.abs(t-e);function JAe(t,e){const n=pH(t.x,e.x),r=pH(t.y,e.y);return Math.sqrt(n**2+r**2)}class Sre{constructor(e,n,{transformPagePoint:r,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=cI(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=JAe(f.offset,{x:0,y:0})>=this.distanceThreshold;if(!h&&!m)return;const{point:g}=f,{timestamp:v}=ws;this.history.push({...g,timestamp:v});const{onStart:y,onMove:w}=this.handlers;h||(y&&y(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),w&&w(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=lI(h,this.transformPagePoint),Gr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:g,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=cI(f.type==="pointercancel"?this.lastMoveEventInfo:lI(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,y),g&&g(f,y)},!W4(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.distanceThreshold=a,this.contextWindow=i||window;const o=X1(e),l=lI(o,this.transformPagePoint),{point:c}=l,{timestamp:u}=ws;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(e,cI(l,this.history)),this.removeListeners=H1(Sb(this.contextWindow,"pointermove",this.handlePointerMove),Sb(this.contextWindow,"pointerup",this.handlePointerUp),Sb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wf(this.updatePoint)}}function lI(t,e){return e?{point:e(t.point)}:t}function mH(t,e){return{x:t.x-e.x,y:t.y-e.y}}function cI({point:t},e){return{point:t,delta:mH(t,Ere(e)),offset:mH(t,QAe(e)),velocity:eMe(e,.1)}}function QAe(t){return t[0]}function Ere(t){return t[t.length-1]}function eMe(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=Ere(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Cc(e)));)n--;if(!r)return{x:0,y:0};const s=Yo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function tMe(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Jr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Jr(n,t,r.max):Math.min(t,n)),t}function gH(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nMe(t,{top:e,left:n,bottom:r,right:i}){return{x:gH(t.x,n,i),y:gH(t.y,e,r)}}function vH(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rMe(t,e){return{x:vH(t.x,e.x),y:vH(t.y,e.y)}}function iMe(t,e){let n=.5;const r=pa(t),i=pa(e);return i>r?n=Sw(e.min,e.max-r,t.min):r>i&&(n=Sw(t.min,t.max-i,e.min)),Uu(0,1,n)}function sMe(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hL=.35;function aMe(t=hL){return t===!1?t=0:t===!0&&(t=hL),{x:yH(t,"left","right"),y:yH(t,"top","bottom")}}function yH(t,e,n){return{min:xH(t,e),max:xH(t,n)}}function xH(t,e){return typeof t=="number"?t:t[e]||0}const oMe=new WeakMap;class lMe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=bi(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:n=!1,distanceThreshold:r}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(X1(d).point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:g}=this.getProps();if(h&&!m&&(this.openDragLock&&this.openDragLock(),this.openDragLock=gTe(h),!this.openDragLock))return;this.latestPointerEvent=d,this.latestPanInfo=f,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),zo(y=>{let w=this.getAxisMotionValue(y).get()||0;if(Pc.test(w)){const{projection:_}=this.visualElement;if(_&&_.layout){const S=_.layout.layoutBox[y];S&&(w=pa(S)*(parseFloat(w)/100))}}this.originPoint[y]=w}),g&&Gr.postRender(()=>g(d,f)),dL(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},o=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f;const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:g,onDrag:v}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:y}=f;if(m&&this.currentDirection===null){this.currentDirection=cMe(y),this.currentDirection!==null&&g&&g(this.currentDirection);return}this.updateAxis("x",f.point,y),this.updateAxis("y",f.point,y),this.visualElement.render(),v&&v(d,f)},l=(d,f)=>{this.latestPointerEvent=d,this.latestPanInfo=f,this.stop(d,f),this.latestPointerEvent=null,this.latestPanInfo=null},c=()=>zo(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)==null?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new Sre(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,distanceThreshold:r,contextWindow:_re(this.visualElement)})}stop(e,n){const r=e||this.latestPointerEvent,i=n||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!r)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Gr.postRender(()=>o(r,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!YS(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=tMe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:n}=this.getProps(),r=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Qg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=nMe(r.layoutBox,e):this.constraints=!1,this.elastic=aMe(n),i!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&zo(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=sMe(r.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Qg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=fAe(r,i.root,this.visualElement.getTransformPagePoint());let a=rMe(i.layout.layoutBox,s);if(n){const o=n(cAe(a));this.hasMutatedConstraints=!!o,o&&(a=are(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=zo(u=>{if(!YS(u,n,this.currentDirection))return;let d=l&&l[u]||{};a&&(d={min:0,max:0});const f=i?200:1e6,h=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:f,bounceDamping:h,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return dL(this.visualElement,e),r.start(nB(e,r,0,n,this.visualElement,!1))}stopAnimation(){zo(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){zo(e=>{var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)==null?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){zo(n=>{const{drag:r}=this.getProps();if(!YS(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-Jr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Qg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};zo(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=iMe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),zo(a=>{if(!YS(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(Jr(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;oMe.set(this.visualElement,this);const e=this.visualElement.current,n=Sb(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Qg(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Gr.read(r);const a=Cw(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(zo(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=hL,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function YS(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function cMe(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class uMe extends Lf{constructor(e){super(e),this.removeGroupControls=el,this.removeListeners=el,this.controls=new lMe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||el}unmount(){this.removeGroupControls(),this.removeListeners()}}const bH=t=>(e,n)=>{t&&Gr.postRender(()=>t(e,n))};class dMe extends Lf{constructor(){super(...arguments),this.removePointerDownListener=el}onPointerDown(e){this.session=new Sre(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:_re(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:bH(e),onStart:bH(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Gr.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=Sb(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const eA={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function wH(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const hx={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(fn.test(t))t=parseFloat(t);else return t;const n=wH(t,e.target.x),r=wH(t,e.target.y);return`${n}% ${r}%`}},fMe={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=_f.parse(t);if(i.length>5)return r;const s=_f.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=Jr(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};let uI=!1;class hMe extends T.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;jTe(pMe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),uI&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),eA.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,{projection:a}=r;return a&&(a.isPresent=s,uI=!0,i||e.layoutDependency!==n||n===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Gr.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),G4.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;uI=!0,i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Tre(t){const[e,n]=Wne(),r=T.useContext(E4);return p.jsx(hMe,{...t,layoutGroup:r,switchLayoutGroup:T.useContext(ire),isPresent:e,safeToRemove:n})}const pMe={borderRadius:{...hx,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:hx,borderTopRightRadius:hx,borderBottomLeftRadius:hx,borderBottomRightRadius:hx,boxShadow:fMe};function mMe(t,e,n){const r=Hs(t)?t:Vp(t);return r.start(nB("",r,e,n)),r.animation}const gMe=(t,e)=>t.depth-e.depth;class vMe{constructor(){this.children=[],this.isDirty=!1}add(e){M4(this.children,e),this.isDirty=!0}remove(e){C4(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(gMe),this.isDirty=!1,this.children.forEach(e)}}function yMe(t,e){const n=Va.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(wf(r),t(s-e))};return Gr.setup(r,!0),()=>wf(r)}const Are=["TopLeft","TopRight","BottomLeft","BottomRight"],xMe=Are.length,_H=t=>typeof t=="string"?parseFloat(t):t,SH=t=>typeof t=="number"||fn.test(t);function bMe(t,e,n,r,i,s){i?(t.opacity=Jr(0,n.opacity??1,wMe(r)),t.opacityExit=Jr(e.opacity??1,0,_Me(r))):s&&(t.opacity=Jr(e.opacity??1,n.opacity??1,r));for(let a=0;a<xMe;a++){const o=`border${Are[a]}Radius`;let l=EH(e,o),c=EH(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||SH(l)===SH(c)?(t[o]=Math.max(Jr(_H(l),_H(c),r),0),(Pc.test(c)||Pc.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=Jr(e.rotate||0,n.rotate||0,r))}function EH(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const wMe=Mre(0,.5,fne),_Me=Mre(.5,.95,el);function Mre(t,e,n){return r=>r<t?0:r>e?1:n(Sw(t,e,r))}function TH(t,e){t.min=e.min,t.max=e.max}function Lo(t,e){TH(t.x,e.x),TH(t.y,e.y)}function AH(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function MH(t,e,n,r,i){return t-=e,t=nM(t,1/n,r),i!==void 0&&(t=nM(t,1/i,r)),t}function SMe(t,e=0,n=1,r=.5,i,s=t,a=t){if(Pc.test(e)&&(e=parseFloat(e),e=Jr(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=Jr(s.min,s.max,r);t===s&&(o-=e),t.min=MH(t.min,e,n,o,i),t.max=MH(t.max,e,n,o,i)}function CH(t,e,[n,r,i],s,a){SMe(t,e[n],e[r],e[i],e.scale,s,a)}const EMe=["x","scaleX","originX"],TMe=["y","scaleY","originY"];function PH(t,e,n,r){CH(t.x,e,EMe,n?n.x:void 0,r?r.x:void 0),CH(t.y,e,TMe,n?n.y:void 0,r?r.y:void 0)}function RH(t){return t.translate===0&&t.scale===1}function Cre(t){return RH(t.x)&&RH(t.y)}function OH(t,e){return t.min===e.min&&t.max===e.max}function AMe(t,e){return OH(t.x,e.x)&&OH(t.y,e.y)}function NH(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Pre(t,e){return NH(t.x,e.x)&&NH(t.y,e.y)}function IH(t){return pa(t.x)/pa(t.y)}function kH(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class MMe{constructor(){this.members=[]}add(e){M4(this.members,e),e.scheduleRender()}remove(e){if(C4(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CMe(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:u,rotateX:d,rotateY:f,skewX:h,skewY:m}=n;c&&(r=`perspective(${c}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),f&&(r+=`rotateY(${f}deg) `),h&&(r+=`skewX(${h}deg) `),m&&(r+=`skewY(${m}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(r+=`scale(${o}, ${l})`),r||"none"}const dI=["","X","Y","Z"],PMe=1e3;let RMe=0;function fI(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function Rre(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=pre(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Gr,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&Rre(r)}function Ore({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=RMe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(IMe),this.nodes.forEach(jMe),this.nodes.forEach(FMe),this.nodes.forEach(kMe)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new vMe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new R4),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=Gne(a)&&!_Te(a),this.instance=a;const{layoutId:o,layout:l,visualElement:c}=this.options;if(c&&!c.current&&c.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let u,d=0;const f=()=>this.root.updateBlockedByResize=!1;Gr.read(()=>{d=window.innerWidth}),t(a,()=>{const h=window.innerWidth;h!==d&&(d=h,this.root.updateBlockedByResize=!0,u&&u(),u=yMe(f,250),eA.hasAnimatedSinceResize&&(eA.hasAnimatedSinceResize=!1,this.nodes.forEach(jH)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&c&&(o||l)&&this.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d,hasRelativeLayoutChanged:f,layout:h})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const m=this.options.transition||c.getDefaultTransition()||$Me,{onLayoutAnimationStart:g,onLayoutAnimationComplete:v}=c.getProps(),y=!this.targetLayout||!Pre(this.targetLayout,h),w=!d&&f;if(this.options.layoutRoot||this.resumeFrom||w||d&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const _={...$4(m,"layout"),onPlay:g,onComplete:v};(c.shouldReduceMotion||this.options.layoutRoot)&&(_.delay=0,_.type=!1),this.startAnimation(_),this.setAnimationOrigin(u,w)}else d||jH(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=h})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(UMe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rre(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(DH);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(LH);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(LMe),this.nodes.forEach(OMe),this.nodes.forEach(NMe)):this.nodes.forEach(LH),this.clearAllSnapshots();const o=Va.now();ws.delta=Uu(0,1e3/60,o-ws.timestamp),ws.timestamp=o,ws.isProcessing=!0,eI.update.process(ws),eI.preRender.process(ws),eI.render.process(ws),ws.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,G4.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(DMe),this.sharedNodes.forEach(BMe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Gr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Gr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pa(this.snapshot.measuredBox.x)&&!pa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=bi(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Cre(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&this.instance&&(o||Dh(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),HMe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var c;const{visualElement:a}=this.options;if(!a)return bi();const o=a.measureViewportBox();if(!(((c=this.scroll)==null?void 0:c.wasRoot)||this.path.some(GMe))){const{scroll:u}=this.root;u&&(ev(o.x,u.offset.x),ev(o.y,u.offset.y))}return o}removeElementScroll(a){var l;const o=bi();if(Lo(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;u!==this.root&&d&&f.layoutScroll&&(d.wasRoot&&Lo(o,a),ev(o.x,d.offset.x),ev(o.y,d.offset.y))}return o}applyTransform(a,o=!1){const l=bi();Lo(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&tv(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),Dh(u.latestValues)&&tv(l,u.latestValues)}return Dh(this.latestValues)&&tv(l,this.latestValues),l}removeTransform(a){const o=bi();Lo(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Dh(c.latestValues))continue;oL(c.latestValues)&&c.updateSnapshot();const u=bi(),d=c.measurePageBox();Lo(u,d),PH(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return Dh(this.latestValues)&&PH(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ws.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var f;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(f=this.parent)!=null&&f.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:u,layoutId:d}=this.options;if(!(!this.layout||!(u||d))){if(this.resolvedRelativeTargetAt=ws.timestamp,!this.targetDelta&&!this.relativeTarget){const h=this.getClosestProjectingParent();h&&h.layout&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bi(),this.relativeTargetOrigin=bi(),Tb(this.relativeTargetOrigin,this.layout.layoutBox,h.layout.layoutBox),Lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=bi(),this.targetWithTransforms=bi()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),ZAe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Lo(this.target,this.layout.layoutBox),lre(this.target,this.targetDelta)):Lo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const h=this.getClosestProjectingParent();h&&!!h.resumingFrom==!!this.resumingFrom&&!h.options.layoutScroll&&h.target&&this.animationProgress!==1?(this.relativeParent=h,this.forceRelativeParentToResolveTarget(),this.relativeTarget=bi(),this.relativeTargetOrigin=bi(),Tb(this.relativeTargetOrigin,this.target,h.target),Lo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||oL(this.parent.latestValues)||ore(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var m;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(m=this.parent)!=null&&m.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ws.timestamp&&(l=!1),l)return;const{layout:c,layoutId:u}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||u))return;Lo(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,f=this.treeScale.y;dAe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=bi());const{target:h}=a;if(!h){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(AH(this.prevProjectionDelta.x,this.projectionDelta.x),AH(this.prevProjectionDelta.y,this.projectionDelta.y)),Eb(this.projectionDelta,this.layoutCorrected,h,this.latestValues),(this.treeScale.x!==d||this.treeScale.y!==f||!kH(this.projectionDelta.x,this.prevProjectionDelta.x)||!kH(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",h))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=nv(),this.projectionDelta=nv(),this.projectionDeltaWithTransform=nv()}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=nv();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const f=bi(),h=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=h!==m,v=this.getStack(),y=!v||v.members.length<=1,w=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(VMe));this.animationProgress=0;let _;this.mixTargetDelta=S=>{const E=S/1e3;FH(d.x,a.x,E),FH(d.y,a.y,E),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Tb(f,this.layout.layoutBox,this.relativeParent.layout.layoutBox),zMe(this.relativeTarget,this.relativeTargetOrigin,f,E),_&&AMe(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=bi()),Lo(_,this.relativeTarget)),g&&(this.animationValues=u,bMe(u,c,this.latestValues,E,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,c;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(c=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||c.stop(),this.pendingAnimation&&(wf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Gr.update(()=>{eA.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Vp(0)),this.currentAnimation=mMe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:u=>{this.mixTargetDelta(u),a.onUpdate&&a.onUpdate(u)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(PMe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&Nre(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||bi();const d=pa(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+d;const f=pa(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+f}Lo(o,l),tv(o,u),Eb(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new MMe),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const c={};l.z&&fI("z",a,c,this.animationValues);for(let u=0;u<dI.length;u++)fI(`rotate${dI[u]}`,a,c,this.animationValues),fI(`skew${dI[u]}`,a,c,this.animationValues);a.render();for(const u in c)a.setStaticValue(u,c[u]),this.animationValues&&(this.animationValues[u]=c[u]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=QT(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const c=this.getLead();if(!this.projectionDelta||!this.layout||!c.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=QT(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Dh(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const u=c.animationValues||c.latestValues;this.applyTransformsToTarget();let d=CMe(this.projectionDeltaWithTransform,this.treeScale,u);l&&(d=l(u,d)),a.transform=d;const{x:f,y:h}=this.projectionDelta;a.transformOrigin=`${f.origin*100}% ${h.origin*100}% 0`,c.animationValues?a.opacity=c===this?u.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:u.opacityExit:a.opacity=c===this?u.opacity!==void 0?u.opacity:"":u.opacityExit!==void 0?u.opacityExit:0;for(const m in Mw){if(u[m]===void 0)continue;const{correct:g,applyTo:v,isCSSVariable:y}=Mw[m],w=d==="none"?u[m]:g(u[m],c);if(v){const _=v.length;for(let S=0;S<_;S++)a[v[S]]=w}else y?this.options.visualElement.renderState.vars[m]=w:a[m]=w}this.options.layoutId&&(a.pointerEvents=c===this?QT(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(DH),this.root.sharedNodes.clear()}}}function OMe(t){t.updateLayout()}function NMe(t){var n;const e=((n=t.resumeFrom)==null?void 0:n.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?zo(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=pa(f);f.min=r[d].min,f.max=f.min+h}):Nre(s,e.layoutBox,r)&&zo(d=>{const f=a?e.measuredBox[d]:e.layoutBox[d],h=pa(r[d]);f.max=f.min+h,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+h)});const o=nv();Eb(o,r,e.layoutBox);const l=nv();a?Eb(l,t.applyTransform(i,!0),e.measuredBox):Eb(l,r,e.layoutBox);const c=!Cre(o);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:f,layout:h}=d;if(f&&h){const m=bi();Tb(m,e.layoutBox,f.layoutBox);const g=bi();Tb(g,r,h.layoutBox),Pre(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeLayoutChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function IMe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function kMe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function DMe(t){t.clearSnapshot()}function DH(t){t.clearMeasurements()}function LH(t){t.isLayoutDirty=!1}function LMe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function jH(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function jMe(t){t.resolveTargetDelta()}function FMe(t){t.calcProjection()}function UMe(t){t.resetSkewAndRotation()}function BMe(t){t.removeLeadSnapshot()}function FH(t,e,n){t.translate=Jr(e.translate,0,n),t.scale=Jr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function UH(t,e,n,r){t.min=Jr(e.min,n.min,r),t.max=Jr(e.max,n.max,r)}function zMe(t,e,n,r){UH(t.x,e.x,n.x,r),UH(t.y,e.y,n.y,r)}function VMe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $Me={duration:.45,ease:[.4,0,.1,1]},BH=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),zH=BH("applewebkit/")&&!BH("chrome/")?Math.round:el;function VH(t){t.min=zH(t.min),t.max=zH(t.max)}function HMe(t){VH(t.x),VH(t.y)}function Nre(t,e,n){return t==="position"||t==="preserve-aspect"&&!YAe(IH(e),IH(n),.2)}function GMe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const WMe=Ore({attachResizeListener:(t,e)=>Cw(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),hI={current:void 0},Ire=Ore({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!hI.current){const t=new WMe({});t.mount(window),t.setOptions({layoutScroll:!0}),hI.current=t}return hI.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),XMe={pan:{Feature:dMe},drag:{Feature:uMe,ProjectionNode:Ire,MeasureLayout:Tre}};function $H(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Gr.postRender(()=>s(e,X1(e)))}class qMe extends Lf{mount(){const{current:e}=this.node;e&&(this.unmount=vTe(e,(n,r)=>($H(this.node,r,"Start"),i=>$H(this.node,i,"End"))))}unmount(){}}class KMe extends Lf{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=H1(Cw(this.node.current,"focus",()=>this.onFocus()),Cw(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function HH(t,e,n){const{props:r}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Gr.postRender(()=>s(e,X1(e)))}class YMe extends Lf{mount(){const{current:e}=this.node;e&&(this.unmount=wTe(e,(n,r)=>(HH(this.node,r,"Start"),(i,{success:s})=>HH(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const pL=new WeakMap,pI=new WeakMap,ZMe=t=>{const e=pL.get(t.target);e&&e(t)},JMe=t=>{t.forEach(ZMe)};function QMe({root:t,...e}){const n=t||document;pI.has(n)||pI.set(n,{});const r=pI.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(JMe,{root:t,...e})),r[i]}function e2e(t,e,n){const r=QMe(e);return pL.set(t,n),r.observe(t),()=>{pL.delete(t),r.unobserve(t)}}const t2e={some:0,all:1};class n2e extends Lf{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:t2e[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),f=c?u:d;f&&f(l)};return e2e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(r2e(e,n))&&this.startObserver()}unmount(){}}function r2e({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const i2e={inView:{Feature:n2e},tap:{Feature:YMe},focus:{Feature:KMe},hover:{Feature:qMe}},s2e={layout:{ProjectionNode:Ire,MeasureLayout:Tre}},a2e={...HAe,...i2e,...XMe,...s2e},Jt=lAe(a2e,wAe);function o2e(t){const e=$1(()=>Vp(t)),{isStatic:n}=T.useContext(iP);if(n){const[,r]=T.useState(t);T.useEffect(()=>e.on("change",r),[])}return e}function l2e(t){t.values.forEach(e=>e.stop())}function mL(t,e){[...e].reverse().forEach(r=>{const i=t.getVariant(r);i&&tB(t,i),t.variantChildren&&t.variantChildren.forEach(s=>{mL(s,e)})})}function c2e(t,e){if(Array.isArray(e))return mL(t,e);if(typeof e=="string")return mL(t,[e]);tB(t,e)}function u2e(){const t=new Set,e={subscribe(n){return t.add(n),()=>void t.delete(n)},start(n,r){const i=[];return t.forEach(s=>{i.push(vre(s,n,{transitionOverride:r}))}),Promise.all(i)},set(n){return t.forEach(r=>{c2e(r,n)})},stop(){t.forEach(n=>{l2e(n)})},mount(){return()=>{e.stop()}}};return e}function d2e(){const t=$1(u2e);return A4(t.mount,[]),t}const f2e=d2e,h2e=K0("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),St=T.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const a=r?mm:"button";return p.jsx(a,{className:ht(h2e({variant:e,size:n,className:t})),ref:s,...i})});St.displayName="Button";const vn=t=>typeof t=="string",px=()=>{let t,e;const n=new Promise((r,i)=>{t=r,e=i});return n.resolve=t,n.reject=e,n},GH=t=>t==null?"":""+t,p2e=(t,e,n)=>{t.forEach(r=>{e[r]&&(n[r]=e[r])})},m2e=/###/g,WH=t=>t&&t.indexOf("###")>-1?t.replace(m2e,"."):t,XH=t=>!t||vn(t),Ab=(t,e,n)=>{const r=vn(e)?e.split("."):e;let i=0;for(;i<r.length-1;){if(XH(t))return{};const s=WH(r[i]);!t[s]&&n&&(t[s]=new n),Object.prototype.hasOwnProperty.call(t,s)?t=t[s]:t={},++i}return XH(t)?{}:{obj:t,k:WH(r[i])}},qH=(t,e,n)=>{const{obj:r,k:i}=Ab(t,e,Object);if(r!==void 0||e.length===1){r[i]=n;return}let s=e[e.length-1],a=e.slice(0,e.length-1),o=Ab(t,a,Object);for(;o.obj===void 0&&a.length;)s=`${a[a.length-1]}.${s}`,a=a.slice(0,a.length-1),o=Ab(t,a,Object),o!=null&&o.obj&&typeof o.obj[`${o.k}.${s}`]<"u"&&(o.obj=void 0);o.obj[`${o.k}.${s}`]=n},g2e=(t,e,n,r)=>{const{obj:i,k:s}=Ab(t,e,Object);i[s]=i[s]||[],i[s].push(n)},rM=(t,e)=>{const{obj:n,k:r}=Ab(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,r))return n[r]},v2e=(t,e,n)=>{const r=rM(t,n);return r!==void 0?r:rM(e,n)},kre=(t,e,n)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in t?vn(t[r])||t[r]instanceof String||vn(e[r])||e[r]instanceof String?n&&(t[r]=e[r]):kre(t[r],e[r],n):t[r]=e[r]);return t},$m=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var y2e={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const x2e=t=>vn(t)?t.replace(/[&<>"'\/]/g,e=>y2e[e]):t;class b2e{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const w2e=[" ",",","?","!",";"],_2e=new b2e(20),S2e=(t,e,n)=>{e=e||"",n=n||"";const r=w2e.filter(a=>e.indexOf(a)<0&&n.indexOf(a)<0);if(r.length===0)return!0;const i=_2e.getRegExp(`(${r.map(a=>a==="?"?"\\?":a).join("|")})`);let s=!i.test(t);if(!s){const a=t.indexOf(n);a>0&&!i.test(t.substring(0,a))&&(s=!0)}return s},gL=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const r=e.split(n);let i=t;for(let s=0;s<r.length;){if(!i||typeof i!="object")return;let a,o="";for(let l=s;l<r.length;++l)if(l!==s&&(o+=n),o+=r[l],a=i[o],a!==void 0){if(["string","number","boolean"].indexOf(typeof a)>-1&&l<r.length-1)continue;s+=l-s+1;break}i=a}return i},Pw=t=>t==null?void 0:t.replace("_","-"),E2e={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){var n,r;(r=(n=console==null?void 0:console[t])==null?void 0:n.apply)==null||r.call(n,console,e)}};class iM{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||E2e,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,r,i){return i&&!this.debug?null:(vn(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new iM(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new iM(this.logger,e)}}var xc=new iM;let lP=class{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const i=this.observers[r].get(n)||0;this.observers[r].set(n,i+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([i,s])=>{for(let a=0;a<s;a++)i.apply(i,[e,...n])})}};class KH extends lP{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,r,i={}){var c,u;const s=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,a=i.ignoreJSONStructure!==void 0?i.ignoreJSONStructure:this.options.ignoreJSONStructure;let o;e.indexOf(".")>-1?o=e.split("."):(o=[e,n],r&&(Array.isArray(r)?o.push(...r):vn(r)&&s?o.push(...r.split(s)):o.push(r)));const l=rM(this.data,o);return!l&&!n&&!r&&e.indexOf(".")>-1&&(e=o[0],n=o[1],r=o.slice(2).join(".")),l||!a||!vn(r)?l:gL((u=(c=this.data)==null?void 0:c[e])==null?void 0:u[n],r,s)}addResource(e,n,r,i,s={silent:!1}){const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator;let o=[e,n];r&&(o=o.concat(a?r.split(a):r)),e.indexOf(".")>-1&&(o=e.split("."),i=n,n=o[1]),this.addNamespaces(n),qH(this.data,o,i),s.silent||this.emit("added",e,n,r,i)}addResources(e,n,r,i={silent:!1}){for(const s in r)(vn(r[s])||Array.isArray(r[s]))&&this.addResource(e,n,s,r[s],{silent:!0});i.silent||this.emit("added",e,n,r)}addResourceBundle(e,n,r,i,s,a={silent:!1,skipCopy:!1}){let o=[e,n];e.indexOf(".")>-1&&(o=e.split("."),i=r,r=n,n=o[1]),this.addNamespaces(n);let l=rM(this.data,o)||{};a.skipCopy||(r=JSON.parse(JSON.stringify(r))),i?kre(l,r,s):l={...l,...r},qH(this.data,o,l),a.silent||this.emit("added",e,n,r)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(i=>n[i]&&Object.keys(n[i]).length>0)}toJSON(){return this.data}}var Dre={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,r,i){return t.forEach(s=>{var a;e=((a=this.processors[s])==null?void 0:a.process(e,n,r,i))??e}),e}};const Lre=Symbol("i18next/PATH_KEY");function T2e(){const t=[],e=Object.create(null);let n;return e.get=(r,i)=>{var s;return(s=n==null?void 0:n.revoke)==null||s.call(n),i===Lre?t:(t.push(i),n=Proxy.revocable(r,e),n.proxy)},Proxy.revocable(Object.create(null),e).proxy}function vL(t,e){const{[Lre]:n}=t(T2e());return n.join((e==null?void 0:e.keySeparator)??".")}const YH={},mI=t=>!vn(t)&&typeof t!="boolean"&&typeof t!="number";class sM extends lP{constructor(e,n={}){super(),p2e(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=xc.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const r={...n};if(e==null)return!1;const i=this.resolve(e,r);if((i==null?void 0:i.res)===void 0)return!1;const s=mI(i.res);return!(r.returnObjects===!1&&s)}extractFromKey(e,n){let r=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const i=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let s=n.ns||this.options.defaultNS||[];const a=r&&e.indexOf(r)>-1,o=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!S2e(e,r,i);if(a&&!o){const l=e.match(this.interpolator.nestingRegexp);if(l&&l.length>0)return{key:e,namespaces:vn(s)?[s]:s};const c=e.split(r);(r!==i||r===i&&this.options.ns.indexOf(c[0])>-1)&&(s=c.shift()),e=c.join(i)}return{key:e,namespaces:vn(s)?[s]:s}}translate(e,n,r){let i=typeof n=="object"?{...n}:n;if(typeof i!="object"&&this.options.overloadTranslationOptionHandler&&(i=this.options.overloadTranslationOptionHandler(arguments)),typeof i=="object"&&(i={...i}),i||(i={}),e==null)return"";typeof e=="function"&&(e=vL(e,{...this.options,...i})),Array.isArray(e)||(e=[String(e)]);const s=i.returnDetails!==void 0?i.returnDetails:this.options.returnDetails,a=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator,{key:o,namespaces:l}=this.extractFromKey(e[e.length-1],i),c=l[l.length-1];let u=i.nsSeparator!==void 0?i.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const d=i.lng||this.language,f=i.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((d==null?void 0:d.toLowerCase())==="cimode")return f?s?{res:`${c}${u}${o}`,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:`${c}${u}${o}`:s?{res:o,usedKey:o,exactUsedKey:o,usedLng:d,usedNS:c,usedParams:this.getUsedParamsDetails(i)}:o;const h=this.resolve(e,i);let m=h==null?void 0:h.res;const g=(h==null?void 0:h.usedKey)||o,v=(h==null?void 0:h.exactUsedKey)||o,y=["[object Number]","[object Function]","[object RegExp]"],w=i.joinArrays!==void 0?i.joinArrays:this.options.joinArrays,_=!this.i18nFormat||this.i18nFormat.handleAsObject,S=i.count!==void 0&&!vn(i.count),E=sM.hasDefaultValue(i),A=S?this.pluralResolver.getSuffix(d,i.count,i):"",M=i.ordinal&&S?this.pluralResolver.getSuffix(d,i.count,{ordinal:!1}):"",R=S&&!i.ordinal&&i.count===0,P=R&&i[`defaultValue${this.options.pluralSeparator}zero`]||i[`defaultValue${A}`]||i[`defaultValue${M}`]||i.defaultValue;let O=m;_&&!m&&E&&(O=P);const k=mI(O),I=Object.prototype.toString.apply(O);if(_&&O&&k&&y.indexOf(I)<0&&!(vn(w)&&Array.isArray(O))){if(!i.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const F=this.options.returnedObjectHandler?this.options.returnedObjectHandler(g,O,{...i,ns:l}):`key '${o} (${this.language})' returned an object instead of string.`;return s?(h.res=F,h.usedParams=this.getUsedParamsDetails(i),h):F}if(a){const F=Array.isArray(O),L=F?[]:{},V=F?v:g;for(const z in O)if(Object.prototype.hasOwnProperty.call(O,z)){const K=`${V}${a}${z}`;E&&!m?L[z]=this.translate(K,{...i,defaultValue:mI(P)?P[z]:void 0,joinArrays:!1,ns:l}):L[z]=this.translate(K,{...i,joinArrays:!1,ns:l}),L[z]===K&&(L[z]=O[z])}m=L}}else if(_&&vn(w)&&Array.isArray(m))m=m.join(w),m&&(m=this.extendTranslation(m,e,i,r));else{let F=!1,L=!1;!this.isValidLookup(m)&&E&&(F=!0,m=P),this.isValidLookup(m)||(L=!0,m=o);const z=(i.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&L?void 0:m,K=E&&P!==m&&this.options.updateMissing;if(L||F||K){if(this.logger.log(K?"updateKey":"missingKey",d,c,o,K?P:m),a){const G=this.resolve(o,{...i,keySeparator:!1});G&&G.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let j=[];const U=this.languageUtils.getFallbackCodes(this.options.fallbackLng,i.lng||this.language);if(this.options.saveMissingTo==="fallback"&&U&&U[0])for(let G=0;G<U.length;G++)j.push(U[G]);else this.options.saveMissingTo==="all"?j=this.languageUtils.toResolveHierarchy(i.lng||this.language):j.push(i.lng||this.language);const $=(G,X,Q)=>{var de;const oe=E&&Q!==m?Q:z;this.options.missingKeyHandler?this.options.missingKeyHandler(G,c,X,oe,K,i):(de=this.backendConnector)!=null&&de.saveMissing&&this.backendConnector.saveMissing(G,c,X,oe,K,i),this.emit("missingKey",G,c,X,m)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?j.forEach(G=>{const X=this.pluralResolver.getSuffixes(G,i);R&&i[`defaultValue${this.options.pluralSeparator}zero`]&&X.indexOf(`${this.options.pluralSeparator}zero`)<0&&X.push(`${this.options.pluralSeparator}zero`),X.forEach(Q=>{$([G],o+Q,i[`defaultValue${Q}`]||P)})}):$(j,o,P))}m=this.extendTranslation(m,e,i,h,r),L&&m===o&&this.options.appendNamespaceToMissingKey&&(m=`${c}${u}${o}`),(L||F)&&this.options.parseMissingKeyHandler&&(m=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${c}${u}${o}`:o,F?m:void 0,i))}return s?(h.res=m,h.usedParams=this.getUsedParamsDetails(i),h):m}extendTranslation(e,n,r,i,s){var l,c;if((l=this.i18nFormat)!=null&&l.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||i.usedLng,i.usedNS,i.usedKey,{resolved:i});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const u=vn(e)&&(((c=r==null?void 0:r.interpolation)==null?void 0:c.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(u){const h=e.match(this.interpolator.nestingRegexp);d=h&&h.length}let f=r.replace&&!vn(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(f={...this.options.interpolation.defaultVariables,...f}),e=this.interpolator.interpolate(e,f,r.lng||this.language||i.usedLng,r),u){const h=e.match(this.interpolator.nestingRegexp),m=h&&h.length;d<m&&(r.nest=!1)}!r.lng&&i&&i.res&&(r.lng=this.language||i.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...h)=>(s==null?void 0:s[0])===h[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),r)),r.interpolation&&this.interpolator.reset()}const a=r.postProcess||this.options.postProcess,o=vn(a)?[a]:a;return e!=null&&(o!=null&&o.length)&&r.applyPostProcessor!==!1&&(e=Dre.handle(o,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...i,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,n={}){let r,i,s,a,o;return vn(e)&&(e=[e]),e.forEach(l=>{if(this.isValidLookup(r))return;const c=this.extractFromKey(l,n),u=c.key;i=u;let d=c.namespaces;this.options.fallbackNS&&(d=d.concat(this.options.fallbackNS));const f=n.count!==void 0&&!vn(n.count),h=f&&!n.ordinal&&n.count===0,m=n.context!==void 0&&(vn(n.context)||typeof n.context=="number")&&n.context!=="",g=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);d.forEach(v=>{var y,w;this.isValidLookup(r)||(o=v,!YH[`${g[0]}-${v}`]&&((y=this.utils)!=null&&y.hasLoadedNamespace)&&!((w=this.utils)!=null&&w.hasLoadedNamespace(o))&&(YH[`${g[0]}-${v}`]=!0,this.logger.warn(`key "${i}" for languages "${g.join(", ")}" won't get resolved as namespace "${o}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),g.forEach(_=>{var A;if(this.isValidLookup(r))return;a=_;const S=[u];if((A=this.i18nFormat)!=null&&A.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,_,v,n);else{let M;f&&(M=this.pluralResolver.getSuffix(_,n.count,n));const R=`${this.options.pluralSeparator}zero`,P=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(f&&(n.ordinal&&M.indexOf(P)===0&&S.push(u+M.replace(P,this.options.pluralSeparator)),S.push(u+M),h&&S.push(u+R)),m){const O=`${u}${this.options.contextSeparator||"_"}${n.context}`;S.push(O),f&&(n.ordinal&&M.indexOf(P)===0&&S.push(O+M.replace(P,this.options.pluralSeparator)),S.push(O+M),h&&S.push(O+R))}}let E;for(;E=S.pop();)this.isValidLookup(r)||(s=E,r=this.getResource(_,v,E,n))}))})}),{res:r,usedKey:i,exactUsedKey:s,usedLng:a,usedNS:o}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,r,i={}){var s;return(s=this.i18nFormat)!=null&&s.getResource?this.i18nFormat.getResource(e,n,r,i):this.resourceStore.getResource(e,n,r,i)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!vn(e.replace);let i=r?e.replace:e;if(r&&typeof e.count<"u"&&(i.count=e.count),this.options.interpolation.defaultVariables&&(i={...this.options.interpolation.defaultVariables,...i}),!r){i={...i};for(const s of n)delete i[s]}return i}static hasDefaultValue(e){const n="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&n===r.substring(0,n.length)&&e[r]!==void 0)return!0;return!1}}class ZH{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=xc.create("languageUtils")}getScriptPartFromCode(e){if(e=Pw(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Pw(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(vn(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(r=>{if(n)return;const i=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(i))&&(n=i)}),!n&&this.options.supportedLngs&&e.forEach(r=>{if(n)return;const i=this.getScriptPartFromCode(r);if(this.isSupportedCode(i))return n=i;const s=this.getLanguagePartFromCode(r);if(this.isSupportedCode(s))return n=s;n=this.options.supportedLngs.find(a=>{if(a===s)return a;if(!(a.indexOf("-")<0&&s.indexOf("-")<0)&&(a.indexOf("-")>0&&s.indexOf("-")<0&&a.substring(0,a.indexOf("-"))===s||a.indexOf(s)===0&&s.length>1))return a})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),vn(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let r=e[n];return r||(r=e[this.getScriptPartFromCode(n)]),r||(r=e[this.formatLanguageCode(n)]),r||(r=e[this.getLanguagePartFromCode(n)]),r||(r=e.default),r||[]}toResolveHierarchy(e,n){const r=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),i=[],s=a=>{a&&(this.isSupportedCode(a)?i.push(a):this.logger.warn(`rejecting language code not found in supportedLngs: ${a}`))};return vn(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&s(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&s(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&s(this.getLanguagePartFromCode(e))):vn(e)&&s(this.formatLanguageCode(e)),r.forEach(a=>{i.indexOf(a)<0&&s(this.formatLanguageCode(a))}),i}}const JH={zero:0,one:1,two:2,few:3,many:4,other:5},QH={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class A2e{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=xc.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,n){this.rules[e]=n}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const r=Pw(e==="dev"?"en":e),i=n.ordinal?"ordinal":"cardinal",s=JSON.stringify({cleanedCode:r,type:i});if(s in this.pluralRulesCache)return this.pluralRulesCache[s];let a;try{a=new Intl.PluralRules(r,{type:i})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),QH;if(!e.match(/-|_/))return QH;const l=this.languageUtils.getLanguagePartFromCode(e);a=this.getRule(l,n)}return this.pluralRulesCache[s]=a,a}needsPlural(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,n,r={}){return this.getSuffixes(e,r).map(i=>`${n}${i}`)}getSuffixes(e,n={}){let r=this.getRule(e,n);return r||(r=this.getRule("dev",n)),r?r.resolvedOptions().pluralCategories.sort((i,s)=>JH[i]-JH[s]).map(i=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${i}`):[]}getSuffix(e,n,r={}){const i=this.getRule(e,r);return i?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${i.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,r))}}const eG=(t,e,n,r=".",i=!0)=>{let s=v2e(t,e,n);return!s&&i&&vn(n)&&(s=gL(t,n,r),s===void 0&&(s=gL(e,n,r))),s},gI=t=>t.replace(/\$/g,"$$$$");class M2e{constructor(e={}){var n;this.logger=xc.create("interpolator"),this.options=e,this.format=((n=e==null?void 0:e.interpolation)==null?void 0:n.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:r,useRawValueToEscape:i,prefix:s,prefixEscaped:a,suffix:o,suffixEscaped:l,formatSeparator:c,unescapeSuffix:u,unescapePrefix:d,nestingPrefix:f,nestingPrefixEscaped:h,nestingSuffix:m,nestingSuffixEscaped:g,nestingOptionsSeparator:v,maxReplaces:y,alwaysFormat:w}=e.interpolation;this.escape=n!==void 0?n:x2e,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=i!==void 0?i:!1,this.prefix=s?$m(s):a||"{{",this.suffix=o?$m(o):l||"}}",this.formatSeparator=c||",",this.unescapePrefix=u?"":d||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=f?$m(f):h||$m("$t("),this.nestingSuffix=m?$m(m):g||$m(")"),this.nestingOptionsSeparator=v||",",this.maxReplaces=y||1e3,this.alwaysFormat=w!==void 0?w:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,r)=>(n==null?void 0:n.source)===r?(n.lastIndex=0,n):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,r,i){var h;let s,a,o;const l=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},c=m=>{if(m.indexOf(this.formatSeparator)<0){const w=eG(n,l,m,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(w,void 0,r,{...i,...n,interpolationkey:m}):w}const g=m.split(this.formatSeparator),v=g.shift().trim(),y=g.join(this.formatSeparator).trim();return this.format(eG(n,l,v,this.options.keySeparator,this.options.ignoreJSONStructure),y,r,{...i,...n,interpolationkey:v})};this.resetRegExp();const u=(i==null?void 0:i.missingInterpolationHandler)||this.options.missingInterpolationHandler,d=((h=i==null?void 0:i.interpolation)==null?void 0:h.skipOnVariables)!==void 0?i.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:m=>gI(m)},{regex:this.regexp,safeValue:m=>this.escapeValue?gI(this.escape(m)):gI(m)}].forEach(m=>{for(o=0;s=m.regex.exec(e);){const g=s[1].trim();if(a=c(g),a===void 0)if(typeof u=="function"){const y=u(e,s,i);a=vn(y)?y:""}else if(i&&Object.prototype.hasOwnProperty.call(i,g))a="";else if(d){a=s[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${e}`),a="";else!vn(a)&&!this.useRawValueToEscape&&(a=GH(a));const v=m.safeValue(a);if(e=e.replace(s[0],v),d?(m.regex.lastIndex+=a.length,m.regex.lastIndex-=s[0].length):m.regex.lastIndex=0,o++,o>=this.maxReplaces)break}}),e}nest(e,n,r={}){let i,s,a;const o=(l,c)=>{const u=this.nestingOptionsSeparator;if(l.indexOf(u)<0)return l;const d=l.split(new RegExp(`${u}[ ]*{`));let f=`{${d[1]}`;l=d[0],f=this.interpolate(f,a);const h=f.match(/'/g),m=f.match(/"/g);(((h==null?void 0:h.length)??0)%2===0&&!m||m.length%2!==0)&&(f=f.replace(/'/g,'"'));try{a=JSON.parse(f),c&&(a={...c,...a})}catch(g){return this.logger.warn(`failed parsing options string in nesting for key ${l}`,g),`${l}${u}${f}`}return a.defaultValue&&a.defaultValue.indexOf(this.prefix)>-1&&delete a.defaultValue,l};for(;i=this.nestingRegexp.exec(e);){let l=[];a={...r},a=a.replace&&!vn(a.replace)?a.replace:a,a.applyPostProcessor=!1,delete a.defaultValue;const c=/{.*}/.test(i[1])?i[1].lastIndexOf("}")+1:i[1].indexOf(this.formatSeparator);if(c!==-1&&(l=i[1].slice(c).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),i[1]=i[1].slice(0,c)),s=n(o.call(this,i[1].trim(),a),a),s&&i[0]===e&&!vn(s))return s;vn(s)||(s=GH(s)),s||(this.logger.warn(`missed to resolve ${i[1]} for nesting ${e}`),s=""),l.length&&(s=l.reduce((u,d)=>this.format(u,d,r.lng,{...r,interpolationkey:i[1].trim()}),s.trim())),e=e.replace(i[0],s),this.regexp.lastIndex=0}return e}}const C2e=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const r=t.split("(");e=r[0].toLowerCase().trim();const i=r[1].substring(0,r[1].length-1);e==="currency"&&i.indexOf(":")<0?n.currency||(n.currency=i.trim()):e==="relativetime"&&i.indexOf(":")<0?n.range||(n.range=i.trim()):i.split(";").forEach(a=>{if(a){const[o,...l]=a.split(":"),c=l.join(":").trim().replace(/^'+|'+$/g,""),u=o.trim();n[u]||(n[u]=c),c==="false"&&(n[u]=!1),c==="true"&&(n[u]=!0),isNaN(c)||(n[u]=parseInt(c,10))}})}return{formatName:e,formatOptions:n}},tG=t=>{const e={};return(n,r,i)=>{let s=i;i&&i.interpolationkey&&i.formatParams&&i.formatParams[i.interpolationkey]&&i[i.interpolationkey]&&(s={...s,[i.interpolationkey]:void 0});const a=r+JSON.stringify(s);let o=e[a];return o||(o=t(Pw(r),i),e[a]=o),o(n)}},P2e=t=>(e,n,r)=>t(Pw(n),r)(e);class R2e{constructor(e={}){this.logger=xc.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const r=n.cacheInBuiltFormats?tG:P2e;this.formats={number:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s});return o=>a.format(o)}),currency:r((i,s)=>{const a=new Intl.NumberFormat(i,{...s,style:"currency"});return o=>a.format(o)}),datetime:r((i,s)=>{const a=new Intl.DateTimeFormat(i,{...s});return o=>a.format(o)}),relativetime:r((i,s)=>{const a=new Intl.RelativeTimeFormat(i,{...s});return o=>a.format(o,s.range||"day")}),list:r((i,s)=>{const a=new Intl.ListFormat(i,{...s});return o=>a.format(o)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=tG(n)}format(e,n,r,i={}){const s=n.split(this.formatSeparator);if(s.length>1&&s[0].indexOf("(")>1&&s[0].indexOf(")")<0&&s.find(o=>o.indexOf(")")>-1)){const o=s.findIndex(l=>l.indexOf(")")>-1);s[0]=[s[0],...s.splice(1,o)].join(this.formatSeparator)}return s.reduce((o,l)=>{var d;const{formatName:c,formatOptions:u}=C2e(l);if(this.formats[c]){let f=o;try{const h=((d=i==null?void 0:i.formatParams)==null?void 0:d[i.interpolationkey])||{},m=h.locale||h.lng||i.locale||i.lng||r;f=this.formats[c](o,m,{...u,...i,...h})}catch(h){this.logger.warn(h)}return f}else this.logger.warn(`there was no format function for ${c}`);return o},e)}}const O2e=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class N2e extends lP{constructor(e,n,r,i={}){var s,a;super(),this.backend=e,this.store=n,this.services=r,this.languageUtils=r.languageUtils,this.options=i,this.logger=xc.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=i.maxParallelReads||10,this.readingCalls=0,this.maxRetries=i.maxRetries>=0?i.maxRetries:5,this.retryTimeout=i.retryTimeout>=1?i.retryTimeout:350,this.state={},this.queue=[],(a=(s=this.backend)==null?void 0:s.init)==null||a.call(s,r,i.backend,i)}queueLoad(e,n,r,i){const s={},a={},o={},l={};return e.forEach(c=>{let u=!0;n.forEach(d=>{const f=`${c}|${d}`;!r.reload&&this.store.hasResourceBundle(c,d)?this.state[f]=2:this.state[f]<0||(this.state[f]===1?a[f]===void 0&&(a[f]=!0):(this.state[f]=1,u=!1,a[f]===void 0&&(a[f]=!0),s[f]===void 0&&(s[f]=!0),l[d]===void 0&&(l[d]=!0)))}),u||(o[c]=!0)}),(Object.keys(s).length||Object.keys(a).length)&&this.queue.push({pending:a,pendingCount:Object.keys(a).length,loaded:{},errors:[],callback:i}),{toLoad:Object.keys(s),pending:Object.keys(a),toLoadLanguages:Object.keys(o),toLoadNamespaces:Object.keys(l)}}loaded(e,n,r){const i=e.split("|"),s=i[0],a=i[1];n&&this.emit("failedLoading",s,a,n),!n&&r&&this.store.addResourceBundle(s,a,r,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&r&&(this.state[e]=0);const o={};this.queue.forEach(l=>{g2e(l.loaded,[s],a),O2e(l,e),n&&l.errors.push(n),l.pendingCount===0&&!l.done&&(Object.keys(l.loaded).forEach(c=>{o[c]||(o[c]={});const u=l.loaded[c];u.length&&u.forEach(d=>{o[c][d]===void 0&&(o[c][d]=!0)})}),l.done=!0,l.errors.length?l.callback(l.errors):l.callback())}),this.emit("loaded",o),this.queue=this.queue.filter(l=>!l.done)}read(e,n,r,i=0,s=this.retryTimeout,a){if(!e.length)return a(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:r,tried:i,wait:s,callback:a});return}this.readingCalls++;const o=(c,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const d=this.waitingReads.shift();this.read(d.lng,d.ns,d.fcName,d.tried,d.wait,d.callback)}if(c&&u&&i<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,r,i+1,s*2,a)},s);return}a(c,u)},l=this.backend[r].bind(this.backend);if(l.length===2){try{const c=l(e,n);c&&typeof c.then=="function"?c.then(u=>o(null,u)).catch(o):o(null,c)}catch(c){o(c)}return}return l(e,n,o)}prepareLoading(e,n,r={},i){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),i&&i();vn(e)&&(e=this.languageUtils.toResolveHierarchy(e)),vn(n)&&(n=[n]);const s=this.queueLoad(e,n,r,i);if(!s.toLoad.length)return s.pending.length||i(),null;s.toLoad.forEach(a=>{this.loadOne(a)})}load(e,n,r){this.prepareLoading(e,n,{},r)}reload(e,n,r){this.prepareLoading(e,n,{reload:!0},r)}loadOne(e,n=""){const r=e.split("|"),i=r[0],s=r[1];this.read(i,s,"read",void 0,void 0,(a,o)=>{a&&this.logger.warn(`${n}loading namespace ${s} for language ${i} failed`,a),!a&&o&&this.logger.log(`${n}loaded namespace ${s} for language ${i}`,o),this.loaded(e,a,o)})}saveMissing(e,n,r,i,s,a={},o=()=>{}){var l,c,u,d,f;if((c=(l=this.services)==null?void 0:l.utils)!=null&&c.hasLoadedNamespace&&!((d=(u=this.services)==null?void 0:u.utils)!=null&&d.hasLoadedNamespace(n))){this.logger.warn(`did not save key "${r}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((f=this.backend)!=null&&f.create){const h={...a,isUpdate:s},m=this.backend.create.bind(this.backend);if(m.length<6)try{let g;m.length===5?g=m(e,n,r,i,h):g=m(e,n,r,i),g&&typeof g.then=="function"?g.then(v=>o(null,v)).catch(o):o(null,g)}catch(g){o(g)}else m(e,n,r,i,o,h)}!e||!e[0]||this.store.addResource(e[0],n,r,i)}}}const nG=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),vn(t[1])&&(e.defaultValue=t[1]),vn(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(r=>{e[r]=n[r]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),rG=t=>{var e,n;return vn(t.ns)&&(t.ns=[t.ns]),vn(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),vn(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),((n=(e=t.supportedLngs)==null?void 0:e.indexOf)==null?void 0:n.call(e,"cimode"))<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t},ZS=()=>{},I2e=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class Mb extends lP{constructor(e={},n){if(super(),this.options=rG(e),this.services={},this.logger=xc,this.modules={external:[]},I2e(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(vn(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=nG();this.options={...r,...this.options,...rG(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const i=c=>c?typeof c=="function"?new c:c:null;if(!this.options.isClone){this.modules.logger?xc.init(i(this.modules.logger),this.options):xc.init(null,this.options);let c;this.modules.formatter?c=this.modules.formatter:c=R2e;const u=new ZH(this.options);this.store=new KH(this.options.resources,this.options);const d=this.services;d.logger=xc,d.resourceStore=this.store,d.languageUtils=u,d.pluralResolver=new A2e(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==r.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),c&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(d.formatter=i(c),d.formatter.init&&d.formatter.init(d,this.options),this.options.interpolation.format=d.formatter.format.bind(d.formatter)),d.interpolator=new M2e(this.options),d.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},d.backendConnector=new N2e(i(this.modules.backend),d.resourceStore,d,this.options),d.backendConnector.on("*",(h,...m)=>{this.emit(h,...m)}),this.modules.languageDetector&&(d.languageDetector=i(this.modules.languageDetector),d.languageDetector.init&&d.languageDetector.init(d,this.options.detection,this.options)),this.modules.i18nFormat&&(d.i18nFormat=i(this.modules.i18nFormat),d.i18nFormat.init&&d.i18nFormat.init(this)),this.translator=new sM(this.services,this.options),this.translator.on("*",(h,...m)=>{this.emit(h,...m)}),this.modules.external.forEach(h=>{h.init&&h.init(this)})}if(this.format=this.options.interpolation.format,n||(n=ZS),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const c=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);c.length>0&&c[0]!=="dev"&&(this.options.lng=c[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(c=>{this[c]=(...u)=>this.store[c](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(c=>{this[c]=(...u)=>(this.store[c](...u),this)});const o=px(),l=()=>{const c=(u,d)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),o.resolve(d),n(u,d)};if(this.languages&&!this.isInitialized)return c(null,this.t.bind(this));this.changeLanguage(this.options.lng,c)};return this.options.resources||!this.options.initAsync?l():setTimeout(l,0),o}loadResources(e,n=ZS){var s,a;let r=n;const i=vn(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((i==null?void 0:i.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const o=[],l=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(d=>{d!=="cimode"&&o.indexOf(d)<0&&o.push(d)})};i?l(i):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),(a=(s=this.options.preload)==null?void 0:s.forEach)==null||a.call(s,c=>l(c)),this.services.backendConnector.load(o,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(c)})}else r(null)}reloadResources(e,n,r){const i=px();return typeof e=="function"&&(r=e,e=void 0),typeof n=="function"&&(r=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),r||(r=ZS),this.services.backendConnector.reload(e,n,s=>{i.resolve(),r(s)}),i}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Dre.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const r=this.languages[n];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const r=px();this.emit("languageChanging",e);const i=o=>{this.language=o,this.languages=this.services.languageUtils.toResolveHierarchy(o),this.resolvedLanguage=void 0,this.setResolvedLanguage(o)},s=(o,l)=>{l?this.isLanguageChangingTo===e&&(i(l),this.translator.changeLanguage(l),this.isLanguageChangingTo=void 0,this.emit("languageChanged",l),this.logger.log("languageChanged",l)):this.isLanguageChangingTo=void 0,r.resolve((...c)=>this.t(...c)),n&&n(o,(...c)=>this.t(...c))},a=o=>{var u,d;!e&&!o&&this.services.languageDetector&&(o=[]);const l=vn(o)?o:o&&o[0],c=this.store.hasLanguageSomeTranslations(l)?l:this.services.languageUtils.getBestMatchFromCodes(vn(o)?[o]:o);c&&(this.language||i(c),this.translator.language||this.translator.changeLanguage(c),(d=(u=this.services.languageDetector)==null?void 0:u.cacheUserLanguage)==null||d.call(u,c)),this.loadResources(c,f=>{s(f,c)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?a(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(a):this.services.languageDetector.detect(a):a(e),r}getFixedT(e,n,r){const i=(s,a,...o)=>{let l;typeof a!="object"?l=this.options.overloadTranslationOptionHandler([s,a].concat(o)):l={...a},l.lng=l.lng||i.lng,l.lngs=l.lngs||i.lngs,l.ns=l.ns||i.ns,l.keyPrefix!==""&&(l.keyPrefix=l.keyPrefix||r||i.keyPrefix);const c=this.options.keySeparator||".";let u;return l.keyPrefix&&Array.isArray(s)?u=s.map(d=>(typeof d=="function"&&(d=vL(d,{...this.options,...a})),`${l.keyPrefix}${c}${d}`)):(typeof s=="function"&&(s=vL(s,{...this.options,...a})),u=l.keyPrefix?`${l.keyPrefix}${c}${s}`:s),this.t(u,l)};return vn(e)?i.lng=e:i.lngs=e,i.ns=n,i.keyPrefix=r,i}t(...e){var n;return(n=this.translator)==null?void 0:n.translate(...e)}exists(...e){var n;return(n=this.translator)==null?void 0:n.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=n.lng||this.resolvedLanguage||this.languages[0],i=this.options?this.options.fallbackLng:!1,s=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const a=(o,l)=>{const c=this.services.backendConnector.state[`${o}|${l}`];return c===-1||c===0||c===2};if(n.precheck){const o=n.precheck(this,a);if(o!==void 0)return o}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||a(r,e)&&(!i||a(s,e)))}loadNamespaces(e,n){const r=px();return this.options.ns?(vn(e)&&(e=[e]),e.forEach(i=>{this.options.ns.indexOf(i)<0&&this.options.ns.push(i)}),this.loadResources(i=>{r.resolve(),n&&n(i)}),r):(n&&n(),Promise.resolve())}loadLanguages(e,n){const r=px();vn(e)&&(e=[e]);const i=this.options.preload||[],s=e.filter(a=>i.indexOf(a)<0&&this.services.languageUtils.isSupportedCode(a));return s.length?(this.options.preload=i.concat(s),this.loadResources(a=>{r.resolve(),n&&n(a)}),r):(n&&n(),Promise.resolve())}dir(e){var i,s;if(e||(e=this.resolvedLanguage||(((i=this.languages)==null?void 0:i.length)>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const o=a.getTextInfo();if(o&&o.direction)return o.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((s=this.services)==null?void 0:s.languageUtils)||new ZH(nG());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const r=new Mb(e,n);return r.createInstance=Mb.createInstance,r}cloneInstance(e={},n=ZS){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const i={...this.options,...e,isClone:!0},s=new Mb(i);if((e.debug!==void 0||e.prefix!==void 0)&&(s.logger=s.logger.clone(e)),["store","services","language"].forEach(o=>{s[o]=this[o]}),s.services={...this.services},s.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},r){const o=Object.keys(this.store.data).reduce((l,c)=>(l[c]={...this.store.data[c]},l[c]=Object.keys(l[c]).reduce((u,d)=>(u[d]={...l[c][d]},u),l[c]),l),{});s.store=new KH(o,i),s.services.resourceStore=s.store}return s.translator=new sM(s.services,i),s.translator.on("*",(o,...l)=>{s.emit(o,...l)}),s.init(i,n),s.translator.options=i,s.translator.backendConnector.services.utils={hasLoadedNamespace:s.hasLoadedNamespace.bind(s)},s}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Ea=Mb.createInstance();Ea.createInstance;Ea.dir;Ea.init;Ea.loadResources;Ea.reloadResources;Ea.use;Ea.changeLanguage;Ea.getFixedT;Ea.t;Ea.exists;Ea.setDefaultNamespace;Ea.hasLoadedNamespace;Ea.loadNamespaces;Ea.loadLanguages;const k2e=(t,e,n,r)=>{var s,a,o,l;const i=[n,{code:e,...r||{}}];if((a=(s=t==null?void 0:t.services)==null?void 0:s.logger)!=null&&a.forward)return t.services.logger.forward(i,"warn","react-i18next::",!0);$p(i[0])&&(i[0]=`react-i18next:: ${i[0]}`),(l=(o=t==null?void 0:t.services)==null?void 0:o.logger)!=null&&l.warn?t.services.logger.warn(...i):console!=null&&console.warn&&console.warn(...i)},iG={},jre=(t,e,n,r)=>{$p(n)&&iG[n]||($p(n)&&(iG[n]=new Date),k2e(t,e,n,r))},Fre=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},yL=(t,e,n)=>{t.loadNamespaces(e,Fre(t,n))},sG=(t,e,n,r)=>{if($p(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return yL(t,n,r);n.forEach(i=>{t.options.ns.indexOf(i)<0&&t.options.ns.push(i)}),t.loadLanguages(e,Fre(t,r))},D2e=(t,e,n={})=>!e.languages||!e.languages.length?(jre(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(r,i)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!i(r.isLanguageChangingTo,t))return!1}}),$p=t=>typeof t=="string",L2e=t=>typeof t=="object"&&t!==null,j2e=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,F2e={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},U2e=t=>F2e[t],B2e=t=>t.replace(j2e,U2e);let xL={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:B2e};const z2e=(t={})=>{xL={...xL,...t}},V2e=()=>xL;let Ure;const $2e=t=>{Ure=t},H2e=()=>Ure,G2e={type:"3rdParty",init(t){z2e(t.options.react),$2e(t)}},W2e=T.createContext();class X2e{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Bre={exports:{}},zre={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jv=T;function q2e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var K2e=typeof Object.is=="function"?Object.is:q2e,Y2e=Jv.useState,Z2e=Jv.useEffect,J2e=Jv.useLayoutEffect,Q2e=Jv.useDebugValue;function eCe(t,e){var n=e(),r=Y2e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return J2e(function(){i.value=n,i.getSnapshot=e,vI(i)&&s({inst:i})},[t,n,e]),Z2e(function(){return vI(i)&&s({inst:i}),t(function(){vI(i)&&s({inst:i})})},[t]),Q2e(n),n}function vI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!K2e(t,n)}catch{return!0}}function tCe(t,e){return e()}var nCe=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?tCe:eCe;zre.useSyncExternalStore=Jv.useSyncExternalStore!==void 0?Jv.useSyncExternalStore:nCe;Bre.exports=zre;var rB=Bre.exports;const rCe=(t,e)=>$p(e)?e:L2e(e)&&$p(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,iCe={t:rCe,ready:!1},sCe=()=>()=>{},Yl=(t,e={})=>{var P,O,k;const{i18n:n}=e,{i18n:r,defaultNS:i}=T.useContext(W2e)||{},s=n||r||H2e();s&&!s.reportNamespaces&&(s.reportNamespaces=new X2e),s||jre(s,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const a=T.useMemo(()=>{var I;return{...V2e(),...(I=s==null?void 0:s.options)==null?void 0:I.react,...e}},[s,e]),{useSuspense:o,keyPrefix:l}=a,c=i||((P=s==null?void 0:s.options)==null?void 0:P.defaultNS),u=$p(c)?[c]:c||["translation"],d=T.useMemo(()=>u,u);(k=(O=s==null?void 0:s.reportNamespaces)==null?void 0:O.addUsedNamespaces)==null||k.call(O,d);const f=T.useRef(0),h=T.useCallback(I=>{if(!s)return sCe;const{bindI18n:F,bindI18nStore:L}=a,V=()=>{f.current+=1,I()};return F&&s.on(F,V),L&&s.store.on(L,V),()=>{F&&F.split(" ").forEach(z=>s.off(z,V)),L&&L.split(" ").forEach(z=>s.store.off(z,V))}},[s,a]),m=T.useRef(),g=T.useCallback(()=>{if(!s)return iCe;const I=!!(s.isInitialized||s.initializedStoreOnce)&&d.every(j=>D2e(j,s,a)),F=e.lng||s.language,L=f.current,V=m.current;if(V&&V.ready===I&&V.lng===F&&V.keyPrefix===l&&V.revision===L)return V;const K={t:s.getFixedT(F,a.nsMode==="fallback"?d:d[0],l),ready:I,lng:F,keyPrefix:l,revision:L};return m.current=K,K},[s,d,l,a,e.lng]),[v,y]=T.useState(0),{t:w,ready:_}=rB.useSyncExternalStore(h,g,g);T.useEffect(()=>{if(s&&!_&&!o){const I=()=>y(F=>F+1);e.lng?sG(s,e.lng,d,I):yL(s,d,I)}},[s,e.lng,d,_,o,v]);const S=s||{},E=T.useRef(null),A=T.useRef(),M=I=>{const F=Object.getOwnPropertyDescriptors(I);F.__original&&delete F.__original;const L=Object.create(Object.getPrototypeOf(I),F);if(!Object.prototype.hasOwnProperty.call(L,"__original"))try{Object.defineProperty(L,"__original",{value:I,writable:!1,enumerable:!1,configurable:!1})}catch{}return L},R=T.useMemo(()=>{const I=S,F=I==null?void 0:I.language;let L=I;I&&(E.current&&E.current.__original===I?A.current!==F?(L=M(I),E.current=L,A.current=F):L=E.current:(L=M(I),E.current=L,A.current=F));const V=[w,L,_];return V.t=w,V.i18n=L,V.ready=_,V},[w,S,_,S.resolvedLanguage,S.language,S.languages]);if(s&&o&&!_)throw new Promise(I=>{const F=()=>I();e.lng?sG(s,e.lng,d,F):yL(s,d,F)});return R},aCe="/assets/hero-vr-Cr49yY6n.jpg",oCe=()=>{const{t}=Yl();return p.jsxs("section",{className:"relative min-h-screen flex items-center justify-center overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-space-dark via-background to-background"}),p.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-glow/20 rounded-full blur-[120px] animate-pulse"}),p.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/20 rounded-full blur-[120px] animate-pulse delay-1000"}),p.jsx("div",{className:"container relative z-10 mx-auto px-4 py-20",children:p.jsxs("div",{className:"grid lg:grid-cols-2 gap-12 items-center",children:[p.jsxs(Jt.div,{initial:{opacity:0,x:-50},animate:{opacity:1,x:0},transition:{duration:.8},className:"text-center lg:text-left",children:[p.jsx(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2,duration:.6},className:"inline-block mb-4 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:p.jsx("span",{className:"text-primary font-medium",children:"The Future of Learning"})}),p.jsx(Jt.h1,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3,duration:.6},className:"text-5xl md:text-7xl font-bold mb-6 leading-tight",children:t("hero.title")}),p.jsx(Jt.p,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.6},className:"text-xl text-muted-foreground mb-8 max-w-xl mx-auto lg:mx-0",children:t("hero.description")}),p.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.6},className:"flex flex-col sm:flex-row gap-4 justify-center lg:justify-start",children:[p.jsx(fr,{to:"/experience",children:p.jsxs(St,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground group",children:[t("hero.ctaPrimary"),p.jsx(yf,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]})}),p.jsx(fr,{to:"/blog",children:p.jsx(St,{size:"lg",variant:"outline",className:"border-primary/30 hover:bg-primary/10",children:t("hero.ctaSecondary")})})]})]}),p.jsxs(Jt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4,duration:.8},className:"relative",children:[p.jsxs("div",{className:"relative rounded-2xl overflow-hidden border border-primary/20 shadow-2xl",children:[p.jsx("img",{src:aCe,alt:"Person experiencing VR learning in NextVerse",className:"w-full h-auto"}),p.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-background/80 to-transparent"})]}),p.jsx(Jt.div,{animate:{y:[0,-20,0]},transition:{duration:4,repeat:1/0,ease:"easeInOut"},className:"absolute -top-6 -right-6 w-32 h-32 bg-gradient-to-br from-primary to-accent rounded-2xl opacity-50 blur-xl"}),p.jsx(Jt.div,{animate:{y:[0,20,0]},transition:{duration:5,repeat:1/0,ease:"easeInOut",delay:1},className:"absolute -bottom-6 -left-6 w-40 h-40 bg-gradient-to-tr from-accent to-primary rounded-2xl opacity-40 blur-xl"})]})]})}),p.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1,duration:1},className:"absolute bottom-8 left-1/2 -translate-x-1/2",children:p.jsx(Jt.div,{animate:{y:[0,10,0]},transition:{duration:2,repeat:1/0},className:"w-6 h-10 border-2 border-primary/30 rounded-full flex items-start justify-center p-2",children:p.jsx("div",{className:"w-1 h-2 bg-primary rounded-full"})})})]})},xn=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ht("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));xn.displayName="Card";const Fn=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ht("flex flex-col space-y-1.5 p-6",t),...e}));Fn.displayName="CardHeader";const Un=T.forwardRef(({className:t,...e},n)=>p.jsx("h3",{ref:n,className:ht("text-2xl font-semibold leading-none tracking-tight",t),...e}));Un.displayName="CardTitle";const br=T.forwardRef(({className:t,...e},n)=>p.jsx("p",{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));br.displayName="CardDescription";const On=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ht("p-6 pt-0",t),...e}));On.displayName="CardContent";const lCe=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,className:ht("flex items-center p-6 pt-0",t),...e}));lCe.displayName="CardFooter";const cCe=()=>{const{t}=Yl(),[e,n]=T.useState(!1),r=T.useRef(null),i=o2e(0),s=f2e(),a=[{icon:lf,titleKey:"features.immersiveLearning.title",descriptionKey:"features.immersiveLearning.description"},{icon:Pxe,titleKey:"features.realTimeCollaboration.title",descriptionKey:"features.realTimeCollaboration.description"},{icon:Uee,titleKey:"features.analytics.title",descriptionKey:"features.analytics.description"},{icon:Xv,titleKey:"features.customContent.title",descriptionKey:"features.customContent.description"},{icon:pw,titleKey:"features.integration.title",descriptionKey:"features.integration.description",link:"/blog",linkTextKey:"hero.ctaSecondary"}],o=[...a,...a,...a];return ie.useEffect(()=>{e?s.stop():s.start({x:[0,-100*a.length],transition:{x:{repeat:1/0,repeatType:"loop",duration:25,ease:"linear"}}})},[e,s,a.length]),p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-card/20 to-background"}),p.jsxs("div",{className:"container relative z-10 mx-auto px-4",children:[p.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:[t("features.title"),p.jsxs("span",{className:"text-glow",children:[" ",t("features.subtitle")]})]}),p.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t("features.description")})]}),p.jsx("div",{className:"relative overflow-hidden cursor-grab active:cursor-grabbing",ref:r,onMouseEnter:()=>n(!0),onMouseLeave:()=>n(!1),children:p.jsx(Jt.div,{className:"flex gap-6",style:{x:i},animate:s,drag:"x",dragConstraints:{left:-200,right:200},dragElastic:.1,onDragStart:()=>n(!0),onDragEnd:()=>n(!1),whileTap:{cursor:"grabbing"},children:o.map((l,c)=>p.jsx(Jt.div,{className:"flex-shrink-0 w-80",whileHover:{scale:1.05,y:-10,transition:{duration:.3}},initial:{opacity:0,y:50},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:c%a.length*.1},children:p.jsxs(xn,{className:"h-full bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-all duration-300 hover:shadow-xl hover:shadow-primary/20 relative overflow-hidden group",children:[p.jsx(Jt.div,{className:"absolute inset-0 bg-gradient-to-br from-primary/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300",initial:!1}),p.jsxs("div",{className:"p-6 relative z-10",children:[p.jsx(Jt.div,{className:"mb-4 inline-block p-3 rounded-xl bg-primary/10 group-hover:bg-primary/20 transition-colors",whileHover:{rotate:[0,-10,10,0],transition:{duration:.5}},children:p.jsx(l.icon,{className:"w-6 h-6 text-primary"})}),p.jsx(Jt.h3,{className:"text-xl font-bold mb-2 group-hover:text-primary transition-colors",whileHover:{scale:1.02},transition:{duration:.2},children:t(l.titleKey)}),p.jsx(Jt.p,{className:"text-muted-foreground mb-4",whileHover:{y:-1},transition:{duration:.2},children:t(l.descriptionKey)}),l.link&&p.jsx(Jt.div,{whileHover:{x:3},transition:{duration:.2},children:p.jsx(fr,{to:l.link,children:p.jsxs("span",{className:"text-primary hover:text-primary/80 text-sm font-medium transition-colors",children:[t(l.linkTextKey)," "]})})})]})]})},`${l.titleKey}-${c}`))})}),p.jsx(Jt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:1},className:"text-center mt-8",children:p.jsx("p",{className:"text-sm text-muted-foreground",children:e?" Drag to explore  Auto-scroll paused":" Auto-scrolling  Hover to interact"})})]})]})},uCe=()=>{const{t}=Yl(),e=[{icon:Rxe,title:t("useCases.industryTraining.title"),description:t("useCases.industryTraining.description"),examples:t("useCases.industryTraining.examples",{returnObjects:!0})},{icon:Lxe,title:t("useCases.education.title"),description:t("useCases.education.description"),examples:t("useCases.education.examples",{returnObjects:!0})}];return p.jsx("section",{className:"py-24 relative",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-16",children:[p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:[t("useCases.title"),p.jsxs("span",{className:"text-primary",children:[" ",t("useCases.subtitle")]})]}),p.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:t("useCases.description")})]}),p.jsx("div",{className:"grid lg:grid-cols-2 gap-8 max-w-5xl mx-auto",children:e.map((n,r)=>p.jsx(Jt.div,{initial:{opacity:0,x:r===0?-30:30},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.6,delay:r*.2},children:p.jsxs(xn,{className:"p-8 h-full bg-gradient-to-br from-card to-card/50 border-primary/10 hover:border-primary/30 transition-all duration-300 hover:shadow-xl hover:shadow-primary/10",children:[p.jsx("div",{className:"mb-6 inline-block p-4 rounded-2xl bg-primary/10",children:p.jsx(n.icon,{className:"w-8 h-8 text-primary"})}),p.jsx("h3",{className:"text-2xl font-bold mb-3",children:n.title}),p.jsx("p",{className:"text-muted-foreground mb-6",children:n.description}),p.jsx("div",{className:"flex flex-wrap gap-2",children:n.examples.map(i=>p.jsx("span",{className:"px-3 py-1 rounded-full bg-primary/10 text-primary text-sm font-medium border border-primary/20",children:i},i))})]})},r))})]})})},dCe=()=>{const{t}=Yl(),e=[t("benefits.noEquipment"),t("benefits.ownPace"),t("benefits.safeEnvironment"),t("benefits.aiAdapts"),t("benefits.unlimitedPractice"),t("benefits.instantFeedback")];return p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-background via-primary/5 to-background"}),p.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[800px] h-[800px] bg-primary/10 rounded-full blur-[120px]"}),p.jsx("div",{className:"container relative z-10 mx-auto px-4",children:p.jsxs("div",{className:"max-w-4xl mx-auto",children:[p.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"text-center mb-12",children:[p.jsxs("h2",{className:"text-4xl md:text-5xl font-bold mb-4",children:[t("benefits.title"),p.jsxs("span",{className:"text-primary",children:[" ",t("benefits.subtitle")]})]}),p.jsx("p",{className:"text-xl text-muted-foreground",children:t("benefits.description")})]}),p.jsx(Jt.div,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.6,delay:.2},className:"grid md:grid-cols-2 gap-4 mb-16",children:e.map((n,r)=>p.jsxs(Jt.div,{initial:{opacity:0,x:-20},whileInView:{opacity:1,x:0},viewport:{once:!0},transition:{duration:.4,delay:r*.1},className:"flex items-center gap-3 p-4 rounded-xl bg-card/30 backdrop-blur border border-primary/10 hover:border-primary/30 transition-all hover:shadow-lg hover:shadow-primary/5",children:[p.jsx(Nxe,{className:"w-6 h-6 text-primary flex-shrink-0"}),p.jsx("span",{className:"text-lg",children:n})]},r))}),p.jsxs(Jt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6,delay:.4},className:"text-center bg-gradient-to-r from-primary/10 via-primary/5 to-primary/10 rounded-2xl p-8 border border-primary/20",children:[p.jsx("div",{className:"inline-block px-4 py-2 bg-primary/10 rounded-full text-primary text-sm font-medium mb-4",children:t("cta.badge")}),p.jsxs("h3",{className:"text-3xl md:text-4xl font-bold mb-4",children:[t("cta.title"),p.jsxs("span",{className:"text-primary",children:[" ",t("cta.subtitle")]})]}),p.jsx("p",{className:"text-lg text-muted-foreground mb-8 max-w-2xl mx-auto",children:t("cta.description")}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[p.jsx(St,{asChild:!0,size:"lg",className:"px-8",children:p.jsx(fr,{to:"/register",children:t("cta.primaryButton")})}),p.jsx(St,{asChild:!0,variant:"outline",size:"lg",className:"px-8",children:p.jsx(fr,{to:"/demo",children:t("cta.secondaryButton")})})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-6",children:t("cta.footer")})]})]})})]})};var yI="focusScope.autoFocusOnMount",xI="focusScope.autoFocusOnUnmount",aG={bubbles:!1,cancelable:!0},fCe="FocusScope",cP=T.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=t,[o,l]=T.useState(null),c=fi(i),u=fi(s),d=T.useRef(null),f=mn(e,g=>l(g)),h=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let g=function(_){if(h.paused||!o)return;const S=_.target;o.contains(S)?d.current=S:Ad(d.current,{select:!0})},v=function(_){if(h.paused||!o)return;const S=_.relatedTarget;S!==null&&(o.contains(S)||Ad(d.current,{select:!0}))},y=function(_){if(document.activeElement===document.body)for(const E of _)E.removedNodes.length>0&&Ad(o)};document.addEventListener("focusin",g),document.addEventListener("focusout",v);const w=new MutationObserver(y);return o&&w.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",g),document.removeEventListener("focusout",v),w.disconnect()}}},[r,o,h.paused]),T.useEffect(()=>{if(o){lG.add(h);const g=document.activeElement;if(!o.contains(g)){const y=new CustomEvent(yI,aG);o.addEventListener(yI,c),o.dispatchEvent(y),y.defaultPrevented||(hCe(yCe(Vre(o)),{select:!0}),document.activeElement===g&&Ad(o))}return()=>{o.removeEventListener(yI,c),setTimeout(()=>{const y=new CustomEvent(xI,aG);o.addEventListener(xI,u),o.dispatchEvent(y),y.defaultPrevented||Ad(g??document.body,{select:!0}),o.removeEventListener(xI,u),lG.remove(h)},0)}}},[o,c,u,h]);const m=T.useCallback(g=>{if(!n&&!r||h.paused)return;const v=g.key==="Tab"&&!g.altKey&&!g.ctrlKey&&!g.metaKey,y=document.activeElement;if(v&&y){const w=g.currentTarget,[_,S]=pCe(w);_&&S?!g.shiftKey&&y===S?(g.preventDefault(),n&&Ad(_,{select:!0})):g.shiftKey&&y===_&&(g.preventDefault(),n&&Ad(S,{select:!0})):y===w&&g.preventDefault()}},[n,r,h.paused]);return p.jsx(Lt.div,{tabIndex:-1,...a,ref:f,onKeyDown:m})});cP.displayName=fCe;function hCe(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ad(r,{select:e}),document.activeElement!==n)return}function pCe(t){const e=Vre(t),n=oG(e,t),r=oG(e.reverse(),t);return[n,r]}function Vre(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function oG(t,e){for(const n of t)if(!mCe(n,{upTo:e}))return n}function mCe(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function gCe(t){return t instanceof HTMLInputElement&&"select"in t}function Ad(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&gCe(t)&&e&&t.select()}}var lG=vCe();function vCe(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=cG(t,e),t.unshift(e)},remove(e){var n;t=cG(t,e),(n=t[0])==null||n.resume()}}}function cG(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function yCe(t){return t.filter(e=>e.tagName!=="A")}var bI=0;function iB(){T.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??uG()),document.body.insertAdjacentElement("beforeend",t[1]??uG()),bI++,()=>{bI===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bI--}},[])}function uG(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bL=function(t,e){return bL=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n[i]=r[i])},bL(t,e)};function $re(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");bL(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var Wo=function(){return Wo=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wo.apply(this,arguments)};function jf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Hre(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,n,s):a(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function Gre(t,e){return function(n,r){e(n,r,t)}}function Wre(t,e,n,r,i,s){function a(y){if(y!==void 0&&typeof y!="function")throw new TypeError("Function expected");return y}for(var o=r.kind,l=o==="getter"?"get":o==="setter"?"set":"value",c=!e&&t?r.static?t:t.prototype:null,u=e||(c?Object.getOwnPropertyDescriptor(c,r.name):{}),d,f=!1,h=n.length-1;h>=0;h--){var m={};for(var g in r)m[g]=g==="access"?{}:r[g];for(var g in r.access)m.access[g]=r.access[g];m.addInitializer=function(y){if(f)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(y||null))};var v=(0,n[h])(o==="accessor"?{get:u.get,set:u.set}:u[l],m);if(o==="accessor"){if(v===void 0)continue;if(v===null||typeof v!="object")throw new TypeError("Object expected");(d=a(v.get))&&(u.get=d),(d=a(v.set))&&(u.set=d),(d=a(v.init))&&i.unshift(d)}else(d=a(v))&&(o==="field"?i.unshift(d):u[l]=d)}c&&Object.defineProperty(c,r.name,u),f=!0}function Xre(t,e,n){for(var r=arguments.length>2,i=0;i<e.length;i++)n=r?e[i].call(t,n):e[i].call(t);return r?n:void 0}function qre(t){return typeof t=="symbol"?t:"".concat(t)}function Kre(t,e,n){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:n?"".concat(n," ",e):e})}function Yre(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Gt(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(u){try{c(r.next(u))}catch(d){a(d)}}function l(u){try{c(r.throw(u))}catch(d){a(d)}}function c(u){u.done?s(u.value):i(u.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}function Zre(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(c){return function(u){return l([c,u])}}function l(c){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,c[0]&&(n=0)),n;)try{if(r=1,i&&(s=c[0]&2?i.return:c[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,c[1])).done)return s;switch(i=0,s&&(c=[c[0]&2,s.value]),c[0]){case 0:case 1:s=c;break;case 4:return n.label++,{value:c[1],done:!1};case 5:n.label++,i=c[1],c=[0];continue;case 7:c=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(c[0]===6||c[0]===2)){n=0;continue}if(c[0]===3&&(!s||c[1]>s[0]&&c[1]<s[3])){n.label=c[1];break}if(c[0]===6&&n.label<s[1]){n.label=s[1],s=c;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(c);break}s[2]&&n.ops.pop(),n.trys.pop();continue}c=e.call(t,n)}catch(u){c=[6,u],i=0}finally{r=s=0}if(c[0]&5)throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}var uP=Object.create?function(t,e,n,r){r===void 0&&(r=n);var i=Object.getOwnPropertyDescriptor(e,n);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[n]}}),Object.defineProperty(t,r,i)}:function(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]};function Jre(t,e){for(var n in t)n!=="default"&&!Object.prototype.hasOwnProperty.call(e,n)&&uP(e,t,n)}function aM(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function sB(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return s}function Qre(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(sB(arguments[e]));return t}function eie(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)r[i]=s[a];return r}function aB(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}function Qv(t){return this instanceof Qv?(this.v=t,this):new Qv(t)}function tie(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(h){return function(m){return Promise.resolve(m).then(h,d)}}function o(h,m){r[h]&&(i[h]=function(g){return new Promise(function(v,y){s.push([h,g,v,y])>1||l(h,g)})},m&&(i[h]=m(i[h])))}function l(h,m){try{c(r[h](m))}catch(g){f(s[0][3],g)}}function c(h){h.value instanceof Qv?Promise.resolve(h.value.v).then(u,d):f(s[0][2],h)}function u(h){l("next",h)}function d(h){l("throw",h)}function f(h,m){h(m),s.shift(),s.length&&l(s[0][0],s[0][1])}}function nie(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(a){return(n=!n)?{value:Qv(t[i](a)),done:!1}:s?s(a):a}:s}}function rie(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof aM=="function"?aM(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(c){s({value:c,done:o})},a)}}function iie(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var xCe=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e},wL=function(t){return wL=Object.getOwnPropertyNames||function(e){var n=[];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[n.length]=r);return n},wL(t)};function sie(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n=wL(t),r=0;r<n.length;r++)n[r]!=="default"&&uP(e,t,n[r]);return xCe(e,t),e}function aie(t){return t&&t.__esModule?t:{default:t}}function oie(t,e,n,r){if(n==="a"&&!r)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return n==="m"?r:n==="a"?r.call(t):r?r.value:e.get(t)}function lie(t,e,n,r,i){if(r==="m")throw new TypeError("Private method is not writable");if(r==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return r==="a"?i.call(t,n):i?i.value=n:e.set(t,n),n}function cie(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function uie(t,e,n){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var r,i;if(n){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");r=e[Symbol.asyncDispose]}if(r===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");r=e[Symbol.dispose],n&&(i=r)}if(typeof r!="function")throw new TypeError("Object not disposable.");i&&(r=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:r,async:n})}else n&&t.stack.push({async:!0});return e}var bCe=typeof SuppressedError=="function"?SuppressedError:function(t,e,n){var r=new Error(n);return r.name="SuppressedError",r.error=t,r.suppressed=e,r};function die(t){function e(s){t.error=t.hasError?new bCe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var n,r=0;function i(){for(;n=t.stack.pop();)try{if(!n.async&&r===1)return r=0,t.stack.push(n),Promise.resolve().then(i);if(n.dispose){var s=n.dispose.call(n.value);if(n.async)return r|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else r|=1}catch(a){e(a)}if(r===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function fie(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(n,r,i,s,a){return r?e?".jsx":".js":i&&(!s||!a)?n:i+s+"."+a.toLowerCase()+"js"}):t}const wCe={__extends:$re,__assign:Wo,__rest:jf,__decorate:Hre,__param:Gre,__esDecorate:Wre,__runInitializers:Xre,__propKey:qre,__setFunctionName:Kre,__metadata:Yre,__awaiter:Gt,__generator:Zre,__createBinding:uP,__exportStar:Jre,__values:aM,__read:sB,__spread:Qre,__spreadArrays:eie,__spreadArray:aB,__await:Qv,__asyncGenerator:tie,__asyncDelegator:nie,__asyncValues:rie,__makeTemplateObject:iie,__importStar:sie,__importDefault:aie,__classPrivateFieldGet:oie,__classPrivateFieldSet:lie,__classPrivateFieldIn:cie,__addDisposableResource:uie,__disposeResources:die,__rewriteRelativeImportExtension:fie},_Ce=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:uie,get __assign(){return Wo},__asyncDelegator:nie,__asyncGenerator:tie,__asyncValues:rie,__await:Qv,__awaiter:Gt,__classPrivateFieldGet:oie,__classPrivateFieldIn:cie,__classPrivateFieldSet:lie,__createBinding:uP,__decorate:Hre,__disposeResources:die,__esDecorate:Wre,__exportStar:Jre,__extends:$re,__generator:Zre,__importDefault:aie,__importStar:sie,__makeTemplateObject:iie,__metadata:Yre,__param:Gre,__propKey:qre,__read:sB,__rest:jf,__rewriteRelativeImportExtension:fie,__runInitializers:Xre,__setFunctionName:Kre,__spread:Qre,__spreadArray:aB,__spreadArrays:eie,__values:aM,default:wCe},Symbol.toStringTag,{value:"Module"}));var tA="right-scroll-bar-position",nA="width-before-scroll-bar",SCe="with-scroll-bars-hidden",ECe="--removed-body-scroll-bar-size";function wI(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function TCe(t,e){var n=T.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var ACe=typeof window<"u"?T.useLayoutEffect:T.useEffect,dG=new WeakMap;function MCe(t,e){var n=TCe(null,function(r){return t.forEach(function(i){return wI(i,r)})});return ACe(function(){var r=dG.get(n);if(r){var i=new Set(r),s=new Set(t),a=n.current;i.forEach(function(o){s.has(o)||wI(o,null)}),s.forEach(function(o){i.has(o)||wI(o,a)})}dG.set(n,t)},[t]),n}function CCe(t){return t}function PCe(t,e){e===void 0&&(e=CCe);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var a=e(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var l=function(){var u=a;a=[],u.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(u){a.push(u),c()},filter:function(u){return a=a.filter(u),n}}}};return i}function RCe(t){t===void 0&&(t={});var e=PCe(null);return e.options=Wo({async:!0,ssr:!1},t),e}var hie=function(t){var e=t.sideCar,n=jf(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,Wo({},n))};hie.isSideCarExport=!0;function OCe(t,e){return t.useMedium(e),hie}var pie=RCe(),_I=function(){},dP=T.forwardRef(function(t,e){var n=T.useRef(null),r=T.useState({onScrollCapture:_I,onWheelCapture:_I,onTouchMoveCapture:_I}),i=r[0],s=r[1],a=t.forwardProps,o=t.children,l=t.className,c=t.removeScrollBar,u=t.enabled,d=t.shards,f=t.sideCar,h=t.noRelative,m=t.noIsolation,g=t.inert,v=t.allowPinchZoom,y=t.as,w=y===void 0?"div":y,_=t.gapMode,S=jf(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=f,A=MCe([n,e]),M=Wo(Wo({},S),i);return T.createElement(T.Fragment,null,u&&T.createElement(E,{sideCar:pie,removeScrollBar:c,shards:d,noRelative:h,noIsolation:m,inert:g,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:_}),a?T.cloneElement(T.Children.only(o),Wo(Wo({},M),{ref:A})):T.createElement(w,Wo({},M,{className:l,ref:A}),o))});dP.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};dP.classNames={fullWidth:nA,zeroRight:tA};var NCe=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function ICe(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NCe();return e&&t.setAttribute("nonce",e),t}function kCe(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function DCe(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var LCe=function(){var t=0,e=null;return{add:function(n){t==0&&(e=ICe())&&(kCe(e,n),DCe(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},jCe=function(){var t=LCe();return function(e,n){T.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},mie=function(){var t=jCe(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},FCe={left:0,top:0,right:0,gap:0},SI=function(t){return parseInt(t||"",10)||0},UCe=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[SI(n),SI(r),SI(i)]},BCe=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return FCe;var e=UCe(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},zCe=mie(),xv="data-scroll-locked",VCe=function(t,e,n,r){var i=t.left,s=t.top,a=t.right,o=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(SCe,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(xv,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tA,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(nA,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(tA," .").concat(tA,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(nA," .").concat(nA,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xv,`] {
    `).concat(ECe,": ").concat(o,`px;
  }
`)},fG=function(){var t=parseInt(document.body.getAttribute(xv)||"0",10);return isFinite(t)?t:0},$Ce=function(){T.useEffect(function(){return document.body.setAttribute(xv,(fG()+1).toString()),function(){var t=fG()-1;t<=0?document.body.removeAttribute(xv):document.body.setAttribute(xv,t.toString())}},[])},HCe=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;$Ce();var s=T.useMemo(function(){return BCe(i)},[i]);return T.createElement(zCe,{styles:VCe(s,!e,i,n?"":"!important")})},_L=!1;if(typeof window<"u")try{var JS=Object.defineProperty({},"passive",{get:function(){return _L=!0,!0}});window.addEventListener("test",JS,JS),window.removeEventListener("test",JS,JS)}catch{_L=!1}var Hm=_L?{passive:!1}:!1,GCe=function(t){return t.tagName==="TEXTAREA"},gie=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!GCe(t)&&n[e]==="visible")},WCe=function(t){return gie(t,"overflowY")},XCe=function(t){return gie(t,"overflowX")},hG=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vie(t,r);if(i){var s=yie(t,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},qCe=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},KCe=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},vie=function(t,e){return t==="v"?WCe(e):XCe(e)},yie=function(t,e){return t==="v"?qCe(e):KCe(e)},YCe=function(t,e){return t==="h"&&e==="rtl"?-1:1},ZCe=function(t,e,n,r,i){var s=YCe(t,window.getComputedStyle(e).direction),a=s*r,o=n.target,l=e.contains(o),c=!1,u=a>0,d=0,f=0;do{if(!o)break;var h=yie(t,o),m=h[0],g=h[1],v=h[2],y=g-v-s*m;(m||y)&&vie(t,o)&&(d+=y,f+=m);var w=o.parentNode;o=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&o!==document.body||l&&(e.contains(o)||e===o));return(u&&(Math.abs(d)<1||!i)||!u&&(Math.abs(f)<1||!i))&&(c=!0),c},QS=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},pG=function(t){return[t.deltaX,t.deltaY]},mG=function(t){return t&&"current"in t?t.current:t},JCe=function(t,e){return t[0]===e[0]&&t[1]===e[1]},QCe=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},ePe=0,Gm=[];function tPe(t){var e=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(ePe++)[0],s=T.useState(mie)[0],a=T.useRef(t);T.useEffect(function(){a.current=t},[t]),T.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var g=aB([t.lockRef.current],(t.shards||[]).map(mG),!0).filter(Boolean);return g.forEach(function(v){return v.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),g.forEach(function(v){return v.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var o=T.useCallback(function(g,v){if("touches"in g&&g.touches.length===2||g.type==="wheel"&&g.ctrlKey)return!a.current.allowPinchZoom;var y=QS(g),w=n.current,_="deltaX"in g?g.deltaX:w[0]-y[0],S="deltaY"in g?g.deltaY:w[1]-y[1],E,A=g.target,M=Math.abs(_)>Math.abs(S)?"h":"v";if("touches"in g&&M==="h"&&A.type==="range")return!1;var R=hG(M,A);if(!R)return!0;if(R?E=M:(E=M==="v"?"h":"v",R=hG(M,A)),!R)return!1;if(!r.current&&"changedTouches"in g&&(_||S)&&(r.current=E),!E)return!0;var P=r.current||E;return ZCe(P,v,g,P==="h"?_:S,!0)},[]),l=T.useCallback(function(g){var v=g;if(!(!Gm.length||Gm[Gm.length-1]!==s)){var y="deltaY"in v?pG(v):QS(v),w=e.current.filter(function(E){return E.name===v.type&&(E.target===v.target||v.target===E.shadowParent)&&JCe(E.delta,y)})[0];if(w&&w.should){v.cancelable&&v.preventDefault();return}if(!w){var _=(a.current.shards||[]).map(mG).filter(Boolean).filter(function(E){return E.contains(v.target)}),S=_.length>0?o(v,_[0]):!a.current.noIsolation;S&&v.cancelable&&v.preventDefault()}}},[]),c=T.useCallback(function(g,v,y,w){var _={name:g,delta:v,target:y,should:w,shadowParent:nPe(y)};e.current.push(_),setTimeout(function(){e.current=e.current.filter(function(S){return S!==_})},1)},[]),u=T.useCallback(function(g){n.current=QS(g),r.current=void 0},[]),d=T.useCallback(function(g){c(g.type,pG(g),g.target,o(g,t.lockRef.current))},[]),f=T.useCallback(function(g){c(g.type,QS(g),g.target,o(g,t.lockRef.current))},[]);T.useEffect(function(){return Gm.push(s),t.setCallbacks({onScrollCapture:d,onWheelCapture:d,onTouchMoveCapture:f}),document.addEventListener("wheel",l,Hm),document.addEventListener("touchmove",l,Hm),document.addEventListener("touchstart",u,Hm),function(){Gm=Gm.filter(function(g){return g!==s}),document.removeEventListener("wheel",l,Hm),document.removeEventListener("touchmove",l,Hm),document.removeEventListener("touchstart",u,Hm)}},[]);var h=t.removeScrollBar,m=t.inert;return T.createElement(T.Fragment,null,m?T.createElement(s,{styles:QCe(i)}):null,h?T.createElement(HCe,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function nPe(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const rPe=OCe(pie,tPe);var fP=T.forwardRef(function(t,e){return T.createElement(dP,Wo({},t,{ref:e,sideCar:rPe}))});fP.classNames=dP.classNames;var iPe=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Wm=new WeakMap,eE=new WeakMap,tE={},EI=0,xie=function(t){return t&&(t.host||xie(t.parentNode))},sPe=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=xie(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},aPe=function(t,e,n,r){var i=sPe(e,Array.isArray(t)?t:[t]);tE[n]||(tE[n]=new WeakMap);var s=tE[n],a=[],o=new Set,l=new Set(i),c=function(d){!d||o.has(d)||(o.add(d),c(d.parentNode))};i.forEach(c);var u=function(d){!d||l.has(d)||Array.prototype.forEach.call(d.children,function(f){if(o.has(f))u(f);else try{var h=f.getAttribute(r),m=h!==null&&h!=="false",g=(Wm.get(f)||0)+1,v=(s.get(f)||0)+1;Wm.set(f,g),s.set(f,v),a.push(f),g===1&&m&&eE.set(f,!0),v===1&&f.setAttribute(n,"true"),m||f.setAttribute(r,"true")}catch(y){console.error("aria-hidden: cannot operate on ",f,y)}})};return u(e),o.clear(),EI++,function(){a.forEach(function(d){var f=Wm.get(d)-1,h=s.get(d)-1;Wm.set(d,f),s.set(d,h),f||(eE.has(d)||d.removeAttribute(r),eE.delete(d)),h||d.removeAttribute(n)}),EI--,EI||(Wm=new WeakMap,Wm=new WeakMap,eE=new WeakMap,tE={})}},oB=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=iPe(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),aPe(r,i,n,"aria-hidden")):function(){return null}},hP="Dialog",[bie,Kxt]=Xs(hP),[oPe,Zl]=bie(hP),wie=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=t,o=T.useRef(null),l=T.useRef(null),[c,u]=Xl({prop:r,defaultProp:i??!1,onChange:s,caller:hP});return p.jsx(oPe,{scope:e,triggerRef:o,contentRef:l,contentId:Hl(),titleId:Hl(),descriptionId:Hl(),open:c,onOpenChange:u,onOpenToggle:T.useCallback(()=>u(d=>!d),[u]),modal:a,children:n})};wie.displayName=hP;var _ie="DialogTrigger",Sie=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Zl(_ie,n),s=mn(e,i.triggerRef);return p.jsx(Lt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":uB(i.open),...r,ref:s,onClick:vt(t.onClick,i.onOpenToggle)})});Sie.displayName=_ie;var lB="DialogPortal",[lPe,Eie]=bie(lB,{forceMount:void 0}),Tie=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=Zl(lB,e);return p.jsx(lPe,{scope:e,forceMount:n,children:T.Children.map(r,a=>p.jsx(qs,{present:n||s.open,children:p.jsx(U1,{asChild:!0,container:i,children:a})}))})};Tie.displayName=lB;var oM="DialogOverlay",Aie=T.forwardRef((t,e)=>{const n=Eie(oM,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Zl(oM,t.__scopeDialog);return s.modal?p.jsx(qs,{present:r||s.open,children:p.jsx(uPe,{...i,ref:e})}):null});Aie.displayName=oM;var cPe=Bp("DialogOverlay.RemoveScroll"),uPe=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Zl(oM,n);return p.jsx(fP,{as:cPe,allowPinchZoom:!0,shards:[i.contentRef],children:p.jsx(Lt.div,{"data-state":uB(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Hp="DialogContent",Mie=T.forwardRef((t,e)=>{const n=Eie(Hp,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=Zl(Hp,t.__scopeDialog);return p.jsx(qs,{present:r||s.open,children:s.modal?p.jsx(dPe,{...i,ref:e}):p.jsx(fPe,{...i,ref:e})})});Mie.displayName=Hp;var dPe=T.forwardRef((t,e)=>{const n=Zl(Hp,t.__scopeDialog),r=T.useRef(null),i=mn(e,n.contentRef,r);return T.useEffect(()=>{const s=r.current;if(s)return oB(s)},[]),p.jsx(Cie,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:vt(t.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:vt(t.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:vt(t.onFocusOutside,s=>s.preventDefault())})}),fPe=T.forwardRef((t,e)=>{const n=Zl(Hp,t.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return p.jsx(Cie,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=t.onCloseAutoFocus)==null||a.call(t,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Cie=T.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=t,o=Zl(Hp,n),l=T.useRef(null),c=mn(e,l);return iB(),p.jsxs(p.Fragment,{children:[p.jsx(cP,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:p.jsx(q0,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":uB(o.open),...a,ref:c,onDismiss:()=>o.onOpenChange(!1)})}),p.jsxs(p.Fragment,{children:[p.jsx(hPe,{titleId:o.titleId}),p.jsx(mPe,{contentRef:l,descriptionId:o.descriptionId})]})]})}),cB="DialogTitle",Pie=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Zl(cB,n);return p.jsx(Lt.h2,{id:i.titleId,...r,ref:e})});Pie.displayName=cB;var Rie="DialogDescription",Oie=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Zl(Rie,n);return p.jsx(Lt.p,{id:i.descriptionId,...r,ref:e})});Oie.displayName=Rie;var Nie="DialogClose",Iie=T.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=Zl(Nie,n);return p.jsx(Lt.button,{type:"button",...r,ref:e,onClick:vt(t.onClick,()=>i.onOpenChange(!1))})});Iie.displayName=Nie;function uB(t){return t?"open":"closed"}var kie="DialogTitleWarning",[Yxt,Die]=Dye(kie,{contentName:Hp,titleName:cB,docsSlug:"dialog"}),hPe=({titleId:t})=>{const e=Die(kie),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return T.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},pPe="DialogDescriptionWarning",mPe=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Die(pPe).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},Lie=wie,jie=Sie,Fie=Tie,pP=Aie,mP=Mie,gP=Pie,vP=Oie,Uie=Iie;const gPe=Lie,vPe=jie,yPe=Fie,Bie=T.forwardRef(({className:t,...e},n)=>p.jsx(pP,{ref:n,className:ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Bie.displayName=pP.displayName;const zie=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(yPe,{children:[p.jsx(Bie,{}),p.jsxs(mP,{ref:r,className:ht("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,p.jsxs(Uie,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(Y0,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));zie.displayName=mP.displayName;const Vie=({className:t,...e})=>p.jsx("div",{className:ht("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Vie.displayName="DialogHeader";const $ie=T.forwardRef(({className:t,...e},n)=>p.jsx(gP,{ref:n,className:ht("text-lg font-semibold leading-none tracking-tight",t),...e}));$ie.displayName=gP.displayName;const xPe=T.forwardRef(({className:t,...e},n)=>p.jsx(vP,{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));xPe.displayName=vP.displayName;const mr=T.forwardRef(({className:t,type:e,...n},r)=>p.jsx("input",{type:e,className:ht("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));mr.displayName="Input";var bPe="Label",Hie=T.forwardRef((t,e)=>p.jsx(Lt.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Hie.displayName=bPe;var Gie=Hie;const wPe=K0("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Zt=T.forwardRef(({className:t,...e},n)=>p.jsx(Gie,{ref:n,className:ht(wPe(),t),...e}));Zt.displayName=Gie.displayName;const sp=T.forwardRef(({className:t,...e},n)=>p.jsx("textarea",{className:ht("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));sp.displayName="Textarea";function Rw(t,[e,n]){return Math.min(n,Math.max(e,t))}var _Pe=T.createContext(void 0);function sy(t){const e=T.useContext(_Pe);return t||e||"ltr"}function yP(t){const e=T.useRef({value:t,previous:t});return T.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var SPe=[" ","Enter","ArrowUp","ArrowDown"],EPe=[" ","Enter"],Gp="Select",[xP,bP,TPe]=F1(Gp),[ay,Zxt]=Xs(Gp,[TPe,ey]),wP=ey(),[APe,Ff]=ay(Gp),[MPe,CPe]=ay(Gp),Wie=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:l,dir:c,name:u,autoComplete:d,disabled:f,required:h,form:m}=t,g=wP(e),[v,y]=T.useState(null),[w,_]=T.useState(null),[S,E]=T.useState(!1),A=sy(c),[M,R]=Xl({prop:r,defaultProp:i??!1,onChange:s,caller:Gp}),[P,O]=Xl({prop:a,defaultProp:o,onChange:l,caller:Gp}),k=T.useRef(null),I=v?m||!!v.closest("form"):!0,[F,L]=T.useState(new Set),V=Array.from(F).map(z=>z.props.value).join(";");return p.jsx(v4,{...g,children:p.jsxs(APe,{required:h,scope:e,trigger:v,onTriggerChange:y,valueNode:w,onValueNodeChange:_,valueNodeHasChildren:S,onValueNodeHasChildrenChange:E,contentId:Hl(),value:P,onValueChange:O,open:M,onOpenChange:R,dir:A,triggerPointerDownPosRef:k,disabled:f,children:[p.jsx(xP.Provider,{scope:e,children:p.jsx(MPe,{scope:t.__scopeSelect,onNativeOptionAdd:T.useCallback(z=>{L(K=>new Set(K).add(z))},[]),onNativeOptionRemove:T.useCallback(z=>{L(K=>{const j=new Set(K);return j.delete(z),j})},[]),children:n})}),I?p.jsxs(gse,{"aria-hidden":!0,required:h,tabIndex:-1,name:u,autoComplete:d,value:P,onChange:z=>O(z.target.value),disabled:f,form:m,children:[P===void 0?p.jsx("option",{value:""}):null,Array.from(F)]},V):null]})})};Wie.displayName=Gp;var Xie="SelectTrigger",qie=T.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=wP(n),a=Ff(Xie,n),o=a.disabled||r,l=mn(e,a.onTriggerChange),c=bP(n),u=T.useRef("touch"),[d,f,h]=yse(g=>{const v=c().filter(_=>!_.disabled),y=v.find(_=>_.value===a.value),w=xse(v,g,y);w!==void 0&&a.onValueChange(w.value)}),m=g=>{o||(a.onOpenChange(!0),h()),g&&(a.triggerPointerDownPosRef.current={x:Math.round(g.pageX),y:Math.round(g.pageY)})};return p.jsx(y4,{asChild:!0,...s,children:p.jsx(Lt.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":vse(a.value)?"":void 0,...i,ref:l,onClick:vt(i.onClick,g=>{g.currentTarget.focus(),u.current!=="mouse"&&m(g)}),onPointerDown:vt(i.onPointerDown,g=>{u.current=g.pointerType;const v=g.target;v.hasPointerCapture(g.pointerId)&&v.releasePointerCapture(g.pointerId),g.button===0&&g.ctrlKey===!1&&g.pointerType==="mouse"&&(m(g),g.preventDefault())}),onKeyDown:vt(i.onKeyDown,g=>{const v=d.current!=="";!(g.ctrlKey||g.altKey||g.metaKey)&&g.key.length===1&&f(g.key),!(v&&g.key===" ")&&SPe.includes(g.key)&&(m(),g.preventDefault())})})})});qie.displayName=Xie;var Kie="SelectValue",Yie=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=t,l=Ff(Kie,n),{onValueNodeHasChildrenChange:c}=l,u=s!==void 0,d=mn(e,l.onValueNodeChange);return Mi(()=>{c(u)},[c,u]),p.jsx(Lt.span,{...o,ref:d,style:{pointerEvents:"none"},children:vse(l.value)?p.jsx(p.Fragment,{children:a}):s})});Yie.displayName=Kie;var PPe="SelectIcon",Zie=T.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return p.jsx(Lt.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});Zie.displayName=PPe;var RPe="SelectPortal",Jie=t=>p.jsx(U1,{asChild:!0,...t});Jie.displayName=RPe;var Wp="SelectContent",Qie=T.forwardRef((t,e)=>{const n=Ff(Wp,t.__scopeSelect),[r,i]=T.useState();if(Mi(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?pm.createPortal(p.jsx(ese,{scope:t.__scopeSelect,children:p.jsx(xP.Slot,{scope:t.__scopeSelect,children:p.jsx("div",{children:t.children})})}),s):null}return p.jsx(tse,{...t,ref:e})});Qie.displayName=Wp;var Tl=10,[ese,Uf]=ay(Wp),OPe="SelectContentImpl",NPe=Bp("SelectContent.RemoveScroll"),tse=T.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:v,...y}=t,w=Ff(Wp,n),[_,S]=T.useState(null),[E,A]=T.useState(null),M=mn(e,ne=>S(ne)),[R,P]=T.useState(null),[O,k]=T.useState(null),I=bP(n),[F,L]=T.useState(!1),V=T.useRef(!1);T.useEffect(()=>{if(_)return oB(_)},[_]),iB();const z=T.useCallback(ne=>{const[ve,...ge]=I().map(ce=>ce.ref.current),[_e]=ge.slice(-1),ye=document.activeElement;for(const ce of ne)if(ce===ye||(ce==null||ce.scrollIntoView({block:"nearest"}),ce===ve&&E&&(E.scrollTop=0),ce===_e&&E&&(E.scrollTop=E.scrollHeight),ce==null||ce.focus(),document.activeElement!==ye))return},[I,E]),K=T.useCallback(()=>z([R,_]),[z,R,_]);T.useEffect(()=>{F&&K()},[F,K]);const{onOpenChange:j,triggerPointerDownPosRef:U}=w;T.useEffect(()=>{if(_){let ne={x:0,y:0};const ve=_e=>{var ye,ce;ne={x:Math.abs(Math.round(_e.pageX)-(((ye=U.current)==null?void 0:ye.x)??0)),y:Math.abs(Math.round(_e.pageY)-(((ce=U.current)==null?void 0:ce.y)??0))}},ge=_e=>{ne.x<=10&&ne.y<=10?_e.preventDefault():_.contains(_e.target)||j(!1),document.removeEventListener("pointermove",ve),U.current=null};return U.current!==null&&(document.addEventListener("pointermove",ve),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ve),document.removeEventListener("pointerup",ge,{capture:!0})}}},[_,j,U]),T.useEffect(()=>{const ne=()=>j(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[j]);const[$,G]=yse(ne=>{const ve=I().filter(ye=>!ye.disabled),ge=ve.find(ye=>ye.ref.current===document.activeElement),_e=xse(ve,ne,ge);_e&&setTimeout(()=>_e.ref.current.focus())}),X=T.useCallback((ne,ve,ge)=>{const _e=!V.current&&!ge;(w.value!==void 0&&w.value===ve||_e)&&(P(ne),_e&&(V.current=!0))},[w.value]),Q=T.useCallback(()=>_==null?void 0:_.focus(),[_]),oe=T.useCallback((ne,ve,ge)=>{const _e=!V.current&&!ge;(w.value!==void 0&&w.value===ve||_e)&&k(ne)},[w.value]),de=r==="popper"?SL:nse,ae=de===SL?{side:o,sideOffset:l,align:c,alignOffset:u,arrowPadding:d,collisionBoundary:f,collisionPadding:h,sticky:m,hideWhenDetached:g,avoidCollisions:v}:{};return p.jsx(ese,{scope:n,content:_,viewport:E,onViewportChange:A,itemRefCallback:X,selectedItem:R,onItemLeave:Q,itemTextRefCallback:oe,focusSelectedItem:K,selectedItemText:O,position:r,isPositioned:F,searchRef:$,children:p.jsx(fP,{as:NPe,allowPinchZoom:!0,children:p.jsx(cP,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:vt(i,ne=>{var ve;(ve=w.trigger)==null||ve.focus({preventScroll:!0}),ne.preventDefault()}),children:p.jsx(q0,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(de,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),...y,...ae,onPlaced:()=>L(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",...y.style},onKeyDown:vt(y.onKeyDown,ne=>{const ve=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ve&&ne.key.length===1&&G(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let _e=I().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(_e=_e.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const ye=ne.target,ce=_e.indexOf(ye);_e=_e.slice(ce+1)}setTimeout(()=>z(_e)),ne.preventDefault()}})})})})})})});tse.displayName=OPe;var IPe="SelectItemAlignedPosition",nse=T.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=Ff(Wp,n),a=Uf(Wp,n),[o,l]=T.useState(null),[c,u]=T.useState(null),d=mn(e,M=>u(M)),f=bP(n),h=T.useRef(!1),m=T.useRef(!0),{viewport:g,selectedItem:v,selectedItemText:y,focusSelectedItem:w}=a,_=T.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&c&&g&&v&&y){const M=s.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),P=s.valueNode.getBoundingClientRect(),O=y.getBoundingClientRect();if(s.dir!=="rtl"){const ye=O.left-R.left,ce=P.left-ye,De=M.left-ce,Ee=M.width+De,Z=Math.max(Ee,R.width),Me=window.innerWidth-Tl,Oe=Rw(ce,[Tl,Math.max(Tl,Me-Z)]);o.style.minWidth=Ee+"px",o.style.left=Oe+"px"}else{const ye=R.right-O.right,ce=window.innerWidth-P.right-ye,De=window.innerWidth-M.right-ce,Ee=M.width+De,Z=Math.max(Ee,R.width),Me=window.innerWidth-Tl,Oe=Rw(ce,[Tl,Math.max(Tl,Me-Z)]);o.style.minWidth=Ee+"px",o.style.right=Oe+"px"}const k=f(),I=window.innerHeight-Tl*2,F=g.scrollHeight,L=window.getComputedStyle(c),V=parseInt(L.borderTopWidth,10),z=parseInt(L.paddingTop,10),K=parseInt(L.borderBottomWidth,10),j=parseInt(L.paddingBottom,10),U=V+z+F+j+K,$=Math.min(v.offsetHeight*5,U),G=window.getComputedStyle(g),X=parseInt(G.paddingTop,10),Q=parseInt(G.paddingBottom,10),oe=M.top+M.height/2-Tl,de=I-oe,ae=v.offsetHeight/2,ne=v.offsetTop+ae,ve=V+z+ne,ge=U-ve;if(ve<=oe){const ye=k.length>0&&v===k[k.length-1].ref.current;o.style.bottom="0px";const ce=c.clientHeight-g.offsetTop-g.offsetHeight,De=Math.max(de,ae+(ye?Q:0)+ce+K),Ee=ve+De;o.style.height=Ee+"px"}else{const ye=k.length>0&&v===k[0].ref.current;o.style.top="0px";const De=Math.max(oe,V+g.offsetTop+(ye?X:0)+ae)+ge;o.style.height=De+"px",g.scrollTop=ve-oe+g.offsetTop}o.style.margin=`${Tl}px 0`,o.style.minHeight=$+"px",o.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[f,s.trigger,s.valueNode,o,c,g,v,y,s.dir,r]);Mi(()=>_(),[_]);const[S,E]=T.useState();Mi(()=>{c&&E(window.getComputedStyle(c).zIndex)},[c]);const A=T.useCallback(M=>{M&&m.current===!0&&(_(),w==null||w(),m.current=!1)},[_,w]);return p.jsx(DPe,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:h,onScrollButtonChange:A,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:p.jsx(Lt.div,{...i,ref:d,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});nse.displayName=IPe;var kPe="SelectPopperPosition",SL=T.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=Tl,...s}=t,a=wP(n);return p.jsx(x4,{...a,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});SL.displayName=kPe;var[DPe,dB]=ay(Wp,{}),EL="SelectViewport",rse=T.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=Uf(EL,n),a=dB(EL,n),o=mn(e,s.onViewportChange),l=T.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),p.jsx(xP.Slot,{scope:n,children:p.jsx(Lt.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:vt(i.onScroll,c=>{const u=c.currentTarget,{contentWrapper:d,shouldExpandOnScrollRef:f}=a;if(f!=null&&f.current&&d){const h=Math.abs(l.current-u.scrollTop);if(h>0){const m=window.innerHeight-Tl*2,g=parseFloat(d.style.minHeight),v=parseFloat(d.style.height),y=Math.max(g,v);if(y<m){const w=y+h,_=Math.min(m,w),S=w-_;d.style.height=_+"px",d.style.bottom==="0px"&&(u.scrollTop=S>0?S:0,d.style.justifyContent="flex-end")}}}l.current=u.scrollTop})})})]})});rse.displayName=EL;var ise="SelectGroup",[LPe,jPe]=ay(ise),FPe=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Hl();return p.jsx(LPe,{scope:n,id:i,children:p.jsx(Lt.div,{role:"group","aria-labelledby":i,...r,ref:e})})});FPe.displayName=ise;var sse="SelectLabel",ase=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=jPe(sse,n);return p.jsx(Lt.div,{id:i.id,...r,ref:e})});ase.displayName=sse;var lM="SelectItem",[UPe,ose]=ay(lM),lse=T.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=t,o=Ff(lM,n),l=Uf(lM,n),c=o.value===r,[u,d]=T.useState(s??""),[f,h]=T.useState(!1),m=mn(e,w=>{var _;return(_=l.itemRefCallback)==null?void 0:_.call(l,w,r,i)}),g=Hl(),v=T.useRef("touch"),y=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(UPe,{scope:n,value:r,disabled:i,textId:g,isSelected:c,onItemTextChange:T.useCallback(w=>{d(_=>_||((w==null?void 0:w.textContent)??"").trim())},[]),children:p.jsx(xP.ItemSlot,{scope:n,value:r,disabled:i,textValue:u,children:p.jsx(Lt.div,{role:"option","aria-labelledby":g,"data-highlighted":f?"":void 0,"aria-selected":c&&f,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:m,onFocus:vt(a.onFocus,()=>h(!0)),onBlur:vt(a.onBlur,()=>h(!1)),onClick:vt(a.onClick,()=>{v.current!=="mouse"&&y()}),onPointerUp:vt(a.onPointerUp,()=>{v.current==="mouse"&&y()}),onPointerDown:vt(a.onPointerDown,w=>{v.current=w.pointerType}),onPointerMove:vt(a.onPointerMove,w=>{var _;v.current=w.pointerType,i?(_=l.onItemLeave)==null||_.call(l):v.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:vt(a.onPointerLeave,w=>{var _;w.currentTarget===document.activeElement&&((_=l.onItemLeave)==null||_.call(l))}),onKeyDown:vt(a.onKeyDown,w=>{var S;((S=l.searchRef)==null?void 0:S.current)!==""&&w.key===" "||(EPe.includes(w.key)&&y(),w.key===" "&&w.preventDefault())})})})})});lse.displayName=lM;var rb="SelectItemText",cse=T.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,a=Ff(rb,n),o=Uf(rb,n),l=ose(rb,n),c=CPe(rb,n),[u,d]=T.useState(null),f=mn(e,y=>d(y),l.onItemTextChange,y=>{var w;return(w=o.itemTextRefCallback)==null?void 0:w.call(o,y,l.value,l.disabled)}),h=u==null?void 0:u.textContent,m=T.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:h},l.value),[l.disabled,l.value,h]),{onNativeOptionAdd:g,onNativeOptionRemove:v}=c;return Mi(()=>(g(m),()=>v(m)),[g,v,m]),p.jsxs(p.Fragment,{children:[p.jsx(Lt.span,{id:l.textId,...s,ref:f}),l.isSelected&&a.valueNode&&!a.valueNodeHasChildren?pm.createPortal(s.children,a.valueNode):null]})});cse.displayName=rb;var use="SelectItemIndicator",dse=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return ose(use,n).isSelected?p.jsx(Lt.span,{"aria-hidden":!0,...r,ref:e}):null});dse.displayName=use;var TL="SelectScrollUpButton",fse=T.forwardRef((t,e)=>{const n=Uf(TL,t.__scopeSelect),r=dB(TL,t.__scopeSelect),[i,s]=T.useState(!1),a=mn(e,r.onScrollButtonChange);return Mi(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(pse,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop-l.offsetHeight)}}):null});fse.displayName=TL;var AL="SelectScrollDownButton",hse=T.forwardRef((t,e)=>{const n=Uf(AL,t.__scopeSelect),r=dB(AL,t.__scopeSelect),[i,s]=T.useState(!1),a=mn(e,r.onScrollButtonChange);return Mi(()=>{if(n.viewport&&n.isPositioned){let o=function(){const c=l.scrollHeight-l.clientHeight,u=Math.ceil(l.scrollTop)<c;s(u)};const l=n.viewport;return o(),l.addEventListener("scroll",o),()=>l.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?p.jsx(pse,{...t,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:l}=n;o&&l&&(o.scrollTop=o.scrollTop+l.offsetHeight)}}):null});hse.displayName=AL;var pse=T.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=Uf("SelectScrollButton",n),a=T.useRef(null),o=bP(n),l=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>l(),[l]),Mi(()=>{var u;const c=o().find(d=>d.ref.current===document.activeElement);(u=c==null?void 0:c.ref.current)==null||u.scrollIntoView({block:"nearest"})},[o]),p.jsx(Lt.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:vt(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:vt(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:vt(i.onPointerLeave,()=>{l()})})}),BPe="SelectSeparator",mse=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return p.jsx(Lt.div,{"aria-hidden":!0,...r,ref:e})});mse.displayName=BPe;var ML="SelectArrow",zPe=T.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=wP(n),s=Ff(ML,n),a=Uf(ML,n);return s.open&&a.position==="popper"?p.jsx(b4,{...i,...r,ref:e}):null});zPe.displayName=ML;var VPe="SelectBubbleInput",gse=T.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const i=T.useRef(null),s=mn(r,i),a=yP(e);return T.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLSelectElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const d=new Event("change",{bubbles:!0});u.call(o,e),o.dispatchEvent(d)}},[a,e]),p.jsx(Lt.select,{...n,style:{...mee,...n.style},ref:s,defaultValue:e})});gse.displayName=VPe;function vse(t){return t===""||t===void 0}function yse(t){const e=fi(t),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(a=>{const o=n.current+a;e(o),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(o)},[e]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function xse(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=$Pe(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function $Pe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var HPe=Wie,bse=qie,GPe=Yie,WPe=Zie,XPe=Jie,wse=Qie,qPe=rse,_se=ase,Sse=lse,KPe=cse,YPe=dse,Ese=fse,Tse=hse,Ase=mse;const _u=HPe,Su=GPe,bc=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(bse,{ref:r,className:ht("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,p.jsx(WPe,{asChild:!0,children:p.jsx(jee,{className:"h-4 w-4 opacity-50"})})]}));bc.displayName=bse.displayName;const Mse=T.forwardRef(({className:t,...e},n)=>p.jsx(Ese,{ref:n,className:ht("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(Oxe,{className:"h-4 w-4"})}));Mse.displayName=Ese.displayName;const Cse=T.forwardRef(({className:t,...e},n)=>p.jsx(Tse,{ref:n,className:ht("flex cursor-default items-center justify-center py-1",t),...e,children:p.jsx(jee,{className:"h-4 w-4"})}));Cse.displayName=Tse.displayName;const wc=T.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>p.jsx(XPe,{children:p.jsxs(wse,{ref:i,className:ht("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[p.jsx(Mse,{}),p.jsx(qPe,{className:ht("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),p.jsx(Cse,{})]})}));wc.displayName=wse.displayName;const ZPe=T.forwardRef(({className:t,...e},n)=>p.jsx(_se,{ref:n,className:ht("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));ZPe.displayName=_se.displayName;const Pn=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Sse,{ref:r,className:ht("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(YPe,{children:p.jsx(s4,{className:"h-4 w-4"})})}),p.jsx(KPe,{children:e})]}));Pn.displayName=Sse.displayName;const JPe=T.forwardRef(({className:t,...e},n)=>p.jsx(Ase,{ref:n,className:ht("-mx-1 my-1 h-px bg-muted",t),...e}));JPe.displayName=Ase.displayName;var TI="rovingFocusGroup.onEntryFocus",QPe={bubbles:!1,cancelable:!0},q1="RovingFocusGroup",[CL,Pse,eRe]=F1(q1),[tRe,_P]=Xs(q1,[eRe]),[nRe,rRe]=tRe(q1),Rse=T.forwardRef((t,e)=>p.jsx(CL.Provider,{scope:t.__scopeRovingFocusGroup,children:p.jsx(CL.Slot,{scope:t.__scopeRovingFocusGroup,children:p.jsx(iRe,{...t,ref:e})})}));Rse.displayName=q1;var iRe=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:u=!1,...d}=t,f=T.useRef(null),h=mn(e,f),m=sy(s),[g,v]=Xl({prop:a,defaultProp:o??null,onChange:l,caller:q1}),[y,w]=T.useState(!1),_=fi(c),S=Pse(n),E=T.useRef(!1),[A,M]=T.useState(0);return T.useEffect(()=>{const R=f.current;if(R)return R.addEventListener(TI,_),()=>R.removeEventListener(TI,_)},[_]),p.jsx(nRe,{scope:n,orientation:r,dir:m,loop:i,currentTabStopId:g,onItemFocus:T.useCallback(R=>v(R),[v]),onItemShiftTab:T.useCallback(()=>w(!0),[]),onFocusableItemAdd:T.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:T.useCallback(()=>M(R=>R-1),[]),children:p.jsx(Lt.div,{tabIndex:y||A===0?-1:0,"data-orientation":r,...d,ref:h,style:{outline:"none",...t.style},onMouseDown:vt(t.onMouseDown,()=>{E.current=!0}),onFocus:vt(t.onFocus,R=>{const P=!E.current;if(R.target===R.currentTarget&&P&&!y){const O=new CustomEvent(TI,QPe);if(R.currentTarget.dispatchEvent(O),!O.defaultPrevented){const k=S().filter(z=>z.focusable),I=k.find(z=>z.active),F=k.find(z=>z.id===g),V=[I,F,...k].filter(Boolean).map(z=>z.ref.current);Ise(V,u)}}E.current=!1}),onBlur:vt(t.onBlur,()=>w(!1))})})}),Ose="RovingFocusGroupItem",Nse=T.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,children:a,...o}=t,l=Hl(),c=s||l,u=rRe(Ose,n),d=u.currentTabStopId===c,f=Pse(n),{onFocusableItemAdd:h,onFocusableItemRemove:m,currentTabStopId:g}=u;return T.useEffect(()=>{if(r)return h(),()=>m()},[r,h,m]),p.jsx(CL.ItemSlot,{scope:n,id:c,focusable:r,active:i,children:p.jsx(Lt.span,{tabIndex:d?0:-1,"data-orientation":u.orientation,...o,ref:e,onMouseDown:vt(t.onMouseDown,v=>{r?u.onItemFocus(c):v.preventDefault()}),onFocus:vt(t.onFocus,()=>u.onItemFocus(c)),onKeyDown:vt(t.onKeyDown,v=>{if(v.key==="Tab"&&v.shiftKey){u.onItemShiftTab();return}if(v.target!==v.currentTarget)return;const y=oRe(v,u.orientation,u.dir);if(y!==void 0){if(v.metaKey||v.ctrlKey||v.altKey||v.shiftKey)return;v.preventDefault();let _=f().filter(S=>S.focusable).map(S=>S.ref.current);if(y==="last")_.reverse();else if(y==="prev"||y==="next"){y==="prev"&&_.reverse();const S=_.indexOf(v.currentTarget);_=u.loop?lRe(_,S+1):_.slice(S+1)}setTimeout(()=>Ise(_))}}),children:typeof a=="function"?a({isCurrentTabStop:d,hasTabStop:g!=null}):a})})});Nse.displayName=Ose;var sRe={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function aRe(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function oRe(t,e,n){const r=aRe(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return sRe[r]}function Ise(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function lRe(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var kse=Rse,Dse=Nse,SP="Tabs",[cRe,Jxt]=Xs(SP,[_P]),Lse=_P(),[uRe,fB]=cRe(SP),jse=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:l="automatic",...c}=t,u=sy(o),[d,f]=Xl({prop:r,onChange:i,defaultProp:s??"",caller:SP});return p.jsx(uRe,{scope:n,baseId:Hl(),value:d,onValueChange:f,orientation:a,dir:u,activationMode:l,children:p.jsx(Lt.div,{dir:u,"data-orientation":a,...c,ref:e})})});jse.displayName=SP;var Fse="TabsList",Use=T.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...i}=t,s=fB(Fse,n),a=Lse(n);return p.jsx(kse,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:p.jsx(Lt.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:e})})});Use.displayName=Fse;var Bse="TabsTrigger",zse=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=t,a=fB(Bse,n),o=Lse(n),l=Hse(a.baseId,r),c=Gse(a.baseId,r),u=r===a.value;return p.jsx(Dse,{asChild:!0,...o,focusable:!i,active:u,children:p.jsx(Lt.button,{type:"button",role:"tab","aria-selected":u,"aria-controls":c,"data-state":u?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:l,...s,ref:e,onMouseDown:vt(t.onMouseDown,d=>{!i&&d.button===0&&d.ctrlKey===!1?a.onValueChange(r):d.preventDefault()}),onKeyDown:vt(t.onKeyDown,d=>{[" ","Enter"].includes(d.key)&&a.onValueChange(r)}),onFocus:vt(t.onFocus,()=>{const d=a.activationMode!=="manual";!u&&!i&&d&&a.onValueChange(r)})})})});zse.displayName=Bse;var Vse="TabsContent",$se=T.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=t,o=fB(Vse,n),l=Hse(o.baseId,r),c=Gse(o.baseId,r),u=r===o.value,d=T.useRef(u);return T.useEffect(()=>{const f=requestAnimationFrame(()=>d.current=!1);return()=>cancelAnimationFrame(f)},[]),p.jsx(qs,{present:i||u,children:({present:f})=>p.jsx(Lt.div,{"data-state":u?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":l,hidden:!f,id:c,tabIndex:0,...a,ref:e,style:{...t.style,animationDuration:d.current?"0s":void 0},children:f&&s})})});$se.displayName=Vse;function Hse(t,e){return`${t}-trigger-${e}`}function Gse(t,e){return`${t}-content-${e}`}var dRe=jse,Wse=Use,Xse=zse,qse=$se;const gm=dRe,Bf=T.forwardRef(({className:t,...e},n)=>p.jsx(Wse,{ref:n,className:ht("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));Bf.displayName=Wse.displayName;const Bi=T.forwardRef(({className:t,...e},n)=>p.jsx(Xse,{ref:n,className:ht("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Bi.displayName=Xse.displayName;const Yi=T.forwardRef(({className:t,...e},n)=>p.jsx(qse,{ref:n,className:ht("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Yi.displayName=qse.displayName;var K1=t=>t.type==="checkbox",ap=t=>t instanceof Date,ca=t=>t==null;const Kse=t=>typeof t=="object";var Ei=t=>!ca(t)&&!Array.isArray(t)&&Kse(t)&&!ap(t),fRe=t=>Ei(t)&&t.target?K1(t.target)?t.target.checked:t.target.value:t,hRe=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,pRe=(t,e)=>t.has(hRe(e)),mRe=t=>{const e=t.constructor&&t.constructor.prototype;return Ei(e)&&e.hasOwnProperty("isPrototypeOf")},hB=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function us(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(!(hB&&(t instanceof Blob||r))&&(n||Ei(t)))if(e=n?[]:{},!n&&!mRe(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=us(t[i]));else return t;return e}var EP=t=>/^\w*$/.test(t),ji=t=>t===void 0,pB=t=>Array.isArray(t)?t.filter(Boolean):[],mB=t=>pB(t.replace(/["|']|\]/g,"").split(/\.|\[/)),zt=(t,e,n)=>{if(!e||!Ei(t))return n;const r=(EP(e)?[e]:mB(e)).reduce((i,s)=>ca(i)?i:i[s],t);return ji(r)||r===t?ji(t[e])?n:t[e]:r},hc=t=>typeof t=="boolean",_r=(t,e,n)=>{let r=-1;const i=EP(e)?[e]:mB(e),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let l=n;if(r!==a){const c=t[o];l=Ei(c)||Array.isArray(c)?c:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const gG={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Fl={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},tu={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},gRe=ie.createContext(null);gRe.displayName="HookFormContext";var vRe=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Fl.all&&(e._proxyFormState[a]=!r||Fl.all),t[a]}});return i};const yRe=typeof window<"u"?ie.useLayoutEffect:ie.useEffect;var _c=t=>typeof t=="string",xRe=(t,e,n,r,i)=>_c(t)?(r&&e.watch.add(t),zt(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),zt(n,s))):(r&&(e.watchAll=!0),n),PL=t=>ca(t)||!Kse(t);function Ld(t,e,n=new WeakSet){if(PL(t)||PL(e))return t===e;if(ap(t)&&ap(e))return t.getTime()===e.getTime();const r=Object.keys(t),i=Object.keys(e);if(r.length!==i.length)return!1;if(n.has(t)||n.has(e))return!0;n.add(t),n.add(e);for(const s of r){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(ap(a)&&ap(o)||Ei(a)&&Ei(o)||Array.isArray(a)&&Array.isArray(o)?!Ld(a,o,n):a!==o)return!1}}return!0}var Yse=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Cb=t=>Array.isArray(t)?t:[t],vG=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},Da=t=>Ei(t)&&!Object.keys(t).length,gB=t=>t.type==="file",Ul=t=>typeof t=="function",cM=t=>{if(!hB)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Zse=t=>t.type==="select-multiple",vB=t=>t.type==="radio",bRe=t=>vB(t)||K1(t),AI=t=>cM(t)&&t.isConnected;function wRe(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=ji(t)?r++:t[e[r++]];return t}function _Re(t){for(const e in t)if(t.hasOwnProperty(e)&&!ji(t[e]))return!1;return!0}function Ii(t,e){const n=Array.isArray(e)?e:EP(e)?[e]:mB(e),r=n.length===1?t:wRe(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ei(r)&&Da(r)||Array.isArray(r)&&_Re(r))&&Ii(t,n.slice(0,-1)),t}var Jse=t=>{for(const e in t)if(Ul(t[e]))return!0;return!1};function uM(t,e={}){const n=Array.isArray(t);if(Ei(t)||n)for(const r in t)Array.isArray(t[r])||Ei(t[r])&&!Jse(t[r])?(e[r]=Array.isArray(t[r])?[]:{},uM(t[r],e[r])):ca(t[r])||(e[r]=!0);return e}function Qse(t,e,n){const r=Array.isArray(t);if(Ei(t)||r)for(const i in t)Array.isArray(t[i])||Ei(t[i])&&!Jse(t[i])?ji(e)||PL(n[i])?n[i]=Array.isArray(t[i])?uM(t[i],[]):{...uM(t[i])}:Qse(t[i],ca(e)?{}:e[i],n[i]):n[i]=!Ld(t[i],e[i]);return n}var mx=(t,e)=>Qse(t,e,uM(e));const yG={value:!1,isValid:!1},xG={value:!0,isValid:!0};var eae=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!ji(t[0].attributes.value)?ji(t[0].value)||t[0].value===""?xG:{value:t[0].value,isValid:!0}:xG:yG}return yG},tae=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>ji(t)?t:e?t===""?NaN:t&&+t:n&&_c(t)?new Date(t):r?r(t):t;const bG={isValid:!1,value:null};var nae=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,bG):bG;function wG(t){const e=t.ref;return gB(e)?e.files:vB(e)?nae(t.refs).value:Zse(e)?[...e.selectedOptions].map(({value:n})=>n):K1(e)?eae(t.refs).value:tae(ji(e.value)?t.ref.value:e.value,t)}var SRe=(t,e,n,r)=>{const i={};for(const s of t){const a=zt(e,s);a&&_r(i,s,a._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},dM=t=>t instanceof RegExp,gx=t=>ji(t)?t:dM(t)?t.source:Ei(t)?dM(t.value)?t.value.source:t.value:t,_G=t=>({isOnSubmit:!t||t===Fl.onSubmit,isOnBlur:t===Fl.onBlur,isOnChange:t===Fl.onChange,isOnAll:t===Fl.all,isOnTouch:t===Fl.onTouched});const SG="AsyncFunction";var ERe=t=>!!t&&!!t.validate&&!!(Ul(t.validate)&&t.validate.constructor.name===SG||Ei(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===SG)),TRe=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),EG=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Pb=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=zt(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!r)return!0;if(a.ref&&e(a.ref,a.name)&&!r)return!0;if(Pb(o,e))break}else if(Ei(o)&&Pb(o,e))break}}};function TG(t,e,n){const r=zt(t,n);if(r||EP(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=zt(e,s),o=zt(t,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:n}}var ARe=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Da(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!r||Fl.all))},MRe=(t,e,n)=>!t||!e||t===e||Cb(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),CRe=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,PRe=(t,e)=>!pB(zt(t,e)).length&&Ii(t,e),RRe=(t,e,n)=>{const r=Cb(zt(t,n));return _r(r,"root",e[n]),_r(t,n,r),t},rA=t=>_c(t);function AG(t,e,n="validate"){if(rA(t)||Array.isArray(t)&&t.every(rA)||hc(t)&&!t)return{type:n,message:rA(t)?t:"",ref:e}}var Xm=t=>Ei(t)&&!dM(t)?t:{value:t,message:""},MG=async(t,e,n,r,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:u,min:d,max:f,pattern:h,validate:m,name:g,valueAsNumber:v,mount:y}=t._f,w=zt(n,g);if(!y||e.has(g))return{};const _=o?o[0]:a,S=I=>{i&&_.reportValidity&&(_.setCustomValidity(hc(I)?"":I||""),_.reportValidity())},E={},A=vB(a),M=K1(a),R=A||M,P=(v||gB(a))&&ji(a.value)&&ji(w)||cM(a)&&a.value===""||w===""||Array.isArray(w)&&!w.length,O=Yse.bind(null,g,r,E),k=(I,F,L,V=tu.maxLength,z=tu.minLength)=>{const K=I?F:L;E[g]={type:I?V:z,message:K,ref:a,...O(I?V:z,K)}};if(s?!Array.isArray(w)||!w.length:l&&(!R&&(P||ca(w))||hc(w)&&!w||M&&!eae(o).isValid||A&&!nae(o).isValid)){const{value:I,message:F}=rA(l)?{value:!!l,message:l}:Xm(l);if(I&&(E[g]={type:tu.required,message:F,ref:_,...O(tu.required,F)},!r))return S(F),E}if(!P&&(!ca(d)||!ca(f))){let I,F;const L=Xm(f),V=Xm(d);if(!ca(w)&&!isNaN(w)){const z=a.valueAsNumber||w&&+w;ca(L.value)||(I=z>L.value),ca(V.value)||(F=z<V.value)}else{const z=a.valueAsDate||new Date(w),K=$=>new Date(new Date().toDateString()+" "+$),j=a.type=="time",U=a.type=="week";_c(L.value)&&w&&(I=j?K(w)>K(L.value):U?w>L.value:z>new Date(L.value)),_c(V.value)&&w&&(F=j?K(w)<K(V.value):U?w<V.value:z<new Date(V.value))}if((I||F)&&(k(!!I,L.message,V.message,tu.max,tu.min),!r))return S(E[g].message),E}if((c||u)&&!P&&(_c(w)||s&&Array.isArray(w))){const I=Xm(c),F=Xm(u),L=!ca(I.value)&&w.length>+I.value,V=!ca(F.value)&&w.length<+F.value;if((L||V)&&(k(L,I.message,F.message),!r))return S(E[g].message),E}if(h&&!P&&_c(w)){const{value:I,message:F}=Xm(h);if(dM(I)&&!w.match(I)&&(E[g]={type:tu.pattern,message:F,ref:a,...O(tu.pattern,F)},!r))return S(F),E}if(m){if(Ul(m)){const I=await m(w,n),F=AG(I,_);if(F&&(E[g]={...F,...O(tu.validate,F.message)},!r))return S(F.message),E}else if(Ei(m)){let I={};for(const F in m){if(!Da(I)&&!r)break;const L=AG(await m[F](w,n),_,F);L&&(I={...L,...O(F,L.message)},S(L.message),r&&(E[g]=I))}if(!Da(I)&&(E[g]={ref:_,...I},!r))return E}}return S(!0),E};const ORe={mode:Fl.onSubmit,reValidateMode:Fl.onChange,shouldFocusError:!0};function NRe(t={}){let e={...ORe,...t},n={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ul(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},r={},i=Ei(e.defaultValues)||Ei(e.values)?us(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:us(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d={...u};const f={array:vG(),state:vG()},h=e.criteriaMode===Fl.all,m=ee=>te=>{clearTimeout(c),c=setTimeout(ee,te)},g=async ee=>{if(!e.disabled&&(u.isValid||d.isValid||ee)){const te=e.resolver?Da((await M()).errors):await P(r,!0);te!==n.isValid&&f.state.next({isValid:te})}},v=(ee,te)=>{!e.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((ee||Array.from(o.mount)).forEach(me=>{me&&(te?_r(n.validatingFields,me,te):Ii(n.validatingFields,me))}),f.state.next({validatingFields:n.validatingFields,isValidating:!Da(n.validatingFields)}))},y=(ee,te=[],me,W,B=!0,re=!0)=>{if(W&&me&&!e.disabled){if(a.action=!0,re&&Array.isArray(zt(r,ee))){const xe=me(zt(r,ee),W.argA,W.argB);B&&_r(r,ee,xe)}if(re&&Array.isArray(zt(n.errors,ee))){const xe=me(zt(n.errors,ee),W.argA,W.argB);B&&_r(n.errors,ee,xe),PRe(n.errors,ee)}if((u.touchedFields||d.touchedFields)&&re&&Array.isArray(zt(n.touchedFields,ee))){const xe=me(zt(n.touchedFields,ee),W.argA,W.argB);B&&_r(n.touchedFields,ee,xe)}(u.dirtyFields||d.dirtyFields)&&(n.dirtyFields=mx(i,s)),f.state.next({name:ee,isDirty:k(ee,te),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else _r(s,ee,te)},w=(ee,te)=>{_r(n.errors,ee,te),f.state.next({errors:n.errors})},_=ee=>{n.errors=ee,f.state.next({errors:n.errors,isValid:!1})},S=(ee,te,me,W)=>{const B=zt(r,ee);if(B){const re=zt(s,ee,ji(me)?zt(i,ee):me);ji(re)||W&&W.defaultChecked||te?_r(s,ee,te?re:wG(B._f)):L(ee,re),a.mount&&g()}},E=(ee,te,me,W,B)=>{let re=!1,xe=!1;const Te={name:ee};if(!e.disabled){if(!me||W){(u.isDirty||d.isDirty)&&(xe=n.isDirty,n.isDirty=Te.isDirty=k(),re=xe!==Te.isDirty);const we=Ld(zt(i,ee),te);xe=!!zt(n.dirtyFields,ee),we?Ii(n.dirtyFields,ee):_r(n.dirtyFields,ee,!0),Te.dirtyFields=n.dirtyFields,re=re||(u.dirtyFields||d.dirtyFields)&&xe!==!we}if(me){const we=zt(n.touchedFields,ee);we||(_r(n.touchedFields,ee,me),Te.touchedFields=n.touchedFields,re=re||(u.touchedFields||d.touchedFields)&&we!==me)}re&&B&&f.state.next(Te)}return re?Te:{}},A=(ee,te,me,W)=>{const B=zt(n.errors,ee),re=(u.isValid||d.isValid)&&hc(te)&&n.isValid!==te;if(e.delayError&&me?(l=m(()=>w(ee,me)),l(e.delayError)):(clearTimeout(c),l=null,me?_r(n.errors,ee,me):Ii(n.errors,ee)),(me?!Ld(B,me):B)||!Da(W)||re){const xe={...W,...re&&hc(te)?{isValid:te}:{},errors:n.errors,name:ee};n={...n,...xe},f.state.next(xe)}},M=async ee=>{v(ee,!0);const te=await e.resolver(s,e.context,SRe(ee||o.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return v(ee),te},R=async ee=>{const{errors:te}=await M(ee);if(ee)for(const me of ee){const W=zt(te,me);W?_r(n.errors,me,W):Ii(n.errors,me)}else n.errors=te;return te},P=async(ee,te,me={valid:!0})=>{for(const W in ee){const B=ee[W];if(B){const{_f:re,...xe}=B;if(re){const Te=o.array.has(re.name),we=B._f&&ERe(B._f);we&&u.validatingFields&&v([W],!0);const Ke=await MG(B,o.disabled,s,h,e.shouldUseNativeValidation&&!te,Te);if(we&&u.validatingFields&&v([W]),Ke[re.name]&&(me.valid=!1,te))break;!te&&(zt(Ke,re.name)?Te?RRe(n.errors,Ke,re.name):_r(n.errors,re.name,Ke[re.name]):Ii(n.errors,re.name))}!Da(xe)&&await P(xe,te,me)}}return me.valid},O=()=>{for(const ee of o.unMount){const te=zt(r,ee);te&&(te._f.refs?te._f.refs.every(me=>!AI(me)):!AI(te._f.ref))&&ne(ee)}o.unMount=new Set},k=(ee,te)=>!e.disabled&&(ee&&te&&_r(s,ee,te),!Ld($(),i)),I=(ee,te,me)=>xRe(ee,o,{...a.mount?s:ji(te)?i:_c(ee)?{[ee]:te}:te},me,te),F=ee=>pB(zt(a.mount?s:i,ee,e.shouldUnregister?zt(i,ee,[]):[])),L=(ee,te,me={})=>{const W=zt(r,ee);let B=te;if(W){const re=W._f;re&&(!re.disabled&&_r(s,ee,tae(te,re)),B=cM(re.ref)&&ca(te)?"":te,Zse(re.ref)?[...re.ref.options].forEach(xe=>xe.selected=B.includes(xe.value)):re.refs?K1(re.ref)?re.refs.forEach(xe=>{(!xe.defaultChecked||!xe.disabled)&&(Array.isArray(B)?xe.checked=!!B.find(Te=>Te===xe.value):xe.checked=B===xe.value||!!B)}):re.refs.forEach(xe=>xe.checked=xe.value===B):gB(re.ref)?re.ref.value="":(re.ref.value=B,re.ref.type||f.state.next({name:ee,values:us(s)})))}(me.shouldDirty||me.shouldTouch)&&E(ee,B,me.shouldTouch,me.shouldDirty,!0),me.shouldValidate&&U(ee)},V=(ee,te,me)=>{for(const W in te){if(!te.hasOwnProperty(W))return;const B=te[W],re=ee+"."+W,xe=zt(r,re);(o.array.has(ee)||Ei(B)||xe&&!xe._f)&&!ap(B)?V(re,B,me):L(re,B,me)}},z=(ee,te,me={})=>{const W=zt(r,ee),B=o.array.has(ee),re=us(te);_r(s,ee,re),B?(f.array.next({name:ee,values:us(s)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&me.shouldDirty&&f.state.next({name:ee,dirtyFields:mx(i,s),isDirty:k(ee,re)})):W&&!W._f&&!ca(re)?V(ee,re,me):L(ee,re,me),EG(ee,o)&&f.state.next({...n,name:ee}),f.state.next({name:a.mount?ee:void 0,values:us(s)})},K=async ee=>{a.mount=!0;const te=ee.target;let me=te.name,W=!0;const B=zt(r,me),re=we=>{W=Number.isNaN(we)||ap(we)&&isNaN(we.getTime())||Ld(we,zt(s,me,we))},xe=_G(e.mode),Te=_G(e.reValidateMode);if(B){let we,Ke;const Xe=te.type?wG(B._f):fRe(ee),dt=ee.type===gG.BLUR||ee.type===gG.FOCUS_OUT,pt=!TRe(B._f)&&!e.resolver&&!zt(n.errors,me)&&!B._f.deps||CRe(dt,zt(n.touchedFields,me),n.isSubmitted,Te,xe),Le=EG(me,o,dt);_r(s,me,Xe),dt?(B._f.onBlur&&B._f.onBlur(ee),l&&l(0)):B._f.onChange&&B._f.onChange(ee);const Be=E(me,Xe,dt),nt=!Da(Be)||Le;if(!dt&&f.state.next({name:me,type:ee.type,values:us(s)}),pt)return(u.isValid||d.isValid)&&(e.mode==="onBlur"?dt&&g():dt||g()),nt&&f.state.next({name:me,...Le?{}:Be});if(!dt&&Le&&f.state.next({...n}),e.resolver){const{errors:he}=await M([me]);if(re(Xe),W){const Pe=TG(n.errors,r,me),Ye=TG(he,r,Pe.name||me);we=Ye.error,me=Ye.name,Ke=Da(he)}}else v([me],!0),we=(await MG(B,o.disabled,s,h,e.shouldUseNativeValidation))[me],v([me]),re(Xe),W&&(we?Ke=!1:(u.isValid||d.isValid)&&(Ke=await P(r,!0)));W&&(B._f.deps&&U(B._f.deps),A(me,Ke,we,Be))}},j=(ee,te)=>{if(zt(n.errors,te)&&ee.focus)return ee.focus(),1},U=async(ee,te={})=>{let me,W;const B=Cb(ee);if(e.resolver){const re=await R(ji(ee)?ee:B);me=Da(re),W=ee?!B.some(xe=>zt(re,xe)):me}else ee?(W=(await Promise.all(B.map(async re=>{const xe=zt(r,re);return await P(xe&&xe._f?{[re]:xe}:xe)}))).every(Boolean),!(!W&&!n.isValid)&&g()):W=me=await P(r);return f.state.next({...!_c(ee)||(u.isValid||d.isValid)&&me!==n.isValid?{}:{name:ee},...e.resolver||!ee?{isValid:me}:{},errors:n.errors}),te.shouldFocus&&!W&&Pb(r,j,ee?B:o.mount),W},$=ee=>{const te={...a.mount?s:i};return ji(ee)?te:_c(ee)?zt(te,ee):ee.map(me=>zt(te,me))},G=(ee,te)=>({invalid:!!zt((te||n).errors,ee),isDirty:!!zt((te||n).dirtyFields,ee),error:zt((te||n).errors,ee),isValidating:!!zt(n.validatingFields,ee),isTouched:!!zt((te||n).touchedFields,ee)}),X=ee=>{ee&&Cb(ee).forEach(te=>Ii(n.errors,te)),f.state.next({errors:ee?n.errors:{}})},Q=(ee,te,me)=>{const W=(zt(r,ee,{_f:{}})._f||{}).ref,B=zt(n.errors,ee)||{},{ref:re,message:xe,type:Te,...we}=B;_r(n.errors,ee,{...we,...te,ref:W}),f.state.next({name:ee,errors:n.errors,isValid:!1}),me&&me.shouldFocus&&W&&W.focus&&W.focus()},oe=(ee,te)=>Ul(ee)?f.state.subscribe({next:me=>"values"in me&&ee(I(void 0,te),me)}):I(ee,te,!0),de=ee=>f.state.subscribe({next:te=>{MRe(ee.name,te.name,ee.exact)&&ARe(te,ee.formState||u,Oe,ee.reRenderRoot)&&ee.callback({values:{...s},...n,...te,defaultValues:i})}}).unsubscribe,ae=ee=>(a.mount=!0,d={...d,...ee.formState},de({...ee,formState:d})),ne=(ee,te={})=>{for(const me of ee?Cb(ee):o.mount)o.mount.delete(me),o.array.delete(me),te.keepValue||(Ii(r,me),Ii(s,me)),!te.keepError&&Ii(n.errors,me),!te.keepDirty&&Ii(n.dirtyFields,me),!te.keepTouched&&Ii(n.touchedFields,me),!te.keepIsValidating&&Ii(n.validatingFields,me),!e.shouldUnregister&&!te.keepDefaultValue&&Ii(i,me);f.state.next({values:us(s)}),f.state.next({...n,...te.keepDirty?{isDirty:k()}:{}}),!te.keepIsValid&&g()},ve=({disabled:ee,name:te})=>{(hc(ee)&&a.mount||ee||o.disabled.has(te))&&(ee?o.disabled.add(te):o.disabled.delete(te))},ge=(ee,te={})=>{let me=zt(r,ee);const W=hc(te.disabled)||hc(e.disabled);return _r(r,ee,{...me||{},_f:{...me&&me._f?me._f:{ref:{name:ee}},name:ee,mount:!0,...te}}),o.mount.add(ee),me?ve({disabled:hc(te.disabled)?te.disabled:e.disabled,name:ee}):S(ee,!0,te.value),{...W?{disabled:te.disabled||e.disabled}:{},...e.progressive?{required:!!te.required,min:gx(te.min),max:gx(te.max),minLength:gx(te.minLength),maxLength:gx(te.maxLength),pattern:gx(te.pattern)}:{},name:ee,onChange:K,onBlur:K,ref:B=>{if(B){ge(ee,te),me=zt(r,ee);const re=ji(B.value)&&B.querySelectorAll&&B.querySelectorAll("input,select,textarea")[0]||B,xe=bRe(re),Te=me._f.refs||[];if(xe?Te.find(we=>we===re):re===me._f.ref)return;_r(r,ee,{_f:{...me._f,...xe?{refs:[...Te.filter(AI),re,...Array.isArray(zt(i,ee))?[{}]:[]],ref:{type:re.type,name:ee}}:{ref:re}}}),S(ee,!1,void 0,re)}else me=zt(r,ee,{}),me._f&&(me._f.mount=!1),(e.shouldUnregister||te.shouldUnregister)&&!(pRe(o.array,ee)&&a.action)&&o.unMount.add(ee)}}},_e=()=>e.shouldFocusError&&Pb(r,j,o.mount),ye=ee=>{hc(ee)&&(f.state.next({disabled:ee}),Pb(r,(te,me)=>{const W=zt(r,me);W&&(te.disabled=W._f.disabled||ee,Array.isArray(W._f.refs)&&W._f.refs.forEach(B=>{B.disabled=W._f.disabled||ee}))},0,!1))},ce=(ee,te)=>async me=>{let W;me&&(me.preventDefault&&me.preventDefault(),me.persist&&me.persist());let B=us(s);if(f.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:xe}=await M();n.errors=re,B=us(xe)}else await P(r);if(o.disabled.size)for(const re of o.disabled)Ii(B,re);if(Ii(n.errors,"root"),Da(n.errors)){f.state.next({errors:{}});try{await ee(B,me)}catch(re){W=re}}else te&&await te({...n.errors},me),_e(),setTimeout(_e);if(f.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Da(n.errors)&&!W,submitCount:n.submitCount+1,errors:n.errors}),W)throw W},De=(ee,te={})=>{zt(r,ee)&&(ji(te.defaultValue)?z(ee,us(zt(i,ee))):(z(ee,te.defaultValue),_r(i,ee,us(te.defaultValue))),te.keepTouched||Ii(n.touchedFields,ee),te.keepDirty||(Ii(n.dirtyFields,ee),n.isDirty=te.defaultValue?k(ee,us(zt(i,ee))):k()),te.keepError||(Ii(n.errors,ee),u.isValid&&g()),f.state.next({...n}))},Ee=(ee,te={})=>{const me=ee?us(ee):i,W=us(me),B=Da(ee),re=B?i:W;if(te.keepDefaultValues||(i=me),!te.keepValues){if(te.keepDirtyValues){const xe=new Set([...o.mount,...Object.keys(mx(i,s))]);for(const Te of Array.from(xe))zt(n.dirtyFields,Te)?_r(re,Te,zt(s,Te)):z(Te,zt(re,Te))}else{if(hB&&ji(ee))for(const xe of o.mount){const Te=zt(r,xe);if(Te&&Te._f){const we=Array.isArray(Te._f.refs)?Te._f.refs[0]:Te._f.ref;if(cM(we)){const Ke=we.closest("form");if(Ke){Ke.reset();break}}}}if(te.keepFieldsRef)for(const xe of o.mount)z(xe,zt(re,xe));else r={}}s=e.shouldUnregister?te.keepDefaultValues?us(i):{}:us(re),f.array.next({values:{...re}}),f.state.next({values:{...re}})}o={mount:te.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!u.isValid||!!te.keepIsValid||!!te.keepDirtyValues,a.watch=!!e.shouldUnregister,f.state.next({submitCount:te.keepSubmitCount?n.submitCount:0,isDirty:B?!1:te.keepDirty?n.isDirty:!!(te.keepDefaultValues&&!Ld(ee,i)),isSubmitted:te.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:B?{}:te.keepDirtyValues?te.keepDefaultValues&&s?mx(i,s):n.dirtyFields:te.keepDefaultValues&&ee?mx(i,ee):te.keepDirty?n.dirtyFields:{},touchedFields:te.keepTouched?n.touchedFields:{},errors:te.keepErrors?n.errors:{},isSubmitSuccessful:te.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Z=(ee,te)=>Ee(Ul(ee)?ee(s):ee,te),Me=(ee,te={})=>{const me=zt(r,ee),W=me&&me._f;if(W){const B=W.refs?W.refs[0]:W.ref;B.focus&&(B.focus(),te.shouldSelect&&Ul(B.select)&&B.select())}},Oe=ee=>{n={...n,...ee}},Ne={control:{register:ge,unregister:ne,getFieldState:G,handleSubmit:ce,setError:Q,_subscribe:de,_runSchema:M,_focusError:_e,_getWatch:I,_getDirty:k,_setValid:g,_setFieldArray:y,_setDisabledField:ve,_setErrors:_,_getFieldArray:F,_reset:Ee,_resetDefaultValues:()=>Ul(e.defaultValues)&&e.defaultValues().then(ee=>{Z(ee,e.resetOptions),f.state.next({isLoading:!1})}),_removeUnmounted:O,_disableForm:ye,_subjects:f,_proxyFormState:u,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(ee){a=ee},get _defaultValues(){return i},get _names(){return o},set _names(ee){o=ee},get _formState(){return n},get _options(){return e},set _options(ee){e={...e,...ee}}},subscribe:ae,trigger:U,register:ge,handleSubmit:ce,watch:oe,setValue:z,getValues:$,reset:Z,resetField:De,clearErrors:X,unregister:ne,setError:Q,setFocus:Me,getFieldState:G};return{...Ne,formControl:Ne}}function yB(t={}){const e=ie.useRef(void 0),n=ie.useRef(void 0),[r,i]=ie.useState({isDirty:!1,isValidating:!1,isLoading:Ul(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ul(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:r},t.defaultValues&&!Ul(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=NRe(t);e.current={...o,formState:r}}const s=e.current.control;return s._options=t,yRe(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),ie.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),ie.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),ie.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),ie.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),ie.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),ie.useEffect(()=>{t.values&&!Ld(t.values,n.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),n.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),ie.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=vRe(r,s),e.current}const CG=(t,e,n)=>{if(t&&"reportValidity"in t){const r=zt(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},rae=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?CG(r.ref,n,t):r.refs&&r.refs.forEach(i=>CG(i,n,t))}},IRe=(t,e)=>{e.shouldUseNativeValidation&&rae(t,e);const n={};for(const r in t){const i=zt(e.fields,r),s=Object.assign(t[r]||{},{ref:i&&i.ref});if(kRe(e.names||Object.keys(t),r)){const a=Object.assign({},zt(n,r));_r(a,"root",s),_r(n,r,a)}else _r(n,r,s)}return n},kRe=(t,e)=>t.some(n=>n.startsWith(e+"."));var DRe=function(t,e){for(var n={};t.length;){var r=t[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(u){return u.errors.forEach(function(d){return t.push(d)})}),e){var l=n[a].types,c=l&&l[r.code];n[a]=Yse(a,e,n,i,c?[].concat(c,r.message):r.message)}t.shift()}return n},xB=function(t,e,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var l=Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(c){return s.shouldUseNativeValidation&&rae({},s),{errors:{},values:n.raw?r:c}})}catch(c){return o(c)}return l&&l.then?l.then(void 0,o):l}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:IRe(DRe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},ir;(function(t){t.assertEqual=i=>{};function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return t.objectValues(a)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},t.find=(i,s)=>{for(const a of i)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ir||(ir={}));var PG;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(PG||(PG={}));const $t=ir.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Rd=t=>{switch(typeof t){case"undefined":return $t.undefined;case"string":return $t.string;case"number":return Number.isNaN(t)?$t.nan:$t.number;case"boolean":return $t.boolean;case"function":return $t.function;case"bigint":return $t.bigint;case"symbol":return $t.symbol;case"object":return Array.isArray(t)?$t.array:t===null?$t.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?$t.promise:typeof Map<"u"&&t instanceof Map?$t.map:typeof Set<"u"&&t instanceof Set?$t.set:typeof Date<"u"&&t instanceof Date?$t.date:$t.object;default:return $t.unknown}},wt=ir.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class zu extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,l=0;for(;l<a.path.length;){const c=a.path[l];l===a.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(a))):o[c]=o[c]||{_errors:[]},o=o[c],l++}}};return i(this),r}static assert(e){if(!(e instanceof zu))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ir.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(e(i))}else r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}zu.create=t=>new zu(t);const RL=(t,e)=>{let n;switch(t.code){case wt.invalid_type:t.received===$t.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case wt.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,ir.jsonStringifyReplacer)}`;break;case wt.unrecognized_keys:n=`Unrecognized key(s) in object: ${ir.joinValues(t.keys,", ")}`;break;case wt.invalid_union:n="Invalid input";break;case wt.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ir.joinValues(t.options)}`;break;case wt.invalid_enum_value:n=`Invalid enum value. Expected ${ir.joinValues(t.options)}, received '${t.received}'`;break;case wt.invalid_arguments:n="Invalid function arguments";break;case wt.invalid_return_type:n="Invalid function return type";break;case wt.invalid_date:n="Invalid date";break;case wt.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:ir.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case wt.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="bigint"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case wt.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case wt.custom:n="Invalid input";break;case wt.invalid_intersection_types:n="Intersection results could not be merged";break;case wt.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case wt.not_finite:n="Number must be finite";break;default:n=e.defaultError,ir.assertNever(t)}return{message:n}};let LRe=RL;function jRe(){return LRe}const FRe=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const l=r.filter(c=>!!c).slice().reverse();for(const c of l)o=c(a,{data:e,defaultError:o}).message;return{...i,path:s,message:o}};function Nt(t,e){const n=jRe(),r=FRe({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,n,n===RL?void 0:RL].filter(i=>!!i)});t.common.issues.push(r)}class Eo{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return bn;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Eo.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return bn;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:e.value,value:r}}}const bn=Object.freeze({status:"aborted"}),ib=t=>({status:"dirty",value:t}),ll=t=>({status:"valid",value:t}),RG=t=>t.status==="aborted",OG=t=>t.status==="dirty",e0=t=>t.status==="valid",fM=t=>typeof Promise<"u"&&t instanceof Promise;var Ht;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(Ht||(Ht={}));class Sf{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const NG=(t,e)=>{if(e0(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new zu(t.common.issues);return this._error=n,this._error}}};function Vn(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(a,o)=>{const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??o.defaultError}:typeof o.data>"u"?{message:l??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:l??n??o.defaultError}},description:i}}class Qn{get description(){return this._def.description}_getType(e){return Rd(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Rd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Eo,ctx:{common:e.parent.common,data:e.data,parsedType:Rd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(fM(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rd(e)},i=this._parseSync({data:e,path:r.path,parent:r});return NG(r,i)}"~validate"(e){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rd(e)};if(!this["~standard"].async)try{const s=this._parseSync({data:e,path:[],parent:n});return e0(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:e,path:[],parent:n}).then(s=>e0(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Rd(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(fM(i)?i:Promise.resolve(i));return NG(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=e(i),o=()=>s.addIssue({code:wt.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(l=>l?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new n0({schema:this,typeName:_n.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return uf.create(this,this._def)}nullable(){return r0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Rc.create(this)}promise(){return gM.create(this,this._def)}or(e){return pM.create([this,e],this._def)}and(e){return mM.create(this,e,this._def)}transform(e){return new n0({...Vn(this._def),schema:this,typeName:_n.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new IL({...Vn(this._def),innerType:this,defaultValue:n,typeName:_n.ZodDefault})}brand(){return new oOe({typeName:_n.ZodBranded,type:this,...Vn(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new kL({...Vn(this._def),innerType:this,catchValue:n,typeName:_n.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return bB.create(this,e)}readonly(){return DL.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const URe=/^c[^\s-]{8,}$/i,BRe=/^[0-9a-z]+$/,zRe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,VRe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,$Re=/^[a-z0-9_-]{21}$/i,HRe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,GRe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,WRe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,XRe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let MI;const qRe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,KRe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,YRe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,ZRe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,JRe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,QRe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,iae="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",eOe=new RegExp(`^${iae}$`);function sae(t){let e="[0-5]\\d";t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`);const n=t.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${e})${n}`}function tOe(t){return new RegExp(`^${sae(t)}$`)}function nOe(t){let e=`${iae}T${sae(t)}`;const n=[];return n.push(t.local?"Z?":"Z"),t.offset&&n.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${n.join("|")})`,new RegExp(`^${e}$`)}function rOe(t,e){return!!((e==="v4"||!e)&&qRe.test(t)||(e==="v6"||!e)&&YRe.test(t))}function iOe(t,e){if(!HRe.test(t))return!1;try{const[n]=t.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&i.alg!==e)}catch{return!1}}function sOe(t,e){return!!((e==="v4"||!e)&&KRe.test(t)||(e==="v6"||!e)&&ZRe.test(t))}class qd extends Qn{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==$t.string){const s=this._getOrReturnCtx(e);return Nt(s,{code:wt.invalid_type,expected:$t.string,received:s.parsedType}),bn}const r=new Eo;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,o=e.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(e,i),a?Nt(i,{code:wt.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&Nt(i,{code:wt.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")WRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"email",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")MI||(MI=new RegExp(XRe,"u")),MI.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"emoji",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")VRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"uuid",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")$Re.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"nanoid",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")URe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"cuid",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")BRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"cuid2",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")zRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"ulid",code:wt.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),Nt(i,{validation:"url",code:wt.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"regex",code:wt.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?nOe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?eOe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?tOe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?GRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"duration",code:wt.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?rOe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"ip",code:wt.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?iOe(e.data,s.alg)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"jwt",code:wt.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?sOe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"cidr",code:wt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?JRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"base64",code:wt.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?QRe.test(e.data)||(i=this._getOrReturnCtx(e,i),Nt(i,{validation:"base64url",code:wt.invalid_string,message:s.message}),r.dirty()):ir.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:wt.invalid_string,...Ht.errToObj(r)})}_addCheck(e){return new qd({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...Ht.errToObj(e)})}url(e){return this._addCheck({kind:"url",...Ht.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...Ht.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...Ht.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...Ht.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...Ht.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...Ht.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...Ht.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...Ht.errToObj(e)})}base64url(e){return this._addCheck({kind:"base64url",...Ht.errToObj(e)})}jwt(e){return this._addCheck({kind:"jwt",...Ht.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...Ht.errToObj(e)})}cidr(e){return this._addCheck({kind:"cidr",...Ht.errToObj(e)})}datetime(e){return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(e==null?void 0:e.offset)??!1,local:(e==null?void 0:e.local)??!1,...Ht.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...Ht.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...Ht.errToObj(e)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...Ht.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...Ht.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...Ht.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...Ht.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...Ht.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...Ht.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...Ht.errToObj(n)})}nonempty(e){return this.min(1,Ht.errToObj(e))}trim(){return new qd({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new qd({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new qd({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isCIDR(){return!!this._def.checks.find(e=>e.kind==="cidr")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get isBase64url(){return!!this._def.checks.find(e=>e.kind==="base64url")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}qd.create=t=>new qd({checks:[],typeName:_n.ZodString,coerce:(t==null?void 0:t.coerce)??!1,...Vn(t)});function aOe(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(t.toFixed(i).replace(".","")),a=Number.parseInt(e.toFixed(i).replace(".",""));return s%a/10**i}class Ow extends Qn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==$t.number){const s=this._getOrReturnCtx(e);return Nt(s,{code:wt.invalid_type,expected:$t.number,received:s.parsedType}),bn}let r;const i=new Eo;for(const s of this._def.checks)s.kind==="int"?ir.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?aOe(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.not_finite,message:s.message}),i.dirty()):ir.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,Ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ht.toString(n))}setLimit(e,n,r,i){return new Ow({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ht.toString(i)}]})}_addCheck(e){return new Ow({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:Ht.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ht.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:Ht.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ht.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ht.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&ir.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Ow.create=t=>new Ow({checks:[],typeName:_n.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Vn(t)});class Nw extends Qn{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce)try{e.data=BigInt(e.data)}catch{return this._getInvalidInput(e)}if(this._getType(e)!==$t.bigint)return this._getInvalidInput(e);let r;const i=new Eo;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),Nt(r,{code:wt.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ir.assertNever(s);return{status:i.value,value:e.data}}_getInvalidInput(e){const n=this._getOrReturnCtx(e);return Nt(n,{code:wt.invalid_type,expected:$t.bigint,received:n.parsedType}),bn}gte(e,n){return this.setLimit("min",e,!0,Ht.toString(n))}gt(e,n){return this.setLimit("min",e,!1,Ht.toString(n))}lte(e,n){return this.setLimit("max",e,!0,Ht.toString(n))}lt(e,n){return this.setLimit("max",e,!1,Ht.toString(n))}setLimit(e,n,r,i){return new Nw({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:Ht.toString(i)}]})}_addCheck(e){return new Nw({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ht.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ht.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ht.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ht.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:Ht.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Nw.create=t=>new Nw({checks:[],typeName:_n.ZodBigInt,coerce:(t==null?void 0:t.coerce)??!1,...Vn(t)});class OL extends Qn{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==$t.boolean){const r=this._getOrReturnCtx(e);return Nt(r,{code:wt.invalid_type,expected:$t.boolean,received:r.parsedType}),bn}return ll(e.data)}}OL.create=t=>new OL({typeName:_n.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Vn(t)});class hM extends Qn{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==$t.date){const s=this._getOrReturnCtx(e);return Nt(s,{code:wt.invalid_type,expected:$t.date,received:s.parsedType}),bn}if(Number.isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return Nt(s,{code:wt.invalid_date}),bn}const r=new Eo;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),Nt(i,{code:wt.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ir.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new hM({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:Ht.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:Ht.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}hM.create=t=>new hM({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_n.ZodDate,...Vn(t)});class IG extends Qn{_parse(e){if(this._getType(e)!==$t.symbol){const r=this._getOrReturnCtx(e);return Nt(r,{code:wt.invalid_type,expected:$t.symbol,received:r.parsedType}),bn}return ll(e.data)}}IG.create=t=>new IG({typeName:_n.ZodSymbol,...Vn(t)});class kG extends Qn{_parse(e){if(this._getType(e)!==$t.undefined){const r=this._getOrReturnCtx(e);return Nt(r,{code:wt.invalid_type,expected:$t.undefined,received:r.parsedType}),bn}return ll(e.data)}}kG.create=t=>new kG({typeName:_n.ZodUndefined,...Vn(t)});class DG extends Qn{_parse(e){if(this._getType(e)!==$t.null){const r=this._getOrReturnCtx(e);return Nt(r,{code:wt.invalid_type,expected:$t.null,received:r.parsedType}),bn}return ll(e.data)}}DG.create=t=>new DG({typeName:_n.ZodNull,...Vn(t)});class LG extends Qn{constructor(){super(...arguments),this._any=!0}_parse(e){return ll(e.data)}}LG.create=t=>new LG({typeName:_n.ZodAny,...Vn(t)});class jG extends Qn{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ll(e.data)}}jG.create=t=>new jG({typeName:_n.ZodUnknown,...Vn(t)});class Ef extends Qn{_parse(e){const n=this._getOrReturnCtx(e);return Nt(n,{code:wt.invalid_type,expected:$t.never,received:n.parsedType}),bn}}Ef.create=t=>new Ef({typeName:_n.ZodNever,...Vn(t)});class FG extends Qn{_parse(e){if(this._getType(e)!==$t.undefined){const r=this._getOrReturnCtx(e);return Nt(r,{code:wt.invalid_type,expected:$t.void,received:r.parsedType}),bn}return ll(e.data)}}FG.create=t=>new FG({typeName:_n.ZodVoid,...Vn(t)});class Rc extends Qn{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==$t.array)return Nt(n,{code:wt.invalid_type,expected:$t.array,received:n.parsedType}),bn;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(Nt(n,{code:a?wt.too_big:wt.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(Nt(n,{code:wt.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(Nt(n,{code:wt.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Sf(n,a,n.path,o)))).then(a=>Eo.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Sf(n,a,n.path,o)));return Eo.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new Rc({...this._def,minLength:{value:e,message:Ht.toString(n)}})}max(e,n){return new Rc({...this._def,maxLength:{value:e,message:Ht.toString(n)}})}length(e,n){return new Rc({...this._def,exactLength:{value:e,message:Ht.toString(n)}})}nonempty(e){return this.min(1,e)}}Rc.create=(t,e)=>new Rc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_n.ZodArray,...Vn(e)});function Pg(t){if(t instanceof ci){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=uf.create(Pg(r))}return new ci({...t._def,shape:()=>e})}else return t instanceof Rc?new Rc({...t._def,type:Pg(t.element)}):t instanceof uf?uf.create(Pg(t.unwrap())):t instanceof r0?r0.create(Pg(t.unwrap())):t instanceof Xp?Xp.create(t.items.map(e=>Pg(e))):t}class ci extends Qn{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=ir.objectKeys(e);return this._cached={shape:e,keys:n},this._cached}_parse(e){if(this._getType(e)!==$t.object){const c=this._getOrReturnCtx(e);return Nt(c,{code:wt.invalid_type,expected:$t.object,received:c.parsedType}),bn}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ef&&this._def.unknownKeys==="strip"))for(const c in i.data)a.includes(c)||o.push(c);const l=[];for(const c of a){const u=s[c],d=i.data[c];l.push({key:{status:"valid",value:c},value:u._parse(new Sf(i,d,i.path,c)),alwaysSet:c in i.data})}if(this._def.catchall instanceof Ef){const c=this._def.unknownKeys;if(c==="passthrough")for(const u of o)l.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(c==="strict")o.length>0&&(Nt(i,{code:wt.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const u of o){const d=i.data[u];l.push({key:{status:"valid",value:u},value:c._parse(new Sf(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const c=[];for(const u of l){const d=await u.key,f=await u.value;c.push({key:d,value:f,alwaysSet:u.alwaysSet})}return c}).then(c=>Eo.mergeObjectSync(r,c)):Eo.mergeObjectSync(r,l)}get shape(){return this._def.shape()}strict(e){return Ht.errToObj,new ci({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Ht.errToObj(e).message??i}:{message:i}}}:{}})}strip(){return new ci({...this._def,unknownKeys:"strip"})}passthrough(){return new ci({...this._def,unknownKeys:"passthrough"})}extend(e){return new ci({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ci({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_n.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ci({...this._def,catchall:e})}pick(e){const n={};for(const r of ir.objectKeys(e))e[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new ci({...this._def,shape:()=>n})}omit(e){const n={};for(const r of ir.objectKeys(this.shape))e[r]||(n[r]=this.shape[r]);return new ci({...this._def,shape:()=>n})}deepPartial(){return Pg(this)}partial(e){const n={};for(const r of ir.objectKeys(this.shape)){const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}return new ci({...this._def,shape:()=>n})}required(e){const n={};for(const r of ir.objectKeys(this.shape))if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof uf;)s=s._def.innerType;n[r]=s}return new ci({...this._def,shape:()=>n})}keyof(){return aae(ir.objectKeys(this.shape))}}ci.create=(t,e)=>new ci({shape:()=>t,unknownKeys:"strip",catchall:Ef.create(),typeName:_n.ZodObject,...Vn(e)});ci.strictCreate=(t,e)=>new ci({shape:()=>t,unknownKeys:"strict",catchall:Ef.create(),typeName:_n.ZodObject,...Vn(e)});ci.lazycreate=(t,e)=>new ci({shape:t,unknownKeys:"strip",catchall:Ef.create(),typeName:_n.ZodObject,...Vn(e)});class pM extends Qn{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new zu(o.ctx.common.issues));return Nt(n,{code:wt.invalid_union,unionErrors:a}),bn}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const l of r){const c={...n,common:{...n.common,issues:[]},parent:null},u=l._parseSync({data:n.data,path:n.path,parent:c});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:c}),c.common.issues.length&&a.push(c.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(l=>new zu(l));return Nt(n,{code:wt.invalid_union,unionErrors:o}),bn}}get options(){return this._def.options}}pM.create=(t,e)=>new pM({options:t,typeName:_n.ZodUnion,...Vn(e)});function NL(t,e){const n=Rd(t),r=Rd(e);if(t===e)return{valid:!0,data:t};if(n===$t.object&&r===$t.object){const i=ir.objectKeys(e),s=ir.objectKeys(t).filter(o=>i.indexOf(o)!==-1),a={...t,...e};for(const o of s){const l=NL(t[o],e[o]);if(!l.valid)return{valid:!1};a[o]=l.data}return{valid:!0,data:a}}else if(n===$t.array&&r===$t.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const a=t[s],o=e[s],l=NL(a,o);if(!l.valid)return{valid:!1};i.push(l.data)}return{valid:!0,data:i}}else return n===$t.date&&r===$t.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class mM extends Qn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,a)=>{if(RG(s)||RG(a))return bn;const o=NL(s.value,a.value);return o.valid?((OG(s)||OG(a))&&n.dirty(),{status:n.value,value:o.data}):(Nt(r,{code:wt.invalid_intersection_types}),bn)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}mM.create=(t,e,n)=>new mM({left:t,right:e,typeName:_n.ZodIntersection,...Vn(n)});class Xp extends Qn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$t.array)return Nt(r,{code:wt.invalid_type,expected:$t.array,received:r.parsedType}),bn;if(r.data.length<this._def.items.length)return Nt(r,{code:wt.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),bn;!this._def.rest&&r.data.length>this._def.items.length&&(Nt(r,{code:wt.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const l=this._def.items[o]||this._def.rest;return l?l._parse(new Sf(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Eo.mergeArray(n,a)):Eo.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new Xp({...this._def,rest:e})}}Xp.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Xp({items:t,typeName:_n.ZodTuple,rest:null,...Vn(e)})};class UG extends Qn{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$t.map)return Nt(r,{code:wt.invalid_type,expected:$t.map,received:r.parsedType}),bn;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,l],c)=>({key:i._parse(new Sf(r,o,r.path,[c,"key"])),value:s._parse(new Sf(r,l,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const l of a){const c=await l.key,u=await l.value;if(c.status==="aborted"||u.status==="aborted")return bn;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const l of a){const c=l.key,u=l.value;if(c.status==="aborted"||u.status==="aborted")return bn;(c.status==="dirty"||u.status==="dirty")&&n.dirty(),o.set(c.value,u.value)}return{status:n.value,value:o}}}}UG.create=(t,e,n)=>new UG({valueType:e,keyType:t,typeName:_n.ZodMap,...Vn(n)});class Iw extends Qn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==$t.set)return Nt(r,{code:wt.invalid_type,expected:$t.set,received:r.parsedType}),bn;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(Nt(r,{code:wt.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(Nt(r,{code:wt.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(l){const c=new Set;for(const u of l){if(u.status==="aborted")return bn;u.status==="dirty"&&n.dirty(),c.add(u.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((l,c)=>s._parse(new Sf(r,l,r.path,c)));return r.common.async?Promise.all(o).then(l=>a(l)):a(o)}min(e,n){return new Iw({...this._def,minSize:{value:e,message:Ht.toString(n)}})}max(e,n){return new Iw({...this._def,maxSize:{value:e,message:Ht.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}Iw.create=(t,e)=>new Iw({valueType:t,minSize:null,maxSize:null,typeName:_n.ZodSet,...Vn(e)});class BG extends Qn{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}BG.create=(t,e)=>new BG({getter:t,typeName:_n.ZodLazy,...Vn(e)});class zG extends Qn{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return Nt(n,{received:n.data,code:wt.invalid_literal,expected:this._def.value}),bn}return{status:"valid",value:e.data}}get value(){return this._def.value}}zG.create=(t,e)=>new zG({value:t,typeName:_n.ZodLiteral,...Vn(e)});function aae(t,e){return new t0({values:t,typeName:_n.ZodEnum,...Vn(e)})}class t0 extends Qn{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return Nt(n,{expected:ir.joinValues(r),received:n.parsedType,code:wt.invalid_type}),bn}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(e.data)){const n=this._getOrReturnCtx(e),r=this._def.values;return Nt(n,{received:n.data,code:wt.invalid_enum_value,options:r}),bn}return ll(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e,n=this._def){return t0.create(e,{...this._def,...n})}exclude(e,n=this._def){return t0.create(this.options.filter(r=>!e.includes(r)),{...this._def,...n})}}t0.create=aae;class VG extends Qn{_parse(e){const n=ir.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==$t.string&&r.parsedType!==$t.number){const i=ir.objectValues(n);return Nt(r,{expected:ir.joinValues(i),received:r.parsedType,code:wt.invalid_type}),bn}if(this._cache||(this._cache=new Set(ir.getValidEnumValues(this._def.values))),!this._cache.has(e.data)){const i=ir.objectValues(n);return Nt(r,{received:r.data,code:wt.invalid_enum_value,options:i}),bn}return ll(e.data)}get enum(){return this._def.values}}VG.create=(t,e)=>new VG({values:t,typeName:_n.ZodNativeEnum,...Vn(e)});class gM extends Qn{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==$t.promise&&n.common.async===!1)return Nt(n,{code:wt.invalid_type,expected:$t.promise,received:n.parsedType}),bn;const r=n.parsedType===$t.promise?n.data:Promise.resolve(n.data);return ll(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}gM.create=(t,e)=>new gM({type:t,typeName:_n.ZodPromise,...Vn(e)});class n0 extends Qn{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_n.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:a=>{Nt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return bn;const l=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return l.status==="aborted"?bn:l.status==="dirty"||n.value==="dirty"?ib(l.value):l});{if(n.value==="aborted")return bn;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?bn:o.status==="dirty"||n.value==="dirty"?ib(o.value):o}}if(i.type==="refinement"){const a=o=>{const l=i.refinement(o,s);if(r.common.async)return Promise.resolve(l);if(l instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?bn:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?bn:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!e0(a))return bn;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>e0(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):bn);ir.assertNever(i)}}n0.create=(t,e,n)=>new n0({schema:t,typeName:_n.ZodEffects,effect:e,...Vn(n)});n0.createWithPreprocess=(t,e,n)=>new n0({schema:e,effect:{type:"preprocess",transform:t},typeName:_n.ZodEffects,...Vn(n)});class uf extends Qn{_parse(e){return this._getType(e)===$t.undefined?ll(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}uf.create=(t,e)=>new uf({innerType:t,typeName:_n.ZodOptional,...Vn(e)});class r0 extends Qn{_parse(e){return this._getType(e)===$t.null?ll(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}r0.create=(t,e)=>new r0({innerType:t,typeName:_n.ZodNullable,...Vn(e)});class IL extends Qn{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===$t.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}IL.create=(t,e)=>new IL({innerType:t,typeName:_n.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Vn(e)});class kL extends Qn{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return fM(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new zu(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new zu(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}kL.create=(t,e)=>new kL({innerType:t,typeName:_n.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Vn(e)});class $G extends Qn{_parse(e){if(this._getType(e)!==$t.nan){const r=this._getOrReturnCtx(e);return Nt(r,{code:wt.invalid_type,expected:$t.nan,received:r.parsedType}),bn}return{status:"valid",value:e.data}}}$G.create=t=>new $G({typeName:_n.ZodNaN,...Vn(t)});class oOe extends Qn{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class bB extends Qn{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?bn:s.status==="dirty"?(n.dirty(),ib(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?bn:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new bB({in:e,out:n,typeName:_n.ZodPipeline})}}class DL extends Qn{_parse(e){const n=this._def.innerType._parse(e),r=i=>(e0(i)&&(i.value=Object.freeze(i.value)),i);return fM(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}DL.create=(t,e)=>new DL({innerType:t,typeName:_n.ZodReadonly,...Vn(e)});ci.lazycreate;var _n;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_n||(_n={}));const ja=qd.create,lOe=OL.create;Ef.create;Rc.create;const wB=ci.create;ci.strictCreate;pM.create;mM.create;Xp.create;t0.create;gM.create;uf.create;r0.create;const cOe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class _B extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class uOe extends _B{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class HG extends _B{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class GG extends _B{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var LL;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(LL||(LL={}));class dOe{constructor(e,{headers:n={},customFetch:r,region:i=LL.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=cOe(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return Gt(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:u,timeout:d}=r;let f={},{region:h}=r;h||(h=this.region);const m=new URL(`${this.url}/${n}`);h&&h!=="any"&&(f["x-region"]=h,m.searchParams.set("forceFunctionRegion",h));let g;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(f["Content-Type"]="application/octet-stream",g=c):typeof c=="string"?(f["Content-Type"]="text/plain",g=c):typeof FormData<"u"&&c instanceof FormData?g=c:(f["Content-Type"]="application/json",g=JSON.stringify(c)):g=c;let v=u;d&&(a=new AbortController,s=setTimeout(()=>a.abort(),d),u?(v=a.signal,u.addEventListener("abort",()=>a.abort())):v=a.signal);const y=yield this.fetch(m.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},f),this.headers),o),body:g,signal:v}).catch(E=>{throw new uOe(E)}),w=y.headers.get("x-relay-error");if(w&&w==="true")throw new HG(y);if(!y.ok)throw new GG(y);let _=((i=y.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),S;return _==="application/json"?S=yield y.json():_==="application/octet-stream"||_==="application/pdf"?S=yield y.blob():_==="text/event-stream"?S=y:_==="multipart/form-data"?S=yield y.formData():S=yield y.text(),{data:S,error:null,response:y}}catch(o){return{data:null,error:o,response:o instanceof GG||o instanceof HG?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var fa={};const oy=ive(_Ce);var nE={},rE={},iE={},sE={},aE={},oE={},WG;function oae(){if(WG)return oE;WG=1,Object.defineProperty(oE,"__esModule",{value:!0});class t extends Error{constructor(n){super(n.message),this.name="PostgrestError",this.details=n.details,this.hint=n.hint,this.code=n.code}}return oE.default=t,oE}var XG;function lae(){if(XG)return aE;XG=1,Object.defineProperty(aE,"__esModule",{value:!0});const e=oy.__importDefault(oae());class n{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var c,u,d,f;let h=null,m=null,g=null,v=l.status,y=l.statusText;if(l.ok){if(this.method!=="HEAD"){const E=await l.text();E===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((c=this.headers.get("Accept"))===null||c===void 0)&&c.includes("application/vnd.pgrst.plan+text"))?m=E:m=JSON.parse(E))}const _=(u=this.headers.get("Prefer"))===null||u===void 0?void 0:u.match(/count=(exact|planned|estimated)/),S=(d=l.headers.get("content-range"))===null||d===void 0?void 0:d.split("/");_&&S&&S.length>1&&(g=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(m)&&(m.length>1?(h={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,g=null,v=406,y="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{const _=await l.text();try{h=JSON.parse(_),Array.isArray(h)&&l.status===404&&(m=[],h=null,v=200,y="OK")}catch{l.status===404&&_===""?(v=204,y="No Content"):h={message:_}}if(h&&this.isMaybeSingle&&(!((f=h==null?void 0:h.details)===null||f===void 0)&&f.includes("0 rows"))&&(h=null,v=200,y="OK"),h&&this.shouldThrowOnError)throw new e.default(h)}return{error:h,data:m,count:g,status:v,statusText:y}});return this.shouldThrowOnError||(o=o.catch(l=>{var c,u,d,f,h,m;let g="";const v=l==null?void 0:l.cause;if(v){const y=(c=v==null?void 0:v.message)!==null&&c!==void 0?c:"",w=(u=v==null?void 0:v.code)!==null&&u!==void 0?u:"";g=`${(d=l==null?void 0:l.name)!==null&&d!==void 0?d:"FetchError"}: ${l==null?void 0:l.message}`,g+=`

Caused by: ${(f=v==null?void 0:v.name)!==null&&f!==void 0?f:"Error"}: ${y}`,w&&(g+=` (${w})`),v!=null&&v.stack&&(g+=`
${v.stack}`)}else g=(h=l==null?void 0:l.stack)!==null&&h!==void 0?h:"";return{error:{message:`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,details:g,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return aE.default=n,aE}var qG;function cae(){if(qG)return sE;qG=1,Object.defineProperty(sE,"__esModule",{value:!0});const e=oy.__importDefault(lae());class n extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const c=l?`${l}.order`:"order",u=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${u?`${u},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,c=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(c,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:c="text"}={}){var u;const d=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),f=(u=this.headers.get("Accept"))!==null&&u!==void 0?u:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${f}"; options=${d};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return sE.default=n,sE}var KG;function SB(){if(KG)return iE;KG=1,Object.defineProperty(iE,"__esModule",{value:!0});const e=oy.__importDefault(cae()),n=new RegExp("[,()]");class r extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&n.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let c="";l==="plain"?c="pl":l==="phrase"?c="ph":l==="websearch"&&(c="w");const u=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${c}fts${u}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return iE.default=r,iE}var YG;function uae(){if(YG)return rE;YG=1,Object.defineProperty(rE,"__esModule",{value:!0});const e=oy.__importDefault(SB());class n{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let c=!1;const u=(i??"*").split("").map(d=>/\s/.test(d)&&!c?"":(d==='"'&&(c=!c),d)).join("");return this.url.searchParams.set("select",u),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const c=i.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var c;const u="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const d=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(d.length>0){const f=[...new Set(d)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:u,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return rE.default=n,rE}var ZG;function fOe(){if(ZG)return nE;ZG=1,Object.defineProperty(nE,"__esModule",{value:!0});const t=oy,e=t.__importDefault(uae()),n=t.__importDefault(SB());class r{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new r(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:c}={}){var u;let d;const f=new URL(`${this.url}/rpc/${s}`);let h;o||l?(d=o?"HEAD":"GET",Object.entries(a).filter(([g,v])=>v!==void 0).map(([g,v])=>[g,Array.isArray(v)?`{${v.join(",")}}`:`${v}`]).forEach(([g,v])=>{f.searchParams.append(g,v)})):(d="POST",h=a);const m=new Headers(this.headers);return c&&m.set("Prefer",`count=${c}`),new n.default({method:d,url:f,headers:m,schema:this.schemaName,body:h,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}}return nE.default=r,nE}Object.defineProperty(fa,"__esModule",{value:!0});var dae=fa.PostgrestError=wae=fa.PostgrestBuilder=xae=fa.PostgrestTransformBuilder=vae=fa.PostgrestFilterBuilder=mae=fa.PostgrestQueryBuilder=hae=fa.PostgrestClient=void 0;const ly=oy,fae=ly.__importDefault(fOe());var hae=fa.PostgrestClient=fae.default;const pae=ly.__importDefault(uae());var mae=fa.PostgrestQueryBuilder=pae.default;const gae=ly.__importDefault(SB());var vae=fa.PostgrestFilterBuilder=gae.default;const yae=ly.__importDefault(cae());var xae=fa.PostgrestTransformBuilder=yae.default;const bae=ly.__importDefault(lae());var wae=fa.PostgrestBuilder=bae.default;const _ae=ly.__importDefault(oae());dae=fa.PostgrestError=_ae.default;var Sae=fa.default={PostgrestClient:fae.default,PostgrestQueryBuilder:pae.default,PostgrestFilterBuilder:gae.default,PostgrestTransformBuilder:yae.default,PostgrestBuilder:bae.default,PostgrestError:_ae.default};const hOe=YZ({__proto__:null,get PostgrestBuilder(){return wae},get PostgrestClient(){return hae},get PostgrestError(){return dae},get PostgrestFilterBuilder(){return vae},get PostgrestQueryBuilder(){return mae},get PostgrestTransformBuilder(){return xae},default:Sae},[fa]),{PostgrestClient:pOe,PostgrestQueryBuilder:Qxt,PostgrestFilterBuilder:ebt,PostgrestTransformBuilder:tbt,PostgrestBuilder:nbt,PostgrestError:rbt}=Sae||hOe;class mOe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const gOe="2.84.0",vOe=`realtime-js/${gOe}`,Eae="1.0.0",yOe="2.0.0",JG=Eae,jL=1e4,xOe=1e3,bOe=100;var Xh;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Xh||(Xh={}));var Wi;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Wi||(Wi={}));var Il;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Il||(Il={}));var FL;(function(t){t.websocket="websocket"})(FL||(FL={}));var qh;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(qh||(qh={}));class wOe{constructor(){this.HEADER_LENGTH=1,this.META_LENGTH=4,this.USER_BROADCAST_PUSH_META_LENGTH=5,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast"}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r,i,s;const a=e.topic,o=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",c=e.payload.event,u=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:new ArrayBuffer(0),d=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length,f=new ArrayBuffer(this.HEADER_LENGTH+d);let h=new DataView(f),m=0;h.setUint8(m++,this.KINDS.userBroadcastPush),h.setUint8(m++,l.length),h.setUint8(m++,o.length),h.setUint8(m++,a.length),h.setUint8(m++,c.length),h.setUint8(m++,this.BINARY_ENCODING),Array.from(l,v=>h.setUint8(m++,v.charCodeAt(0))),Array.from(o,v=>h.setUint8(m++,v.charCodeAt(0))),Array.from(a,v=>h.setUint8(m++,v.charCodeAt(0))),Array.from(c,v=>h.setUint8(m++,v.charCodeAt(0)));var g=new Uint8Array(f.byteLength+u.byteLength);return g.set(new Uint8Array(f),0),g.set(new Uint8Array(u),f.byteLength),g.buffer}_encodeJsonUserBroadcastPush(e){var n,r,i,s;const a=e.topic,o=(n=e.ref)!==null&&n!==void 0?n:"",l=(r=e.join_ref)!==null&&r!==void 0?r:"",c=e.payload.event,u=(s=(i=e.payload)===null||i===void 0?void 0:i.payload)!==null&&s!==void 0?s:{},f=new TextEncoder().encode(JSON.stringify(u)).buffer,h=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length,m=new ArrayBuffer(this.HEADER_LENGTH+h);let g=new DataView(m),v=0;g.setUint8(v++,this.KINDS.userBroadcastPush),g.setUint8(v++,l.length),g.setUint8(v++,o.length),g.setUint8(v++,a.length),g.setUint8(v++,c.length),g.setUint8(v++,this.JSON_ENCODING),Array.from(l,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(o,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(a,w=>g.setUint8(v++,w.charCodeAt(0))),Array.from(c,w=>g.setUint8(v++,w.charCodeAt(0)));var y=new Uint8Array(m.byteLength+f.byteLength);return y.set(new Uint8Array(m),0),y.set(new Uint8Array(f),m.byteLength),y.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const u=r.decode(e.slice(l,l+s));l=l+s;const d=r.decode(e.slice(l,l+a));l=l+a;const f=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(r.decode(f)):f,m={type:this.BROADCAST_EVENT,event:u,payload:h};return a>0&&(m.meta=JSON.parse(d)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:m}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}}let Tae=class{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Mr;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Mr||(Mr={}));const QG=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=_Oe(a,t,e,i),s),{}):{}},_Oe=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?Aae(s,a):UL(a)},Aae=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return AOe(e,n)}switch(t){case Mr.bool:return SOe(e);case Mr.float4:case Mr.float8:case Mr.int2:case Mr.int4:case Mr.int8:case Mr.numeric:case Mr.oid:return EOe(e);case Mr.json:case Mr.jsonb:return TOe(e);case Mr.timestamp:return MOe(e);case Mr.abstime:case Mr.date:case Mr.daterange:case Mr.int4range:case Mr.int8range:case Mr.money:case Mr.reltime:case Mr.text:case Mr.time:case Mr.timestamptz:case Mr.timetz:case Mr.tsrange:case Mr.tstzrange:return UL(e);default:return UL(e)}},UL=t=>t,SOe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},EOe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},TOe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},AOe=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Aae(e,o))}return t},MOe=t=>typeof t=="string"?t.replace(" ","T"):t,Mae=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class CI{constructor(e,n,r={},i=jL){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var eW;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(eW||(eW={}));class Rb{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Rb.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Rb.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Rb.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,u)=>{a[c]||(l[c]=u)}),this.map(a,(c,u)=>{const d=s[c];if(d){const f=u.map(v=>v.presence_ref),h=d.map(v=>v.presence_ref),m=u.filter(v=>h.indexOf(v.presence_ref)<0),g=d.filter(v=>f.indexOf(v.presence_ref)<0);m.length>0&&(o[c]=m),g.length>0&&(l[c]=g)}else o[c]=u}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const u=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),u.length>0){const d=e[o].map(h=>h.presence_ref),f=u.filter(h=>d.indexOf(h.presence_ref)<0);e[o].unshift(...f)}r(o,u,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const u=l.map(d=>d.presence_ref);c=c.filter(d=>u.indexOf(d.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var tW;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(tW||(tW={}));var Ob;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Ob||(Ob={}));var pu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(pu||(pu={}));class EB{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=Wi.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new CI(this,Il.join,this.params,this.timeout),this.rejoinTimer=new Tae(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Wi.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Wi.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Wi.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=Wi.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Il.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Rb(this),this.broadcastEndpointURL=Mae(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Wi.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],u=!!this.bindings[Ob.PRESENCE]&&this.bindings[Ob.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,d={},f={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:u}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(d.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(pu.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(pu.CLOSED)),this.updateJoinPayload(Object.assign({config:f},d)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var m;if(this.socket.setAuth(),h===void 0){e==null||e(pu.SUBSCRIBED);return}else{const g=this.bindings.postgres_changes,v=(m=g==null?void 0:g.length)!==null&&m!==void 0?m:0,y=[];for(let w=0;w<v;w++){const _=g[w],{filter:{event:S,schema:E,table:A,filter:M}}=_,R=h&&h[w];if(R&&R.event===S&&R.schema===E&&R.table===A&&R.filter===M)y.push(Object.assign(Object.assign({},_),{id:R.id}));else{this.unsubscribe(),this.state=Wi.errored,e==null||e(pu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(pu.SUBSCRIBED);return}}).receive("error",h=>{this.state=Wi.errored,e==null||e(pu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(pu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===Wi.joined&&e===Ob.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(n==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Wi.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Il.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new CI(this,Il.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Wi.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new CI(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>bOe){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:u}=Il;if(r&&[o,l,c,u].indexOf(a)>=0&&r!==this._joinRef())return;let f=this._onMessage(a,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var m,g,v;return((m=h.filter)===null||m===void 0?void 0:m.event)==="*"||((v=(g=h.filter)===null||g===void 0?void 0:g.event)===null||v===void 0?void 0:v.toLocaleLowerCase())===a}).map(h=>h.callback(f,r)):(s=this.bindings[a])===null||s===void 0||s.filter(h=>{var m,g,v,y,w,_;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const S=h.id,E=(m=h.filter)===null||m===void 0?void 0:m.event;return S&&((g=n.ids)===null||g===void 0?void 0:g.includes(S))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((v=n.data)===null||v===void 0?void 0:v.type.toLocaleLowerCase()))}else{const S=(w=(y=h==null?void 0:h.filter)===null||y===void 0?void 0:y.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return S==="*"||S===((_=n==null?void 0:n.event)===null||_===void 0?void 0:_.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof f=="object"&&"ids"in f){const m=f.data,{schema:g,table:v,commit_timestamp:y,type:w,errors:_}=m;f=Object.assign(Object.assign({},{schema:g,table:v,commit_timestamp:y,eventType:w,new:{},old:{},errors:_}),this._getPayloadRecords(m))}h.callback(f,r)})}_isClosed(){return this.state===Wi.closed}_isJoined(){return this.state===Wi.joined}_isJoining(){return this.state===Wi.joining}_isLeaving(){return this.state===Wi.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&EB.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Il.close,{},e)}_onError(e){this._on(Il.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Wi.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=QG(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=QG(e.columns,e.old_record)),n}}const PI=()=>{},lE={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},COe=[1e3,2e3,5e3,1e4],POe=1e4,ROe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class OOe{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=jL,this.transport=null,this.heartbeatIntervalMs=lE.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=PI,this.ref=0,this.reconnectTimer=null,this.vsn=JG,this.logger=PI,this.conn=null,this.sendBuffer=[],this.serializer=new wOe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${FL.websocket}`,this.httpEndpoint=Mae(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=mOe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Xh.connecting:return qh.Connecting;case Xh.open:return qh.Open;case Xh.closing:return qh.Closing;default:return qh.Closed}}isConnected(){return this.connectionState()===qh.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new EB(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(xOe,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},lE.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===Xh.open||this.conn.readyState===Xh.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Il.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([ROe],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n;e?n=e:this.accessToken?n=await this.accessToken():n=this.accessTokenValue,this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{const i={access_token:n,version:vOe};n&&r.updateJoinPayload(i),r.joinedOnce&&r._isJoined()&&r._push(Il.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(n=>{this.log("error",`error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new Tae(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},lE.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,c,u,d,f,h;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:jL,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:lE.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:PI,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:JG,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:m=>COe[m-1]||POe,this.vsn){case Eae:this.encode=(u=e==null?void 0:e.encode)!==null&&u!==void 0?u:(m,g)=>g(JSON.stringify(m)),this.decode=(d=e==null?void 0:e.decode)!==null&&d!==void 0?d:(m,g)=>g(JSON.parse(m));break;case yOe:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class TB extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function Yr(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class NOe extends TB{constructor(e,n,r){super(e),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class BL extends TB{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}const AB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),IOe=()=>Response,zL=t=>{if(Array.isArray(t))return t.map(n=>zL(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=zL(r)}),e},kOe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RI=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},DOe=(t,e,n)=>Gt(void 0,void 0,void 0,function*(){const r=yield IOe();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new NOe(RI(i),s,a))}).catch(i=>{e(new BL(RI(i),i))}):e(new BL(RI(t),t))}),LOe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(kOe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),n))};function Y1(t,e,n,r,i,s){return Gt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,LOe(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>DOe(l,o,r))})})}function kw(t,e,n,r){return Gt(this,void 0,void 0,function*(){return Y1(t,"GET",e,n,r)})}function Cl(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return Y1(t,"POST",e,r,i,n)})}function VL(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return Y1(t,"PUT",e,r,i,n)})}function jOe(t,e,n,r){return Gt(this,void 0,void 0,function*(){return Y1(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function MB(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return Y1(t,"DELETE",e,r,i,n)})}class FOe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n}then(e,n){return this.execute().then(e,n)}execute(){return Gt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}}var Cae;class UOe{constructor(e,n){this.downloadFn=e,this.shouldThrowOnError=n,this[Cae]="BlobDownloadBuilder",this.promise=null}asStream(){return new FOe(this.downloadFn,this.shouldThrowOnError)}then(e,n){return this.getPromise().then(e,n)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return Gt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(Yr(e))return{data:null,error:e};throw e}})}}Cae=Symbol.toStringTag;const BOe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},nW={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class zOe{constructor(e,n={},r,i){this.shouldThrowOnError=!1,this.url=e,this.headers=n,this.bucketId=r,this.fetch=AB(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,n,r,i){return Gt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},nW),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&r instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",r)):typeof FormData<"u"&&r instanceof FormData?(s=r,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=r,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const c=this._removeEmptyFolders(n),u=this._getFinalPath(c),d=yield(e=="PUT"?VL:Cl)(this.fetch,`${this.url}/object/${u}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:d.Id,fullPath:d.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Yr(s))return{data:null,error:s};throw s}})}upload(e,n,r){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,i){return Gt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:nW.upsert},i),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const d=yield VL(this.fetch,o.toString(),l,{headers:u});return{data:{path:s,fullPath:d.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Yr(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return Gt(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const i=Object.assign({},this.headers);n!=null&&n.upsert&&(i["x-upsert"]="true");const s=yield Cl(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new TB("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}update(e,n,r){return Gt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return Gt(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yr(i))return{data:null,error:i};throw i}})}copy(e,n,r){return Gt(this,void 0,void 0,function*(){try{return{data:{path:(yield Cl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yr(i))return{data:null,error:i};throw i}})}createSignedUrl(e,n,r){return Gt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Cl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const a=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yr(i))return{data:null,error:i};throw i}})}createSignedUrls(e,n,r){return Gt(this,void 0,void 0,function*(){try{const i=yield Cl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),s=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yr(i))return{data:null,error:i};throw i}})}download(e,n){const i=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>kw(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new UOe(l,this.shouldThrowOnError)}info(e){return Gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield kw(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:zL(r),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}exists(e){return Gt(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield jOe(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r)&&r instanceof BL){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),i=[],s=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";s!==""&&i.push(s);const o=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&i.push(l);let c=i.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${r}${c}`)}}}remove(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield MB(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}list(e,n,r){return Gt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},BOe),n),{prefix:e||""});return{data:yield Cl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},r),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yr(i))return{data:null,error:i};throw i}})}listV2(e,n){return Gt(this,void 0,void 0,function*(){try{const r=Object.assign({},e);return{data:yield Cl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const Pae="2.84.0",Rae={"X-Client-Info":`storage-js/${Pae}`};class VOe{constructor(e,n={},r,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rae),n),this.fetch=AB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return Gt(this,void 0,void 0,function*(){try{const n=this.listBucketOptionsToQueryString(e);return{data:yield kw(this.fetch,`${this.url}/bucket${n}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield kw(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}createBucket(e){return Gt(this,arguments,void 0,function*(n,r={public:!1}){try{return{data:yield Cl(this.fetch,`${this.url}/bucket`,{id:n,name:n,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(Yr(i))return{data:null,error:i};throw i}})}updateBucket(e,n){return Gt(this,void 0,void 0,function*(){try{return{data:yield VL(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Yr(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield MB(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}listBucketOptionsToQueryString(e){const n={};return e&&("limit"in e&&(n.limit=String(e.limit)),"offset"in e&&(n.offset=String(e.offset)),e.search&&(n.search=e.search),e.sortColumn&&(n.sortColumn=e.sortColumn),e.sortOrder&&(n.sortOrder=e.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}}class $Oe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rae),n),this.fetch=AB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield Cl(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}listBuckets(e){return Gt(this,void 0,void 0,function*(){try{const n=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&n.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&n.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&n.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&n.set("sortOrder",e.sortOrder),e!=null&&e.search&&n.set("search",e.search);const r=n.toString(),i=r?`${this.url}/bucket?${r}`:`${this.url}/bucket`;return{data:yield kw(this.fetch,i,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield MB(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Yr(n))return{data:null,error:n};throw n}})}}const CB={"X-Client-Info":`storage-js/${Pae}`,"Content-Type":"application/json"};class Oae extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function ho(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class OI extends Oae{constructor(e,n,r){super(e),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class HOe extends Oae{constructor(e,n){super(e),this.name="StorageVectorsUnknownError",this.originalError=n}}var rW;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(rW||(rW={}));const PB=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),GOe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},iW=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),WOe=(t,e,n)=>Gt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new OI(iW(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new OI(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new OI(o,i,a))}}else e(new HOe(iW(t),t))}),XOe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(GOe(r)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Object.assign(Object.assign({},i),n)):i};function qOe(t,e,n,r,i,s){return Gt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(n,XOe(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>WOe(l,o,r))})})}function po(t,e,n,r,i){return Gt(this,void 0,void 0,function*(){return qOe(t,"POST",e,r,i,n)})}class KOe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CB),n),this.fetch=PB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return Gt(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}getIndex(e,n){return Gt(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ho(r))return{data:null,error:r};throw r}})}listIndexes(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}deleteIndex(e,n){return Gt(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:n},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ho(r))return{data:null,error:r};throw r}})}}class YOe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CB),n),this.fetch=PB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return Gt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield po(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}getVectors(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}listVectors(e){return Gt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield po(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}queryVectors(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}deleteVectors(e){return Gt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield po(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}}class ZOe{constructor(e,n={},r){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},CB),n),this.fetch=PB(r)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}getBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:yield po(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}listBuckets(){return Gt(this,arguments,void 0,function*(e={}){try{return{data:yield po(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Gt(this,void 0,void 0,function*(){try{return{data:(yield po(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ho(n))return{data:null,error:n};throw n}})}}class JOe extends ZOe{constructor(e,n={}){super(e,n.headers||{},n.fetch)}from(e){return new QOe(this.url,this.headers,e,this.fetch)}}class QOe extends KOe{constructor(e,n,r,i){super(e,n,i),this.vectorBucketName=r}createIndex(e){const n=Object.create(null,{createIndex:{get:()=>super.createIndex}});return Gt(this,void 0,void 0,function*(){return n.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return Gt(this,arguments,void 0,function*(n={}){return e.listIndexes.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const n=Object.create(null,{getIndex:{get:()=>super.getIndex}});return Gt(this,void 0,void 0,function*(){return n.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const n=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return Gt(this,void 0,void 0,function*(){return n.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new eNe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class eNe extends YOe{constructor(e,n,r,i,s){super(e,n,s),this.vectorBucketName=r,this.indexName=i}putVectors(e){const n=Object.create(null,{putVectors:{get:()=>super.putVectors}});return Gt(this,void 0,void 0,function*(){return n.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const n=Object.create(null,{getVectors:{get:()=>super.getVectors}});return Gt(this,void 0,void 0,function*(){return n.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return Gt(this,arguments,void 0,function*(n={}){return e.listVectors.call(this,Object.assign(Object.assign({},n),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const n=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return Gt(this,void 0,void 0,function*(){return n.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const n=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return Gt(this,void 0,void 0,function*(){return n.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class tNe extends VOe{constructor(e,n={},r,i){super(e,n,r,i)}from(e){return new zOe(this.url,this.headers,e,this.fetch)}get vectors(){return new JOe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new $Oe(this.url+"/iceberg",this.headers,this.fetch)}}const nNe="2.84.0";let sb="";typeof Deno<"u"?sb="deno":typeof document<"u"?sb="web":typeof navigator<"u"&&navigator.product==="ReactNative"?sb="react-native":sb="node";const rNe={"X-Client-Info":`supabase-js-${sb}/${nNe}`},iNe={headers:rNe},sNe={schema:"public"},aNe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},oNe={},lNe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),cNe=()=>Headers,uNe=(t,e,n)=>{const r=lNe(n),i=cNe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Object.assign(Object.assign({},a),{headers:c}))}};function dNe(t){return t.endsWith("/")?t:t+"/"}function fNe(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:u,global:d}=e,f={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),a),storage:{},global:Object.assign(Object.assign(Object.assign({},d),o),{headers:Object.assign(Object.assign({},(n=d==null?void 0:d.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}function hNe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(dNe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nae="2.84.0",Rg=30*1e3,$L=3,NI=$L*Rg,pNe="http://localhost:9999",mNe="supabase.auth.token",gNe={"X-Client-Info":`gotrue-js/${Nae}`},HL="X-Supabase-Api-Version",Iae={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},vNe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,yNe=10*60*1e3;class Dw extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function qt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class xNe extends Dw{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function bNe(t){return qt(t)&&t.name==="AuthApiError"}class Kh extends Dw{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class zf extends Dw{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class io extends zf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function wNe(t){return qt(t)&&t.name==="AuthSessionMissingError"}class qm extends zf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class cE extends zf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class uE extends zf{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function _Ne(t){return qt(t)&&t.name==="AuthImplicitGrantRedirectError"}class sW extends zf{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class GL extends zf{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function II(t){return qt(t)&&t.name==="AuthRetryableFetchError"}class aW extends zf{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class WL extends zf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vM="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oW=` 	
\r=`.split(""),SNe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<oW.length;e+=1)t[oW[e].charCodeAt(0)]=-2;for(let e=0;e<vM.length;e+=1)t[vM[e].charCodeAt(0)]=e;return t})();function lW(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vM[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vM[r]),e.queuedBits-=6}}function kae(t,e,n){const r=SNe[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function cW(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{ANe(a,r,n)};for(let a=0;a<t.length;a+=1)kae(t.charCodeAt(a),i,s);return e.join("")}function ENe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function TNe(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}ENe(r,e)}}function ANe(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function bv(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)kae(t.charCodeAt(i),n,r);return new Uint8Array(e)}function MNe(t){const e=[];return TNe(t,n=>e.push(n)),new Uint8Array(e)}function op(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>lW(i,n,r)),lW(null,n,r),e.join("")}function CNe(t){return Math.round(Date.now()/1e3)+t}function PNe(){return Symbol("auth-callback")}const ys=()=>typeof window<"u"&&typeof document<"u",fh={tested:!1,writable:!1},Dae=()=>{if(!ys())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(fh.tested)return fh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),fh.tested=!0,fh.writable=!0}catch{fh.tested=!0,fh.writable=!1}return fh.writable};function RNe(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const Lae=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ONe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Og=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},hh=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},pd=async(t,e)=>{await t.removeItem(e)};class TP{constructor(){this.promise=new TP.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}TP.promiseConstructor=Promise;function kI(t){const e=t.split(".");if(e.length!==3)throw new WL("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!vNe.test(e[r]))throw new WL("JWT not in base64url format");return{header:JSON.parse(cW(e[0])),payload:JSON.parse(cW(e[1])),signature:bv(e[2]),raw:{header:e[0],payload:e[1]}}}async function NNe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function INe(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function kNe(t){return("0"+t.toString(16)).substr(-2)}function DNe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,kNe).join("")}async function LNe(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function jNe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await LNe(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Km(t,e,n=!1){const r=DNe();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Og(t,`${e}-code-verifier`,i);const s=await jNe(r);return[s,r===s?"plain":"s256"]}const FNe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function UNe(t){const e=t.headers.get(HL);if(!e||!e.match(FNe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function BNe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zNe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const VNe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ym(t){if(!VNe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function DI(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function $Ne(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function uW(t){return JSON.parse(JSON.stringify(t))}const Lh=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),HNe=[502,503,504];async function dW(t){var e;if(!ONe(t))throw new GL(Lh(t),0);if(HNe.includes(t.status))throw new GL(Lh(t),t.status);let n;try{n=await t.json()}catch(s){throw new Kh(Lh(s),s)}let r;const i=UNe(t);if(i&&i.getTime()>=Iae["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new aW(Lh(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new io}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new aW(Lh(n),t.status,n.weak_password.reasons);throw new xNe(Lh(n),t.status||500,r)}const GNe=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function on(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[HL]||(s[HL]=Iae["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await WNe(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function WNe(t,e,n,r,i,s){const a=GNe(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new GL(Lh(l),0)}if(o.ok||await dW(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await dW(l)}}function Sl(t){var e;let n=null;KNe(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=CNe(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function fW(t){const e=Sl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function jd(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function XNe(t){return{data:t,error:null}}function qNe(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=jf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function hW(t){return t}function KNe(t){return t.access_token&&t.refresh_token&&t.expires_in}const LI=["global","local","others"];class YNe{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=Lae(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=LI[0]){if(LI.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${LI.join(", ")}`);try{return await on(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qt(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await on(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:jd})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=jf(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await on(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:qNe,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qt(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await on(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:jd})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await on(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:hW});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(qt(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Ym(e);try{return await on(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:jd})}catch(n){if(qt(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Ym(e);try{return await on(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:jd})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Ym(e);try{return await on(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:jd})}catch(r){if(qt(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Ym(e.userId);try{const{data:n,error:r}=await on(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Ym(e.userId),Ym(e.id);try{return{data:await on(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},u=await on(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:hW});if(u.error)throw u.error;const d=await u.json(),f=(a=u.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=u.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(m=>{const g=parseInt(m.split(";")[0].split("=")[1].substring(0,1)),v=JSON.parse(m.split(";")[1].split("=")[1]);c[`${v}Page`]=g}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},d),c),error:null}}catch(c){if(qt(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await on(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await on(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await on(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qt(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await on(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qt(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await on(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qt(n))return{data:null,error:n};throw n}}}function pW(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Zm={debug:!!(globalThis&&Dae()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jae extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class ZNe extends jae{}async function JNe(t,e,n){Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Zm.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new ZNe(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Zm.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function QNe(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Fae(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function eIe(t){return parseInt(t,16)}function tIe(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function nIe(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:u,uri:d,version:f}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!d)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(f!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${f}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=Fae(t.address),m=u?`${u}://${r}`:r,g=t.statement?`${t.statement}
`:"",v=`${m} wants you to sign in with your Ethereum account:
${h}

${g}`;let y=`URI: ${d}
Version: ${f}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(y+=`
Expiration Time: ${i.toISOString()}`),o&&(y+=`
Not Before: ${o.toISOString()}`),l&&(y+=`
Request ID: ${l}`),c){let w=`
Resources:`;for(const _ of c){if(!_||typeof _!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${_}`);w+=`
- ${_}`}y+=w}return`${v}
${y}`}class Di extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class yM extends Di{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function rIe({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Di({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new Di({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new Di({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Di({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Di({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Di({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Di({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Di({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Uae(a)){if(s.rp.id!==a)return new Di({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Di({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Di({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Di({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Di({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function iIe({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Di({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Di({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Uae(r)){if(n.rpId!==r)return new Di({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Di({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Di({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Di({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class sIe{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const aIe=new sIe;function oIe(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=jf(t,["challenge","user","excludeCredentials"]),s=bv(e).buffer,a=Object.assign(Object.assign({},n),{id:bv(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:bv(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function lIe(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=jf(t,["challenge","allowCredentials"]),i=bv(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:bv(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function cIe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:op(new Uint8Array(t.response.attestationObject)),clientDataJSON:op(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function uIe(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:op(new Uint8Array(i.authenticatorData)),clientDataJSON:op(new Uint8Array(i.clientDataJSON)),signature:op(new Uint8Array(i.signature)),userHandle:i.userHandle?op(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Uae(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function mW(){var t,e;return!!(ys()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function dIe(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yM("Browser returned unexpected credential type",e)}:{data:null,error:new yM("Empty credential response",e)}}catch(e){return{data:null,error:rIe({error:e,options:t})}}}async function fIe(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yM("Browser returned unexpected credential type",e)}:{data:null,error:new yM("Empty credential response",e)}}catch(e){return{data:null,error:iIe({error:e,options:t})}}}const hIe={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},pIe={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function xM(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=xM(o,a):r[s]=xM(a)}else r[s]=a}return r}function mIe(t,e){return xM(hIe,t,e||{})}function gIe(t,e){return xM(pIe,t,e||{})}class vIe{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const l=i??aIe.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=mIe(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:u,error:d}=await dIe({publicKey:c,signal:l});return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}case"request":{const c=gIe(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:u,error:d}=await fIe(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return u?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:u}},error:null}:{data:null,error:d}}}}catch(a){return qt(a)?{data:null,error:a}:{data:null,error:new Kh("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Dw("rpId is required for WebAuthn authentication")};try{if(!mW())return{data:null,error:new Kh("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return qt(a)?{data:null,error:a}:{data:null,error:new Kh("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new Dw("rpId is required for WebAuthn registration")};try{if(!mW())return{data:null,error:new Kh("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(u=>{var d;return(d=u.data)===null||d===void 0?void 0:d.all.find(f=>f.factor_type==="webauthn"&&f.friendly_name===e&&f.status!=="unverified")}).then(u=>u?this.client.mfa.unenroll({factorId:u==null?void 0:u.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return qt(a)?{data:null,error:a}:{data:null,error:new Kh("Unexpected error in register",a)}}}}QNe();const yIe={url:pNe,storageKey:mNe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gNe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function gW(t,e,n){return await n()}const Jm={};class Lw{get jwks(){var e,n;return(n=(e=Jm[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Jm[this.storageKey]=Object.assign(Object.assign({},Jm[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Jm[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Jm[this.storageKey]=Object.assign(Object.assign({},Jm[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},yIe),e);if(this.storageKey=s.storageKey,this.instanceID=(n=Lw.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,Lw.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&ys()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new YNe({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Lae(s.fetch),this.lock=s.lock||gW,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:ys()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=JNe:this.lock=gW,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new vIe(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Dae()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=pW(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=pW(this.memoryStorage)),ys()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nae}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(ys()&&(n=RNe(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),ys()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),_Ne(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qt(n)?this._returnResult({error:n}):this._returnResult({error:new Kh("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Sl}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(qt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:u,password:d,options:f}=e;let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Km(this.storage,this.storageKey)),s=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:u,password:d,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:h,code_challenge_method:m},xform:Sl})}else if("phone"in e){const{phone:u,password:d,options:f}=e;s=await on(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:d,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(i=f==null?void 0:f.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:Sl})}else throw new cE("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(qt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await on(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fW})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await on(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:fW})}else throw new cE("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new qm;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,c,u,d,f;let h,m;if("message"in e)h=e.message,m=e.signature;else{const{chain:g,wallet:v,statement:y,options:w}=e;let _;if(ys())if(typeof v=="object")_=v;else{const P=window;if("ethereum"in P&&typeof P.ethereum=="object"&&"request"in P.ethereum&&typeof P.ethereum.request=="function")_=P.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof v!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");_=v}const S=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href),E=await _.request({method:"eth_requestAccounts"}).then(P=>P).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!E||E.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const A=Fae(E[0]);let M=(r=w==null?void 0:w.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!M){const P=await _.request({method:"eth_chainId"});M=eIe(P)}const R={domain:S.host,address:A,statement:y,uri:S.href,version:"1",chainId:M,nonce:(i=w==null?void 0:w.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=w==null?void 0:w.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=w==null?void 0:w.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=w==null?void 0:w.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=w==null?void 0:w.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(u=w==null?void 0:w.signInWithEthereum)===null||u===void 0?void 0:u.resources};h=nIe(R),m=await _.request({method:"personal_sign",params:[tIe(h),A]})}try{const{data:g,error:v}=await on(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:m},!((d=e.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:(f=e.options)===null||f===void 0?void 0:f.captchaToken}}:null),xform:Sl});if(v)throw v;if(!g||!g.session||!g.user){const y=new qm;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:Object.assign({},g),error:v})}catch(g){if(qt(g))return this._returnResult({data:{user:null,session:null},error:g});throw g}}async signInWithSolana(e){var n,r,i,s,a,o,l,c,u,d,f,h;let m,g;if("message"in e)m=e.message,g=e.signature;else{const{chain:v,wallet:y,statement:w,options:_}=e;let S;if(ys())if(typeof y=="object")S=y;else{const A=window;if("solana"in A&&typeof A.solana=="object"&&("signIn"in A.solana&&typeof A.solana.signIn=="function"||"signMessage"in A.solana&&typeof A.solana.signMessage=="function"))S=A.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(_!=null&&_.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");S=y}const E=new URL((n=_==null?void 0:_.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in S&&S.signIn){const A=await S.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},_==null?void 0:_.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),w?{statement:w}:null));let M;if(Array.isArray(A)&&A[0]&&typeof A[0]=="object")M=A[0];else if(A&&typeof A=="object"&&"signedMessage"in A&&"signature"in A)M=A;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in M&&"signature"in M&&(typeof M.signedMessage=="string"||M.signedMessage instanceof Uint8Array)&&M.signature instanceof Uint8Array)m=typeof M.signedMessage=="string"?M.signedMessage:new TextDecoder().decode(M.signedMessage),g=M.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in S)||typeof S.signMessage!="function"||!("publicKey"in S)||typeof S!="object"||!S.publicKey||!("toBase58"in S.publicKey)||typeof S.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");m=[`${E.host} wants you to sign in with your Solana account:`,S.publicKey.toBase58(),...w?["",w,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(i=(r=_==null?void 0:_.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=_==null?void 0:_.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${_.signInWithSolana.notBefore}`]:[],...!((a=_==null?void 0:_.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${_.signInWithSolana.expirationTime}`]:[],...!((o=_==null?void 0:_.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${_.signInWithSolana.chainId}`]:[],...!((l=_==null?void 0:_.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${_.signInWithSolana.nonce}`]:[],...!((c=_==null?void 0:_.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${_.signInWithSolana.requestId}`]:[],...!((d=(u=_==null?void 0:_.signInWithSolana)===null||u===void 0?void 0:u.resources)===null||d===void 0)&&d.length?["Resources",..._.signInWithSolana.resources.map(M=>`- ${M}`)]:[]].join(`
`);const A=await S.signMessage(new TextEncoder().encode(m),"utf8");if(!A||!(A instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");g=A}}try{const{data:v,error:y}=await on(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:m,signature:op(g)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:Sl});if(y)throw y;if(!v||!v.session||!v.user){const w=new qm;return this._returnResult({data:{user:null,session:null},error:w})}return v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("SIGNED_IN",v.session)),this._returnResult({data:Object.assign({},v),error:y})}catch(v){if(qt(v))return this._returnResult({data:{user:null,session:null},error:v});throw v}}async _exchangeCodeForSession(e){const n=await hh(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{const{data:s,error:a}=await on(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Sl});if(await pd(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new qm;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(qt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await on(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:Sl}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const u=new qm;return this._returnResult({data:{user:null,session:null},error:u})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,u=null;this.flowType==="pkce"&&([c,u]=await Km(this.storage,this.storageKey));const{error:d}=await on(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:u}=await on(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u})}throw new cE("You must provide either an email or phone number.")}catch(o){if(qt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await on(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Sl});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Km(this.storage,this.storageKey));const c=await on(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:XNe});return!((s=c.data)===null||s===void 0)&&s.url&&ys()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(qt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new io;const{error:i}=await on(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(qt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await on(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await on(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new cE("You must provide either an email or phone number and a type")}catch(n){if(qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await hh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<NI:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await hh(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=DI()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=$Ne(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await on(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:jd}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new io}:await on(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:jd})})}catch(n){if(qt(n))return wNe(n)&&(await this._removeSession(),await pd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new io;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Km(this.storage,this.storageKey));const{data:c,error:u}=await on(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:jd});if(u)throw u;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(qt(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new io;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=kI(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(qt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new io;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(qt(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!ys())throw new uE("No browser detected.");if(e.error||e.error_description||e.error_code)throw new uE(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new sW("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new uE("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new sW("No code detected.");const{data:w,error:_}=await this._exchangeCodeForSession(e.code);if(_)throw _;const S=new URL(window.location.href);return S.searchParams.delete("code"),window.history.replaceState(window.history.state,"",S.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new uE("No session defined in URL");const u=Math.round(Date.now()/1e3),d=parseInt(o);let f=u+d;l&&(f=parseInt(l));const h=f-u;h*1e3<=Rg&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${d}s`);const m=f-d;u-m>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",m,f,u):u-m<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",m,f,u);const{data:g,error:v}=await this._getUser(s);if(v)throw v;const y={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:d,expires_at:f,refresh_token:a,token_type:c,user:g.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:y,redirectType:e.type},error:null})}catch(r){if(qt(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await hh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(bNe(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await pd(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=PNe(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Km(this.storage,this.storageKey,!0));try{return await on(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(qt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,u;const{data:d,error:f}=s;if(f)throw f;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await on(this.fetch,"GET",h,{headers:this.headers,jwt:(u=(c=d.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(i)throw i;return ys()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(qt(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:u}=e,d=await on(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:u,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Sl}),{data:f,error:h}=d;return h?this._returnResult({data:{user:null,session:null},error:h}):!f||!f.session||!f.user?this._returnResult({data:{user:null,session:null},error:new qm}):(f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("USER_UPDATED",f.session)),this._returnResult({data:f,error:h}))}catch(i){if(qt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await on(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await INe(async i=>(i>0&&await NNe(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await on(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Sl})),(i,s)=>{const a=200*Math.pow(2,i);return s&&II(s)&&Date.now()+a-r<Rg})}catch(r){if(this._debug(n,"error",r),qt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),ys()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await hh(this.storage,this.storageKey);if(i&&this.userStorage){let a=await hh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Og(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:DI()}else if(i&&!i.user&&!i.user){const a=await hh(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await pd(this.storage,this.storageKey+"-user"),await Og(this.storage,this.storageKey,i)):i.user=DI()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<NI;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${NI}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),II(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new io;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new TP;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new io;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),qt(s)){const a={data:null,error:s};return II(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Og(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=uW(i);await Og(this.storage,this.storageKey,s)}else{const i=uW(n);await Og(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await pd(this.storage,this.storageKey),await pd(this.storage,this.storageKey+"-code-verifier"),await pd(this.storage,this.storageKey+"-user"),this.userStorage&&await pd(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ys()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rg);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Rg);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Rg}ms, refresh threshold is ${$L} ticks`),i<=$L&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jae)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ys()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Km(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await on(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await on(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?cIe(e.webauthn.credential_response):uIe(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await on(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await on(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:oIe(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:lIe(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=kI(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(u=>u.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await on(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new io})})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new io});const a=await on(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ys()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(qt(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new io});const a=await on(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&ys()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(qt(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await on(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new io})})}catch(e){if(qt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await on(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},xform:()=>({data:{},error:null})}):this._returnResult({data:null,error:new io})})}catch(n){if(qt(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+yNe>i)return r;const{data:s,error:a}=await on(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:h,error:m}=await this.getSession();if(m||!h.session)return this._returnResult({data:null,error:m});r=h.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=kI(r);n!=null&&n.allowExpired||BNe(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:s,header:i,signature:a},error:null}}const u=zNe(i.alg),d=await crypto.subtle.importKey("jwk",c,u,!0,["verify"]);if(!await crypto.subtle.verify(u,d,a,MNe(`${o}.${l}`)))throw new WL("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(qt(r))return this._returnResult({data:null,error:r});throw r}}}Lw.nextInstanceID={};const xIe=Lw;class bIe extends xIe{constructor(e){super(e)}}class wIe{constructor(e,n,r){var i,s,a;this.supabaseUrl=e,this.supabaseKey=n;const o=hNe(e);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,c={db:sNe,realtime:oNe,auth:Object.assign(Object.assign({},aNe),{storageKey:l}),global:iNe},u=fNe(r??{},c);this.storageKey=(i=u.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=u.global.headers)!==null&&s!==void 0?s:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(d,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=u.auth)!==null&&a!==void 0?a:{},this.headers,u.global.fetch),this.fetch=uNe(n,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.accessToken&&this.accessToken().then(d=>this.realtime.setAuth(d)).catch(d=>console.warn("Failed to set initial Realtime auth token:",d)),this.rest=new pOe(new URL("rest/v1",o).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),this.storage=new tNe(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),u.accessToken||this._listenForAuthEvents()}get functions(){return new dOe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,n;if(this.accessToken)return await this.accessToken();const{data:r}=await this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:c,throwOnError:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new bIe({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:a,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:i,userStorage:s,flowType:o,lock:l,debug:c,throwOnError:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(m=>m.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new OOe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const _Ie=(t,e,n)=>new wIe(t,e,n);function SIe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}SIe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const EIe="https://piiwaqfzdngsltpaqbke.supabase.co",TIe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpaXdhcWZ6ZG5nc2x0cGFxYmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTk0ODQsImV4cCI6MjA3OTU3NTQ4NH0.W82GXZWhbTEXiWU4a3X0w8SkFbs1A88KtVHF9P0HOEE",Od=_Ie(EIe,TIe,{auth:{storage:localStorage,persistSession:!0,autoRefreshToken:!0}}),AIe=wB({name:ja().min(1,"Name is required"),email:ja().email("Invalid email"),company:ja().min(1,"Company is required"),role:ja().min(1,"Role is required"),industry:ja().min(1,"Industry is required"),useCase:ja().min(1,"Use case is required"),challenge:ja().min(1,"Please describe your main challenge")}),Bae=({children:t})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(!1),s=yB({resolver:xB(AIe)}),a=async o=>{i(!0);try{const{error:l}=await Od.from("bookings").insert([{...o,created_at:new Date().toISOString()}]);if(l)throw l;ua.success("Demo scheduled successfully! Check your email for confirmation."),n(!1),s.reset()}catch(l){console.error("Booking error:",l),ua.error("Failed to schedule demo. Please try again.")}finally{i(!1)}};return p.jsxs(gPe,{open:e,onOpenChange:n,children:[p.jsx(vPe,{asChild:!0,children:t}),p.jsxs(zie,{className:"sm:max-w-[800px] max-h-[80vh] overflow-y-auto",children:[p.jsx(Vie,{children:p.jsx($ie,{children:"Schedule Your Demo"})}),p.jsxs(gm,{defaultValue:"form",className:"w-full",children:[p.jsxs(Bf,{className:"grid w-full grid-cols-2",children:[p.jsx(Bi,{value:"form",children:"Contact Form"}),p.jsx(Bi,{value:"calendar",children:"Calendar Booking"})]}),p.jsx(Yi,{value:"form",className:"space-y-4",children:p.jsxs("form",{onSubmit:s.handleSubmit(a),className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"name",children:"Name *"}),p.jsx(mr,{id:"name",...s.register("name"),placeholder:"Your full name"}),s.formState.errors.name&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.name.message})]}),p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"email",children:"Email *"}),p.jsx(mr,{id:"email",type:"email",...s.register("email"),placeholder:"your@email.com"}),s.formState.errors.email&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.email.message})]})]}),p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"company",children:"Company *"}),p.jsx(mr,{id:"company",...s.register("company"),placeholder:"Company name"}),s.formState.errors.company&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.company.message})]}),p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"role",children:"Role *"}),p.jsx(mr,{id:"role",...s.register("role"),placeholder:"Your position"}),s.formState.errors.role&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.role.message})]})]}),p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"industry",children:"Industry *"}),p.jsxs(_u,{onValueChange:o=>s.setValue("industry",o),children:[p.jsx(bc,{children:p.jsx(Su,{placeholder:"Select your industry"})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"healthcare",children:"Healthcare"}),p.jsx(Pn,{value:"education",children:"Education"}),p.jsx(Pn,{value:"manufacturing",children:"Manufacturing"}),p.jsx(Pn,{value:"military",children:"Military"}),p.jsx(Pn,{value:"retail",children:"Retail"}),p.jsx(Pn,{value:"other",children:"Other"})]})]}),s.formState.errors.industry&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.industry.message})]}),p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"useCase",children:"Specific Use Case *"}),p.jsx(sp,{id:"useCase",...s.register("useCase"),placeholder:"Describe how you plan to use our platform",rows:3}),s.formState.errors.useCase&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.useCase.message})]}),p.jsxs("div",{children:[p.jsx(Zt,{htmlFor:"challenge",children:"Main Training Challenge *"}),p.jsx(sp,{id:"challenge",...s.register("challenge"),placeholder:"What's your biggest challenge with current training methods?",rows:2}),s.formState.errors.challenge&&p.jsx("p",{className:"text-sm text-red-500",children:s.formState.errors.challenge.message})]}),p.jsx(St,{type:"submit",className:"w-full",disabled:r,children:r?"Scheduling...":"Submit & Schedule Demo"})]})}),p.jsx(Yi,{value:"calendar",className:"space-y-4",children:p.jsxs("div",{className:"text-center py-8",children:[p.jsx("p",{className:"text-muted-foreground mb-4",children:"Choose a convenient time for your personalized demo"}),p.jsxs("div",{className:"bg-muted rounded-lg p-8 text-center",children:[p.jsxs("p",{className:"text-sm text-muted-foreground",children:["Calendly integration would go here.",p.jsx("br",{}),"Replace with actual Calendly embed code."]}),p.jsx(St,{className:"mt-4",onClick:()=>window.open("https://calendly.com","_blank"),children:"Open Calendly"})]})]})})]})]})]})},MIe=()=>{const{t}=Yl();return p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,hsl(var(--background))_100%)]"}),p.jsx(Jt.div,{animate:{scale:[1,1.2,1],opacity:[.3,.5,.3]},transition:{duration:4,repeat:1/0},className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[600px] h-[600px] bg-primary rounded-full blur-[150px]"}),p.jsx("div",{className:"container relative z-10 mx-auto px-4",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[p.jsxs(Jt.div,{initial:{opacity:0,scale:.9},whileInView:{opacity:1,scale:1},viewport:{once:!0},transition:{duration:.5},className:"inline-flex items-center gap-2 mb-6 px-4 py-2 rounded-full bg-primary/10 border border-primary/20",children:[p.jsx(Hee,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"text-primary font-medium",children:t("cta.badge")})]}),p.jsxs("h2",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:[t("cta.title"),p.jsx("span",{className:"text-primary block mt-2",children:t("cta.subtitle")})]}),p.jsx("p",{className:"text-xl text-muted-foreground mb-10 max-w-2xl mx-auto",children:t("cta.description")}),p.jsxs(Jt.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.5,delay:.3},className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsxs(St,{size:"lg",className:"bg-primary hover:bg-primary/90 text-primary-foreground group text-lg px-8",children:[t("cta.primaryButton"),p.jsx(yf,{className:"ml-2 group-hover:translate-x-1 transition-transform"})]}),p.jsx(Bae,{children:p.jsx(St,{size:"lg",variant:"outline",className:"border-primary/30 hover:bg-primary/10 text-lg px-8",children:t("cta.secondaryButton")})})]}),p.jsx(Jt.p,{initial:{opacity:0},whileInView:{opacity:1},viewport:{once:!0},transition:{duration:.5,delay:.5},className:"mt-8 text-sm text-muted-foreground",children:t("cta.footer")})]})})]})},CIe=()=>p.jsxs("main",{className:"min-h-screen",children:[p.jsx(oCe,{}),p.jsx(cCe,{}),p.jsx(uCe,{}),p.jsx(dCe,{}),p.jsx(MIe,{})]}),PIe=()=>{const t=qu();return T.useEffect(()=>{console.error("404 Error: User attempted to access non-existent route:",t.pathname)},[t.pathname]),p.jsx("div",{className:"flex min-h-screen items-center justify-center bg-muted",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"mb-4 text-4xl font-bold",children:"404"}),p.jsx("p",{className:"mb-4 text-xl text-muted-foreground",children:"Oops! Page not found"}),p.jsx("a",{href:"/",className:"text-primary underline hover:text-primary/90",children:"Return to Home"})]})})},RIe=K0("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Ui({className:t,variant:e,...n}){return p.jsx("div",{className:ht(RIe({variant:e}),t),...n})}const OIe=()=>{const{t}=Yl(),e=[{id:1,title:"Healthcare Training Revolution",industry:"Healthcare",company:"MedTech Solutions",description:"Implemented VR training for surgical procedures, reducing training costs by 60% and improving skill acquisition by 3x.",metrics:[{icon:Pd,label:"60% cost reduction",value:"60%"},{icon:Zg,label:"3x faster learning",value:"3x"},{icon:qN,label:"95% satisfaction",value:"95%"}],image:"/api/placeholder/400/250",fullStory:"MedTech Solutions needed to train hundreds of medical professionals on complex surgical procedures. Traditional methods were expensive and time-consuming. Our VR platform allowed for realistic simulations that could be repeated endlessly, leading to better outcomes and significant cost savings."},{id:2,title:"Manufacturing Safety Excellence",industry:"Manufacturing",company:"AutoCorp Industries",description:"VR safety training reduced workplace accidents by 75% and cut onboarding time from 3 weeks to 1 week.",metrics:[{icon:Pd,label:"75% fewer accidents",value:"75%"},{icon:BA,label:"2 weeks faster onboarding",value:"2w"},{icon:Zg,label:"500+ trained employees",value:"500+"}],image:"/api/placeholder/400/250",fullStory:"AutoCorp faced high accident rates and long training periods. Our immersive VR training created realistic hazardous scenarios without real risk, allowing employees to learn safely and efficiently."},{id:3,title:"Military Tactical Training",industry:"Military",company:"Defense Academy",description:"Advanced VR simulations improved tactical decision-making by 40% and reduced live training costs by 50%.",metrics:[{icon:Pd,label:"40% better decisions",value:"40%"},{icon:Pd,label:"50% cost savings",value:"50%"},{icon:qN,label:"Top-rated program",value:""}],image:"/api/placeholder/400/250",fullStory:"The Defense Academy required high-fidelity training for complex tactical scenarios. Our VR platform provided customizable environments that could simulate various combat situations, enhancing soldier preparedness."},{id:4,title:"Education Innovation",industry:"Education",company:"Global University",description:"Interactive VR lessons increased student engagement by 85% and improved retention rates by 30%.",metrics:[{icon:Zg,label:"85% more engagement",value:"85%"},{icon:Pd,label:"30% better retention",value:"30%"},{icon:qN,label:"Award-winning program",value:""}],image:"/api/placeholder/400/250",fullStory:"Global University sought to modernize their curriculum. Our VR platform transformed traditional lectures into immersive experiences, making learning more interactive and memorable for students."},{id:5,title:"Retail Customer Service",industry:"Retail",company:"ShopSmart Chain",description:"VR training for customer service scenarios improved employee confidence and customer satisfaction scores by 25%.",metrics:[{icon:Pd,label:"25% higher satisfaction",value:"25%"},{icon:Zg,label:"2000+ trained staff",value:"2000+"},{icon:BA,label:"50% faster training",value:"50%"}],image:"/api/placeholder/400/250",fullStory:"ShopSmart needed to standardize customer service training across hundreds of locations. VR simulations allowed employees to practice various customer interactions in a controlled, repeatable environment."}];return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,hsl(var(--background))_100%)]"}),p.jsx("div",{className:"container relative z-10 mx-auto px-4",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[p.jsx(Ui,{variant:"secondary",className:"mb-4",children:t("caseStudies.metrics")}),p.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:[t("caseStudies.title"),p.jsx("span",{className:"text-primary block mt-2",children:t("caseStudies.subtitle")})]}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:t("caseStudies.description")})]})})]}),p.jsx("section",{className:"py-16",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:e.map((n,r)=>p.jsx(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:r*.1},children:p.jsxs(xn,{className:"h-full hover:shadow-lg transition-shadow duration-300 group",children:[p.jsx("div",{className:"aspect-video bg-muted rounded-t-lg overflow-hidden",children:p.jsx("img",{src:n.image,alt:n.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),p.jsxs(Fn,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx(Ui,{variant:"outline",children:n.industry}),p.jsx("span",{className:"text-sm text-muted-foreground",children:n.company})]}),p.jsx(Un,{className:"text-xl",children:n.title}),p.jsx(br,{children:n.description})]}),p.jsxs(On,{children:[p.jsx("div",{className:"grid grid-cols-1 gap-3 mb-4",children:n.metrics.map((i,s)=>p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(i.icon,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"text-sm font-medium",children:i.value}),p.jsx("span",{className:"text-sm text-muted-foreground",children:i.label})]},s))}),p.jsxs(St,{variant:"outline",className:"w-full group-hover:bg-primary group-hover:text-primary-foreground transition-colors",children:[t("caseStudies.readFullCase"),p.jsx(yf,{className:"ml-2 w-4 h-4 group-hover:translate-x-1 transition-transform"})]})]})]})},n.id))})})}),p.jsx("section",{className:"py-16 bg-muted/50",children:p.jsx("div",{className:"container mx-auto px-4 text-center",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[p.jsx("h2",{className:"text-3xl font-bold mb-4",children:t("caseStudies.ctaTitle")}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:t("caseStudies.ctaDescription")}),p.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[p.jsx(fr,{to:"/register",children:p.jsxs(St,{size:"lg",className:"bg-primary hover:bg-primary/90",children:[t("caseStudies.ctaPrimary"),p.jsx(yf,{className:"ml-2"})]})}),p.jsx(St,{size:"lg",variant:"outline",children:t("caseStudies.ctaSecondary")})]})]})})})]})},Yh=[{id:1,slug:"vr-training-healthcare-revolution",title:"The VR Training Revolution in Healthcare",excerpt:"How immersive VR technology is transforming medical education and patient care through realistic simulations and hands-on learning experiences.",content:"Full article content here...",category:"vr-tech-guides",categoryName:"VR Tech Guides",author:"Dr. Sarah Chen",date:"2025-11-20",readTime:"5 min read",tags:["VR","Healthcare","Medical Training"],featured:!0,image:"/api/placeholder/600/300"},{id:2,slug:"industry-trends-2025",title:"VR/AR Industry Trends for 2025",excerpt:"Exploring the latest developments in virtual and augmented reality technology and their impact on enterprise training and education.",content:"Full article content here...",category:"industry-trends",categoryName:"Industry Trends",author:"Mike Rodriguez",date:"2025-11-18",readTime:"7 min read",tags:["AR","Trends","Enterprise"],featured:!1,image:"/api/placeholder/600/300"},{id:3,slug:"customer-success-manufacturing",title:"How AutoCorp Reduced Training Costs by 60%",excerpt:"A detailed case study on how a leading automotive manufacturer implemented VR training to improve safety and reduce operational costs.",content:"Full article content here...",category:"customer-stories",categoryName:"Customer Stories",author:"Jennifer Liu",date:"2025-11-15",readTime:"6 min read",tags:["Manufacturing","Cost Savings","Safety"],featured:!0,image:"/api/placeholder/600/300"},{id:4,slug:"getting-started-vr-content",title:"Getting Started: Creating Your First VR Training Module",excerpt:"A step-by-step guide for organizations looking to create their own VR training content, from planning to deployment.",content:"Full article content here...",category:"how-tos",categoryName:"How-Tos",author:"Alex Thompson",date:"2025-11-12",readTime:"8 min read",tags:["Tutorial","Content Creation","Best Practices"],featured:!1,image:"/api/placeholder/600/300"},{id:5,slug:"military-vr-applications",title:"VR in Military Training: Preparing for the Future",excerpt:"How defense organizations are using VR technology to enhance tactical training, reduce costs, and improve soldier preparedness.",content:"Full article content here...",category:"customer-stories",categoryName:"Customer Stories",author:"Colonel David Park",date:"2025-11-10",readTime:"9 min read",tags:["Military","Tactical Training","Defense"],featured:!1,image:"/api/placeholder/600/300"},{id:6,slug:"vr-accessibility-education",title:"Making VR Training Accessible to All Learners",excerpt:"Strategies for creating inclusive VR training experiences that accommodate different learning styles and accessibility needs.",content:"Full article content here...",category:"vr-tech-guides",categoryName:"VR Tech Guides",author:"Dr. Maria Gonzalez",date:"2025-11-08",readTime:"6 min read",tags:["Accessibility","Education","Inclusive Design"],featured:!1,image:"/api/placeholder/600/300"}],NIe=[{id:"all",name:"All Posts",icon:pw,count:Yh.length},{id:"vr-tech-guides",name:"VR Tech Guides",icon:nbe,count:Yh.filter(t=>t.category==="vr-tech-guides").length},{id:"industry-trends",name:"Industry Trends",icon:Pd,count:Yh.filter(t=>t.category==="industry-trends").length},{id:"customer-stories",name:"Customer Stories",icon:Zg,count:Yh.filter(t=>t.category==="customer-stories").length},{id:"how-tos",name:"How-Tos",icon:pw,count:Yh.filter(t=>t.category==="how-tos").length}],IIe=()=>{const{t}=Yl(),[e,n]=T.useState(""),[r,i]=T.useState("all"),[s,a]=T.useState("newest"),o=T.useMemo(()=>{let c=Yh.filter(u=>{const d=u.title.toLowerCase().includes(e.toLowerCase())||u.excerpt.toLowerCase().includes(e.toLowerCase())||u.tags.some(h=>h.toLowerCase().includes(e.toLowerCase())),f=r==="all"||u.category===r;return d&&f});return c.sort((u,d)=>{switch(s){case"newest":return new Date(d.date).getTime()-new Date(u.date).getTime();case"oldest":return new Date(u.date).getTime()-new Date(d.date).getTime();case"featured":return(d.featured?1:0)-(u.featured?1:0);default:return 0}}),c},[e,r,s]),l=Yh.filter(c=>c.featured);return p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsxs("section",{className:"py-24 relative overflow-hidden",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20"}),p.jsx("div",{className:"absolute inset-0 bg-[radial-gradient(circle_at_center,transparent_0%,hsl(var(--background))_100%)]"}),p.jsx("div",{className:"container relative z-10 mx-auto px-4",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"max-w-4xl mx-auto text-center",children:[p.jsx(Ui,{variant:"secondary",className:"mb-4",children:t("blog.title")}),p.jsxs("h1",{className:"text-4xl md:text-6xl font-bold mb-6 leading-tight",children:[t("blog.subtitle"),p.jsx("span",{className:"text-primary block mt-2",children:t("blog.subtitleHighlight")})]}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:t("blog.description")})]})})]}),l.length>0&&p.jsx("section",{className:"py-16 bg-muted/30",children:p.jsxs("div",{className:"container mx-auto px-4",children:[p.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:t("blog.featured")}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:l.slice(0,2).map((c,u)=>p.jsx(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},children:p.jsxs(xn,{className:"h-full bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-all duration-300 group hover:shadow-lg hover:shadow-primary/10",children:[p.jsx("div",{className:"aspect-video bg-muted rounded-t-lg overflow-hidden",children:p.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),p.jsxs(Fn,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx(Ui,{variant:"outline",children:c.categoryName}),p.jsx("span",{className:"text-sm text-muted-foreground",children:c.readTime})]}),p.jsx(Un,{className:"text-xl group-hover:text-primary transition-colors",children:p.jsx(fr,{to:`/blog/${c.slug}`,children:c.title})}),p.jsx(br,{children:c.excerpt})]}),p.jsx(On,{children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsx(Wv,{className:"w-4 h-4"}),c.author,p.jsx(FA,{className:"w-4 h-4 ml-2"}),new Date(c.date).toLocaleDateString()]}),p.jsx(St,{variant:"ghost",size:"sm",asChild:!0,children:p.jsxs(fr,{to:`/blog/${c.slug}`,children:["Read More",p.jsx(yf,{className:"ml-2 w-4 h-4"})]})})]})})]})},c.id))})]})}),p.jsx("section",{className:"py-16",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs("div",{className:"max-w-6xl mx-auto",children:[p.jsxs("div",{className:"relative mb-8",children:[p.jsx(a4,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-5 h-5"}),p.jsx(mr,{placeholder:"Search articles, topics, or keywords...",value:e,onChange:c=>n(c.target.value),className:"pl-10 py-3 text-lg"})]}),p.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-8",children:[p.jsx("div",{className:"flex-1",children:p.jsx(gm,{value:r,onValueChange:i,children:p.jsx(Bf,{className:"grid w-full grid-cols-5",children:NIe.map(c=>p.jsxs(Bi,{value:c.id,className:"flex items-center gap-2",children:[p.jsx(c.icon,{className:"w-4 h-4"}),c.name,p.jsx(Ui,{variant:"secondary",className:"ml-1",children:c.count})]},c.id))})})}),p.jsx("div",{className:"md:w-48",children:p.jsxs(_u,{value:s,onValueChange:a,children:[p.jsx(bc,{children:p.jsx(Su,{placeholder:"Sort by"})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"newest",children:"Newest First"}),p.jsx(Pn,{value:"oldest",children:"Oldest First"}),p.jsx(Pn,{value:"featured",children:"Featured First"})]})]})})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:o.map((c,u)=>p.jsx(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:u*.1},children:p.jsxs(xn,{className:"h-full bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-all duration-300 group hover:shadow-lg hover:shadow-primary/10",children:[p.jsx("div",{className:"aspect-video bg-muted rounded-t-lg overflow-hidden",children:p.jsx("img",{src:c.image,alt:c.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),p.jsxs(Fn,{children:[p.jsxs("div",{className:"flex items-center justify-between mb-2",children:[p.jsx(Ui,{variant:"outline",children:c.categoryName}),p.jsx("span",{className:"text-sm text-muted-foreground",children:c.readTime})]}),p.jsx(Un,{className:"text-lg group-hover:text-primary transition-colors",children:p.jsx(fr,{to:`/blog/${c.slug}`,children:c.title})}),p.jsx(br,{className:"line-clamp-3",children:c.excerpt})]}),p.jsxs(On,{children:[p.jsx("div",{className:"flex items-center justify-between",children:p.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[p.jsx(Wv,{className:"w-4 h-4"}),c.author,p.jsx(FA,{className:"w-4 h-4 ml-2"}),new Date(c.date).toLocaleDateString()]})}),p.jsx("div",{className:"flex flex-wrap gap-1 mt-3",children:c.tags.slice(0,3).map(d=>p.jsx(Ui,{variant:"secondary",className:"text-xs",children:d},d))}),p.jsx(St,{variant:"ghost",size:"sm",className:"w-full mt-4 group-hover:bg-primary group-hover:text-primary-foreground transition-colors",asChild:!0,children:p.jsxs(fr,{to:`/blog/${c.slug}`,children:["Read More",p.jsx(yf,{className:"ml-2 w-4 h-4"})]})})]})]})},c.id))}),o.length===0&&p.jsxs("div",{className:"text-center py-16",children:[p.jsx("p",{className:"text-xl text-muted-foreground",children:"No articles found matching your criteria."}),p.jsx(St,{variant:"outline",className:"mt-4",onClick:()=>{n(""),i("all")},children:"Clear Filters"})]})]})})}),p.jsx("section",{className:"py-16 bg-muted/50",children:p.jsx("div",{className:"container mx-auto px-4 text-center",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[p.jsx("h2",{className:"text-3xl font-bold mb-4",children:t("blog.newsletter.title")}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:t("blog.newsletter.subtitle")}),p.jsxs("div",{className:"max-w-md mx-auto flex gap-2",children:[p.jsx(mr,{placeholder:t("blog.newsletter.email"),type:"email",className:"flex-1"}),p.jsx(St,{children:t("blog.newsletter.subscribe")})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:t("blog.newsletter.subscribed")})]})})})]})},vW=[{id:1,slug:"vr-training-healthcare-revolution",title:"The VR Training Revolution in Healthcare",excerpt:"How immersive VR technology is transforming medical education and patient care through realistic simulations and hands-on learning experiences.",content:`
# The VR Training Revolution in Healthcare

## Introduction

Virtual Reality (VR) technology has emerged as a game-changer in medical education and training. By creating immersive, realistic environments, VR allows healthcare professionals to practice complex procedures without risking patient safety.

## The Current Landscape

Traditional medical training methods often rely on:
- Classroom lectures
- Cadaver-based training
- Live patient interactions under supervision

While these methods are valuable, they come with limitations including:
- Limited hands-on practice opportunities
- Safety concerns for live patients
- High costs associated with specialized equipment

## VR Solutions in Healthcare

### Surgical Training
VR simulations provide surgeons with:
- Realistic anatomical models
- Force feedback for tactile learning
- Step-by-step procedure guidance
- Performance analytics and feedback

### Emergency Response Training
Medical teams can practice:
- Trauma response scenarios
- Mass casualty incidents
- Rare emergency situations
- Team coordination exercises

### Patient Care Training
Healthcare workers learn:
- Bedside manner and communication
- Medication administration
- Patient assessment techniques
- Cultural competency

## Benefits of VR Training

### Improved Learning Outcomes
- **Retention**: Studies show 75% better retention compared to traditional methods
- **Skill Development**: Hands-on practice without real-world consequences
- **Confidence Building**: Safe environment to make and learn from mistakes

### Cost Effectiveness
- **Reduced Training Costs**: Up to 60% savings on training expenses
- **Scalability**: Train unlimited number of learners simultaneously
- **No Consumables**: Digital training materials don't wear out

### Enhanced Safety
- **Patient Safety**: Practice on virtual patients before real interactions
- **Standardization**: Consistent training across all learners
- **Accessibility**: Train in any location, anytime

## Implementation Challenges

### Technology Adoption
- Initial investment in VR equipment
- Staff training on new technology
- Integration with existing training programs

### Content Development
- Creating medically accurate simulations
- Regular updates to reflect current best practices
- Customization for different specialties

## Future of VR in Healthcare

The future looks promising with:
- **AI Integration**: Intelligent tutoring systems
- **Haptic Feedback**: Advanced tactile sensations
- **AR Integration**: Augmented reality overlays in real procedures
- **Remote Training**: Global collaboration and knowledge sharing

## Conclusion

VR training is not just a technological noveltyit's a fundamental shift in how we approach medical education. As the technology continues to mature and become more accessible, we can expect to see widespread adoption across healthcare institutions worldwide.

The result will be better-trained healthcare professionals, improved patient outcomes, and more efficient healthcare delivery systems.
    `,category:"vr-tech-guides",categoryName:"VR Tech Guides",author:"Dr. Sarah Chen",date:"2025-11-20",readTime:"5 min read",tags:["VR","Healthcare","Medical Training"],featured:!0,image:"/api/placeholder/800/400"},{id:2,slug:"industry-trends-2025",title:"VR/AR Industry Trends for 2025",excerpt:"Exploring the latest developments in virtual and augmented reality technology and their impact on enterprise training and education.",content:"Full article content here...",category:"industry-trends",categoryName:"Industry Trends",author:"Mike Rodriguez",date:"2025-11-18",readTime:"7 min read",tags:["AR","Trends","Enterprise"],featured:!1,image:"/api/placeholder/800/400"},{id:3,slug:"customer-success-manufacturing",title:"How AutoCorp Reduced Training Costs by 60%",excerpt:"A detailed case study on how a leading automotive manufacturer implemented VR training to improve safety and reduce operational costs.",content:"Full article content here...",category:"customer-stories",categoryName:"Customer Stories",author:"Jennifer Liu",date:"2025-11-15",readTime:"6 min read",tags:["Manufacturing","Cost Savings","Safety"],featured:!0,image:"/api/placeholder/800/400"}],kIe=()=>{const{slug:t}=eSe(),[e,n]=T.useState(null),[r,i]=T.useState([]),[s,a]=T.useState(!1),[o,l]=T.useState(0);T.useEffect(()=>{const f=vW.find(h=>h.slug===t);if(n(f),f){const h=vW.filter(v=>v.category===f.category&&v.id!==f.id).slice(0,3);i(h);const m=localStorage.getItem(`bookmark-${f.id}`),g=localStorage.getItem(`likes-${f.id}`);a(m==="true"),l(parseInt(g||"0"))}},[t]);const c=()=>{if(!e)return;const f=!s;a(f),localStorage.setItem(`bookmark-${e.id}`,f.toString()),ua.success(f?"Article bookmarked!":"Bookmark removed")},u=()=>{if(!e)return;const f=o+1;l(f),localStorage.setItem(`likes-${e.id}`,f.toString()),ua.success("Thanks for the feedback!")},d=async()=>{if(navigator.share)try{await navigator.share({title:e.title,text:e.excerpt,url:window.location.href})}catch(f){console.log("Error sharing:",f)}else navigator.clipboard.writeText(window.location.href),ua.success("Link copied to clipboard!")};return e?p.jsxs("div",{className:"min-h-screen bg-background",children:[p.jsx("section",{className:"py-8 border-b",children:p.jsx("div",{className:"container mx-auto px-4",children:p.jsxs(fr,{to:"/blog",className:"inline-flex items-center text-muted-foreground hover:text-foreground transition-colors mb-4",children:[p.jsx($C,{className:"w-4 h-4 mr-2"}),"Back to Blog"]})})}),p.jsx("section",{className:"py-16",children:p.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[p.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[p.jsx(Ui,{variant:"outline",children:e.categoryName}),p.jsx("span",{className:"text-sm text-muted-foreground",children:e.readTime})]}),p.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6 leading-tight",children:e.title}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8",children:e.excerpt}),p.jsxs("div",{className:"flex items-center justify-between mb-8",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(Wv,{className:"w-5 h-5 text-muted-foreground"}),p.jsx("span",{className:"font-medium",children:e.author})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(FA,{className:"w-5 h-5 text-muted-foreground"}),p.jsx("span",{children:new Date(e.date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})]})]}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(St,{variant:"outline",size:"sm",onClick:c,children:p.jsx(Cxe,{className:`w-4 h-4 ${s?"fill-current":""}`})}),p.jsxs(St,{variant:"outline",size:"sm",onClick:u,children:[p.jsx(tbe,{className:"w-4 h-4"}),p.jsx("span",{className:"ml-1",children:o})]}),p.jsx(St,{variant:"outline",size:"sm",onClick:d,children:p.jsx(Jxe,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"aspect-video bg-muted rounded-lg overflow-hidden mb-8",children:p.jsx("img",{src:e.image,alt:e.title,className:"w-full h-full object-cover"})})]})})}),p.jsx("section",{className:"pb-16",children:p.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:p.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.6,delay:.2},className:"prose prose-lg max-w-none dark:prose-invert",dangerouslySetInnerHTML:{__html:e.content.replace(/\n/g,"<br>").replace(/^# (.+)$/gm,"<h1>$1</h1>").replace(/^## (.+)$/gm,"<h2>$1</h2>").replace(/^### (.+)$/gm,"<h3>$1</h3>").replace(/\*\*(.+?)\*\*/g,"<strong>$1</strong>").replace(/\*(.+?)\*/g,"<em>$1</em>")}})})}),p.jsx("section",{className:"py-8 border-t border-b",children:p.jsx("div",{className:"container mx-auto px-4 max-w-4xl",children:p.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(f=>p.jsxs(Ui,{variant:"secondary",children:["#",f]},f))})})}),r.length>0&&p.jsx("section",{className:"py-16",children:p.jsxs("div",{className:"container mx-auto px-4 max-w-6xl",children:[p.jsx("h2",{className:"text-3xl font-bold mb-8 text-center",children:"Related Articles"}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:r.map((f,h)=>p.jsx(Jt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6,delay:h*.1},children:p.jsxs(xn,{className:"h-full bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-all duration-300 group hover:shadow-lg hover:shadow-primary/10",children:[p.jsx("div",{className:"aspect-video bg-muted rounded-t-lg overflow-hidden",children:p.jsx("img",{src:f.image,alt:f.title,className:"w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"})}),p.jsxs(Fn,{children:[p.jsx(Ui,{variant:"outline",className:"mb-2",children:f.categoryName}),p.jsx(Un,{className:"text-lg group-hover:text-primary transition-colors",children:p.jsx(fr,{to:`/blog/${f.slug}`,children:f.title})}),p.jsx(br,{className:"line-clamp-2",children:f.excerpt})]}),p.jsx(On,{children:p.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[p.jsx("span",{children:f.author}),p.jsx("span",{children:f.readTime})]})})]})},f.id))})]})}),p.jsx("section",{className:"py-16 bg-muted/50",children:p.jsx("div",{className:"container mx-auto px-4 text-center",children:p.jsxs(Jt.div,{initial:{opacity:0,y:30},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{duration:.6},children:[p.jsx("h2",{className:"text-3xl font-bold mb-4",children:"Enjoyed this article?"}),p.jsx("p",{className:"text-xl text-muted-foreground mb-8 max-w-2xl mx-auto",children:"Get more insights like this delivered to your inbox. Subscribe to our newsletter for the latest VR training trends and best practices."}),p.jsxs("div",{className:"max-w-md mx-auto flex gap-2",children:[p.jsx("input",{type:"email",placeholder:"Enter your email",className:"flex-1 px-3 py-2 border border-border rounded-md bg-background"}),p.jsx(St,{children:"Subscribe"})]}),p.jsx("p",{className:"text-sm text-muted-foreground mt-4",children:"Join 5,000+ professionals staying ahead in VR training."})]})})})]}):p.jsx("div",{className:"min-h-screen flex items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Article not found"}),p.jsx(fr,{to:"/blog",children:p.jsx(St,{children:"Back to Blog"})})]})})};var DIe="Separator",yW="horizontal",LIe=["horizontal","vertical"],zae=T.forwardRef((t,e)=>{const{decorative:n,orientation:r=yW,...i}=t,s=jIe(r)?r:yW,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return p.jsx(Lt.div,{"data-orientation":s,...o,...i,ref:e})});zae.displayName=DIe;function jIe(t){return LIe.includes(t)}var Vae=zae;const Z1=T.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>p.jsx(Vae,{ref:i,decorative:n,orientation:e,className:ht("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Z1.displayName=Vae.displayName;const $ae=T.createContext(void 0),J1=()=>{const t=T.useContext($ae);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},FIe=({children:t})=>{const[e,n]=T.useState(null),[r,i]=T.useState(null),[s,a]=T.useState(!0);T.useEffect(()=>{Od.auth.getSession().then(({data:{session:h}})=>{i(h),n((h==null?void 0:h.user)??null),a(!1)});const{data:{subscription:f}}=Od.auth.onAuthStateChange(async(h,m)=>{i(m),n((m==null?void 0:m.user)??null),a(!1)});return()=>f.unsubscribe()},[]);const d={user:e,session:r,loading:s,signUp:async(f,h,m,g)=>{const{error:v}=await Od.auth.signUp({email:f,password:h,options:{data:{first_name:m,last_name:g}}});return{error:v}},signIn:async(f,h)=>{const{error:m}=await Od.auth.signInWithPassword({email:f,password:h});return{error:m}},signOut:async()=>{await Od.auth.signOut()},resetPassword:async f=>{const{error:h}=await Od.auth.resetPasswordForEmail(f);return{error:h}}};return p.jsx($ae.Provider,{value:d,children:t})},UIe=wB({email:ja().email("Please enter a valid email address"),password:ja().min(6,"Password must be at least 6 characters")}),BIe=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[i,s]=T.useState(!1),{signIn:a,resetPassword:o}=J1(),l=tP(),{t:c}=Yl(),{register:u,handleSubmit:d,formState:{errors:f},getValues:h}=yB({resolver:xB(UIe)}),m=async v=>{r(!0);try{const{error:y}=await a(v.email,v.password);y?ua.error(y.message):(ua.success("Welcome back!"),l("/"))}catch{ua.error("An unexpected error occurred")}finally{r(!1)}},g=async()=>{const v=h("email");if(!v){ua.error("Please enter your email address first");return}r(!0);try{const{error:y}=await o(v);y?ua.error(y.message):(ua.success("Password reset email sent!"),s(!1))}catch{ua.error("An unexpected error occurred")}finally{r(!1)}};return p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-card/20 to-background px-4",children:p.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[p.jsxs(fr,{to:"/",className:"inline-flex items-center text-muted-foreground hover:text-foreground transition-colors mb-8",children:[p.jsx($C,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{className:"text-center",children:[p.jsx(Un,{className:"text-2xl font-bold",children:c("auth.login.title")}),p.jsx(br,{children:c(i?"auth.login.resetPassword":"auth.login.subtitle")})]}),p.jsxs(On,{className:"space-y-6",children:[i?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"reset-email",children:c("auth.login.email")}),p.jsxs("div",{className:"relative",children:[p.jsx(DD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"reset-email",type:"email",placeholder:"your@email.com",className:"pl-10",...u("email")})]}),f.email&&p.jsx("p",{className:"text-sm text-red-500",children:f.email.message})]}),p.jsx(St,{onClick:g,className:"w-full",disabled:n,children:c(n?"common.loading":"auth.login.sendResetEmail")}),p.jsx(St,{variant:"outline",onClick:()=>s(!1),className:"w-full",children:c("auth.login.backToSignIn")})]}):p.jsxs("form",{onSubmit:d(m),className:"space-y-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"email",children:c("auth.login.email")}),p.jsxs("div",{className:"relative",children:[p.jsx(DD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",...u("email")})]}),f.email&&p.jsx("p",{className:"text-sm text-red-500",children:f.email.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"password",children:c("auth.login.password")}),p.jsxs("div",{className:"relative",children:[p.jsx(zA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"password",type:t?"text":"password",placeholder:c("auth.login.password"),className:"pl-10 pr-10",...u("password")}),p.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:t?p.jsx(kD,{className:"w-4 h-4"}):p.jsx(mw,{className:"w-4 h-4"})})]}),f.password&&p.jsx("p",{className:"text-sm text-red-500",children:f.password.message})]}),p.jsx("div",{className:"flex items-center justify-between",children:p.jsx("button",{type:"button",onClick:()=>s(!0),className:"text-sm text-primary hover:text-primary/80 transition-colors",children:c("auth.login.forgotPassword")})}),p.jsx(St,{type:"submit",className:"w-full",disabled:n,children:c(n?"common.loading":"auth.login.signIn")})]}),!i&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx(Z1,{className:"w-full"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:c("auth.login.noAccount")})})]}),p.jsx(fr,{to:"/register",className:"block",children:p.jsx(St,{variant:"outline",className:"w-full",children:c("auth.login.createAccount")})})]})]})]}),p.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:.6},className:"mt-8 p-4 bg-muted/50 rounded-lg border border-border",children:p.jsxs("p",{className:"text-sm text-muted-foreground text-center",children:[p.jsx("strong",{children:"Demo:"})," ",c("auth.login.demoCredentials")]})})]})})};var AP="Checkbox",[zIe,sbt]=Xs(AP),[VIe,RB]=zIe(AP);function $Ie(t){const{__scopeCheckbox:e,checked:n,children:r,defaultChecked:i,disabled:s,form:a,name:o,onCheckedChange:l,required:c,value:u="on",internal_do_not_use_render:d}=t,[f,h]=Xl({prop:n,defaultProp:i??!1,onChange:l,caller:AP}),[m,g]=T.useState(null),[v,y]=T.useState(null),w=T.useRef(!1),_=m?!!a||!!m.closest("form"):!0,S={checked:f,disabled:s,setChecked:h,control:m,setControl:g,name:o,form:a,value:u,hasConsumerStoppedPropagationRef:w,required:c,defaultChecked:df(i)?!1:i,isFormControl:_,bubbleInput:v,setBubbleInput:y};return p.jsx(VIe,{scope:e,...S,children:HIe(d)?d(S):r})}var Hae="CheckboxTrigger",Gae=T.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:n,...r},i)=>{const{control:s,value:a,disabled:o,checked:l,required:c,setControl:u,setChecked:d,hasConsumerStoppedPropagationRef:f,isFormControl:h,bubbleInput:m}=RB(Hae,t),g=mn(i,u),v=T.useRef(l);return T.useEffect(()=>{const y=s==null?void 0:s.form;if(y){const w=()=>d(v.current);return y.addEventListener("reset",w),()=>y.removeEventListener("reset",w)}},[s,d]),p.jsx(Lt.button,{type:"button",role:"checkbox","aria-checked":df(l)?"mixed":l,"aria-required":c,"data-state":Yae(l),"data-disabled":o?"":void 0,disabled:o,value:a,...r,ref:g,onKeyDown:vt(e,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:vt(n,y=>{d(w=>df(w)?!0:!w),m&&h&&(f.current=y.isPropagationStopped(),f.current||y.stopPropagation())})})});Gae.displayName=Hae;var OB=T.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l,onCheckedChange:c,form:u,...d}=t;return p.jsx($Ie,{__scopeCheckbox:n,checked:i,defaultChecked:s,disabled:o,required:a,onCheckedChange:c,name:r,form:u,value:l,internal_do_not_use_render:({isFormControl:f})=>p.jsxs(p.Fragment,{children:[p.jsx(Gae,{...d,ref:e,__scopeCheckbox:n}),f&&p.jsx(Kae,{__scopeCheckbox:n})]})})});OB.displayName=AP;var Wae="CheckboxIndicator",Xae=T.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=RB(Wae,n);return p.jsx(qs,{present:r||df(s.checked)||s.checked===!0,children:p.jsx(Lt.span,{"data-state":Yae(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Xae.displayName=Wae;var qae="CheckboxBubbleInput",Kae=T.forwardRef(({__scopeCheckbox:t,...e},n)=>{const{control:r,hasConsumerStoppedPropagationRef:i,checked:s,defaultChecked:a,required:o,disabled:l,name:c,value:u,form:d,bubbleInput:f,setBubbleInput:h}=RB(qae,t),m=mn(n,h),g=yP(s),v=XC(r);T.useEffect(()=>{const w=f;if(!w)return;const _=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(_,"checked").set,A=!i.current;if(g!==s&&E){const M=new Event("click",{bubbles:A});w.indeterminate=df(s),E.call(w,df(s)?!1:s),w.dispatchEvent(M)}},[f,g,s,i]);const y=T.useRef(df(s)?!1:s);return p.jsx(Lt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:a??y.current,required:o,disabled:l,name:c,value:u,form:d,...e,tabIndex:-1,ref:m,style:{...e.style,...v,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Kae.displayName=qae;function HIe(t){return typeof t=="function"}function df(t){return t==="indeterminate"}function Yae(t){return df(t)?"indeterminate":t?"checked":"unchecked"}const Zae=T.forwardRef(({className:t,...e},n)=>p.jsx(OB,{ref:n,className:ht("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:p.jsx(Xae,{className:ht("flex items-center justify-center text-current"),children:p.jsx(s4,{className:"h-4 w-4"})})}));Zae.displayName=OB.displayName;const GIe=wB({firstName:ja().min(1,"First name is required"),lastName:ja().min(1,"Last name is required"),email:ja().email("Please enter a valid email address"),password:ja().min(8,"Password must be at least 8 characters").regex(/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/,"Password must contain at least one uppercase letter, one lowercase letter, and one number"),confirmPassword:ja(),agreeToTerms:lOe().refine(t=>t===!0,"You must agree to the terms and conditions")}).refine(t=>t.password===t.confirmPassword,{message:"Passwords don't match",path:["confirmPassword"]}),WIe=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(!1),[i,s]=T.useState(!1),[a,o]=T.useState(!1),{signUp:l}=J1(),c=tP(),{t:u}=Yl(),{register:d,handleSubmit:f,formState:{errors:h},watch:m}=yB({resolver:xB(GIe)}),g=m("password"),v=async y=>{s(!0);try{const{error:w}=await l(y.email,y.password,y.firstName,y.lastName);w?ua.error(w.message):(o(!0),ua.success("Account created successfully! Please check your email to verify your account."),setTimeout(()=>{c("/login")},3e3))}catch{ua.error("An unexpected error occurred")}finally{s(!1)}};return a?p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-card/20 to-background px-4",children:p.jsx(Jt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.6},className:"w-full max-w-md text-center",children:p.jsx(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:p.jsxs(On,{className:"pt-8 pb-8",children:[p.jsx(UA,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),p.jsx("h2",{className:"text-2xl font-bold mb-2",children:u("auth.register.accountCreated")}),p.jsx("p",{className:"text-muted-foreground mb-6",children:u("auth.register.checkEmail")}),p.jsx("p",{className:"text-sm text-muted-foreground",children:u("auth.register.redirecting")})]})})})}):p.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-card/20 to-background px-4 py-8",children:p.jsxs(Jt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md",children:[p.jsxs(fr,{to:"/",className:"inline-flex items-center text-muted-foreground hover:text-foreground transition-colors mb-8",children:[p.jsx($C,{className:"w-4 h-4 mr-2"}),"Back to Home"]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{className:"text-center",children:[p.jsx(Un,{className:"text-2xl font-bold",children:u("auth.register.title")}),p.jsx(br,{children:u("auth.register.subtitle")})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("form",{onSubmit:f(v),className:"space-y-4",children:[p.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"firstName",children:u("auth.register.firstName")}),p.jsxs("div",{className:"relative",children:[p.jsx(Wv,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"firstName",placeholder:"John",className:"pl-10",...d("firstName")})]}),h.firstName&&p.jsx("p",{className:"text-sm text-red-500",children:h.firstName.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"lastName",children:u("auth.register.lastName")}),p.jsx(mr,{id:"lastName",placeholder:"Doe",...d("lastName")}),h.lastName&&p.jsx("p",{className:"text-sm text-red-500",children:h.lastName.message})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"email",children:u("auth.register.email")}),p.jsxs("div",{className:"relative",children:[p.jsx(DD,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"email",type:"email",placeholder:"your@email.com",className:"pl-10",...d("email")})]}),h.email&&p.jsx("p",{className:"text-sm text-red-500",children:h.email.message})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"password",children:u("auth.register.password")}),p.jsxs("div",{className:"relative",children:[p.jsx(zA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"password",type:t?"text":"password",placeholder:u("auth.register.password"),className:"pl-10 pr-10",...d("password")}),p.jsx("button",{type:"button",onClick:()=>e(!t),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:t?p.jsx(kD,{className:"w-4 h-4"}):p.jsx(mw,{className:"w-4 h-4"})})]}),h.password&&p.jsx("p",{className:"text-sm text-red-500",children:h.password.message}),g&&p.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[p.jsxs("p",{children:[u("auth.register.passwordRequirements"),":"]}),p.jsxs("ul",{className:"list-disc list-inside space-y-0.5",children:[p.jsx("li",{className:g.length>=8?"text-green-600":"",children:u("auth.register.minLength")}),p.jsx("li",{className:/[A-Z]/.test(g)?"text-green-600":"",children:u("auth.register.uppercase")}),p.jsx("li",{className:/[a-z]/.test(g)?"text-green-600":"",children:u("auth.register.lowercase")}),p.jsx("li",{className:/\d/.test(g)?"text-green-600":"",children:u("auth.register.number")})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{htmlFor:"confirmPassword",children:u("auth.register.confirmPassword")}),p.jsxs("div",{className:"relative",children:[p.jsx(zA,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),p.jsx(mr,{id:"confirmPassword",type:n?"text":"password",placeholder:u("auth.register.confirmPassword"),className:"pl-10 pr-10",...d("confirmPassword")}),p.jsx("button",{type:"button",onClick:()=>r(!n),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-muted-foreground hover:text-foreground",children:n?p.jsx(kD,{className:"w-4 h-4"}):p.jsx(mw,{className:"w-4 h-4"})})]}),h.confirmPassword&&p.jsx("p",{className:"text-sm text-red-500",children:h.confirmPassword.message})]}),p.jsxs("div",{className:"flex items-start space-x-2",children:[p.jsx(Zae,{id:"agreeToTerms",...d("agreeToTerms"),className:"mt-1"}),p.jsxs("div",{className:"text-sm",children:[p.jsx(Zt,{htmlFor:"agreeToTerms",className:"text-sm font-normal cursor-pointer",children:u("auth.register.agreeToTerms")}),h.agreeToTerms&&p.jsx("p",{className:"text-red-500 mt-1",children:h.agreeToTerms.message})]})]}),p.jsx(St,{type:"submit",className:"w-full",disabled:i,children:u(i?"common.loading":"auth.register.createAccount")})]}),p.jsxs("div",{className:"relative",children:[p.jsx("div",{className:"absolute inset-0 flex items-center",children:p.jsx(Z1,{className:"w-full"})}),p.jsx("div",{className:"relative flex justify-center text-xs uppercase",children:p.jsx("span",{className:"bg-background px-2 text-muted-foreground",children:u("auth.register.haveAccount")})})]}),p.jsx(fr,{to:"/login",className:"block",children:p.jsx(St,{variant:"outline",className:"w-full",children:u("auth.register.signInInstead")})})]})]})]})})};/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const vm="181",jh={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fh={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Jae=0,XL=1,Qae=2,XIe=3,eoe=0,MP=1,Nb=2,Pl=3,Lc=0,Gs=1,Ba=2,tl=0,Pp=1,qL=2,KL=3,YL=4,toe=5,Fd=100,noe=101,roe=102,ioe=103,soe=104,aoe=200,ooe=201,loe=202,coe=203,bM=204,wM=205,uoe=206,doe=207,foe=208,hoe=209,poe=210,moe=211,goe=212,voe=213,yoe=214,_M=0,SM=1,EM=2,qp=3,TM=4,AM=5,MM=6,CM=7,Q1=0,xoe=1,boe=2,Oc=0,woe=1,_oe=2,Soe=3,NB=4,Eoe=5,Toe=6,Aoe=7,ZL="attached",Moe="detached",Tf=300,jc=301,Af=302,i0=303,jw=304,cy=306,Mf=1e3,ei=1001,s0=1002,Ji=1003,CP=1004,qIe=1004,lp=1005,KIe=1005,Nn=1006,wv=1007,YIe=1007,Zo=1008,JL=1008,ba=1009,PP=1010,RP=1011,Kp=1012,e_=1013,Fc=1014,ti=1015,hi=1016,OP=1017,NP=1018,a0=1020,IB=35902,kB=35899,DB=1021,LB=1022,Si=1023,Yp=1026,o0=1027,t_=1028,n_=1029,IP=1030,kP=1031,ZIe=1032,DP=1033,Ib=33776,kb=33777,Db=33778,Lb=33779,PM=35840,RM=35841,OM=35842,NM=35843,IM=36196,kM=37492,DM=37496,LM=37808,jM=37809,FM=37810,UM=37811,BM=37812,zM=37813,VM=37814,$M=37815,HM=37816,GM=37817,WM=37818,XM=37819,qM=37820,KM=37821,YM=36492,ZM=36494,JM=36495,QM=36283,e2=36284,t2=36285,n2=36286,Coe=2200,Poe=2201,Roe=2202,l0=2300,c0=2301,iA=2302,cp=2400,up=2401,Fw=2402,LP=2500,jB=2501,Ooe=0,FB=1,r2=2,Noe=3200,UB=3201,JIe=3202,QIe=3203,Vf=0,Ioe=1,yu="",wi="srgb",es="srgb-linear",Uw="linear",pr="srgb",e3e=0,Uh=7680,t3e=7681,n3e=7682,r3e=7683,i3e=34055,s3e=34056,a3e=5386,o3e=512,l3e=513,c3e=514,u3e=515,d3e=516,f3e=517,h3e=518,QL=519,koe=512,Doe=513,Loe=514,BB=515,joe=516,Foe=517,Uoe=518,Boe=519,Bw=35044,p3e=35048,m3e=35040,g3e=35045,v3e=35049,y3e=35041,x3e=35046,b3e=35050,w3e=35042,_3e="100",ej="300 es",vo=2e3,u0=2001,S3e={COMPUTE:"compute",RENDER:"render"},E3e={PERSPECTIVE:"perspective",LINEAR:"linear",FLAT:"flat"},T3e={NORMAL:"normal",CENTROID:"centroid",SAMPLE:"sample",FIRST:"first",EITHER:"either"};function zoe(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const A3e={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function rv(t,e){return new A3e[t](e)}function zw(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function Voe(){const t=zw("canvas");return t.style.display="block",t}const xW={};let Cf=null;function M3e(t){Cf=t}function C3e(){return Cf}function Vw(...t){const e="THREE."+t.shift();Cf?Cf("log",e,...t):console.log(e,...t)}function Pt(...t){const e="THREE."+t.shift();Cf?Cf("warn",e,...t):console.warn(e,...t)}function hn(...t){const e="THREE."+t.shift();Cf?Cf("error",e,...t):console.error(e,...t)}function d0(...t){const e=t.join(" ");e in xW||(xW[e]=!0,Pt(...t))}function P3e(t,e,n){return new Promise(function(r,i){function s(){switch(t.clientWaitSync(e,t.SYNC_FLUSH_COMMANDS_BIT,0)){case t.WAIT_FAILED:i();break;case t.TIMEOUT_EXPIRED:setTimeout(s,n);break;default:r()}}setTimeout(s,n)})}let $c=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){const r=this._listeners;return r===void 0?!1:r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){const r=this._listeners;if(r===void 0)return;const i=r[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){const n=this._listeners;if(n===void 0)return;const r=n[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const Is=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let bW=1234567;const Rp=Math.PI/180,f0=180/Math.PI;function bo(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Is[t&255]+Is[t>>8&255]+Is[t>>16&255]+Is[t>>24&255]+"-"+Is[e&255]+Is[e>>8&255]+"-"+Is[e>>16&15|64]+Is[e>>24&255]+"-"+Is[n&63|128]+Is[n>>8&255]+"-"+Is[n>>16&255]+Is[n>>24&255]+Is[r&255]+Is[r>>8&255]+Is[r>>16&255]+Is[r>>24&255]).toLowerCase()}function cn(t,e,n){return Math.max(e,Math.min(n,t))}function zB(t,e){return(t%e+e)%e}function R3e(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function O3e(t,e,n){return t!==e?(n-t)/(e-t):0}function jb(t,e,n){return(1-n)*t+n*e}function N3e(t,e,n,r){return jb(t,e,1-Math.exp(-n*r))}function I3e(t,e=1){return e-Math.abs(zB(t,e*2)-e)}function k3e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function D3e(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function L3e(t,e){return t+Math.floor(Math.random()*(e-t+1))}function j3e(t,e){return t+Math.random()*(e-t)}function F3e(t){return t*(.5-Math.random())}function U3e(t){t!==void 0&&(bW=t);let e=bW+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function B3e(t){return t*Rp}function z3e(t){return t*f0}function V3e(t){return(t&t-1)===0&&t!==0}function $3e(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function H3e(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function G3e(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+r)/2),u=a((e+r)/2),d=s((e-r)/2),f=a((e-r)/2),h=s((r-e)/2),m=a((r-e)/2);switch(i){case"XYX":t.set(o*u,l*d,l*f,o*c);break;case"YZY":t.set(l*f,o*u,l*d,o*c);break;case"ZXZ":t.set(l*d,l*f,o*u,o*c);break;case"XZX":t.set(o*u,l*m,l*h,o*c);break;case"YXY":t.set(l*h,o*u,l*m,o*c);break;case"ZYZ":t.set(l*m,l*h,o*u,o*c);break;default:Pt("MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function ha(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Rn(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const r_={DEG2RAD:Rp,RAD2DEG:f0,generateUUID:bo,clamp:cn,euclideanModulo:zB,mapLinear:R3e,inverseLerp:O3e,lerp:jb,damp:N3e,pingpong:I3e,smoothstep:k3e,smootherstep:D3e,randInt:L3e,randFloat:j3e,randFloatSpread:F3e,seededRandom:U3e,degToRad:B3e,radToDeg:z3e,isPowerOfTwo:V3e,ceilPowerOfTwo:$3e,floorPowerOfTwo:H3e,setQuaternionFromProperEuler:G3e,normalize:Rn,denormalize:ha};class Ve{constructor(e=0,n=0){Ve.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=cn(this.x,e.x,n.x),this.y=cn(this.y,e.y,n.y),this}clampScalar(e,n){return this.x=cn(this.x,e,n),this.y=cn(this.y,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(cn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class hr{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],c=r[i+1],u=r[i+2],d=r[i+3],f=s[a+0],h=s[a+1],m=s[a+2],g=s[a+3];if(o<=0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d;return}if(o>=1){e[n+0]=f,e[n+1]=h,e[n+2]=m,e[n+3]=g;return}if(d!==g||l!==f||c!==h||u!==m){let v=l*f+c*h+u*m+d*g;v<0&&(f=-f,h=-h,m=-m,g=-g,v=-v);let y=1-o;if(v<.9995){const w=Math.acos(v),_=Math.sin(w);y=Math.sin(y*w)/_,o=Math.sin(o*w)/_,l=l*y+f*o,c=c*y+h*o,u=u*y+m*o,d=d*y+g*o}else{l=l*y+f*o,c=c*y+h*o,u=u*y+m*o,d=d*y+g*o;const w=1/Math.sqrt(l*l+c*c+u*u+d*d);l*=w,c*=w,u*=w,d*=w}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=d}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],d=s[a],f=s[a+1],h=s[a+2],m=s[a+3];return e[n]=o*m+u*d+l*h-c*f,e[n+1]=l*m+u*f+c*d-o*h,e[n+2]=c*m+u*h+o*f-l*d,e[n+3]=u*m-o*d-l*f-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n=!0){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),d=o(s/2),f=l(r/2),h=l(i/2),m=l(s/2);switch(a){case"XYZ":this._x=f*u*d+c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d-f*h*m;break;case"YXZ":this._x=f*u*d+c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d+f*h*m;break;case"ZXY":this._x=f*u*d-c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d-f*h*m;break;case"ZYX":this._x=f*u*d-c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d+f*h*m;break;case"YZX":this._x=f*u*d+c*h*m,this._y=c*h*d+f*u*m,this._z=c*u*m-f*h*d,this._w=c*u*d-f*h*m;break;case"XZY":this._x=f*u*d-c*h*m,this._y=c*h*d-f*u*m,this._z=c*u*m+f*h*d,this._w=c*u*d+f*h*m;break;default:Pt("Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n===!0&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],d=n[10],f=r+o+d;if(f>0){const h=.5/Math.sqrt(f+1);this._w=.25/h,this._x=(u-l)*h,this._y=(s-c)*h,this._z=(a-i)*h}else if(r>o&&r>d){const h=2*Math.sqrt(1+r-o-d);this._w=(u-l)/h,this._x=.25*h,this._y=(i+a)/h,this._z=(s+c)/h}else if(o>d){const h=2*Math.sqrt(1+o-r-d);this._w=(s-c)/h,this._x=(i+a)/h,this._y=.25*h,this._z=(l+u)/h}else{const h=2*Math.sqrt(1+d-r-o);this._w=(a-i)/h,this._x=(s+c)/h,this._y=(l+u)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<1e-8?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(cn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*o+i*c-s*l,this._y=i*u+a*l+s*o-r*c,this._z=s*u+a*c+r*l-i*o,this._w=a*u-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n<=0)return this;if(n>=1)return this.copy(e);let r=e._x,i=e._y,s=e._z,a=e._w,o=this.dot(e);o<0&&(r=-r,i=-i,s=-s,a=-a,o=-o);let l=1-n;if(o<.9995){const c=Math.acos(o),u=Math.sin(c);l=Math.sin(l*c)/u,n=Math.sin(n*c)/u,this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+a*n,this._onChangeCallback()}else this._x=this._x*l+r*n,this._y=this._y*l+i*n,this._z=this._z*l+s*n,this._w=this._w*l+a*n,this.normalize();return this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=2*Math.PI*Math.random(),n=2*Math.PI*Math.random(),r=Math.random(),i=Math.sqrt(1-r),s=Math.sqrt(r);return this.set(i*Math.sin(e),i*Math.cos(e),s*Math.sin(n),s*Math.cos(n))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this._onChangeCallback(),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class J{constructor(e=0,n=0,r=0){J.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(wW.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(wW.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=2*(a*i-o*r),u=2*(o*n-s*i),d=2*(s*r-a*n);return this.x=n+l*c+a*d-o*u,this.y=r+l*u+o*c-s*d,this.z=i+l*d+s*u-a*c,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=cn(this.x,e.x,n.x),this.y=cn(this.y,e.y,n.y),this.z=cn(this.z,e.z,n.z),this}clampScalar(e,n){return this.x=cn(this.x,e,n),this.y=cn(this.y,e,n),this.z=cn(this.z,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(cn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return jI.copy(this).projectOnVector(e),this.sub(jI)}reflect(e){return this.sub(jI.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(cn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=Math.random()*Math.PI*2,n=Math.random()*2-1,r=Math.sqrt(1-n*n);return this.x=r*Math.cos(e),this.y=n,this.z=r*Math.sin(e),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const jI=new J,wW=new hr;class yn{constructor(e,n,r,i,s,a,o,l,c){yn.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c)}set(e,n,r,i,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],u=r[4],d=r[7],f=r[2],h=r[5],m=r[8],g=i[0],v=i[3],y=i[6],w=i[1],_=i[4],S=i[7],E=i[2],A=i[5],M=i[8];return s[0]=a*g+o*w+l*E,s[3]=a*v+o*_+l*A,s[6]=a*y+o*S+l*M,s[1]=c*g+u*w+d*E,s[4]=c*v+u*_+d*A,s[7]=c*y+u*S+d*M,s[2]=f*g+h*w+m*E,s[5]=f*v+h*_+m*A,s[8]=f*y+h*S+m*M,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*o*c-r*s*u+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=u*a-o*c,f=o*l-u*s,h=c*s-a*l,m=n*d+r*f+i*h;if(m===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/m;return e[0]=d*g,e[1]=(i*c-u*r)*g,e[2]=(o*r-i*a)*g,e[3]=f*g,e[4]=(u*n-i*l)*g,e[5]=(i*s-o*n)*g,e[6]=h*g,e[7]=(r*l-c*n)*g,e[8]=(a*n-r*s)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(FI.makeScale(e,n)),this}rotate(e){return this.premultiply(FI.makeRotation(-e)),this}translate(e,n){return this.premultiply(FI.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const FI=new yn,_W=new yn().set(.4123908,.3575843,.1804808,.212639,.7151687,.0721923,.0193308,.1191948,.9505322),SW=new yn().set(3.2409699,-1.5373832,-.4986108,-.9692436,1.8759675,.0415551,.0556301,-.203977,1.0569715);function W3e(){const t={enabled:!0,workingColorSpace:es,spaces:{},convert:function(i,s,a){return this.enabled===!1||s===a||!s||!a||(this.spaces[s].transfer===pr&&(i.r=Pu(i.r),i.g=Pu(i.g),i.b=Pu(i.b)),this.spaces[s].primaries!==this.spaces[a].primaries&&(i.applyMatrix3(this.spaces[s].toXYZ),i.applyMatrix3(this.spaces[a].fromXYZ)),this.spaces[a].transfer===pr&&(i.r=_v(i.r),i.g=_v(i.g),i.b=_v(i.b))),i},workingToColorSpace:function(i,s){return this.convert(i,this.workingColorSpace,s)},colorSpaceToWorking:function(i,s){return this.convert(i,s,this.workingColorSpace)},getPrimaries:function(i){return this.spaces[i].primaries},getTransfer:function(i){return i===yu?Uw:this.spaces[i].transfer},getToneMappingMode:function(i){return this.spaces[i].outputColorSpaceConfig.toneMappingMode||"standard"},getLuminanceCoefficients:function(i,s=this.workingColorSpace){return i.fromArray(this.spaces[s].luminanceCoefficients)},define:function(i){Object.assign(this.spaces,i)},_getMatrix:function(i,s,a){return i.copy(this.spaces[s].toXYZ).multiply(this.spaces[a].fromXYZ)},_getDrawingBufferColorSpace:function(i){return this.spaces[i].outputColorSpaceConfig.drawingBufferColorSpace},_getUnpackColorSpace:function(i=this.workingColorSpace){return this.spaces[i].workingColorSpaceConfig.unpackColorSpace},fromWorkingColorSpace:function(i,s){return d0("ColorManagement: .fromWorkingColorSpace() has been renamed to .workingToColorSpace()."),t.workingToColorSpace(i,s)},toWorkingColorSpace:function(i,s){return d0("ColorManagement: .toWorkingColorSpace() has been renamed to .colorSpaceToWorking()."),t.colorSpaceToWorking(i,s)}},e=[.64,.33,.3,.6,.15,.06],n=[.2126,.7152,.0722],r=[.3127,.329];return t.define({[es]:{primaries:e,whitePoint:r,transfer:Uw,toXYZ:_W,fromXYZ:SW,luminanceCoefficients:n,workingColorSpaceConfig:{unpackColorSpace:wi},outputColorSpaceConfig:{drawingBufferColorSpace:wi}},[wi]:{primaries:e,whitePoint:r,transfer:pr,toXYZ:_W,fromXYZ:SW,luminanceCoefficients:n,outputColorSpaceConfig:{drawingBufferColorSpace:wi}}}),t}const Kn=W3e();function Pu(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function _v(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Qm;class $oe{static getDataURL(e,n="image/png"){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let r;if(e instanceof HTMLCanvasElement)r=e;else{Qm===void 0&&(Qm=zw("canvas")),Qm.width=e.width,Qm.height=e.height;const i=Qm.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),r=Qm}return r.toDataURL(n)}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=zw("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Pu(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Pu(n[r]/255)*255):n[r]=Pu(n[r]);return{data:n,width:e.width,height:e.height}}else return Pt("ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let X3e=0;class Kd{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:X3e++}),this.uuid=bo(),this.data=e,this.dataReady=!0,this.version=0}getSize(e){const n=this.data;return typeof HTMLVideoElement<"u"&&n instanceof HTMLVideoElement?e.set(n.videoWidth,n.videoHeight,0):n instanceof VideoFrame?e.set(n.displayHeight,n.displayWidth,0):n!==null?e.set(n.width,n.height,n.depth||0):e.set(0,0,0),e}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(UI(i[a].image)):s.push(UI(i[a]))}else s=UI(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function UI(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?$oe.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(Pt("Texture: Unable to serialize Texture."),{})}let q3e=0;const BI=new J;class ar extends $c{constructor(e=ar.DEFAULT_IMAGE,n=ar.DEFAULT_MAPPING,r=ei,i=ei,s=Nn,a=Zo,o=Si,l=ba,c=ar.DEFAULT_ANISOTROPY,u=yu){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:q3e++}),this.uuid=bo(),this.name="",this.source=new Kd(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new Ve(0,0),this.repeat=new Ve(1,1),this.center=new Ve(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new yn,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.colorSpace=u,this.userData={},this.updateRanges=[],this.version=0,this.onUpdate=null,this.renderTarget=null,this.isRenderTargetTexture=!1,this.isArrayTexture=!!(e&&e.depth&&e.depth>1),this.pmremVersion=0}get width(){return this.source.getSize(BI).x}get height(){return this.source.getSize(BI).y}get depth(){return this.source.getSize(BI).z}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.renderTarget=e.renderTarget,this.isRenderTargetTexture=e.isRenderTargetTexture,this.isArrayTexture=e.isArrayTexture,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}setValues(e){for(const n in e){const r=e[n];if(r===void 0){Pt(`Texture.setValues(): parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Pt(`Texture.setValues(): property '${n}' does not exist.`);continue}i&&r&&i.isVector2&&r.isVector2||i&&r&&i.isVector3&&r.isVector3||i&&r&&i.isMatrix3&&r.isMatrix3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.7,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==Tf)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case Mf:e.x=e.x-Math.floor(e.x);break;case ei:e.x=e.x<0?0:1;break;case s0:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case Mf:e.y=e.y-Math.floor(e.y);break;case ei:e.y=e.y<0?0:1;break;case s0:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}set needsPMREMUpdate(e){e===!0&&this.pmremVersion++}}ar.DEFAULT_IMAGE=null;ar.DEFAULT_MAPPING=Tf;ar.DEFAULT_ANISOTROPY=1;class Ln{constructor(e=0,n=0,r=0,i=1){Ln.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this.w/=e.w,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],d=l[8],f=l[1],h=l[5],m=l[9],g=l[2],v=l[6],y=l[10];if(Math.abs(u-f)<.01&&Math.abs(d-g)<.01&&Math.abs(m-v)<.01){if(Math.abs(u+f)<.1&&Math.abs(d+g)<.1&&Math.abs(m+v)<.1&&Math.abs(c+h+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,S=(h+1)/2,E=(y+1)/2,A=(u+f)/4,M=(d+g)/4,R=(m+v)/4;return _>S&&_>E?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=A/r,s=M/r):S>E?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=A/i,s=R/i):E<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(E),r=M/s,i=R/s),this.set(r,i,s,n),this}let w=Math.sqrt((v-m)*(v-m)+(d-g)*(d-g)+(f-u)*(f-u));return Math.abs(w)<.001&&(w=1),this.x=(v-m)/w,this.y=(d-g)/w,this.z=(f-u)/w,this.w=Math.acos((c+h+y-1)/2),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this.w=n[15],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=cn(this.x,e.x,n.x),this.y=cn(this.y,e.y,n.y),this.z=cn(this.z,e.z,n.z),this.w=cn(this.w,e.w,n.w),this}clampScalar(e,n){return this.x=cn(this.x,e,n),this.y=cn(this.y,e,n),this.z=cn(this.z,e,n),this.w=cn(this.w,e,n),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(cn(r,e,n))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class VB extends $c{constructor(e=1,n=1,r={}){super(),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Nn,depthBuffer:!0,stencilBuffer:!1,resolveDepthBuffer:!0,resolveStencilBuffer:!0,depthTexture:null,samples:0,count:1,depth:1,multiview:!1},r),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=r.depth,this.scissor=new Ln(0,0,e,n),this.scissorTest=!1,this.viewport=new Ln(0,0,e,n);const i={width:e,height:n,depth:r.depth},s=new ar(i);this.textures=[];const a=r.count;for(let o=0;o<a;o++)this.textures[o]=s.clone(),this.textures[o].isRenderTargetTexture=!0,this.textures[o].renderTarget=this;this._setTextureOptions(r),this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.resolveDepthBuffer=r.resolveDepthBuffer,this.resolveStencilBuffer=r.resolveStencilBuffer,this._depthTexture=null,this.depthTexture=r.depthTexture,this.samples=r.samples,this.multiview=r.multiview}_setTextureOptions(e={}){const n={minFilter:Nn,generateMipmaps:!1,flipY:!1,internalFormat:null};e.mapping!==void 0&&(n.mapping=e.mapping),e.wrapS!==void 0&&(n.wrapS=e.wrapS),e.wrapT!==void 0&&(n.wrapT=e.wrapT),e.wrapR!==void 0&&(n.wrapR=e.wrapR),e.magFilter!==void 0&&(n.magFilter=e.magFilter),e.minFilter!==void 0&&(n.minFilter=e.minFilter),e.format!==void 0&&(n.format=e.format),e.type!==void 0&&(n.type=e.type),e.anisotropy!==void 0&&(n.anisotropy=e.anisotropy),e.colorSpace!==void 0&&(n.colorSpace=e.colorSpace),e.flipY!==void 0&&(n.flipY=e.flipY),e.generateMipmaps!==void 0&&(n.generateMipmaps=e.generateMipmaps),e.internalFormat!==void 0&&(n.internalFormat=e.internalFormat);for(let r=0;r<this.textures.length;r++)this.textures[r].setValues(n)}get texture(){return this.textures[0]}set texture(e){this.textures[0]=e}set depthTexture(e){this._depthTexture!==null&&(this._depthTexture.renderTarget=null),e!==null&&(e.renderTarget=this),this._depthTexture=e}get depthTexture(){return this._depthTexture}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.textures.length;i<s;i++)this.textures[i].image.width=e,this.textures[i].image.height=n,this.textures[i].image.depth=r,this.textures[i].isData3DTexture!==!0&&(this.textures[i].isArrayTexture=this.textures[i].image.depth>1);this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.textures.length=0;for(let n=0,r=e.textures.length;n<r;n++){this.textures[n]=e.textures[n].clone(),this.textures[n].isRenderTargetTexture=!0,this.textures[n].renderTarget=this;const i=Object.assign({},e.textures[n].image);this.textures[n].source=new Kd(i)}return this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,this.resolveDepthBuffer=e.resolveDepthBuffer,this.resolveStencilBuffer=e.resolveStencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class mi extends VB{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class jP extends ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ji,this.minFilter=Ji,this.wrapR=ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class K3e extends mi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new jP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class FP extends ar{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=Ji,this.minFilter=Ji,this.wrapR=ei,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Y3e extends mi{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new FP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Qi{constructor(e=new J(1/0,1/0,1/0),n=new J(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(yl.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(yl.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=yl.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){e.updateWorldMatrix(!1,!1);const r=e.geometry;if(r!==void 0){const s=r.getAttribute("position");if(n===!0&&s!==void 0&&e.isInstancedMesh!==!0)for(let a=0,o=s.count;a<o;a++)e.isMesh===!0?e.getVertexPosition(a,yl):yl.fromBufferAttribute(s,a),yl.applyMatrix4(e.matrixWorld),this.expandByPoint(yl);else e.boundingBox!==void 0?(e.boundingBox===null&&e.computeBoundingBox(),dE.copy(e.boundingBox)):(r.boundingBox===null&&r.computeBoundingBox(),dE.copy(r.boundingBox)),dE.applyMatrix4(e.matrixWorld),this.union(dE)}const i=e.children;for(let s=0,a=i.length;s<a;s++)this.expandByObject(i[s],n);return this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y&&e.z>=this.min.z&&e.z<=this.max.z}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y&&e.max.z>=this.min.z&&e.min.z<=this.max.z}intersectsSphere(e){return this.clampPoint(e.center,yl),yl.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(vx),fE.subVectors(this.max,vx),eg.subVectors(e.a,vx),tg.subVectors(e.b,vx),ng.subVectors(e.c,vx),md.subVectors(tg,eg),gd.subVectors(ng,tg),ph.subVectors(eg,ng);let n=[0,-md.z,md.y,0,-gd.z,gd.y,0,-ph.z,ph.y,md.z,0,-md.x,gd.z,0,-gd.x,ph.z,0,-ph.x,-md.y,md.x,0,-gd.y,gd.x,0,-ph.y,ph.x,0];return!zI(n,eg,tg,ng,fE)||(n=[1,0,0,0,1,0,0,0,1],!zI(n,eg,tg,ng,fE))?!1:(hE.crossVectors(md,gd),n=[hE.x,hE.y,hE.z],zI(n,eg,tg,ng,fE))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,yl).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(yl).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(nu[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),nu[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),nu[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),nu[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),nu[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),nu[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),nu[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),nu[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(nu),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}toJSON(){return{min:this.min.toArray(),max:this.max.toArray()}}fromJSON(e){return this.min.fromArray(e.min),this.max.fromArray(e.max),this}}const nu=[new J,new J,new J,new J,new J,new J,new J,new J],yl=new J,dE=new Qi,eg=new J,tg=new J,ng=new J,md=new J,gd=new J,ph=new J,vx=new J,fE=new J,hE=new J,mh=new J;function zI(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){mh.fromArray(t,s);const o=i.x*Math.abs(mh.x)+i.y*Math.abs(mh.y)+i.z*Math.abs(mh.z),l=e.dot(mh),c=n.dot(mh),u=r.dot(mh);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const Z3e=new Qi,yx=new J,VI=new J;class Ti{constructor(e=new J,n=-1){this.isSphere=!0,this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Z3e.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;yx.subVectors(e,this.center);const n=yx.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector(yx,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(VI.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(yx.copy(e.center).add(VI)),this.expandByPoint(yx.copy(e.center).sub(VI))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}toJSON(){return{radius:this.radius,center:this.center.toArray()}}fromJSON(e){return this.radius=e.radius,this.center.fromArray(e.center),this}}const ru=new J,$I=new J,pE=new J,vd=new J,HI=new J,mE=new J,GI=new J;class Uc{constructor(e=new J,n=new J(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,ru)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=ru.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(ru.copy(this.origin).addScaledVector(this.direction,n),ru.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){$I.copy(e).add(n).multiplyScalar(.5),pE.copy(n).sub(e).normalize(),vd.copy(this.origin).sub($I);const s=e.distanceTo(n)*.5,a=-this.direction.dot(pE),o=vd.dot(this.direction),l=-vd.dot(pE),c=vd.lengthSq(),u=Math.abs(1-a*a);let d,f,h,m;if(u>0)if(d=a*l-o,f=a*o-l,m=s*u,d>=0)if(f>=-m)if(f<=m){const g=1/u;d*=g,f*=g,h=d*(d+a*f+2*o)+f*(a*d+f+2*l)+c}else f=s,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*l)+c;else f=-s,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*l)+c;else f<=-m?(d=Math.max(0,-(-a*s+o)),f=d>0?-s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c):f<=m?(d=0,f=Math.min(Math.max(-s,-l),s),h=f*(f+2*l)+c):(d=Math.max(0,-(a*s+o)),f=d>0?s:Math.min(Math.max(-s,-l),s),h=-d*d+f*(f+2*l)+c);else f=a>0?-s:s,d=Math.max(0,-(a*f+o)),h=-d*d+f*(f+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,d),i&&i.copy($I).addScaledVector(pE,f),h}intersectSphere(e,n){ru.subVectors(e.center,this.origin);const r=ru.dot(this.direction),i=ru.dot(ru)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return e.radius<0?!1:this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,d=1/this.direction.z,f=this.origin;return c>=0?(r=(e.min.x-f.x)*c,i=(e.max.x-f.x)*c):(r=(e.max.x-f.x)*c,i=(e.min.x-f.x)*c),u>=0?(s=(e.min.y-f.y)*u,a=(e.max.y-f.y)*u):(s=(e.max.y-f.y)*u,a=(e.min.y-f.y)*u),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),d>=0?(o=(e.min.z-f.z)*d,l=(e.max.z-f.z)*d):(o=(e.max.z-f.z)*d,l=(e.min.z-f.z)*d),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,ru)!==null}intersectTriangle(e,n,r,i,s){HI.subVectors(n,e),mE.subVectors(r,e),GI.crossVectors(HI,mE);let a=this.direction.dot(GI),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;vd.subVectors(this.origin,e);const l=o*this.direction.dot(mE.crossVectors(vd,mE));if(l<0)return null;const c=o*this.direction.dot(HI.cross(vd));if(c<0||l+c>a)return null;const u=-o*vd.dot(GI);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class It{constructor(e,n,r,i,s,a,o,l,c,u,d,f,h,m,g,v){It.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c,u,d,f,h,m,g,v)}set(e,n,r,i,s,a,o,l,c,u,d,f,h,m,g,v){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=s,y[5]=a,y[9]=o,y[13]=l,y[2]=c,y[6]=u,y[10]=d,y[14]=f,y[3]=h,y[7]=m,y[11]=g,y[15]=v,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new It().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/rg.setFromMatrixColumn(e,0).length(),s=1/rg.setFromMatrixColumn(e,1).length(),a=1/rg.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),d=Math.sin(s);if(e.order==="XYZ"){const f=a*u,h=a*d,m=o*u,g=o*d;n[0]=l*u,n[4]=-l*d,n[8]=c,n[1]=h+m*c,n[5]=f-g*c,n[9]=-o*l,n[2]=g-f*c,n[6]=m+h*c,n[10]=a*l}else if(e.order==="YXZ"){const f=l*u,h=l*d,m=c*u,g=c*d;n[0]=f+g*o,n[4]=m*o-h,n[8]=a*c,n[1]=a*d,n[5]=a*u,n[9]=-o,n[2]=h*o-m,n[6]=g+f*o,n[10]=a*l}else if(e.order==="ZXY"){const f=l*u,h=l*d,m=c*u,g=c*d;n[0]=f-g*o,n[4]=-a*d,n[8]=m+h*o,n[1]=h+m*o,n[5]=a*u,n[9]=g-f*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const f=a*u,h=a*d,m=o*u,g=o*d;n[0]=l*u,n[4]=m*c-h,n[8]=f*c+g,n[1]=l*d,n[5]=g*c+f,n[9]=h*c-m,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const f=a*l,h=a*c,m=o*l,g=o*c;n[0]=l*u,n[4]=g-f*d,n[8]=m*d+h,n[1]=d,n[5]=a*u,n[9]=-o*u,n[2]=-c*u,n[6]=h*d+m,n[10]=f-g*d}else if(e.order==="XZY"){const f=a*l,h=a*c,m=o*l,g=o*c;n[0]=l*u,n[4]=-d,n[8]=c*u,n[1]=f*d+g,n[5]=a*u,n[9]=h*d-m,n[2]=m*d-h,n[6]=o*u,n[10]=g*d+f}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(J3e,e,Q3e)}lookAt(e,n,r){const i=this.elements;return no.subVectors(e,n),no.lengthSq()===0&&(no.z=1),no.normalize(),yd.crossVectors(r,no),yd.lengthSq()===0&&(Math.abs(r.z)===1?no.x+=1e-4:no.z+=1e-4,no.normalize(),yd.crossVectors(r,no)),yd.normalize(),gE.crossVectors(no,yd),i[0]=yd.x,i[4]=gE.x,i[8]=no.x,i[1]=yd.y,i[5]=gE.y,i[9]=no.y,i[2]=yd.z,i[6]=gE.z,i[10]=no.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],u=r[1],d=r[5],f=r[9],h=r[13],m=r[2],g=r[6],v=r[10],y=r[14],w=r[3],_=r[7],S=r[11],E=r[15],A=i[0],M=i[4],R=i[8],P=i[12],O=i[1],k=i[5],I=i[9],F=i[13],L=i[2],V=i[6],z=i[10],K=i[14],j=i[3],U=i[7],$=i[11],G=i[15];return s[0]=a*A+o*O+l*L+c*j,s[4]=a*M+o*k+l*V+c*U,s[8]=a*R+o*I+l*z+c*$,s[12]=a*P+o*F+l*K+c*G,s[1]=u*A+d*O+f*L+h*j,s[5]=u*M+d*k+f*V+h*U,s[9]=u*R+d*I+f*z+h*$,s[13]=u*P+d*F+f*K+h*G,s[2]=m*A+g*O+v*L+y*j,s[6]=m*M+g*k+v*V+y*U,s[10]=m*R+g*I+v*z+y*$,s[14]=m*P+g*F+v*K+y*G,s[3]=w*A+_*O+S*L+E*j,s[7]=w*M+_*k+S*V+E*U,s[11]=w*R+_*I+S*z+E*$,s[15]=w*P+_*F+S*K+E*G,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],d=e[6],f=e[10],h=e[14],m=e[3],g=e[7],v=e[11],y=e[15];return m*(+s*l*d-i*c*d-s*o*f+r*c*f+i*o*h-r*l*h)+g*(+n*l*h-n*c*f+s*a*f-i*a*h+i*c*u-s*l*u)+v*(+n*c*d-n*o*h-s*a*d+r*a*h+s*o*u-r*c*u)+y*(-i*o*u-n*l*d+n*o*f+i*a*d-r*a*f+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],d=e[9],f=e[10],h=e[11],m=e[12],g=e[13],v=e[14],y=e[15],w=d*v*c-g*f*c+g*l*h-o*v*h-d*l*y+o*f*y,_=m*f*c-u*v*c-m*l*h+a*v*h+u*l*y-a*f*y,S=u*g*c-m*d*c+m*o*h-a*g*h-u*o*y+a*d*y,E=m*d*l-u*g*l-m*o*f+a*g*f+u*o*v-a*d*v,A=n*w+r*_+i*S+s*E;if(A===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const M=1/A;return e[0]=w*M,e[1]=(g*f*s-d*v*s-g*i*h+r*v*h+d*i*y-r*f*y)*M,e[2]=(o*v*s-g*l*s+g*i*c-r*v*c-o*i*y+r*l*y)*M,e[3]=(d*l*s-o*f*s-d*i*c+r*f*c+o*i*h-r*l*h)*M,e[4]=_*M,e[5]=(u*v*s-m*f*s+m*i*h-n*v*h-u*i*y+n*f*y)*M,e[6]=(m*l*s-a*v*s-m*i*c+n*v*c+a*i*y-n*l*y)*M,e[7]=(a*f*s-u*l*s+u*i*c-n*f*c-a*i*h+n*l*h)*M,e[8]=S*M,e[9]=(m*d*s-u*g*s-m*r*h+n*g*h+u*r*y-n*d*y)*M,e[10]=(a*g*s-m*o*s+m*r*c-n*g*c-a*r*y+n*o*y)*M,e[11]=(u*o*s-a*d*s-u*r*c+n*d*c+a*r*h-n*o*h)*M,e[12]=E*M,e[13]=(u*g*i-m*d*i+m*r*f-n*g*f-u*r*v+n*d*v)*M,e[14]=(m*o*i-a*g*i-m*r*l+n*g*l+a*r*v-n*o*v)*M,e[15]=(a*d*i-u*o*i+u*r*l-n*d*l-a*r*f+n*o*f)*M,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*a,0,c*l-i*o,u*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,u=a+a,d=o+o,f=s*c,h=s*u,m=s*d,g=a*u,v=a*d,y=o*d,w=l*c,_=l*u,S=l*d,E=r.x,A=r.y,M=r.z;return i[0]=(1-(g+y))*E,i[1]=(h+S)*E,i[2]=(m-_)*E,i[3]=0,i[4]=(h-S)*A,i[5]=(1-(f+y))*A,i[6]=(v+w)*A,i[7]=0,i[8]=(m+_)*M,i[9]=(v-w)*M,i[10]=(1-(f+g))*M,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=rg.set(i[0],i[1],i[2]).length();const a=rg.set(i[4],i[5],i[6]).length(),o=rg.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],xl.copy(this);const c=1/s,u=1/a,d=1/o;return xl.elements[0]*=c,xl.elements[1]*=c,xl.elements[2]*=c,xl.elements[4]*=u,xl.elements[5]*=u,xl.elements[6]*=u,xl.elements[8]*=d,xl.elements[9]*=d,xl.elements[10]*=d,n.setFromRotationMatrix(xl),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=vo,l=!1){const c=this.elements,u=2*s/(n-e),d=2*s/(r-i),f=(n+e)/(n-e),h=(r+i)/(r-i);let m,g;if(l)m=s/(a-s),g=a*s/(a-s);else if(o===vo)m=-(a+s)/(a-s),g=-2*a*s/(a-s);else if(o===u0)m=-a/(a-s),g=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=f,c[12]=0,c[1]=0,c[5]=d,c[9]=h,c[13]=0,c[2]=0,c[6]=0,c[10]=m,c[14]=g,c[3]=0,c[7]=0,c[11]=-1,c[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=vo,l=!1){const c=this.elements,u=2/(n-e),d=2/(r-i),f=-(n+e)/(n-e),h=-(r+i)/(r-i);let m,g;if(l)m=1/(a-s),g=a/(a-s);else if(o===vo)m=-2/(a-s),g=-(a+s)/(a-s);else if(o===u0)m=-1/(a-s),g=-s/(a-s);else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return c[0]=u,c[4]=0,c[8]=0,c[12]=f,c[1]=0,c[5]=d,c[9]=0,c[13]=h,c[2]=0,c[6]=0,c[10]=m,c[14]=g,c[3]=0,c[7]=0,c[11]=0,c[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const rg=new J,xl=new It,J3e=new J(0,0,0),Q3e=new J(1,1,1),yd=new J,gE=new J,no=new J,EW=new It,TW=new hr;class wa{constructor(e=0,n=0,r=0,i=wa.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],u=i[9],d=i[2],f=i[6],h=i[10];switch(n){case"XYZ":this._y=Math.asin(cn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,h),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(f,c),this._z=0);break;case"YXZ":this._x=Math.asin(-cn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,h),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-d,s),this._z=0);break;case"ZXY":this._x=Math.asin(cn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(-d,h),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-cn(d,-1,1)),Math.abs(d)<.9999999?(this._x=Math.atan2(f,h),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(cn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-d,s)):(this._x=0,this._y=Math.atan2(o,h));break;case"XZY":this._z=Math.asin(-cn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(f,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,h),this._y=0);break;default:Pt("Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return EW.makeRotationFromQuaternion(e),this.setFromRotationMatrix(EW,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return TW.setFromEuler(this),this.setFromQuaternion(TW,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}wa.DEFAULT_ORDER="XYZ";class Op{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let eke=0;const AW=new J,ig=new hr,iu=new It,vE=new J,xx=new J,tke=new J,nke=new hr,MW=new J(1,0,0),CW=new J(0,1,0),PW=new J(0,0,1),RW={type:"added"},rke={type:"removed"},sg={type:"childadded",child:null},WI={type:"childremoved",child:null};class $n extends $c{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:eke++}),this.uuid=bo(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=$n.DEFAULT_UP.clone();const e=new J,n=new wa,r=new hr,i=new J(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new It},normalMatrix:{value:new yn}}),this.matrix=new It,this.matrixWorld=new It,this.matrixAutoUpdate=$n.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldAutoUpdate=$n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.layers=new Op,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.customDepthMaterial=void 0,this.customDistanceMaterial=void 0,this.userData={}}onBeforeShadow(){}onAfterShadow(){}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return ig.setFromAxisAngle(e,n),this.quaternion.multiply(ig),this}rotateOnWorldAxis(e,n){return ig.setFromAxisAngle(e,n),this.quaternion.premultiply(ig),this}rotateX(e){return this.rotateOnAxis(MW,e)}rotateY(e){return this.rotateOnAxis(CW,e)}rotateZ(e){return this.rotateOnAxis(PW,e)}translateOnAxis(e,n){return AW.copy(e).applyQuaternion(this.quaternion),this.position.add(AW.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(MW,e)}translateY(e){return this.translateOnAxis(CW,e)}translateZ(e){return this.translateOnAxis(PW,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(iu.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?vE.copy(e):vE.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),xx.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?iu.lookAt(xx,vE,this.up):iu.lookAt(vE,xx,this.up),this.quaternion.setFromRotationMatrix(iu),i&&(iu.extractRotation(i.matrixWorld),ig.setFromRotationMatrix(iu),this.quaternion.premultiply(ig.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(hn("Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.removeFromParent(),e.parent=this,this.children.push(e),e.dispatchEvent(RW),sg.child=e,this.dispatchEvent(sg),sg.child=null):hn("Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(rke),WI.child=e,this.dispatchEvent(WI),WI.child=null),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),iu.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),iu.multiply(e.parent.matrixWorld)),e.applyMatrix4(iu),e.removeFromParent(),e.parent=this,this.children.push(e),e.updateWorldMatrix(!1,!0),e.dispatchEvent(RW),sg.child=e,this.dispatchEvent(sg),sg.child=null,this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n,r=[]){this[e]===n&&r.push(this);const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].getObjectsByProperty(e,n,r);return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xx,e,tke),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(xx,nke,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].updateMatrixWorld(e)}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.matrixWorldAutoUpdate===!0&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix)),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++)i[s].updateWorldMatrix(!1,!0)}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.7,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON())),this.isBatchedMesh&&(i.type="BatchedMesh",i.perObjectFrustumCulled=this.perObjectFrustumCulled,i.sortObjects=this.sortObjects,i.drawRanges=this._drawRanges,i.reservedRanges=this._reservedRanges,i.geometryInfo=this._geometryInfo.map(o=>({...o,boundingBox:o.boundingBox?o.boundingBox.toJSON():void 0,boundingSphere:o.boundingSphere?o.boundingSphere.toJSON():void 0})),i.instanceInfo=this._instanceInfo.map(o=>({...o})),i.availableInstanceIds=this._availableInstanceIds.slice(),i.availableGeometryIds=this._availableGeometryIds.slice(),i.nextIndexStart=this._nextIndexStart,i.nextVertexStart=this._nextVertexStart,i.geometryCount=this._geometryCount,i.maxInstanceCount=this._maxInstanceCount,i.maxVertexCount=this._maxVertexCount,i.maxIndexCount=this._maxIndexCount,i.geometryInitialized=this._geometryInitialized,i.matricesTexture=this._matricesTexture.toJSON(e),i.indirectTexture=this._indirectTexture.toJSON(e),this._colorsTexture!==null&&(i.colorsTexture=this._colorsTexture.toJSON(e)),this.boundingSphere!==null&&(i.boundingSphere=this.boundingSphere.toJSON()),this.boundingBox!==null&&(i.boundingBox=this.boundingBox.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const d=l[c];s(e.shapes,d)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),d=a(e.shapes),f=a(e.skeletons),h=a(e.animations),m=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),d.length>0&&(r.shapes=d),f.length>0&&(r.skeletons=f),h.length>0&&(r.animations=h),m.length>0&&(r.nodes=m)}return r.object=i,r;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}$n.DEFAULT_UP=new J(0,1,0);$n.DEFAULT_MATRIX_AUTO_UPDATE=!0;$n.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const bl=new J,su=new J,XI=new J,au=new J,ag=new J,og=new J,OW=new J,qI=new J,KI=new J,YI=new J,ZI=new Ln,JI=new Ln,QI=new Ln;class Vs{constructor(e=new J,n=new J,r=new J){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),bl.subVectors(e,n),i.cross(bl);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){bl.subVectors(i,n),su.subVectors(r,n),XI.subVectors(e,n);const a=bl.dot(bl),o=bl.dot(su),l=bl.dot(XI),c=su.dot(su),u=su.dot(XI),d=a*c-o*o;if(d===0)return s.set(0,0,0),null;const f=1/d,h=(c*l-o*u)*f,m=(a*u-o*l)*f;return s.set(1-h-m,m,h)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,au)===null?!1:au.x>=0&&au.y>=0&&au.x+au.y<=1}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,au)===null?(l.x=0,l.y=0,"z"in l&&(l.z=0),"w"in l&&(l.w=0),null):(l.setScalar(0),l.addScaledVector(s,au.x),l.addScaledVector(a,au.y),l.addScaledVector(o,au.z),l)}static getInterpolatedAttribute(e,n,r,i,s,a){return ZI.setScalar(0),JI.setScalar(0),QI.setScalar(0),ZI.fromBufferAttribute(e,n),JI.fromBufferAttribute(e,r),QI.fromBufferAttribute(e,i),a.setScalar(0),a.addScaledVector(ZI,s.x),a.addScaledVector(JI,s.y),a.addScaledVector(QI,s.z),a}static isFrontFacing(e,n,r,i){return bl.subVectors(r,n),su.subVectors(e,n),bl.cross(su).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return bl.subVectors(this.c,this.b),su.subVectors(this.a,this.b),bl.cross(su).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Vs.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Vs.getBarycoord(e,this.a,this.b,this.c,n)}getInterpolation(e,n,r,i,s){return Vs.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Vs.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Vs.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;ag.subVectors(i,r),og.subVectors(s,r),qI.subVectors(e,r);const l=ag.dot(qI),c=og.dot(qI);if(l<=0&&c<=0)return n.copy(r);KI.subVectors(e,i);const u=ag.dot(KI),d=og.dot(KI);if(u>=0&&d<=u)return n.copy(i);const f=l*d-u*c;if(f<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector(ag,a);YI.subVectors(e,s);const h=ag.dot(YI),m=og.dot(YI);if(m>=0&&h<=m)return n.copy(s);const g=h*c-l*m;if(g<=0&&c>=0&&m<=0)return o=c/(c-m),n.copy(r).addScaledVector(og,o);const v=u*m-h*d;if(v<=0&&d-u>=0&&h-m>=0)return OW.subVectors(s,i),o=(d-u)/(d-u+(h-m)),n.copy(i).addScaledVector(OW,o);const y=1/(v+g+f);return a=g*y,o=f*y,n.copy(r).addScaledVector(ag,a).addScaledVector(og,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}const Hoe={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},xd={h:0,s:0,l:0},yE={h:0,s:0,l:0};function e3(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let Et=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=wi){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,Kn.colorSpaceToWorking(this,n),this}setRGB(e,n,r,i=Kn.workingColorSpace){return this.r=e,this.g=n,this.b=r,Kn.colorSpaceToWorking(this,i),this}setHSL(e,n,r,i=Kn.workingColorSpace){if(e=zB(e,1),n=cn(n,0,1),r=cn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=e3(a,s,e+1/3),this.g=e3(a,s,e),this.b=e3(a,s,e-1/3)}return Kn.colorSpaceToWorking(this,i),this}setStyle(e,n=wi){function r(s){s!==void 0&&parseFloat(s)<1&&Pt("Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:Pt("Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);Pt("Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=wi){const r=Hoe[e.toLowerCase()];return r!==void 0?this.setHex(r,n):Pt("Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Pu(e.r),this.g=Pu(e.g),this.b=Pu(e.b),this}copyLinearToSRGB(e){return this.r=_v(e.r),this.g=_v(e.g),this.b=_v(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=wi){return Kn.workingToColorSpace(ks.copy(this),e),Math.round(cn(ks.r*255,0,255))*65536+Math.round(cn(ks.g*255,0,255))*256+Math.round(cn(ks.b*255,0,255))}getHexString(e=wi){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=Kn.workingColorSpace){Kn.workingToColorSpace(ks.copy(this),n);const r=ks.r,i=ks.g,s=ks.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const d=a-o;switch(c=u<=.5?d/(a+o):d/(2-a-o),a){case r:l=(i-s)/d+(i<s?6:0);break;case i:l=(s-r)/d+2;break;case s:l=(r-i)/d+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=Kn.workingColorSpace){return Kn.workingToColorSpace(ks.copy(this),n),e.r=ks.r,e.g=ks.g,e.b=ks.b,e}getStyle(e=wi){Kn.workingToColorSpace(ks.copy(this),e);const n=ks.r,r=ks.g,i=ks.b;return e!==wi?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(xd),this.setHSL(xd.h+e,xd.s+n,xd.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(xd),e.getHSL(yE);const r=jb(xd.h,yE.h,n),i=jb(xd.s,yE.s,n),s=jb(xd.l,yE.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const ks=new Et;Et.NAMES=Hoe;let ike=0;class Ai extends $c{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:ike++}),this.uuid=bo(),this.name="",this.type="Material",this.blending=Pp,this.side=Lc,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=bM,this.blendDst=wM,this.blendEquation=Fd,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.blendColor=new Et(0,0,0),this.blendAlpha=0,this.depthFunc=qp,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=QL,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Uh,this.stencilZFail=Uh,this.stencilZPass=Uh,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.allowOverride=!0,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){Pt(`Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){Pt(`Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.7,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity!==void 0&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.sheenColorMap&&this.sheenColorMap.isTexture&&(r.sheenColorMap=this.sheenColorMap.toJSON(e).uuid),this.sheenRoughnessMap&&this.sheenRoughnessMap.isTexture&&(r.sheenRoughnessMap=this.sheenRoughnessMap.toJSON(e).uuid),this.dispersion!==void 0&&(r.dispersion=this.dispersion),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapRotation!==void 0&&(r.envMapRotation=this.envMapRotation.toArray()),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Pp&&(r.blending=this.blending),this.side!==Lc&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),this.blendSrc!==bM&&(r.blendSrc=this.blendSrc),this.blendDst!==wM&&(r.blendDst=this.blendDst),this.blendEquation!==Fd&&(r.blendEquation=this.blendEquation),this.blendSrcAlpha!==null&&(r.blendSrcAlpha=this.blendSrcAlpha),this.blendDstAlpha!==null&&(r.blendDstAlpha=this.blendDstAlpha),this.blendEquationAlpha!==null&&(r.blendEquationAlpha=this.blendEquationAlpha),this.blendColor&&this.blendColor.isColor&&(r.blendColor=this.blendColor.getHex()),this.blendAlpha!==0&&(r.blendAlpha=this.blendAlpha),this.depthFunc!==qp&&(r.depthFunc=this.depthFunc),this.depthTest===!1&&(r.depthTest=this.depthTest),this.depthWrite===!1&&(r.depthWrite=this.depthWrite),this.colorWrite===!1&&(r.colorWrite=this.colorWrite),this.stencilWriteMask!==255&&(r.stencilWriteMask=this.stencilWriteMask),this.stencilFunc!==QL&&(r.stencilFunc=this.stencilFunc),this.stencilRef!==0&&(r.stencilRef=this.stencilRef),this.stencilFuncMask!==255&&(r.stencilFuncMask=this.stencilFuncMask),this.stencilFail!==Uh&&(r.stencilFail=this.stencilFail),this.stencilZFail!==Uh&&(r.stencilZFail=this.stencilZFail),this.stencilZPass!==Uh&&(r.stencilZPass=this.stencilZPass),this.stencilWrite===!0&&(r.stencilWrite=this.stencilWrite),this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.blendColor.copy(e.blendColor),this.blendAlpha=e.blendAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}class Ss extends Ai{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wa,this.combine=Q1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const xu=ske();function ske(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function Ia(t){Math.abs(t)>65504&&Pt("DataUtils.toHalfFloat(): Value out of range."),t=cn(t,-65504,65504),xu.floatView[0]=t;const e=xu.uint32View[0],n=e>>23&511;return xu.baseTable[n]+((e&8388607)>>xu.shiftTable[n])}function ab(t){const e=t>>10;return xu.uint32View[0]=xu.mantissaTable[xu.offsetTable[e]+(t&1023)]+xu.exponentTable[e],xu.floatView[0]}class dp{static toHalfFloat(e){return Ia(e)}static fromHalfFloat(e){return ab(e)}}const Ni=new J,xE=new Ve;let ake=0;class wn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,Object.defineProperty(this,"id",{value:ake++}),this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Bw,this.updateRanges=[],this.gpuType=ti,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)xE.fromBufferAttribute(this,n),xE.applyMatrix3(e),this.setXY(n,xE.x,xE.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)Ni.fromBufferAttribute(this,n),Ni.applyMatrix3(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)Ni.fromBufferAttribute(this,n),Ni.applyMatrix4(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Ni.fromBufferAttribute(this,n),Ni.applyNormalMatrix(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Ni.fromBufferAttribute(this,n),Ni.transformDirection(e),this.setXYZ(n,Ni.x,Ni.y,Ni.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=ha(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Rn(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=ha(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=ha(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=ha(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=ha(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array),i=Rn(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array),i=Rn(i,this.array),s=Rn(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Bw&&(e.usage=this.usage),e}}class oke extends wn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class lke extends wn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class cke extends wn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class uke extends wn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class $B extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class dke extends wn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class HB extends wn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class fke extends wn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ab(this.array[e*this.itemSize]);return this.normalized&&(n=ha(n,this.array)),n}setX(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize]=Ia(n),this}getY(e){let n=ab(this.array[e*this.itemSize+1]);return this.normalized&&(n=ha(n,this.array)),n}setY(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+1]=Ia(n),this}getZ(e){let n=ab(this.array[e*this.itemSize+2]);return this.normalized&&(n=ha(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+2]=Ia(n),this}getW(e){let n=ab(this.array[e*this.itemSize+3]);return this.normalized&&(n=ha(n,this.array)),n}setW(e,n){return this.normalized&&(n=Rn(n,this.array)),this.array[e*this.itemSize+3]=Ia(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array)),this.array[e+0]=Ia(n),this.array[e+1]=Ia(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array),i=Rn(i,this.array)),this.array[e+0]=Ia(n),this.array[e+1]=Ia(r),this.array[e+2]=Ia(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array),i=Rn(i,this.array),s=Rn(s,this.array)),this.array[e+0]=Ia(n),this.array[e+1]=Ia(r),this.array[e+2]=Ia(i),this.array[e+3]=Ia(s),this}}class Vt extends wn{constructor(e,n,r){super(new Float32Array(e),n,r)}}let hke=0;const jo=new It,t3=new $n,lg=new J,ro=new Qi,bx=new Qi,ls=new J;class un extends $c{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:hke++}),this.uuid=bo(),this.name="",this.type="BufferGeometry",this.index=null,this.indirect=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(zoe(e)?HB:$B)(e,1):this.index=e,this}setIndirect(e){return this.indirect=e,this}getIndirect(){return this.indirect}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new yn().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return jo.makeRotationFromQuaternion(e),this.applyMatrix4(jo),this}rotateX(e){return jo.makeRotationX(e),this.applyMatrix4(jo),this}rotateY(e){return jo.makeRotationY(e),this.applyMatrix4(jo),this}rotateZ(e){return jo.makeRotationZ(e),this.applyMatrix4(jo),this}translate(e,n,r){return jo.makeTranslation(e,n,r),this.applyMatrix4(jo),this}scale(e,n,r){return jo.makeScale(e,n,r),this.applyMatrix4(jo),this}lookAt(e){return t3.lookAt(e),t3.updateMatrix(),this.applyMatrix4(t3.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(lg).negate(),this.translate(lg.x,lg.y,lg.z),this}setFromPoints(e){const n=this.getAttribute("position");if(n===void 0){const r=[];for(let i=0,s=e.length;i<s;i++){const a=e[i];r.push(a.x,a.y,a.z||0)}this.setAttribute("position",new Vt(r,3))}else{const r=Math.min(e.length,n.count);for(let i=0;i<r;i++){const s=e[i];n.setXYZ(i,s.x,s.y,s.z||0)}e.length>n.count&&Pt("BufferGeometry: Buffer size too small for points data. Use .dispose() and create a new geometry."),n.needsUpdate=!0}return this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qi);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){hn("BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box.",this),this.boundingBox.set(new J(-1/0,-1/0,-1/0),new J(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];ro.setFromBufferAttribute(s),this.morphTargetsRelative?(ls.addVectors(this.boundingBox.min,ro.min),this.boundingBox.expandByPoint(ls),ls.addVectors(this.boundingBox.max,ro.max),this.boundingBox.expandByPoint(ls)):(this.boundingBox.expandByPoint(ro.min),this.boundingBox.expandByPoint(ro.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&hn('BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ti);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){hn("BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere.",this),this.boundingSphere.set(new J,1/0);return}if(e){const r=this.boundingSphere.center;if(ro.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];bx.setFromBufferAttribute(o),this.morphTargetsRelative?(ls.addVectors(ro.min,bx.min),ro.expandByPoint(ls),ls.addVectors(ro.max,bx.max),ro.expandByPoint(ls)):(ro.expandByPoint(bx.min),ro.expandByPoint(bx.max))}ro.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)ls.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(ls));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)ls.fromBufferAttribute(o,c),l&&(lg.fromBufferAttribute(e,c),ls.add(lg)),i=Math.max(i,r.distanceToSquared(ls))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&hn('BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){hn("BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=n.position,i=n.normal,s=n.uv;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new wn(new Float32Array(4*r.count),4));const a=this.getAttribute("tangent"),o=[],l=[];for(let R=0;R<r.count;R++)o[R]=new J,l[R]=new J;const c=new J,u=new J,d=new J,f=new Ve,h=new Ve,m=new Ve,g=new J,v=new J;function y(R,P,O){c.fromBufferAttribute(r,R),u.fromBufferAttribute(r,P),d.fromBufferAttribute(r,O),f.fromBufferAttribute(s,R),h.fromBufferAttribute(s,P),m.fromBufferAttribute(s,O),u.sub(c),d.sub(c),h.sub(f),m.sub(f);const k=1/(h.x*m.y-m.x*h.y);isFinite(k)&&(g.copy(u).multiplyScalar(m.y).addScaledVector(d,-h.y).multiplyScalar(k),v.copy(d).multiplyScalar(h.x).addScaledVector(u,-m.x).multiplyScalar(k),o[R].add(g),o[P].add(g),o[O].add(g),l[R].add(v),l[P].add(v),l[O].add(v))}let w=this.groups;w.length===0&&(w=[{start:0,count:e.count}]);for(let R=0,P=w.length;R<P;++R){const O=w[R],k=O.start,I=O.count;for(let F=k,L=k+I;F<L;F+=3)y(e.getX(F+0),e.getX(F+1),e.getX(F+2))}const _=new J,S=new J,E=new J,A=new J;function M(R){E.fromBufferAttribute(i,R),A.copy(E);const P=o[R];_.copy(P),_.sub(E.multiplyScalar(E.dot(P))).normalize(),S.crossVectors(A,P);const k=S.dot(l[R])<0?-1:1;a.setXYZW(R,_.x,_.y,_.z,k)}for(let R=0,P=w.length;R<P;++R){const O=w[R],k=O.start,I=O.count;for(let F=k,L=k+I;F<L;F+=3)M(e.getX(F+0)),M(e.getX(F+1)),M(e.getX(F+2))}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new wn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let f=0,h=r.count;f<h;f++)r.setXYZ(f,0,0,0);const i=new J,s=new J,a=new J,o=new J,l=new J,c=new J,u=new J,d=new J;if(e)for(let f=0,h=e.count;f<h;f+=3){const m=e.getX(f+0),g=e.getX(f+1),v=e.getX(f+2);i.fromBufferAttribute(n,m),s.fromBufferAttribute(n,g),a.fromBufferAttribute(n,v),u.subVectors(a,s),d.subVectors(i,s),u.cross(d),o.fromBufferAttribute(r,m),l.fromBufferAttribute(r,g),c.fromBufferAttribute(r,v),o.add(u),l.add(u),c.add(u),r.setXYZ(m,o.x,o.y,o.z),r.setXYZ(g,l.x,l.y,l.z),r.setXYZ(v,c.x,c.y,c.z)}else for(let f=0,h=n.count;f<h;f+=3)i.fromBufferAttribute(n,f+0),s.fromBufferAttribute(n,f+1),a.fromBufferAttribute(n,f+2),u.subVectors(a,s),d.subVectors(i,s),u.cross(d),r.setXYZ(f+0,u.x,u.y,u.z),r.setXYZ(f+1,u.x,u.y,u.z),r.setXYZ(f+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)ls.fromBufferAttribute(e,n),ls.normalize(),e.setXYZ(n,ls.x,ls.y,ls.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,d=o.normalized,f=new c.constructor(l.length*u);let h=0,m=0;for(let g=0,v=l.length;g<v;g++){o.isInterleavedBufferAttribute?h=l[g]*o.data.stride+o.offset:h=l[g]*u;for(let y=0;y<u;y++)f[m++]=c[h++]}return new wn(f,u,d)}if(this.index===null)return Pt("BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new un,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,d=c.length;u<d;u++){const f=c[u],h=e(f,r);l.push(h)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.7,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d];u.push(h.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere=o.toJSON()),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone());const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],d=s[c];for(let f=0,h=d.length;f<h;f++)u.push(d[f].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const d=a[c];this.addGroup(d.start,d.count,d.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const NW=new It,gh=new Uc,bE=new Ti,IW=new J,wE=new J,_E=new J,SE=new J,n3=new J,EE=new J,kW=new J,TE=new J;class Wn extends $n{constructor(e=new un,n=new Ss){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.count=1,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){EE.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=o[l],d=s[l];u!==0&&(n3.fromBufferAttribute(d,e),a?EE.addScaledVector(n3,u):EE.addScaledVector(n3.sub(n),u))}n.add(EE)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),bE.copy(r.boundingSphere),bE.applyMatrix4(s),gh.copy(e.ray).recast(e.near),!(bE.containsPoint(gh.origin)===!1&&(gh.intersectSphere(bE,IW)===null||gh.origin.distanceToSquared(IW)>(e.far-e.near)**2))&&(NW.copy(s).invert(),gh.copy(e.ray).applyMatrix4(NW),!(r.boundingBox!==null&&gh.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,gh)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,d=s.attributes.normal,f=s.groups,h=s.drawRange;if(o!==null)if(Array.isArray(a))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=a[v.materialIndex],w=Math.max(v.start,h.start),_=Math.min(o.count,Math.min(v.start+v.count,h.start+h.count));for(let S=w,E=_;S<E;S+=3){const A=o.getX(S),M=o.getX(S+1),R=o.getX(S+2);i=AE(this,y,e,r,c,u,d,A,M,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),g=Math.min(o.count,h.start+h.count);for(let v=m,y=g;v<y;v+=3){const w=o.getX(v),_=o.getX(v+1),S=o.getX(v+2);i=AE(this,a,e,r,c,u,d,w,_,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let m=0,g=f.length;m<g;m++){const v=f[m],y=a[v.materialIndex],w=Math.max(v.start,h.start),_=Math.min(l.count,Math.min(v.start+v.count,h.start+h.count));for(let S=w,E=_;S<E;S+=3){const A=S,M=S+1,R=S+2;i=AE(this,y,e,r,c,u,d,A,M,R),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=v.materialIndex,n.push(i))}}else{const m=Math.max(0,h.start),g=Math.min(l.count,h.start+h.count);for(let v=m,y=g;v<y;v+=3){const w=v,_=v+1,S=v+2;i=AE(this,a,e,r,c,u,d,w,_,S),i&&(i.faceIndex=Math.floor(v/3),n.push(i))}}}}function pke(t,e,n,r,i,s,a,o){let l;if(e.side===Gs?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===Lc,o),l===null)return null;TE.copy(o),TE.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(TE);return c<n.near||c>n.far?null:{distance:c,point:TE.clone(),object:t}}function AE(t,e,n,r,i,s,a,o,l,c){t.getVertexPosition(o,wE),t.getVertexPosition(l,_E),t.getVertexPosition(c,SE);const u=pke(t,e,n,r,wE,_E,SE,kW);if(u){const d=new J;Vs.getBarycoord(kW,wE,_E,SE,d),i&&(u.uv=Vs.getInterpolatedAttribute(i,o,l,c,d,new Ve)),s&&(u.uv1=Vs.getInterpolatedAttribute(s,o,l,c,d,new Ve)),a&&(u.normal=Vs.getInterpolatedAttribute(a,o,l,c,d,new J),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new J,materialIndex:0};Vs.getNormal(wE,_E,SE,f.normal),u.face=f,u.barycoord=d}return u}class $f extends un{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],d=[];let f=0,h=0;m("z","y","x",-1,-1,r,n,e,a,s,0),m("z","y","x",1,-1,r,n,-e,a,s,1),m("x","z","y",1,1,e,r,n,i,a,2),m("x","z","y",1,-1,e,r,-n,i,a,3),m("x","y","z",1,-1,e,n,r,i,s,4),m("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new Vt(c,3)),this.setAttribute("normal",new Vt(u,3)),this.setAttribute("uv",new Vt(d,2));function m(g,v,y,w,_,S,E,A,M,R,P){const O=S/M,k=E/R,I=S/2,F=E/2,L=A/2,V=M+1,z=R+1;let K=0,j=0;const U=new J;for(let $=0;$<z;$++){const G=$*k-F;for(let X=0;X<V;X++){const Q=X*O-I;U[g]=Q*w,U[v]=G*_,U[y]=L,c.push(U.x,U.y,U.z),U[g]=0,U[v]=0,U[y]=A>0?1:-1,u.push(U.x,U.y,U.z),d.push(X/M),d.push(1-$/R),K+=1}}for(let $=0;$<R;$++)for(let G=0;G<M;G++){const X=f+G+V*$,Q=f+G+V*($+1),oe=f+(G+1)+V*($+1),de=f+(G+1)+V*$;l.push(X,Q,de),l.push(Q,oe,de),j+=6}o.addGroup(h,j,P),h+=j,f+=K}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $f(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function h0(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(Pt("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function aa(t){const e={};for(let n=0;n<t.length;n++){const r=h0(t[n]);for(const i in r)e[i]=r[i]}return e}function mke(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function Goe(t){const e=t.getRenderTarget();return e===null?t.outputColorSpace:e.isXRRenderTarget===!0?e.texture.colorSpace:Kn.workingColorSpace}const GB={clone:h0,merge:aa};var gke=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,vke=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class Vi extends Ai{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=gke,this.fragmentShader=vke,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={clipCullDistance:!1,multiDraw:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=h0(e.uniforms),this.uniformsGroups=mke(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}class uy extends $n{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new It,this.projectionMatrix=new It,this.projectionMatrixInverse=new It,this.coordinateSystem=vo,this._reversedDepth=!1}get reversedDepth(){return this._reversedDepth}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}const bd=new J,DW=new Ve,LW=new Ve;class Ur extends uy{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=f0*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(Rp*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return f0*2*Math.atan(Math.tan(Rp*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}getViewBounds(e,n,r){bd.set(-1,-1,.5).applyMatrix4(this.projectionMatrixInverse),n.set(bd.x,bd.y).multiplyScalar(-e/bd.z),bd.set(1,1,.5).applyMatrix4(this.projectionMatrixInverse),r.set(bd.x,bd.y).multiplyScalar(-e/bd.z)}getViewSize(e,n){return this.getViewBounds(e,DW,LW),n.subVectors(LW,DW)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(Rp*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const cg=-90,ug=1;class Woe extends $n{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new Ur(cg,ug,e,n);i.layers=this.layers,this.add(i);const s=new Ur(cg,ug,e,n);s.layers=this.layers,this.add(s);const a=new Ur(cg,ug,e,n);a.layers=this.layers,this.add(a);const o=new Ur(cg,ug,e,n);o.layers=this.layers,this.add(o);const l=new Ur(cg,ug,e,n);l.layers=this.layers,this.add(l);const c=new Ur(cg,ug,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===vo)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===u0)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,u]=this.children,d=e.getRenderTarget(),f=e.getActiveCubeFace(),h=e.getActiveMipmapLevel(),m=e.xr.enabled;e.xr.enabled=!1;const g=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=g,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(d,f,h),e.xr.enabled=m,r.texture.needsPMREMUpdate=!0}}class i_ extends ar{constructor(e=[],n=jc,r,i,s,a,o,l,c,u){super(e,n,r,i,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class WB extends mi{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];this.texture=new i_(i),this._setTextureOptions(n),this.texture.isRenderTargetTexture=!0}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new $f(5,5,5),s=new Vi({name:"CubemapFromEquirect",uniforms:h0(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:Gs,blending:tl});s.uniforms.tEquirect.value=n;const a=new Wn(i,s),o=n.minFilter;return n.minFilter===Zo&&(n.minFilter=Nn),new Woe(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n=!0,r=!0,i=!0){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}let Eu=class extends $n{constructor(){super(),this.isGroup=!0,this.type="Group"}};const yke={type:"move"};class sA{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Eu,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Eu,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new J,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new J),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Eu,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new J,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new J),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const g of e.hand.values()){const v=n.getJointPose(g,r),y=this._getHandJoint(c,g);v!==null&&(y.matrix.fromArray(v.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=v.radius),y.visible=v!==null}const u=c.joints["index-finger-tip"],d=c.joints["thumb-tip"],f=u.position.distanceTo(d.position),h=.02,m=.005;c.inputState.pinching&&f>h+m?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&f<=h-m&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(yke)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Eu;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class UP{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new Et(e),this.density=n}clone(){return new UP(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class BP{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new Et(e),this.near=n,this.far=r}clone(){return new BP(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class dy extends $n{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.backgroundRotation=new wa,this.environmentIntensity=1,this.environmentRotation=new wa,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,this.backgroundRotation.copy(e.backgroundRotation),this.environmentIntensity=e.environmentIntensity,this.environmentRotation.copy(e.environmentRotation),e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n.object.backgroundRotation=this.backgroundRotation.toArray(),this.environmentIntensity!==1&&(n.object.environmentIntensity=this.environmentIntensity),n.object.environmentRotation=this.environmentRotation.toArray(),n}}class s_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Bw,this.updateRanges=[],this.version=0,this.uuid=bo()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}addUpdateRange(e,n){this.updateRanges.push({start:e,count:n})}clearUpdateRanges(){this.updateRanges.length=0}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=bo()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const ia=new J;class Pf{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)ia.fromBufferAttribute(this,n),ia.applyMatrix4(e),this.setXYZ(n,ia.x,ia.y,ia.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)ia.fromBufferAttribute(this,n),ia.applyNormalMatrix(e),this.setXYZ(n,ia.x,ia.y,ia.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)ia.fromBufferAttribute(this,n),ia.transformDirection(e),this.setXYZ(n,ia.x,ia.y,ia.z);return this}getComponent(e,n){let r=this.array[e*this.data.stride+this.offset+n];return this.normalized&&(r=ha(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Rn(r,this.array)),this.data.array[e*this.data.stride+this.offset+n]=r,this}setX(e,n){return this.normalized&&(n=Rn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Rn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=ha(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=ha(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=ha(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=ha(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array),i=Rn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Rn(n,this.array),r=Rn(r,this.array),i=Rn(i,this.array),s=Rn(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){Vw("InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new wn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Pf(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){Vw("InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class XB extends Ai{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let dg;const wx=new J,fg=new J,hg=new J,pg=new Ve,_x=new Ve,Xoe=new It,ME=new J,Sx=new J,CE=new J,jW=new Ve,r3=new Ve,FW=new Ve;class qoe extends $n{constructor(e=new XB){if(super(),this.isSprite=!0,this.type="Sprite",dg===void 0){dg=new un;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new s_(n,5);dg.setIndex([0,1,2,0,2,3]),dg.setAttribute("position",new Pf(r,3,0,!1)),dg.setAttribute("uv",new Pf(r,2,3,!1))}this.geometry=dg,this.material=e,this.center=new Ve(.5,.5),this.count=1}raycast(e,n){e.camera===null&&hn('Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),fg.setFromMatrixScale(this.matrixWorld),Xoe.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),hg.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&fg.multiplyScalar(-hg.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;PE(ME.set(-.5,-.5,0),hg,a,fg,i,s),PE(Sx.set(.5,-.5,0),hg,a,fg,i,s),PE(CE.set(.5,.5,0),hg,a,fg,i,s),jW.set(0,0),r3.set(1,0),FW.set(1,1);let o=e.ray.intersectTriangle(ME,Sx,CE,!1,wx);if(o===null&&(PE(Sx.set(-.5,.5,0),hg,a,fg,i,s),r3.set(0,1),o=e.ray.intersectTriangle(ME,CE,Sx,!1,wx),o===null))return;const l=e.ray.origin.distanceTo(wx);l<e.near||l>e.far||n.push({distance:l,point:wx.clone(),uv:Vs.getInterpolation(wx,ME,Sx,CE,jW,r3,FW,new Ve),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function PE(t,e,n,r,i,s){pg.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(_x.x=s*pg.x-i*pg.y,_x.y=i*pg.x+s*pg.y):_x.copy(pg),t.copy(e),t.x+=_x.x,t.y+=_x.y,t.applyMatrix4(Xoe)}const RE=new J,UW=new J;class Koe extends $n{constructor(){super(),this.isLOD=!0,this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}removeLevel(e){const n=this.levels;for(let r=0;r<n.length;r++)if(n[r].distance===e){const i=n.splice(r,1);return this.remove(i[0].object),!0}return!1}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){RE.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(RE);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){RE.setFromMatrixPosition(e.matrixWorld),UW.setFromMatrixPosition(this.matrixWorld);const r=RE.distanceTo(UW)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const BW=new J,zW=new Ln,VW=new Ln,xke=new J,$W=new It,OE=new J,i3=new Ti,HW=new It,s3=new Uc;class qB extends Wn{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode=ZL,this.bindMatrix=new It,this.bindMatrixInverse=new It,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Qi),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,OE),this.boundingBox.expandByPoint(OE)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ti),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)this.getVertexPosition(r,OE),this.boundingSphere.expandByPoint(OE)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),i3.copy(this.boundingSphere),i3.applyMatrix4(i),e.ray.intersectsSphere(i3)!==!1&&(HW.copy(i).invert(),s3.copy(e.ray).applyMatrix4(HW),!(this.boundingBox!==null&&s3.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,s3)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new Ln,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode===ZL?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode===Moe?this.bindMatrixInverse.copy(this.bindMatrix).invert():Pt("SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;zW.fromBufferAttribute(i.attributes.skinIndex,e),VW.fromBufferAttribute(i.attributes.skinWeight,e),BW.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=VW.getComponent(s);if(a!==0){const o=zW.getComponent(s);$W.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(xke.copy(BW).applyMatrix4($W),a)}}return n.applyMatrix4(this.bindMatrixInverse)}}class zP extends $n{constructor(){super(),this.isBone=!0,this.type="Bone"}}class nl extends ar{constructor(e=null,n=1,r=1,i,s,a,o,l,c=Ji,u=Ji,d,f){super(null,a,o,l,c,u,i,s,d,f),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const GW=new It,bke=new It;let KB=class Yoe{constructor(e=[],n=[]){this.uuid=bo(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){Pt("Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new It)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new It;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:bke;GW.multiplyMatrices(o,n[s]),GW.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new Yoe(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new nl(n,e,e,Si,ti);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(Pt("Skeleton: No bone found with UUID:",s),a=new zP),this.bones.push(a),this.boneInverses.push(new It().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.7,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}};class Rf extends wn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const mg=new It,WW=new It,NE=[],XW=new Qi,wke=new It,Ex=new Wn,Tx=new Ti;class VP extends Wn{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Rf(new Float32Array(r*16),16),this.instanceColor=null,this.morphTexture=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,wke)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Qi),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,mg),XW.copy(e.boundingBox).applyMatrix4(mg),this.boundingBox.union(XW)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ti),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,mg),Tx.copy(e.boundingSphere).applyMatrix4(mg),this.boundingSphere.union(Tx)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.morphTexture!==null&&(this.morphTexture=e.morphTexture.clone()),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}getMorphAt(e,n){const r=n.morphTargetInfluences,i=this.morphTexture.source.data.data,s=r.length+1,a=e*s+1;for(let o=0;o<r.length;o++)r[o]=i[a+o]}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Ex.geometry=this.geometry,Ex.material=this.material,Ex.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Tx.copy(this.boundingSphere),Tx.applyMatrix4(r),e.ray.intersectsSphere(Tx)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,mg),WW.multiplyMatrices(r,mg),Ex.matrixWorld=WW,Ex.raycast(e,NE);for(let a=0,o=NE.length;a<o;a++){const l=NE[a];l.instanceId=s,l.object=this,n.push(l)}NE.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Rf(new Float32Array(this.instanceMatrix.count*3).fill(1),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}setMorphAt(e,n){const r=n.morphTargetInfluences,i=r.length+1;this.morphTexture===null&&(this.morphTexture=new nl(new Float32Array(i*this.count),i,this.count,t_,ti));const s=this.morphTexture.source.data.data;let a=0;for(let c=0;c<r.length;c++)a+=r[c];const o=this.geometry.morphTargetsRelative?1:1-a,l=i*e;s[l]=o,s.set(r,l+1)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"}),this.morphTexture!==null&&(this.morphTexture.dispose(),this.morphTexture=null)}}const a3=new J,_ke=new J,Ske=new yn;class Ua{constructor(e=new J(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=a3.subVectors(r,n).cross(_ke.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(a3),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||Ske.getNormalMatrix(e),i=this.coplanarPoint(a3).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const vh=new Ti,Eke=new Ve(.5,.5),IE=new J;class fy{constructor(e=new Ua,n=new Ua,r=new Ua,i=new Ua,s=new Ua,a=new Ua){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=vo,r=!1){const i=this.planes,s=e.elements,a=s[0],o=s[1],l=s[2],c=s[3],u=s[4],d=s[5],f=s[6],h=s[7],m=s[8],g=s[9],v=s[10],y=s[11],w=s[12],_=s[13],S=s[14],E=s[15];if(i[0].setComponents(c-a,h-u,y-m,E-w).normalize(),i[1].setComponents(c+a,h+u,y+m,E+w).normalize(),i[2].setComponents(c+o,h+d,y+g,E+_).normalize(),i[3].setComponents(c-o,h-d,y-g,E-_).normalize(),r)i[4].setComponents(l,f,v,S).normalize(),i[5].setComponents(c-l,h-f,y-v,E-S).normalize();else if(i[4].setComponents(c-l,h-f,y-v,E-S).normalize(),n===vo)i[5].setComponents(c+l,h+f,y+v,E+S).normalize();else if(n===u0)i[5].setComponents(l,f,v,S).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),vh.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),vh.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(vh)}intersectsSprite(e){vh.center.set(0,0,0);const n=Eke.distanceTo(e.center);return vh.radius=.7071067811865476+n,vh.applyMatrix4(e.matrixWorld),this.intersectsSphere(vh)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(IE.x=i.normal.x>0?e.max.x:e.min.x,IE.y=i.normal.y>0?e.max.y:e.min.y,IE.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(IE)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}const cc=new It,uc=new fy;class $P{constructor(){this.coordinateSystem=vo}intersectsObject(e,n){if(!n.isArrayCamera||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(cc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),uc.setFromProjectionMatrix(cc,i.coordinateSystem,i.reversedDepth),uc.intersectsObject(e))return!0}return!1}intersectsSprite(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(cc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),uc.setFromProjectionMatrix(cc,i.coordinateSystem,i.reversedDepth),uc.intersectsSprite(e))return!0}return!1}intersectsSphere(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(cc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),uc.setFromProjectionMatrix(cc,i.coordinateSystem,i.reversedDepth),uc.intersectsSphere(e))return!0}return!1}intersectsBox(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(cc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),uc.setFromProjectionMatrix(cc,i.coordinateSystem,i.reversedDepth),uc.intersectsBox(e))return!0}return!1}containsPoint(e,n){if(!n||!n.cameras||n.cameras.length===0)return!1;for(let r=0;r<n.cameras.length;r++){const i=n.cameras[r];if(cc.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),uc.setFromProjectionMatrix(cc,i.coordinateSystem,i.reversedDepth),uc.containsPoint(e))return!0}return!1}clone(){return new $P}}function o3(t,e){return t-e}function Tke(t,e){return t.z-e.z}function Ake(t,e){return e.z-t.z}class Mke{constructor(){this.index=0,this.pool=[],this.list=[]}push(e,n,r,i){const s=this.pool,a=this.list;this.index>=s.length&&s.push({start:-1,count:-1,z:-1,index:-1});const o=s[this.index];a.push(o),this.index++,o.start=e,o.count=n,o.z=r,o.index=i}reset(){this.list.length=0,this.index=0}}const Oa=new It,Cke=new Et(1,1,1),qW=new fy,Pke=new $P,kE=new Qi,yh=new Ti,Ax=new J,KW=new J,Rke=new J,l3=new Mke,Ds=new Wn,DE=[];function Oke(t,e,n=0){const r=e.itemSize;if(t.isInterleavedBufferAttribute||t.array.constructor!==e.array.constructor){const i=t.count;for(let s=0;s<i;s++)for(let a=0;a<r;a++)e.setComponent(s+n,a,t.getComponent(s,a))}else e.array.set(t.array,n*r);e.needsUpdate=!0}function xh(t,e){if(t.constructor!==e.constructor){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++)e[r]=t[r]}else{const n=Math.min(t.length,e.length);e.set(new t.constructor(t.buffer,0,n))}}class Zoe extends Wn{constructor(e,n,r=n*2,i){super(new un,i),this.isBatchedMesh=!0,this.perObjectFrustumCulled=!0,this.sortObjects=!0,this.boundingBox=null,this.boundingSphere=null,this.customSort=null,this._instanceInfo=[],this._geometryInfo=[],this._availableInstanceIds=[],this._availableGeometryIds=[],this._nextIndexStart=0,this._nextVertexStart=0,this._geometryCount=0,this._visibilityChanged=!0,this._geometryInitialized=!1,this._maxInstanceCount=e,this._maxVertexCount=n,this._maxIndexCount=r,this._multiDrawCounts=new Int32Array(e),this._multiDrawStarts=new Int32Array(e),this._multiDrawCount=0,this._multiDrawInstances=null,this._matricesTexture=null,this._indirectTexture=null,this._colorsTexture=null,this._initMatricesTexture(),this._initIndirectTexture()}get maxInstanceCount(){return this._maxInstanceCount}get instanceCount(){return this._instanceInfo.length-this._availableInstanceIds.length}get unusedVertexCount(){return this._maxVertexCount-this._nextVertexStart}get unusedIndexCount(){return this._maxIndexCount-this._nextIndexStart}_initMatricesTexture(){let e=Math.sqrt(this._maxInstanceCount*4);e=Math.ceil(e/4)*4,e=Math.max(e,4);const n=new Float32Array(e*e*4),r=new nl(n,e,e,Si,ti);this._matricesTexture=r}_initIndirectTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Uint32Array(e*e),r=new nl(n,e,e,n_,Fc);this._indirectTexture=r}_initColorsTexture(){let e=Math.sqrt(this._maxInstanceCount);e=Math.ceil(e);const n=new Float32Array(e*e*4).fill(1),r=new nl(n,e,e,Si,ti);r.colorSpace=Kn.workingColorSpace,this._colorsTexture=r}_initializeGeometry(e){const n=this.geometry,r=this._maxVertexCount,i=this._maxIndexCount;if(this._geometryInitialized===!1){for(const s in e.attributes){const a=e.getAttribute(s),{array:o,itemSize:l,normalized:c}=a,u=new o.constructor(r*l),d=new wn(u,l,c);n.setAttribute(s,d)}if(e.getIndex()!==null){const s=r>65535?new Uint32Array(i):new Uint16Array(i);n.setIndex(new wn(s,1))}this._geometryInitialized=!0}}_validateGeometry(e){const n=this.geometry;if(!!e.getIndex()!=!!n.getIndex())throw new Error('THREE.BatchedMesh: All geometries must consistently have "index".');for(const r in n.attributes){if(!e.hasAttribute(r))throw new Error(`THREE.BatchedMesh: Added geometry missing "${r}". All geometries must have consistent attributes.`);const i=e.getAttribute(r),s=n.getAttribute(r);if(i.itemSize!==s.itemSize||i.normalized!==s.normalized)throw new Error("THREE.BatchedMesh: All attributes must have a consistent itemSize and normalized value.")}}validateInstanceId(e){const n=this._instanceInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid instanceId ${e}. Instance is either out of range or has been deleted.`)}validateGeometryId(e){const n=this._geometryInfo;if(e<0||e>=n.length||n[e].active===!1)throw new Error(`THREE.BatchedMesh: Invalid geometryId ${e}. Geometry is either out of range or has been deleted.`)}setCustomSort(e){return this.customSort=e,this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Qi);const e=this.boundingBox,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Oa),this.getBoundingBoxAt(s,kE).applyMatrix4(Oa),e.union(kE)}}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ti);const e=this.boundingSphere,n=this._instanceInfo;e.makeEmpty();for(let r=0,i=n.length;r<i;r++){if(n[r].active===!1)continue;const s=n[r].geometryIndex;this.getMatrixAt(r,Oa),this.getBoundingSphereAt(s,yh).applyMatrix4(Oa),e.union(yh)}}addInstance(e){if(this._instanceInfo.length>=this.maxInstanceCount&&this._availableInstanceIds.length===0)throw new Error("THREE.BatchedMesh: Maximum item count reached.");const r={visible:!0,active:!0,geometryIndex:e};let i=null;this._availableInstanceIds.length>0?(this._availableInstanceIds.sort(o3),i=this._availableInstanceIds.shift(),this._instanceInfo[i]=r):(i=this._instanceInfo.length,this._instanceInfo.push(r));const s=this._matricesTexture;Oa.identity().toArray(s.image.data,i*16),s.needsUpdate=!0;const a=this._colorsTexture;return a&&(Cke.toArray(a.image.data,i*4),a.needsUpdate=!0),this._visibilityChanged=!0,i}addGeometry(e,n=-1,r=-1){this._initializeGeometry(e),this._validateGeometry(e);const i={vertexStart:-1,vertexCount:-1,reservedVertexCount:-1,indexStart:-1,indexCount:-1,reservedIndexCount:-1,start:-1,count:-1,boundingBox:null,boundingSphere:null,active:!0},s=this._geometryInfo;i.vertexStart=this._nextVertexStart,i.reservedVertexCount=n===-1?e.getAttribute("position").count:n;const a=e.getIndex();if(a!==null&&(i.indexStart=this._nextIndexStart,i.reservedIndexCount=r===-1?a.count:r),i.indexStart!==-1&&i.indexStart+i.reservedIndexCount>this._maxIndexCount||i.vertexStart+i.reservedVertexCount>this._maxVertexCount)throw new Error("THREE.BatchedMesh: Reserved space request exceeds the maximum buffer size.");let l;return this._availableGeometryIds.length>0?(this._availableGeometryIds.sort(o3),l=this._availableGeometryIds.shift(),s[l]=i):(l=this._geometryCount,this._geometryCount++,s.push(i)),this.setGeometryAt(l,e),this._nextIndexStart=i.indexStart+i.reservedIndexCount,this._nextVertexStart=i.vertexStart+i.reservedVertexCount,l}setGeometryAt(e,n){if(e>=this._geometryCount)throw new Error("THREE.BatchedMesh: Maximum geometry count reached.");this._validateGeometry(n);const r=this.geometry,i=r.getIndex()!==null,s=r.getIndex(),a=n.getIndex(),o=this._geometryInfo[e];if(i&&a.count>o.reservedIndexCount||n.attributes.position.count>o.reservedVertexCount)throw new Error("THREE.BatchedMesh: Reserved space not large enough for provided geometry.");const l=o.vertexStart,c=o.reservedVertexCount;o.vertexCount=n.getAttribute("position").count;for(const u in r.attributes){const d=n.getAttribute(u),f=r.getAttribute(u);Oke(d,f,l);const h=d.itemSize;for(let m=d.count,g=c;m<g;m++){const v=l+m;for(let y=0;y<h;y++)f.setComponent(v,y,0)}f.needsUpdate=!0,f.addUpdateRange(l*h,c*h)}if(i){const u=o.indexStart,d=o.reservedIndexCount;o.indexCount=n.getIndex().count;for(let f=0;f<a.count;f++)s.setX(u+f,l+a.getX(f));for(let f=a.count,h=d;f<h;f++)s.setX(u+f,l);s.needsUpdate=!0,s.addUpdateRange(u,o.reservedIndexCount)}return o.start=i?o.indexStart:o.vertexStart,o.count=i?o.indexCount:o.vertexCount,o.boundingBox=null,n.boundingBox!==null&&(o.boundingBox=n.boundingBox.clone()),o.boundingSphere=null,n.boundingSphere!==null&&(o.boundingSphere=n.boundingSphere.clone()),this._visibilityChanged=!0,e}deleteGeometry(e){const n=this._geometryInfo;if(e>=n.length||n[e].active===!1)return this;const r=this._instanceInfo;for(let i=0,s=r.length;i<s;i++)r[i].active&&r[i].geometryIndex===e&&this.deleteInstance(i);return n[e].active=!1,this._availableGeometryIds.push(e),this._visibilityChanged=!0,this}deleteInstance(e){return this.validateInstanceId(e),this._instanceInfo[e].active=!1,this._availableInstanceIds.push(e),this._visibilityChanged=!0,this}optimize(){let e=0,n=0;const r=this._geometryInfo,i=r.map((a,o)=>o).sort((a,o)=>r[a].vertexStart-r[o].vertexStart),s=this.geometry;for(let a=0,o=r.length;a<o;a++){const l=i[a],c=r[l];if(c.active!==!1){if(s.index!==null){if(c.indexStart!==n){const{indexStart:u,vertexStart:d,reservedIndexCount:f}=c,h=s.index,m=h.array,g=e-d;for(let v=u;v<u+f;v++)m[v]=m[v]+g;h.array.copyWithin(n,u,u+f),h.addUpdateRange(n,f),c.indexStart=n}n+=c.reservedIndexCount}if(c.vertexStart!==e){const{vertexStart:u,reservedVertexCount:d}=c,f=s.attributes;for(const h in f){const m=f[h],{array:g,itemSize:v}=m;g.copyWithin(e*v,u*v,(u+d)*v),m.addUpdateRange(e*v,d*v)}c.vertexStart=e}e+=c.reservedVertexCount,c.start=s.index?c.indexStart:c.vertexStart,this._nextIndexStart=s.index?c.indexStart+c.reservedIndexCount:0,this._nextVertexStart=c.vertexStart+c.reservedVertexCount}}return this}getBoundingBoxAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingBox===null){const s=new Qi,a=r.index,o=r.attributes.position;for(let l=i.start,c=i.start+i.count;l<c;l++){let u=l;a&&(u=a.getX(u)),s.expandByPoint(Ax.fromBufferAttribute(o,u))}i.boundingBox=s}return n.copy(i.boundingBox),n}getBoundingSphereAt(e,n){if(e>=this._geometryCount)return null;const r=this.geometry,i=this._geometryInfo[e];if(i.boundingSphere===null){const s=new Ti;this.getBoundingBoxAt(e,kE),kE.getCenter(s.center);const a=r.index,o=r.attributes.position;let l=0;for(let c=i.start,u=i.start+i.count;c<u;c++){let d=c;a&&(d=a.getX(d)),Ax.fromBufferAttribute(o,d),l=Math.max(l,s.center.distanceToSquared(Ax))}s.radius=Math.sqrt(l),i.boundingSphere=s}return n.copy(i.boundingSphere),n}setMatrixAt(e,n){this.validateInstanceId(e);const r=this._matricesTexture,i=this._matricesTexture.image.data;return n.toArray(i,e*16),r.needsUpdate=!0,this}getMatrixAt(e,n){return this.validateInstanceId(e),n.fromArray(this._matricesTexture.image.data,e*16)}setColorAt(e,n){return this.validateInstanceId(e),this._colorsTexture===null&&this._initColorsTexture(),n.toArray(this._colorsTexture.image.data,e*4),this._colorsTexture.needsUpdate=!0,this}getColorAt(e,n){return this.validateInstanceId(e),n.fromArray(this._colorsTexture.image.data,e*4)}setVisibleAt(e,n){return this.validateInstanceId(e),this._instanceInfo[e].visible===n?this:(this._instanceInfo[e].visible=n,this._visibilityChanged=!0,this)}getVisibleAt(e){return this.validateInstanceId(e),this._instanceInfo[e].visible}setGeometryIdAt(e,n){return this.validateInstanceId(e),this.validateGeometryId(n),this._instanceInfo[e].geometryIndex=n,this}getGeometryIdAt(e){return this.validateInstanceId(e),this._instanceInfo[e].geometryIndex}getGeometryRangeAt(e,n={}){this.validateGeometryId(e);const r=this._geometryInfo[e];return n.vertexStart=r.vertexStart,n.vertexCount=r.vertexCount,n.reservedVertexCount=r.reservedVertexCount,n.indexStart=r.indexStart,n.indexCount=r.indexCount,n.reservedIndexCount=r.reservedIndexCount,n.start=r.start,n.count=r.count,n}setInstanceCount(e){const n=this._availableInstanceIds,r=this._instanceInfo;for(n.sort(o3);n[n.length-1]===r.length-1;)r.pop(),n.pop();if(e<r.length)throw new Error(`BatchedMesh: Instance ids outside the range ${e} are being used. Cannot shrink instance count.`);const i=new Int32Array(e),s=new Int32Array(e);xh(this._multiDrawCounts,i),xh(this._multiDrawStarts,s),this._multiDrawCounts=i,this._multiDrawStarts=s,this._maxInstanceCount=e;const a=this._indirectTexture,o=this._matricesTexture,l=this._colorsTexture;a.dispose(),this._initIndirectTexture(),xh(a.image.data,this._indirectTexture.image.data),o.dispose(),this._initMatricesTexture(),xh(o.image.data,this._matricesTexture.image.data),l&&(l.dispose(),this._initColorsTexture(),xh(l.image.data,this._colorsTexture.image.data))}setGeometrySize(e,n){const r=[...this._geometryInfo].filter(o=>o.active);if(Math.max(...r.map(o=>o.vertexStart+o.reservedVertexCount))>e)throw new Error(`BatchedMesh: Geometry vertex values are being used outside the range ${n}. Cannot shrink further.`);if(this.geometry.index&&Math.max(...r.map(l=>l.indexStart+l.reservedIndexCount))>n)throw new Error(`BatchedMesh: Geometry index values are being used outside the range ${n}. Cannot shrink further.`);const s=this.geometry;s.dispose(),this._maxVertexCount=e,this._maxIndexCount=n,this._geometryInitialized&&(this._geometryInitialized=!1,this.geometry=new un,this._initializeGeometry(s));const a=this.geometry;s.index&&xh(s.index.array,a.index.array);for(const o in s.attributes)xh(s.attributes[o].array,a.attributes[o].array)}raycast(e,n){const r=this._instanceInfo,i=this._geometryInfo,s=this.matrixWorld,a=this.geometry;Ds.material=this.material,Ds.geometry.index=a.index,Ds.geometry.attributes=a.attributes,Ds.geometry.boundingBox===null&&(Ds.geometry.boundingBox=new Qi),Ds.geometry.boundingSphere===null&&(Ds.geometry.boundingSphere=new Ti);for(let o=0,l=r.length;o<l;o++){if(!r[o].visible||!r[o].active)continue;const c=r[o].geometryIndex,u=i[c];Ds.geometry.setDrawRange(u.start,u.count),this.getMatrixAt(o,Ds.matrixWorld).premultiply(s),this.getBoundingBoxAt(c,Ds.geometry.boundingBox),this.getBoundingSphereAt(c,Ds.geometry.boundingSphere),Ds.raycast(e,DE);for(let d=0,f=DE.length;d<f;d++){const h=DE[d];h.object=this,h.batchId=o,n.push(h)}DE.length=0}Ds.material=null,Ds.geometry.index=null,Ds.geometry.attributes={},Ds.geometry.setDrawRange(0,1/0)}copy(e){return super.copy(e),this.geometry=e.geometry.clone(),this.perObjectFrustumCulled=e.perObjectFrustumCulled,this.sortObjects=e.sortObjects,this.boundingBox=e.boundingBox!==null?e.boundingBox.clone():null,this.boundingSphere=e.boundingSphere!==null?e.boundingSphere.clone():null,this._geometryInfo=e._geometryInfo.map(n=>({...n,boundingBox:n.boundingBox!==null?n.boundingBox.clone():null,boundingSphere:n.boundingSphere!==null?n.boundingSphere.clone():null})),this._instanceInfo=e._instanceInfo.map(n=>({...n})),this._availableInstanceIds=e._availableInstanceIds.slice(),this._availableGeometryIds=e._availableGeometryIds.slice(),this._nextIndexStart=e._nextIndexStart,this._nextVertexStart=e._nextVertexStart,this._geometryCount=e._geometryCount,this._maxInstanceCount=e._maxInstanceCount,this._maxVertexCount=e._maxVertexCount,this._maxIndexCount=e._maxIndexCount,this._geometryInitialized=e._geometryInitialized,this._multiDrawCounts=e._multiDrawCounts.slice(),this._multiDrawStarts=e._multiDrawStarts.slice(),this._indirectTexture=e._indirectTexture.clone(),this._indirectTexture.image.data=this._indirectTexture.image.data.slice(),this._matricesTexture=e._matricesTexture.clone(),this._matricesTexture.image.data=this._matricesTexture.image.data.slice(),this._colorsTexture!==null&&(this._colorsTexture=e._colorsTexture.clone(),this._colorsTexture.image.data=this._colorsTexture.image.data.slice()),this}dispose(){this.geometry.dispose(),this._matricesTexture.dispose(),this._matricesTexture=null,this._indirectTexture.dispose(),this._indirectTexture=null,this._colorsTexture!==null&&(this._colorsTexture.dispose(),this._colorsTexture=null)}onBeforeRender(e,n,r,i,s){if(!this._visibilityChanged&&!this.perObjectFrustumCulled&&!this.sortObjects)return;const a=i.getIndex(),o=a===null?1:a.array.BYTES_PER_ELEMENT,l=this._instanceInfo,c=this._multiDrawStarts,u=this._multiDrawCounts,d=this._geometryInfo,f=this.perObjectFrustumCulled,h=this._indirectTexture,m=h.image.data,g=r.isArrayCamera?Pke:qW;f&&!r.isArrayCamera&&(Oa.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse).multiply(this.matrixWorld),qW.setFromProjectionMatrix(Oa,r.coordinateSystem,r.reversedDepth));let v=0;if(this.sortObjects){Oa.copy(this.matrixWorld).invert(),Ax.setFromMatrixPosition(r.matrixWorld).applyMatrix4(Oa),KW.set(0,0,-1).transformDirection(r.matrixWorld).transformDirection(Oa);for(let _=0,S=l.length;_<S;_++)if(l[_].visible&&l[_].active){const E=l[_].geometryIndex;this.getMatrixAt(_,Oa),this.getBoundingSphereAt(E,yh).applyMatrix4(Oa);let A=!1;if(f&&(A=!g.intersectsSphere(yh,r)),!A){const M=d[E],R=Rke.subVectors(yh.center,Ax).dot(KW);l3.push(M.start,M.count,R,_)}}const y=l3.list,w=this.customSort;w===null?y.sort(s.transparent?Ake:Tke):w.call(this,y,r);for(let _=0,S=y.length;_<S;_++){const E=y[_];c[v]=E.start*o,u[v]=E.count,m[v]=E.index,v++}l3.reset()}else for(let y=0,w=l.length;y<w;y++)if(l[y].visible&&l[y].active){const _=l[y].geometryIndex;let S=!1;if(f&&(this.getMatrixAt(y,Oa),this.getBoundingSphereAt(_,yh).applyMatrix4(Oa),S=!g.intersectsSphere(yh,r)),!S){const E=d[_];c[v]=E.start*o,u[v]=E.count,m[v]=y,v++}}h.needsUpdate=!0,this._multiDrawCount=v,this._visibilityChanged=!1}onBeforeShadow(e,n,r,i,s,a){this.onBeforeRender(e,null,i,s,a)}}class Ks extends Ai{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Et(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const i2=new J,s2=new J,YW=new It,Mx=new Uc,LE=new Ti,c3=new J,ZW=new J;let Vu=class extends $n{constructor(e=new un,n=new Ks){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)i2.fromBufferAttribute(n,i-1),s2.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=i2.distanceTo(s2);e.setAttribute("lineDistance",new Vt(r,1))}else Pt("Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),LE.copy(r.boundingSphere),LE.applyMatrix4(i),LE.radius+=s,e.ray.intersectsSphere(LE)===!1)return;YW.copy(i).invert(),Mx.copy(e.ray).applyMatrix4(YW);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=this.isLineSegments?2:1,u=r.index,f=r.attributes.position;if(u!==null){const h=Math.max(0,a.start),m=Math.min(u.count,a.start+a.count);for(let g=h,v=m-1;g<v;g+=c){const y=u.getX(g),w=u.getX(g+1),_=jE(this,e,Mx,l,y,w,g);_&&n.push(_)}if(this.isLineLoop){const g=u.getX(m-1),v=u.getX(h),y=jE(this,e,Mx,l,g,v,m-1);y&&n.push(y)}}else{const h=Math.max(0,a.start),m=Math.min(f.count,a.start+a.count);for(let g=h,v=m-1;g<v;g+=c){const y=jE(this,e,Mx,l,g,g+1,g);y&&n.push(y)}if(this.isLineLoop){const g=jE(this,e,Mx,l,m-1,h,m-1);g&&n.push(g)}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};function jE(t,e,n,r,i,s,a){const o=t.geometry.attributes.position;if(i2.fromBufferAttribute(o,i),s2.fromBufferAttribute(o,s),n.distanceSqToSegment(i2,s2,c3,ZW)>r)return;c3.applyMatrix4(t.matrixWorld);const c=e.ray.origin.distanceTo(c3);if(!(c<e.near||c>e.far))return{distance:c,point:ZW.clone().applyMatrix4(t.matrixWorld),index:a,face:null,faceIndex:null,barycoord:null,object:t}}const JW=new J,QW=new J;class Jl extends Vu{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)JW.fromBufferAttribute(n,i),QW.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+JW.distanceTo(QW);e.setAttribute("lineDistance",new Vt(r,1))}else Pt("LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class YB extends Vu{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class HP extends Ai{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Et(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const e9=new It,tj=new Uc,FE=new Ti,UE=new J;class ZB extends $n{constructor(e=new un,n=new HP){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.morphTargetDictionary=void 0,this.morphTargetInfluences=void 0,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),FE.copy(r.boundingSphere),FE.applyMatrix4(i),FE.radius+=s,e.ray.intersectsSphere(FE)===!1)return;e9.copy(i).invert(),tj.copy(e.ray).applyMatrix4(e9);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,d=r.attributes.position;if(c!==null){const f=Math.max(0,a.start),h=Math.min(c.count,a.start+a.count);for(let m=f,g=h;m<g;m++){const v=c.getX(m);UE.fromBufferAttribute(d,v),t9(UE,v,l,i,e,n,this)}}else{const f=Math.max(0,a.start),h=Math.min(d.count,a.start+a.count);for(let m=f,g=h;m<g;m++)UE.fromBufferAttribute(d,m),t9(UE,m,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function t9(t,e,n,r,i,s,a){const o=tj.distanceSqToPoint(t);if(o<n){const l=new J;tj.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,faceIndex:null,barycoord:null,object:a})}}class JB extends ar{constructor(e,n,r,i,s=Nn,a=Nn,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.generateMipmaps=!1,this._requestVideoFrameCallbackId=0;const u=this;function d(){u.needsUpdate=!0,u._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d)}"requestVideoFrameCallback"in e&&(this._requestVideoFrameCallbackId=e.requestVideoFrameCallback(d))}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}dispose(){this._requestVideoFrameCallbackId!==0&&(this.source.data.cancelVideoFrameCallback(this._requestVideoFrameCallbackId),this._requestVideoFrameCallbackId=0),super.dispose()}}class Nke extends JB{constructor(e,n,r,i,s,a,o,l){super({},e,n,r,i,s,a,o,l),this.isVideoFrameTexture=!0}update(){}clone(){return new this.constructor().copy(this)}setFrame(e){this.image=e,this.needsUpdate=!0}}class Ike extends ar{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=Ji,this.minFilter=Ji,this.generateMipmaps=!1,this.needsUpdate=!0}}class GP extends ar{constructor(e,n,r,i,s,a,o,l,c,u,d,f){super(null,a,o,l,c,u,i,s,d,f),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class kke extends GP{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=ei,this.layerUpdates=new Set}addLayerUpdate(e){this.layerUpdates.add(e)}clearLayerUpdates(){this.layerUpdates.clear()}}class Dke extends GP{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,jc),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class Lke extends ar{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}class a_ extends ar{constructor(e,n,r=Fc,i,s,a,o=Ji,l=Ji,c,u=Yp,d=1){if(u!==Yp&&u!==o0)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");const f={width:e,height:n,depth:d};super(f,i,s,a,o,l,u,r,c),this.isDepthTexture=!0,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.source=new Kd(Object.assign({},e.image)),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class QB extends ar{constructor(e=null){super(),this.sourceTexture=e,this.isExternalTexture=!0}copy(e){return super.copy(e),this.sourceTexture=e.sourceTexture,this}}class WP extends un{constructor(e=1,n=1,r=4,i=8,s=1){super(),this.type="CapsuleGeometry",this.parameters={radius:e,height:n,capSegments:r,radialSegments:i,heightSegments:s},n=Math.max(0,n),r=Math.max(1,Math.floor(r)),i=Math.max(3,Math.floor(i)),s=Math.max(1,Math.floor(s));const a=[],o=[],l=[],c=[],u=n/2,d=Math.PI/2*e,f=n,h=2*d+f,m=r*2+s,g=i+1,v=new J,y=new J;for(let w=0;w<=m;w++){let _=0,S=0,E=0,A=0;if(w<=r){const P=w/r,O=P*Math.PI/2;S=-u-e*Math.cos(O),E=e*Math.sin(O),A=-e*Math.cos(O),_=P*d}else if(w<=r+s){const P=(w-r)/s;S=-u+P*n,E=e,A=0,_=d+P*f}else{const P=(w-r-s)/r,O=P*Math.PI/2;S=u+e*Math.sin(O),E=e*Math.cos(O),A=e*Math.sin(O),_=d+f+P*d}const M=Math.max(0,Math.min(1,_/h));let R=0;w===0?R=.5/i:w===m&&(R=-.5/i);for(let P=0;P<=i;P++){const O=P/i,k=O*Math.PI*2,I=Math.sin(k),F=Math.cos(k);y.x=-E*F,y.y=S,y.z=E*I,o.push(y.x,y.y,y.z),v.set(-E*F,A,E*I),v.normalize(),l.push(v.x,v.y,v.z),c.push(O+R,M)}if(w>0){const P=(w-1)*g;for(let O=0;O<i;O++){const k=P+O,I=P+O+1,F=w*g+O,L=w*g+O+1;a.push(k,I,F),a.push(I,L,F)}}}this.setIndex(a),this.setAttribute("position",new Vt(o,3)),this.setAttribute("normal",new Vt(l,3)),this.setAttribute("uv",new Vt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new WP(e.radius,e.height,e.capSegments,e.radialSegments,e.heightSegments)}}class XP extends un{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],c=new J,u=new Ve;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let d=0,f=3;d<=n;d++,f+=3){const h=r+d/n*i;c.x=e*Math.cos(h),c.y=e*Math.sin(h),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[f]/e+1)/2,u.y=(a[f+1]/e+1)/2,l.push(u.x,u.y)}for(let d=1;d<=n;d++)s.push(d,d+1,0);this.setIndex(s),this.setAttribute("position",new Vt(a,3)),this.setAttribute("normal",new Vt(o,3)),this.setAttribute("uv",new Vt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new XP(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class o_ extends un{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],d=[],f=[],h=[];let m=0;const g=[],v=r/2;let y=0;w(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new Vt(d,3)),this.setAttribute("normal",new Vt(f,3)),this.setAttribute("uv",new Vt(h,2));function w(){const S=new J,E=new J;let A=0;const M=(n-e)/r;for(let R=0;R<=s;R++){const P=[],O=R/s,k=O*(n-e)+e;for(let I=0;I<=i;I++){const F=I/i,L=F*l+o,V=Math.sin(L),z=Math.cos(L);E.x=k*V,E.y=-O*r+v,E.z=k*z,d.push(E.x,E.y,E.z),S.set(V,M,z).normalize(),f.push(S.x,S.y,S.z),h.push(F,1-O),P.push(m++)}g.push(P)}for(let R=0;R<i;R++)for(let P=0;P<s;P++){const O=g[P][R],k=g[P+1][R],I=g[P+1][R+1],F=g[P][R+1];(e>0||P!==0)&&(u.push(O,k,F),A+=3),(n>0||P!==s-1)&&(u.push(k,I,F),A+=3)}c.addGroup(y,A,0),y+=A}function _(S){const E=m,A=new Ve,M=new J;let R=0;const P=S===!0?e:n,O=S===!0?1:-1;for(let I=1;I<=i;I++)d.push(0,v*O,0),f.push(0,O,0),h.push(.5,.5),m++;const k=m;for(let I=0;I<=i;I++){const L=I/i*l+o,V=Math.cos(L),z=Math.sin(L);M.x=P*z,M.y=v*O,M.z=P*V,d.push(M.x,M.y,M.z),f.push(0,O,0),A.x=V*.5+.5,A.y=z*.5*O+.5,h.push(A.x,A.y),m++}for(let I=0;I<i;I++){const F=E+I,L=k+I;S===!0?u.push(L,L+1,F):u.push(L+1,L,F),R+=3}c.addGroup(y,R,S===!0?1:2),y+=R}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new o_(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class l_ extends o_{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new l_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Hf extends un{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),c(r),u(),this.setAttribute("position",new Vt(s,3)),this.setAttribute("normal",new Vt(s.slice(),3)),this.setAttribute("uv",new Vt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const _=new J,S=new J,E=new J;for(let A=0;A<n.length;A+=3)h(n[A+0],_),h(n[A+1],S),h(n[A+2],E),l(_,S,E,w)}function l(w,_,S,E){const A=E+1,M=[];for(let R=0;R<=A;R++){M[R]=[];const P=w.clone().lerp(S,R/A),O=_.clone().lerp(S,R/A),k=A-R;for(let I=0;I<=k;I++)I===0&&R===A?M[R][I]=P:M[R][I]=P.clone().lerp(O,I/k)}for(let R=0;R<A;R++)for(let P=0;P<2*(A-R)-1;P++){const O=Math.floor(P/2);P%2===0?(f(M[R][O+1]),f(M[R+1][O]),f(M[R][O])):(f(M[R][O+1]),f(M[R+1][O+1]),f(M[R+1][O]))}}function c(w){const _=new J;for(let S=0;S<s.length;S+=3)_.x=s[S+0],_.y=s[S+1],_.z=s[S+2],_.normalize().multiplyScalar(w),s[S+0]=_.x,s[S+1]=_.y,s[S+2]=_.z}function u(){const w=new J;for(let _=0;_<s.length;_+=3){w.x=s[_+0],w.y=s[_+1],w.z=s[_+2];const S=v(w)/2/Math.PI+.5,E=y(w)/Math.PI+.5;a.push(S,1-E)}m(),d()}function d(){for(let w=0;w<a.length;w+=6){const _=a[w+0],S=a[w+2],E=a[w+4],A=Math.max(_,S,E),M=Math.min(_,S,E);A>.9&&M<.1&&(_<.2&&(a[w+0]+=1),S<.2&&(a[w+2]+=1),E<.2&&(a[w+4]+=1))}}function f(w){s.push(w.x,w.y,w.z)}function h(w,_){const S=w*3;_.x=e[S+0],_.y=e[S+1],_.z=e[S+2]}function m(){const w=new J,_=new J,S=new J,E=new J,A=new Ve,M=new Ve,R=new Ve;for(let P=0,O=0;P<s.length;P+=9,O+=6){w.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),S.set(s[P+6],s[P+7],s[P+8]),A.set(a[O+0],a[O+1]),M.set(a[O+2],a[O+3]),R.set(a[O+4],a[O+5]),E.copy(w).add(_).add(S).divideScalar(3);const k=v(E);g(A,O+0,w,k),g(M,O+2,_,k),g(R,O+4,S,k)}}function g(w,_,S,E){E<0&&w.x===1&&(a[_]=w.x-1),S.x===0&&S.z===0&&(a[_]=E/2/Math.PI+.5)}function v(w){return Math.atan2(w.z,-w.x)}function y(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Hf(e.vertices,e.indices,e.radius,e.details)}}class qP extends Hf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new qP(e.radius,e.detail)}}const BE=new J,zE=new J,u3=new J,VE=new Vs;class Joe extends un{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(Rp*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],d=new Array(3),f={},h=[];for(let m=0;m<l;m+=3){a?(c[0]=a.getX(m),c[1]=a.getX(m+1),c[2]=a.getX(m+2)):(c[0]=m,c[1]=m+1,c[2]=m+2);const{a:g,b:v,c:y}=VE;if(g.fromBufferAttribute(o,c[0]),v.fromBufferAttribute(o,c[1]),y.fromBufferAttribute(o,c[2]),VE.getNormal(u3),d[0]=`${Math.round(g.x*i)},${Math.round(g.y*i)},${Math.round(g.z*i)}`,d[1]=`${Math.round(v.x*i)},${Math.round(v.y*i)},${Math.round(v.z*i)}`,d[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(d[0]===d[1]||d[1]===d[2]||d[2]===d[0]))for(let w=0;w<3;w++){const _=(w+1)%3,S=d[w],E=d[_],A=VE[u[w]],M=VE[u[_]],R=`${S}_${E}`,P=`${E}_${S}`;P in f&&f[P]?(u3.dot(f[P].normal)<=s&&(h.push(A.x,A.y,A.z),h.push(M.x,M.y,M.z)),f[P]=null):R in f||(f[R]={index0:c[w],index1:c[_],normal:u3.clone()})}}for(const m in f)if(f[m]){const{index0:g,index1:v}=f[m];BE.fromBufferAttribute(o,g),zE.fromBufferAttribute(o,v),h.push(BE.x,BE.y,BE.z),h.push(zE.x,zE.y,zE.z)}this.setAttribute("position",new Vt(h,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Ql=class{constructor(){this.type="Curve",this.arcLengthDivisions=200,this.needsUpdate=!1,this.cacheArcLengths=null}getPoint(){Pt("Curve: .getPoint() not implemented.")}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n=null){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const u=r[i],f=r[i+1]-u,h=(a-u)/f;return(i+h)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new Ve:new J);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n=!1){const r=new J,i=[],s=[],a=[],o=new J,l=new It;for(let h=0;h<=e;h++){const m=h/e;i[h]=this.getTangentAt(m,new J)}s[0]=new J,a[0]=new J;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),d=Math.abs(i[0].y),f=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),d<=c&&(c=d,r.set(0,1,0)),f<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let h=1;h<=e;h++){if(s[h]=s[h-1].clone(),a[h]=a[h-1].clone(),o.crossVectors(i[h-1],i[h]),o.length()>Number.EPSILON){o.normalize();const m=Math.acos(cn(i[h-1].dot(i[h]),-1,1));s[h].applyMatrix4(l.makeRotationAxis(o,m))}a[h].crossVectors(i[h],s[h])}if(n===!0){let h=Math.acos(cn(s[0].dot(s[e]),-1,1));h/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(h=-h);for(let m=1;m<=e;m++)s[m].applyMatrix4(l.makeRotationAxis(i[m],h*m)),a[m].crossVectors(i[m],s[m])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.7,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class KP extends Ql{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n=new Ve){const r=n,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),d=Math.sin(this.aRotation),f=l-this.aX,h=c-this.aY;l=f*u-h*d+this.aX,c=f*d+h*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class Qoe extends KP{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function e5(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,d){let f=(a-s)/c-(o-s)/(c+u)+(o-a)/u,h=(o-a)/u-(l-a)/(u+d)+(l-o)/d;f*=u,h*=u,i(a,o,f,h)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const $E=new J,d3=new e5,f3=new e5,h3=new e5;class ele extends Ql{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new J){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%s]:($E.subVectors(i[0],i[1]).add(i[0]),c=$E);const d=i[o%s],f=i[(o+1)%s];if(this.closed||o+2<s?u=i[(o+2)%s]:($E.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=$E),this.curveType==="centripetal"||this.curveType==="chordal"){const h=this.curveType==="chordal"?.5:.25;let m=Math.pow(c.distanceToSquared(d),h),g=Math.pow(d.distanceToSquared(f),h),v=Math.pow(f.distanceToSquared(u),h);g<1e-4&&(g=1),m<1e-4&&(m=g),v<1e-4&&(v=g),d3.initNonuniformCatmullRom(c.x,d.x,f.x,u.x,m,g,v),f3.initNonuniformCatmullRom(c.y,d.y,f.y,u.y,m,g,v),h3.initNonuniformCatmullRom(c.z,d.z,f.z,u.z,m,g,v)}else this.curveType==="catmullrom"&&(d3.initCatmullRom(c.x,d.x,f.x,u.x,this.tension),f3.initCatmullRom(c.y,d.y,f.y,u.y,this.tension),h3.initCatmullRom(c.z,d.z,f.z,u.z,this.tension));return r.set(d3.calc(l),f3.calc(l),h3.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new J().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function n9(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function jke(t,e){const n=1-t;return n*n*e}function Fke(t,e){return 2*(1-t)*t*e}function Uke(t,e){return t*t*e}function Fb(t,e,n,r){return jke(t,e)+Fke(t,n)+Uke(t,r)}function Bke(t,e){const n=1-t;return n*n*n*e}function zke(t,e){const n=1-t;return 3*n*n*t*e}function Vke(t,e){return 3*(1-t)*t*t*e}function $ke(t,e){return t*t*t*e}function Ub(t,e,n,r,i){return Bke(t,e)+zke(t,n)+Vke(t,r)+$ke(t,i)}class t5 extends Ql{constructor(e=new Ve,n=new Ve,r=new Ve,i=new Ve){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Ve){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Ub(e,i.x,s.x,a.x,o.x),Ub(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class tle extends Ql{constructor(e=new J,n=new J,r=new J,i=new J){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Ub(e,i.x,s.x,a.x,o.x),Ub(e,i.y,s.y,a.y,o.y),Ub(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class n5 extends Ql{constructor(e=new Ve,n=new Ve){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new Ve){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Ve){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class nle extends Ql{constructor(e=new J,n=new J){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new J){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new J){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class r5 extends Ql{constructor(e=new Ve,n=new Ve,r=new Ve){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Ve){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Fb(e,i.x,s.x,a.x),Fb(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class YP extends Ql{constructor(e=new J,n=new J,r=new J){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new J){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Fb(e,i.x,s.x,a.x),Fb(e,i.y,s.y,a.y),Fb(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class i5 extends Ql{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new Ve){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],d=i[a>i.length-3?i.length-1:a+2];return r.set(n9(o,l.x,c.x,u.x,d.x),n9(o,l.y,c.y,u.y,d.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Ve().fromArray(i))}return this}}var a2=Object.freeze({__proto__:null,ArcCurve:Qoe,CatmullRomCurve3:ele,CubicBezierCurve:t5,CubicBezierCurve3:tle,EllipseCurve:KP,LineCurve:n5,LineCurve3:nle,QuadraticBezierCurve:r5,QuadraticBezierCurve3:YP,SplineCurve:i5});class rle extends Ql{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new a2[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new a2[i.type]().fromJSON(i))}return this}}let o2=class extends rle{constructor(e){super(),this.type="Path",this.currentPoint=new Ve,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new n5(this.currentPoint.clone(),new Ve(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new r5(this.currentPoint.clone(),new Ve(e,n),new Ve(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new t5(this.currentPoint.clone(),new Ve(e,n),new Ve(r,i),new Ve(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new i5(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const c=new KP(e,n,r,i,s,a,o,l);if(this.curves.length>0){const d=c.getPoint(0);d.equals(this.currentPoint)||this.lineTo(d.x,d.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}},ff=class extends o2{constructor(e){super(e),this.uuid=bo(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new o2().fromJSON(i))}return this}};function Hke(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=ile(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c;if(r&&(s=Kke(t,e,s,n)),t.length>80*n){o=t[0],l=t[1];let u=o,d=l;for(let f=n;f<i;f+=n){const h=t[f],m=t[f+1];h<o&&(o=h),m<l&&(l=m),h>u&&(u=h),m>d&&(d=m)}c=Math.max(u-o,d-l),c=c!==0?32767/c:0}return $w(s,a,n,o,l,c,0),a}function ile(t,e,n,r,i){let s;if(i===aDe(t,e,n,r)>0)for(let a=e;a<n;a+=r)s=r9(a/r|0,t[a],t[a+1],s);else for(let a=n-r;a>=e;a-=r)s=r9(a/r|0,t[a],t[a+1],s);return s&&p0(s,s.next)&&(Gw(s),s=s.next),s}function Zp(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(p0(n,n.next)||Qr(n.prev,n,n.next)===0)){if(Gw(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function $w(t,e,n,r,i,s,a){if(!t)return;!a&&s&&eDe(t,r,i,s);let o=t;for(;t.prev!==t.next;){const l=t.prev,c=t.next;if(s?Wke(t,r,i,s):Gke(t)){e.push(l.i,t.i,c.i),Gw(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=Xke(Zp(t),e),$w(t,e,n,r,i,s,2)):a===2&&qke(t,e,n,r,i,s):$w(Zp(t),e,n,r,i,s,1);break}}}function Gke(t){const e=t.prev,n=t,r=t.next;if(Qr(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,c=r.y,u=Math.min(i,s,a),d=Math.min(o,l,c),f=Math.max(i,s,a),h=Math.max(o,l,c);let m=r.next;for(;m!==e;){if(m.x>=u&&m.x<=f&&m.y>=d&&m.y<=h&&ob(i,o,s,l,a,c,m.x,m.y)&&Qr(m.prev,m,m.next)>=0)return!1;m=m.next}return!0}function Wke(t,e,n,r){const i=t.prev,s=t,a=t.next;if(Qr(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,d=s.y,f=a.y,h=Math.min(o,l,c),m=Math.min(u,d,f),g=Math.max(o,l,c),v=Math.max(u,d,f),y=nj(h,m,e,n,r),w=nj(g,v,e,n,r);let _=t.prevZ,S=t.nextZ;for(;_&&_.z>=y&&S&&S.z<=w;){if(_.x>=h&&_.x<=g&&_.y>=m&&_.y<=v&&_!==i&&_!==a&&ob(o,u,l,d,c,f,_.x,_.y)&&Qr(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=h&&S.x<=g&&S.y>=m&&S.y<=v&&S!==i&&S!==a&&ob(o,u,l,d,c,f,S.x,S.y)&&Qr(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=y;){if(_.x>=h&&_.x<=g&&_.y>=m&&_.y<=v&&_!==i&&_!==a&&ob(o,u,l,d,c,f,_.x,_.y)&&Qr(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=w;){if(S.x>=h&&S.x<=g&&S.y>=m&&S.y<=v&&S!==i&&S!==a&&ob(o,u,l,d,c,f,S.x,S.y)&&Qr(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Xke(t,e){let n=t;do{const r=n.prev,i=n.next.next;!p0(r,i)&&ale(r,n,n.next,i)&&Hw(r,i)&&Hw(i,r)&&(e.push(r.i,n.i,i.i),Gw(n),Gw(n.next),n=t=i),n=n.next}while(n!==t);return Zp(n)}function qke(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&rDe(a,o)){let l=ole(a,o);a=Zp(a,a.next),l=Zp(l,l.next),$w(a,e,n,r,i,s,0),$w(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function Kke(t,e,n,r){const i=[];for(let s=0,a=e.length;s<a;s++){const o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=ile(t,o,l,r,!1);c===c.next&&(c.steiner=!0),i.push(nDe(c))}i.sort(Yke);for(let s=0;s<i.length;s++)n=Zke(i[s],n);return n}function Yke(t,e){let n=t.x-e.x;if(n===0&&(n=t.y-e.y,n===0)){const r=(t.next.y-t.y)/(t.next.x-t.x),i=(e.next.y-e.y)/(e.next.x-e.x);n=r-i}return n}function Zke(t,e){const n=Jke(t,e);if(!n)return e;const r=ole(n,t);return Zp(r,r.next),Zp(n,n.next)}function Jke(t,e){let n=e;const r=t.x,i=t.y;let s=-1/0,a;if(p0(t,n))return n;do{if(p0(t,n.next))return n.next;if(i<=n.y&&i>=n.next.y&&n.next.y!==n.y){const d=n.x+(i-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=r&&d>s&&(s=d,a=n.x<n.next.x?n:n.next,d===r))return a}n=n.next}while(n!==e);if(!a)return null;const o=a,l=a.x,c=a.y;let u=1/0;n=a;do{if(r>=n.x&&n.x>=l&&r!==n.x&&sle(i<c?r:s,i,l,c,i<c?s:r,i,n.x,n.y)){const d=Math.abs(i-n.y)/(r-n.x);Hw(n,t)&&(d<u||d===u&&(n.x>a.x||n.x===a.x&&Qke(a,n)))&&(a=n,u=d)}n=n.next}while(n!==o);return a}function Qke(t,e){return Qr(t.prev,t,e.prev)<0&&Qr(e.next,t,t.next)<0}function eDe(t,e,n,r){let i=t;do i.z===0&&(i.z=nj(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,tDe(i)}function tDe(t){let e,n=1;do{let r=t,i;t=null;let s=null;for(e=0;r;){e++;let a=r,o=0;for(let c=0;c<n&&(o++,a=a.nextZ,!!a);c++);let l=n;for(;o>0||l>0&&a;)o!==0&&(l===0||!a||r.z<=a.z)?(i=r,r=r.nextZ,o--):(i=a,a=a.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=a}s.nextZ=null,n*=2}while(e>1);return t}function nj(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function nDe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function sle(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function ob(t,e,n,r,i,s,a,o){return!(t===a&&e===o)&&sle(t,e,n,r,i,s,a,o)}function rDe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!iDe(t,e)&&(Hw(t,e)&&Hw(e,t)&&sDe(t,e)&&(Qr(t.prev,t,e.prev)||Qr(t,e.prev,e))||p0(t,e)&&Qr(t.prev,t,t.next)>0&&Qr(e.prev,e,e.next)>0)}function Qr(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function p0(t,e){return t.x===e.x&&t.y===e.y}function ale(t,e,n,r){const i=GE(Qr(t,e,n)),s=GE(Qr(t,e,r)),a=GE(Qr(n,r,t)),o=GE(Qr(n,r,e));return!!(i!==s&&a!==o||i===0&&HE(t,n,e)||s===0&&HE(t,r,e)||a===0&&HE(n,t,r)||o===0&&HE(n,e,r))}function HE(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function GE(t){return t>0?1:t<0?-1:0}function iDe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&ale(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Hw(t,e){return Qr(t.prev,t,t.next)<0?Qr(t,e,t.next)>=0&&Qr(t,t.prev,e)>=0:Qr(t,e,t.prev)<0||Qr(t,t.next,e)<0}function sDe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function ole(t,e){const n=rj(t.i,t.x,t.y),r=rj(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function r9(t,e,n,r){const i=rj(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Gw(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function rj(t,e,n){return{i:t,x:e,y:n,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function aDe(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class oDe{static triangulate(e,n,r=2){return Hke(e,n,r)}}class zl{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return zl.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];i9(e),s9(r,e);let a=e.length;n.forEach(i9);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,s9(r,n[l]);const o=oDe.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function i9(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function s9(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class ZP extends un{constructor(e=new ff([new Ve(.5,.5),new Ve(-.5,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new Vt(i,3)),this.setAttribute("uv",new Vt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,d=n.depth!==void 0?n.depth:1;let f=n.bevelEnabled!==void 0?n.bevelEnabled:!0,h=n.bevelThickness!==void 0?n.bevelThickness:.2,m=n.bevelSize!==void 0?n.bevelSize:h-.1,g=n.bevelOffset!==void 0?n.bevelOffset:0,v=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:lDe;let _,S=!1,E,A,M,R;y&&(_=y.getSpacedPoints(u),S=!0,f=!1,E=y.computeFrenetFrames(u,!1),A=new J,M=new J,R=new J),f||(v=0,h=0,m=0,g=0);const P=o.extractPoints(c);let O=P.shape;const k=P.holes;if(!zl.isClockWise(O)){O=O.reverse();for(let Ee=0,Z=k.length;Ee<Z;Ee++){const Me=k[Ee];zl.isClockWise(Me)&&(k[Ee]=Me.reverse())}}function F(Ee){const Me=10000000000000001e-36;let Oe=Ee[0];for(let Ce=1;Ce<=Ee.length;Ce++){const Ne=Ce%Ee.length,ee=Ee[Ne],te=ee.x-Oe.x,me=ee.y-Oe.y,W=te*te+me*me,B=Math.max(Math.abs(ee.x),Math.abs(ee.y),Math.abs(Oe.x),Math.abs(Oe.y)),re=Me*B*B;if(W<=re){Ee.splice(Ne,1),Ce--;continue}Oe=ee}}F(O),k.forEach(F);const L=k.length,V=O;for(let Ee=0;Ee<L;Ee++){const Z=k[Ee];O=O.concat(Z)}function z(Ee,Z,Me){return Z||hn("ExtrudeGeometry: vec does not exist"),Ee.clone().addScaledVector(Z,Me)}const K=O.length;function j(Ee,Z,Me){let Oe,Ce,Ne;const ee=Ee.x-Z.x,te=Ee.y-Z.y,me=Me.x-Ee.x,W=Me.y-Ee.y,B=ee*ee+te*te,re=ee*W-te*me;if(Math.abs(re)>Number.EPSILON){const xe=Math.sqrt(B),Te=Math.sqrt(me*me+W*W),we=Z.x-te/xe,Ke=Z.y+ee/xe,Xe=Me.x-W/Te,dt=Me.y+me/Te,pt=((Xe-we)*W-(dt-Ke)*me)/(ee*W-te*me);Oe=we+ee*pt-Ee.x,Ce=Ke+te*pt-Ee.y;const Le=Oe*Oe+Ce*Ce;if(Le<=2)return new Ve(Oe,Ce);Ne=Math.sqrt(Le/2)}else{let xe=!1;ee>Number.EPSILON?me>Number.EPSILON&&(xe=!0):ee<-Number.EPSILON?me<-Number.EPSILON&&(xe=!0):Math.sign(te)===Math.sign(W)&&(xe=!0),xe?(Oe=-te,Ce=ee,Ne=Math.sqrt(B)):(Oe=ee,Ce=te,Ne=Math.sqrt(B/2))}return new Ve(Oe/Ne,Ce/Ne)}const U=[];for(let Ee=0,Z=V.length,Me=Z-1,Oe=Ee+1;Ee<Z;Ee++,Me++,Oe++)Me===Z&&(Me=0),Oe===Z&&(Oe=0),U[Ee]=j(V[Ee],V[Me],V[Oe]);const $=[];let G,X=U.concat();for(let Ee=0,Z=L;Ee<Z;Ee++){const Me=k[Ee];G=[];for(let Oe=0,Ce=Me.length,Ne=Ce-1,ee=Oe+1;Oe<Ce;Oe++,Ne++,ee++)Ne===Ce&&(Ne=0),ee===Ce&&(ee=0),G[Oe]=j(Me[Oe],Me[Ne],Me[ee]);$.push(G),X=X.concat(G)}let Q;if(v===0)Q=zl.triangulateShape(V,k);else{const Ee=[],Z=[];for(let Me=0;Me<v;Me++){const Oe=Me/v,Ce=h*Math.cos(Oe*Math.PI/2),Ne=m*Math.sin(Oe*Math.PI/2)+g;for(let ee=0,te=V.length;ee<te;ee++){const me=z(V[ee],U[ee],Ne);ge(me.x,me.y,-Ce),Oe===0&&Ee.push(me)}for(let ee=0,te=L;ee<te;ee++){const me=k[ee];G=$[ee];const W=[];for(let B=0,re=me.length;B<re;B++){const xe=z(me[B],G[B],Ne);ge(xe.x,xe.y,-Ce),Oe===0&&W.push(xe)}Oe===0&&Z.push(W)}}Q=zl.triangulateShape(Ee,Z)}const oe=Q.length,de=m+g;for(let Ee=0;Ee<K;Ee++){const Z=f?z(O[Ee],X[Ee],de):O[Ee];S?(M.copy(E.normals[0]).multiplyScalar(Z.x),A.copy(E.binormals[0]).multiplyScalar(Z.y),R.copy(_[0]).add(M).add(A),ge(R.x,R.y,R.z)):ge(Z.x,Z.y,0)}for(let Ee=1;Ee<=u;Ee++)for(let Z=0;Z<K;Z++){const Me=f?z(O[Z],X[Z],de):O[Z];S?(M.copy(E.normals[Ee]).multiplyScalar(Me.x),A.copy(E.binormals[Ee]).multiplyScalar(Me.y),R.copy(_[Ee]).add(M).add(A),ge(R.x,R.y,R.z)):ge(Me.x,Me.y,d/u*Ee)}for(let Ee=v-1;Ee>=0;Ee--){const Z=Ee/v,Me=h*Math.cos(Z*Math.PI/2),Oe=m*Math.sin(Z*Math.PI/2)+g;for(let Ce=0,Ne=V.length;Ce<Ne;Ce++){const ee=z(V[Ce],U[Ce],Oe);ge(ee.x,ee.y,d+Me)}for(let Ce=0,Ne=k.length;Ce<Ne;Ce++){const ee=k[Ce];G=$[Ce];for(let te=0,me=ee.length;te<me;te++){const W=z(ee[te],G[te],Oe);S?ge(W.x,W.y+_[u-1].y,_[u-1].x+Me):ge(W.x,W.y,d+Me)}}}ae(),ne();function ae(){const Ee=i.length/3;if(f){let Z=0,Me=K*Z;for(let Oe=0;Oe<oe;Oe++){const Ce=Q[Oe];_e(Ce[2]+Me,Ce[1]+Me,Ce[0]+Me)}Z=u+v*2,Me=K*Z;for(let Oe=0;Oe<oe;Oe++){const Ce=Q[Oe];_e(Ce[0]+Me,Ce[1]+Me,Ce[2]+Me)}}else{for(let Z=0;Z<oe;Z++){const Me=Q[Z];_e(Me[2],Me[1],Me[0])}for(let Z=0;Z<oe;Z++){const Me=Q[Z];_e(Me[0]+K*u,Me[1]+K*u,Me[2]+K*u)}}r.addGroup(Ee,i.length/3-Ee,0)}function ne(){const Ee=i.length/3;let Z=0;ve(V,Z),Z+=V.length;for(let Me=0,Oe=k.length;Me<Oe;Me++){const Ce=k[Me];ve(Ce,Z),Z+=Ce.length}r.addGroup(Ee,i.length/3-Ee,1)}function ve(Ee,Z){let Me=Ee.length;for(;--Me>=0;){const Oe=Me;let Ce=Me-1;Ce<0&&(Ce=Ee.length-1);for(let Ne=0,ee=u+v*2;Ne<ee;Ne++){const te=K*Ne,me=K*(Ne+1),W=Z+Oe+te,B=Z+Ce+te,re=Z+Ce+me,xe=Z+Oe+me;ye(W,B,re,xe)}}}function ge(Ee,Z,Me){l.push(Ee),l.push(Z),l.push(Me)}function _e(Ee,Z,Me){ce(Ee),ce(Z),ce(Me);const Oe=i.length/3,Ce=w.generateTopUV(r,i,Oe-3,Oe-2,Oe-1);De(Ce[0]),De(Ce[1]),De(Ce[2])}function ye(Ee,Z,Me,Oe){ce(Ee),ce(Z),ce(Oe),ce(Z),ce(Me),ce(Oe);const Ce=i.length/3,Ne=w.generateSideWallUV(r,i,Ce-6,Ce-3,Ce-2,Ce-1);De(Ne[0]),De(Ne[1]),De(Ne[3]),De(Ne[1]),De(Ne[2]),De(Ne[3])}function ce(Ee){i.push(l[Ee*3+0]),i.push(l[Ee*3+1]),i.push(l[Ee*3+2])}function De(Ee){s.push(Ee.x),s.push(Ee.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return cDe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new a2[i.type]().fromJSON(i)),new ZP(r,e.options)}}const lDe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new Ve(s,a),new Ve(o,l),new Ve(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],d=e[r*3+2],f=e[i*3],h=e[i*3+1],m=e[i*3+2],g=e[s*3],v=e[s*3+1],y=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new Ve(a,1-l),new Ve(c,1-d),new Ve(f,1-m),new Ve(g,1-y)]:[new Ve(o,1-l),new Ve(u,1-d),new Ve(h,1-m),new Ve(v,1-y)]}};function cDe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class c_ extends Hf{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new c_(e.radius,e.detail)}}class JP extends un{constructor(e=[new Ve(0,-.5),new Ve(.5,0),new Ve(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=cn(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],u=1/n,d=new J,f=new Ve,h=new J,m=new J,g=new J;let v=0,y=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:v=e[w+1].x-e[w].x,y=e[w+1].y-e[w].y,h.x=y*1,h.y=-v,h.z=y*0,g.copy(h),h.normalize(),l.push(h.x,h.y,h.z);break;case e.length-1:l.push(g.x,g.y,g.z);break;default:v=e[w+1].x-e[w].x,y=e[w+1].y-e[w].y,h.x=y*1,h.y=-v,h.z=y*0,m.copy(h),h.x+=g.x,h.y+=g.y,h.z+=g.z,h.normalize(),l.push(h.x,h.y,h.z),g.copy(m)}for(let w=0;w<=n;w++){const _=r+w*u*i,S=Math.sin(_),E=Math.cos(_);for(let A=0;A<=e.length-1;A++){d.x=e[A].x*S,d.y=e[A].y,d.z=e[A].x*E,a.push(d.x,d.y,d.z),f.x=w/n,f.y=A/(e.length-1),o.push(f.x,f.y);const M=l[3*A+0]*S,R=l[3*A+1],P=l[3*A+0]*E;c.push(M,R,P)}}for(let w=0;w<n;w++)for(let _=0;_<e.length-1;_++){const S=_+w*e.length,E=S,A=S+e.length,M=S+e.length+1,R=S+1;s.push(E,A,R),s.push(M,R,A)}this.setIndex(s),this.setAttribute("position",new Vt(a,3)),this.setAttribute("uv",new Vt(o,2)),this.setAttribute("normal",new Vt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new JP(e.points,e.segments,e.phiStart,e.phiLength)}}class u_ extends Hf{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new u_(e.radius,e.detail)}}class Mo extends un{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,d=e/o,f=n/l,h=[],m=[],g=[],v=[];for(let y=0;y<u;y++){const w=y*f-a;for(let _=0;_<c;_++){const S=_*d-s;m.push(S,-w,0),g.push(0,0,1),v.push(_/o),v.push(1-y/l)}}for(let y=0;y<l;y++)for(let w=0;w<o;w++){const _=w+c*y,S=w+c*(y+1),E=w+1+c*(y+1),A=w+1+c*y;h.push(_,S,A),h.push(S,E,A)}this.setIndex(h),this.setAttribute("position",new Vt(m,3)),this.setAttribute("normal",new Vt(g,3)),this.setAttribute("uv",new Vt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Mo(e.width,e.height,e.widthSegments,e.heightSegments)}}class QP extends un{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let d=e;const f=(n-e)/i,h=new J,m=new Ve;for(let g=0;g<=i;g++){for(let v=0;v<=r;v++){const y=s+v/r*a;h.x=d*Math.cos(y),h.y=d*Math.sin(y),l.push(h.x,h.y,h.z),c.push(0,0,1),m.x=(h.x/n+1)/2,m.y=(h.y/n+1)/2,u.push(m.x,m.y)}d+=f}for(let g=0;g<i;g++){const v=g*(r+1);for(let y=0;y<r;y++){const w=y+v,_=w,S=w+r+1,E=w+r+2,A=w+1;o.push(_,S,A),o.push(S,E,A)}}this.setIndex(o),this.setAttribute("position",new Vt(l,3)),this.setAttribute("normal",new Vt(c,3)),this.setAttribute("uv",new Vt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new QP(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class d_ extends un{constructor(e=new ff([new Ve(0,.5),new Ve(-.5,-.5),new Ve(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new Vt(i,3)),this.setAttribute("normal",new Vt(s,3)),this.setAttribute("uv",new Vt(a,2));function c(u){const d=i.length/3,f=u.extractPoints(n);let h=f.shape;const m=f.holes;zl.isClockWise(h)===!1&&(h=h.reverse());for(let v=0,y=m.length;v<y;v++){const w=m[v];zl.isClockWise(w)===!0&&(m[v]=w.reverse())}const g=zl.triangulateShape(h,m);for(let v=0,y=m.length;v<y;v++){const w=m[v];h=h.concat(w)}for(let v=0,y=h.length;v<y;v++){const w=h[v];i.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let v=0,y=g.length;v<y;v++){const w=g[v],_=w[0]+d,S=w[1]+d,E=w[2]+d;r.push(_,S,E),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return uDe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new d_(r,e.curveSegments)}}function uDe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class hy extends un{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const u=[],d=new J,f=new J,h=[],m=[],g=[],v=[];for(let y=0;y<=r;y++){const w=[],_=y/r;let S=0;y===0&&a===0?S=.5/n:y===r&&l===Math.PI&&(S=-.5/n);for(let E=0;E<=n;E++){const A=E/n;d.x=-e*Math.cos(i+A*s)*Math.sin(a+_*o),d.y=e*Math.cos(a+_*o),d.z=e*Math.sin(i+A*s)*Math.sin(a+_*o),m.push(d.x,d.y,d.z),f.copy(d).normalize(),g.push(f.x,f.y,f.z),v.push(A+S,1-_),w.push(c++)}u.push(w)}for(let y=0;y<r;y++)for(let w=0;w<n;w++){const _=u[y][w+1],S=u[y][w],E=u[y+1][w],A=u[y+1][w+1];(y!==0||a>0)&&h.push(_,S,A),(y!==r-1||l<Math.PI)&&h.push(S,E,A)}this.setIndex(h),this.setAttribute("position",new Vt(m,3)),this.setAttribute("normal",new Vt(g,3)),this.setAttribute("uv",new Vt(v,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new hy(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class eR extends Hf{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new eR(e.radius,e.detail)}}class tR extends un{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new J,d=new J,f=new J;for(let h=0;h<=r;h++)for(let m=0;m<=i;m++){const g=m/i*s,v=h/r*Math.PI*2;d.x=(e+n*Math.cos(v))*Math.cos(g),d.y=(e+n*Math.cos(v))*Math.sin(g),d.z=n*Math.sin(v),o.push(d.x,d.y,d.z),u.x=e*Math.cos(g),u.y=e*Math.sin(g),f.subVectors(d,u).normalize(),l.push(f.x,f.y,f.z),c.push(m/i),c.push(h/r)}for(let h=1;h<=r;h++)for(let m=1;m<=i;m++){const g=(i+1)*h+m-1,v=(i+1)*(h-1)+m-1,y=(i+1)*(h-1)+m,w=(i+1)*h+m;a.push(g,v,w),a.push(v,y,w)}this.setIndex(a),this.setAttribute("position",new Vt(o,3)),this.setAttribute("normal",new Vt(l,3)),this.setAttribute("uv",new Vt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new tR(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class nR extends un{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],d=new J,f=new J,h=new J,m=new J,g=new J,v=new J,y=new J;for(let _=0;_<=r;++_){const S=_/r*s*Math.PI*2;w(S,s,a,e,h),w(S+.01,s,a,e,m),v.subVectors(m,h),y.addVectors(m,h),g.crossVectors(v,y),y.crossVectors(g,v),g.normalize(),y.normalize();for(let E=0;E<=i;++E){const A=E/i*Math.PI*2,M=-n*Math.cos(A),R=n*Math.sin(A);d.x=h.x+(M*y.x+R*g.x),d.y=h.y+(M*y.y+R*g.y),d.z=h.z+(M*y.z+R*g.z),l.push(d.x,d.y,d.z),f.subVectors(d,h).normalize(),c.push(f.x,f.y,f.z),u.push(_/r),u.push(E/i)}}for(let _=1;_<=r;_++)for(let S=1;S<=i;S++){const E=(i+1)*(_-1)+(S-1),A=(i+1)*_+(S-1),M=(i+1)*_+S,R=(i+1)*(_-1)+S;o.push(E,A,R),o.push(A,M,R)}this.setIndex(o),this.setAttribute("position",new Vt(l,3)),this.setAttribute("normal",new Vt(c,3)),this.setAttribute("uv",new Vt(u,2));function w(_,S,E,A,M){const R=Math.cos(_),P=Math.sin(_),O=E/S*_,k=Math.cos(O);M.x=A*(2+k)*.5*R,M.y=A*(2+k)*P*.5,M.z=A*Math.sin(O)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new nR(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class rR extends un{constructor(e=new YP(new J(-1,-1,0),new J(-1,1,0),new J(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new J,l=new J,c=new Ve;let u=new J;const d=[],f=[],h=[],m=[];g(),this.setIndex(m),this.setAttribute("position",new Vt(d,3)),this.setAttribute("normal",new Vt(f,3)),this.setAttribute("uv",new Vt(h,2));function g(){for(let _=0;_<n;_++)v(_);v(s===!1?n:0),w(),y()}function v(_){u=e.getPointAt(_/n,u);const S=a.normals[_],E=a.binormals[_];for(let A=0;A<=i;A++){const M=A/i*Math.PI*2,R=Math.sin(M),P=-Math.cos(M);l.x=P*S.x+R*E.x,l.y=P*S.y+R*E.y,l.z=P*S.z+R*E.z,l.normalize(),f.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,d.push(o.x,o.y,o.z)}}function y(){for(let _=1;_<=n;_++)for(let S=1;S<=i;S++){const E=(i+1)*(_-1)+(S-1),A=(i+1)*_+(S-1),M=(i+1)*_+S,R=(i+1)*(_-1)+S;m.push(E,A,R),m.push(A,M,R)}}function w(){for(let _=0;_<=n;_++)for(let S=0;S<=i;S++)c.x=_/n,c.y=S/i,h.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new rR(new a2[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class lle extends un{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new J,s=new J;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const d=l[c],f=d.start,h=d.count;for(let m=f,g=f+h;m<g;m+=3)for(let v=0;v<3;v++){const y=o.getX(m+v),w=o.getX(m+(v+1)%3);i.fromBufferAttribute(a,y),s.fromBufferAttribute(a,w),a9(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,d=3*o+(c+1)%3;i.fromBufferAttribute(a,u),s.fromBufferAttribute(a,d),a9(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new Vt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function a9(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var o9=Object.freeze({__proto__:null,BoxGeometry:$f,CapsuleGeometry:WP,CircleGeometry:XP,ConeGeometry:l_,CylinderGeometry:o_,DodecahedronGeometry:qP,EdgesGeometry:Joe,ExtrudeGeometry:ZP,IcosahedronGeometry:c_,LatheGeometry:JP,OctahedronGeometry:u_,PlaneGeometry:Mo,PolyhedronGeometry:Hf,RingGeometry:QP,ShapeGeometry:d_,SphereGeometry:hy,TetrahedronGeometry:eR,TorusGeometry:tR,TorusKnotGeometry:nR,TubeGeometry:rR,WireframeGeometry:lle});class cle extends Ai{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Et(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class ule extends Vi{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class py extends Ai{constructor(e){super(),this.isMeshStandardMaterial=!0,this.type="MeshStandardMaterial",this.defines={STANDARD:""},this.color=new Et(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wa,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class cl extends py{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ve(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return cn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Et(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Et(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Et(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._dispersion=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get dispersion(){return this._dispersion}set dispersion(e){this._dispersion>0!=e>0&&this.version++,this._dispersion=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.dispersion=e.dispersion,this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class dle extends Ai{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Et(16777215),this.specular=new Et(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wa,this.combine=Q1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class fle extends Ai{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Et(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class hle extends Ai{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class ple extends Ai{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Et(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Et(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.envMapRotation=new wa,this.combine=Q1,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapRotation.copy(e.envMapRotation),this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class f_ extends Ai{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Noe,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class iR extends Ai{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}class mle extends Ai{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Et(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Vf,this.normalScale=new Ve(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this.fog=e.fog,this}}class gle extends Ks{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function fp(t,e){return!t||t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function vle(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function yle(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function ij(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function s5(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push(...a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function dDe(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),d=[],f=[];for(let h=0;h<c.times.length;++h){const m=c.times[h]*i;if(!(m<n||m>=r)){d.push(c.times[h]);for(let g=0;g<u;++g)f.push(c.values[h*u+g])}}d.length!==0&&(c.times=fp(d,c.times.constructor),c.values=fp(f,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function fDe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===o.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const d=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=d/3);let f=0;const h=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(f=h/3);const m=o.times.length-1;let g;if(s<=o.times[0]){const y=u,w=d-u;g=o.values.slice(y,w)}else if(s>=o.times[m]){const y=m*d+u,w=y+d-u;g=o.values.slice(y,w)}else{const y=o.createInterpolant(),w=u,_=d-u;y.evaluate(s),g=y.resultBuffer.slice(w,_)}l==="quaternion"&&new hr().fromArray(g).normalize().conjugate().toArray(g);const v=c.times.length;for(let y=0;y<v;++y){const w=y*h+f;if(l==="quaternion")hr.multiplyQuaternionsFlat(c.values,w,g,0,c.values,w);else{const _=h-f*2;for(let S=0;S<_;++S)c.values[w+S]-=g[S]}}}return t.blendMode=jB,t}class hDe{static convertArray(e,n){return fp(e,n)}static isTypedArray(e){return vle(e)}static getKeyframeOrder(e){return yle(e)}static sortedArray(e,n,r){return ij(e,n,r)}static flattenJSON(e,n,r,i){s5(e,n,r,i)}static subclip(e,n,r,i,s=30){return dDe(e,n,r,i,s)}static makeClipAdditive(e,n=0,r=e,i=30){return fDe(e,n,r,i)}}class my{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class xle extends my{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:cp,endingEnd:cp}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case up:s=e,o=2*n-r;break;case Fw:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case up:a=e,l=2*r-n;break;case Fw:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,d=this._offsetNext,f=this._weightPrev,h=this._weightNext,m=(r-n)/(i-n),g=m*m,v=g*m,y=-f*v+2*f*g-f*m,w=(1+f)*v+(-1.5-2*f)*g+(-.5+f)*m+1,_=(-1-h)*v+(1.5+h)*g+.5*m,S=h*v-h*g;for(let E=0;E!==o;++E)s[E]=y*a[u+E]+w*a[c+E]+_*a[l+E]+S*a[d+E];return s}}class a5 extends my{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-n)/(i-n),d=1-u;for(let f=0;f!==o;++f)s[f]=a[c+f]*d+a[l+f]*u;return s}}class ble extends my{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class ul{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=fp(n,this.TimeBufferType),this.values=fp(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:fp(e.times,Array),values:fp(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new ble(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new a5(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new xle(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case l0:n=this.InterpolantFactoryMethodDiscrete;break;case c0:n=this.InterpolantFactoryMethodLinear;break;case iA:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return Pt("KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return l0;case this.InterpolantFactoryMethodLinear:return c0;case this.InterpolantFactoryMethodSmooth:return iA}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(hn("KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(hn("KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){hn("KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){hn("KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&vle(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){hn("KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===iA,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const d=o*r,f=d-r,h=d+r;for(let m=0;m!==r;++m){const g=n[d+m];if(g!==n[f+m]||g!==n[h+m]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const d=o*r,f=a*r;for(let h=0;h!==r;++h)n[f+h]=n[d+h]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}ul.prototype.ValueTypeName="";ul.prototype.TimeBufferType=Float32Array;ul.prototype.ValueBufferType=Float32Array;ul.prototype.DefaultInterpolation=c0;class ym extends ul{constructor(e,n,r){super(e,n,r)}}ym.prototype.ValueTypeName="bool";ym.prototype.ValueBufferType=Array;ym.prototype.DefaultInterpolation=l0;ym.prototype.InterpolantFactoryMethodLinear=void 0;ym.prototype.InterpolantFactoryMethodSmooth=void 0;class o5 extends ul{constructor(e,n,r,i){super(e,n,r,i)}}o5.prototype.ValueTypeName="color";class Jp extends ul{constructor(e,n,r,i){super(e,n,r,i)}}Jp.prototype.ValueTypeName="number";class wle extends my{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let u=c+o;c!==u;c+=4)hr.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Qp extends ul{constructor(e,n,r,i){super(e,n,r,i)}InterpolantFactoryMethodLinear(e){return new wle(this.times,this.values,this.getValueSize(),e)}}Qp.prototype.ValueTypeName="quaternion";Qp.prototype.InterpolantFactoryMethodSmooth=void 0;class xm extends ul{constructor(e,n,r){super(e,n,r)}}xm.prototype.ValueTypeName="string";xm.prototype.ValueBufferType=Array;xm.prototype.DefaultInterpolation=l0;xm.prototype.InterpolantFactoryMethodLinear=void 0;xm.prototype.InterpolantFactoryMethodSmooth=void 0;class em extends ul{constructor(e,n,r,i){super(e,n,r,i)}}em.prototype.ValueTypeName="vector";class m0{constructor(e="",n=-1,r=[],i=LP){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=bo(),this.userData={},this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(mDe(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s.userData=JSON.parse(e.userData||"{}"),s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode,userData:JSON.stringify(e.userData)};for(let s=0,a=r.length;s!==a;++s)n.push(ul.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=yle(l);l=ij(l,1,u),c=ij(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new Jp(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const d=u[1];let f=i[d];f||(i[d]=f=[]),f.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(Pt("AnimationClip: parseAnimation() is deprecated and will be removed with r185"),!e)return hn("AnimationClip: No animation in JSONLoader data."),null;const r=function(d,f,h,m,g){if(h.length!==0){const v=[],y=[];s5(h,v,y,m),v.length!==0&&g.push(new d(f,v,y))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let d=0;d<c.length;d++){const f=c[d].keys;if(!(!f||f.length===0))if(f[0].morphTargets){const h={};let m;for(m=0;m<f.length;m++)if(f[m].morphTargets)for(let g=0;g<f[m].morphTargets.length;g++)h[f[m].morphTargets[g]]=-1;for(const g in h){const v=[],y=[];for(let w=0;w!==f[m].morphTargets.length;++w){const _=f[m];v.push(_.time),y.push(_.morphTarget===g?1:0)}i.push(new Jp(".morphTargetInfluence["+g+"]",v,y))}l=h.length*a}else{const h=".bones["+n[d].name+"]";r(em,h+".position",f,"pos",i),r(Qp,h+".quaternion",f,"rot",i),r(em,h+".scale",f,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let r=0;r<this.tracks.length;r++)e.push(this.tracks[r].clone());const n=new this.constructor(this.name,this.duration,e,this.blendMode);return n.userData=JSON.parse(JSON.stringify(this.userData)),n}toJSON(){return this.constructor.toJSON(this)}}function pDe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Jp;case"vector":case"vector2":case"vector3":case"vector4":return em;case"color":return o5;case"quaternion":return Qp;case"bool":case"boolean":return ym;case"string":return xm}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function mDe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=pDe(t.type);if(t.times===void 0){const n=[],r=[];s5(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Sc={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class sR{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this._abortController=null,this.itemStart=function(u){o++,s===!1&&i.onStart!==void 0&&i.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,d){return c.push(u,d),this},this.removeHandler=function(u){const d=c.indexOf(u);return d!==-1&&c.splice(d,2),this},this.getHandler=function(u){for(let d=0,f=c.length;d<f;d+=2){const h=c[d],m=c[d+1];if(h.global&&(h.lastIndex=0),h.test(u))return m}return null},this.abort=function(){return this.abortController.abort(),this._abortController=null,this}}get abortController(){return this._abortController||(this._abortController=new AbortController),this._abortController}}const _le=new sR;class Ys{constructor(e){this.manager=e!==void 0?e:_le,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}abort(){return this}}Ys.DEFAULT_MATERIAL_NAME="__DEFAULT";const ou={};class gDe extends Error{constructor(e,n){super(e),this.response=n}}class xa extends Ys{constructor(e){super(e),this.mimeType="",this.responseType="",this._abortController=new AbortController}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Sc.get(`file:${e}`);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(ou[e]!==void 0){ou[e].push({onLoad:n,onProgress:r,onError:i});return}ou[e]=[],ou[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin",signal:typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&Pt("FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=ou[e],d=c.body.getReader(),f=c.headers.get("X-File-Size")||c.headers.get("Content-Length"),h=f?parseInt(f):0,m=h!==0;let g=0;const v=new ReadableStream({start(y){w();function w(){d.read().then(({done:_,value:S})=>{if(_)y.close();else{g+=S.byteLength;const E=new ProgressEvent("progress",{lengthComputable:m,loaded:g,total:h});for(let A=0,M=u.length;A<M;A++){const R=u[A];R.onProgress&&R.onProgress(E)}y.enqueue(S),w()}},_=>{y.error(_)})}}});return new Response(v)}else throw new gDe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o==="")return c.text();{const d=/charset="?([^;"\s]*)"?/i.exec(o),f=d&&d[1]?d[1].toLowerCase():void 0,h=new TextDecoder(f);return c.arrayBuffer().then(m=>h.decode(m))}}}).then(c=>{Sc.add(`file:${e}`,c);const u=ou[e];delete ou[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onLoad&&h.onLoad(c)}}).catch(c=>{const u=ou[e];if(u===void 0)throw this.manager.itemError(e),c;delete ou[e];for(let d=0,f=u.length;d<f;d++){const h=u[d];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}class vDe extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new xa(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):hn(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=m0.parse(e[r]);n.push(i)}return n}}class yDe extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new GP,l=new xa(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(d){l.load(e[d],function(f){const h=s.parse(f,!0);a[d]={width:h.width,height:h.height,format:h.format,mipmaps:h.mipmaps},c+=1,c===6&&(h.mipmapCount===1&&(o.minFilter=Nn),o.image=a,o.format=h.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let d=0,f=e.length;d<f;++d)u(d);else l.load(e,function(d){const f=s.parse(d,!0);if(f.isCubemap){const h=f.mipmaps.length/f.mipmapCount;for(let m=0;m<h;m++){a[m]={mipmaps:[]};for(let g=0;g<f.mipmapCount;g++)a[m].mipmaps.push(f.mipmaps[m*f.mipmapCount+g]),a[m].format=f.format,a[m].width=f.width,a[m].height=f.height}o.image=a}else o.image.width=f.width,o.image.height=f.height,o.mipmaps=f.mipmaps;f.mipmapCount===1&&(o.minFilter=Nn),o.format=f.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}const gg=new WeakMap;class Ww extends Ys{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Sc.get(`image:${e}`);if(a!==void 0){if(a.complete===!0)s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0);else{let d=gg.get(a);d===void 0&&(d=[],gg.set(a,d)),d.push({onLoad:n,onError:i})}return a}const o=zw("img");function l(){u(),n&&n(this);const d=gg.get(this)||[];for(let f=0;f<d.length;f++){const h=d[f];h.onLoad&&h.onLoad(this)}gg.delete(this),s.manager.itemEnd(e)}function c(d){u(),i&&i(d),Sc.remove(`image:${e}`);const f=gg.get(this)||[];for(let h=0;h<f.length;h++){const m=f[h];m.onError&&m.onError(d)}gg.delete(this),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),Sc.add(`image:${e}`,o),s.manager.itemStart(e),o.src=e,o}}class Sle extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=new i_;s.colorSpace=wi;const a=new Ww(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class l5 extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new nl,o=new xa(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{u(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:ei,a.wrapT=c.wrapT!==void 0?c.wrapT:ei,a.magFilter=c.magFilter!==void 0?c.magFilter:Nn,a.minFilter=c.minFilter!==void 0?c.minFilter:Nn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0&&(a.colorSpace=c.colorSpace),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=Zo),c.mipmapCount===1&&(a.minFilter=Nn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class c5 extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=new ar,a=new Ww(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Gf extends $n{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Et(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),this.target!==void 0&&(n.object.target=this.target.uuid),n}}class Ele extends Gf{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy($n.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Et(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const p3=new It,l9=new J,c9=new J;class u5{constructor(e){this.camera=e,this.intensity=1,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ve(512,512),this.mapType=ba,this.map=null,this.mapPass=null,this.matrix=new It,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new fy,this._frameExtents=new Ve(1,1),this._viewportCount=1,this._viewports=[new Ln(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;l9.setFromMatrixPosition(e.matrixWorld),n.position.copy(l9),c9.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(c9),n.updateMatrixWorld(),p3.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(p3,n.coordinateSystem,n.reversedDepth),n.reversedDepth?r.set(.5,0,0,.5,0,.5,0,.5,0,0,1,0,0,0,0,1):r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(p3)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.intensity=e.intensity,this.bias=e.bias,this.radius=e.radius,this.autoUpdate=e.autoUpdate,this.needsUpdate=e.needsUpdate,this.normalBias=e.normalBias,this.blurSamples=e.blurSamples,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.intensity!==1&&(e.intensity=this.intensity),this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class xDe extends u5{constructor(){super(new Ur(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1,this.aspect=1}updateMatrices(e){const n=this.camera,r=f0*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height*this.aspect,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class d5 extends Gf{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy($n.DEFAULT_UP),this.updateMatrix(),this.target=new $n,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new xDe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const u9=new It,Cx=new J,m3=new J;class bDe extends u5{constructor(){super(new Ur(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ve(4,2),this._viewportCount=6,this._viewports=[new Ln(2,1,1,1),new Ln(0,1,1,1),new Ln(3,1,1,1),new Ln(1,1,1,1),new Ln(3,0,1,1),new Ln(1,0,1,1)],this._cubeDirections=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],this._cubeUps=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Cx.setFromMatrixPosition(e.matrixWorld),r.position.copy(Cx),m3.copy(r.position),m3.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(m3),r.updateMatrixWorld(),i.makeTranslation(-Cx.x,-Cx.y,-Cx.z),u9.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(u9,r.coordinateSystem,r.reversedDepth)}}class f5 extends Gf{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new bDe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class rl extends uy{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem,this.reversedDepth),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}class wDe extends u5{constructor(){super(new rl(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class h5 extends Gf{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy($n.DEFAULT_UP),this.updateMatrix(),this.target=new $n,this.shadow=new wDe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class Tle extends Gf{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class Ale extends Gf{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class Mle{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new J)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class Cle extends Gf{constructor(e=new Mle,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class aR extends Ys{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new xa(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):hn(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&Pt("MaterialLoader: Undefined texture",s),n[s]}const i=this.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new Et().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.dispersion!==void 0&&(i.dispersion=e.dispersion),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthFunc!==void 0&&(i.depthFunc=e.depthFunc),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.blendSrc!==void 0&&(i.blendSrc=e.blendSrc),e.blendDst!==void 0&&(i.blendDst=e.blendDst),e.blendEquation!==void 0&&(i.blendEquation=e.blendEquation),e.blendSrcAlpha!==void 0&&(i.blendSrcAlpha=e.blendSrcAlpha),e.blendDstAlpha!==void 0&&(i.blendDstAlpha=e.blendDstAlpha),e.blendEquationAlpha!==void 0&&(i.blendEquationAlpha=e.blendEquationAlpha),e.blendColor!==void 0&&i.blendColor!==void 0&&i.blendColor.setHex(e.blendColor),e.blendAlpha!==void 0&&(i.blendAlpha=e.blendAlpha),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new Et().setHex(a.value);break;case"v2":i.uniforms[s].value=new Ve().fromArray(a.value);break;case"v3":i.uniforms[s].value=new J().fromArray(a.value);break;case"v4":i.uniforms[s].value=new Ln().fromArray(a.value);break;case"m3":i.uniforms[s].value=new yn().fromArray(a.value);break;case"m4":i.uniforms[s].value=new It().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new Ve().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapRotation!==void 0&&i.envMapRotation.fromArray(e.envMapRotation),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new Ve().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}createMaterialFromType(e){return aR.createMaterialFromType(e)}static createMaterialFromType(e){const n={ShadowMaterial:cle,SpriteMaterial:XB,RawShaderMaterial:ule,ShaderMaterial:Vi,PointsMaterial:HP,MeshPhysicalMaterial:cl,MeshStandardMaterial:py,MeshPhongMaterial:dle,MeshToonMaterial:fle,MeshNormalMaterial:hle,MeshLambertMaterial:ple,MeshDepthMaterial:f_,MeshDistanceMaterial:iR,MeshBasicMaterial:Ss,MeshMatcapMaterial:mle,LineDashedMaterial:gle,LineBasicMaterial:Ks,Material:Ai};return new n[e]}}class hf{static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class p5 extends un{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class Ple extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new xa(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):hn(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(h,m){if(n[m]!==void 0)return n[m];const v=h.interleavedBuffers[m],y=s(h,v.buffer),w=rv(v.type,y),_=new s_(w,v.stride);return _.uuid=v.uuid,n[m]=_,_}function s(h,m){if(r[m]!==void 0)return r[m];const v=h.arrayBuffers[m],y=new Uint32Array(v).buffer;return r[m]=y,y}const a=e.isInstancedBufferGeometry?new p5:new un,o=e.data.index;if(o!==void 0){const h=rv(o.type,o.array);a.setIndex(new wn(h,1))}const l=e.data.attributes;for(const h in l){const m=l[h];let g;if(m.isInterleavedBufferAttribute){const v=i(e.data,m.data);g=new Pf(v,m.itemSize,m.offset,m.normalized)}else{const v=rv(m.type,m.array),y=m.isInstancedBufferAttribute?Rf:wn;g=new y(v,m.itemSize,m.normalized)}m.name!==void 0&&(g.name=m.name),m.usage!==void 0&&g.setUsage(m.usage),a.setAttribute(h,g)}const c=e.data.morphAttributes;if(c)for(const h in c){const m=c[h],g=[];for(let v=0,y=m.length;v<y;v++){const w=m[v];let _;if(w.isInterleavedBufferAttribute){const S=i(e.data,w.data);_=new Pf(S,w.itemSize,w.offset,w.normalized)}else{const S=rv(w.type,w.array);_=new wn(S,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),g.push(_)}a.morphAttributes[h]=g}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const d=e.data.groups||e.data.drawcalls||e.data.offsets;if(d!==void 0)for(let h=0,m=d.length;h!==m;++h){const g=d[h];a.addGroup(g.start,g.count,g.materialIndex)}const f=e.data.boundingSphere;return f!==void 0&&(a.boundingSphere=new Ti().fromJSON(f)),e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class _De extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?hf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new xa(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(d){i!==void 0&&i(d),d("ObjectLoader: Can't parse "+e+".",d.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),hn("ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?hf.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new xa(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),this.bindLightTargets(c),n!==void 0){let d=!1;for(const f in a)if(a[f].data instanceof HTMLImageElement){d=!0;break}d===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),this.bindLightTargets(l),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new ff().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new KB().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new Ple;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in o9?o=o9[l.type].fromJSON(l,n):Pt(`ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new aR;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=m0.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:rv(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new sR(n);s=new Ww(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const d=e[c],f=d.url;if(Array.isArray(f)){const h=[];for(let m=0,g=f.length;m<g;m++){const v=f[m],y=o(v);y!==null&&(y instanceof HTMLImageElement?h.push(y):h.push(new nl(y.data,y.width,y.height)))}i[d.uuid]=new Kd(h)}else{const h=o(d.url);i[d.uuid]=new Kd(h)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:rv(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Ww(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let d=0,f=c.length;d<f;d++){const h=c[d],m=await s(h);m!==null&&(m instanceof HTMLImageElement?u.push(m):u.push(new nl(m.data,m.width,m.height)))}r[l.uuid]=new Kd(u)}else{const u=await s(l.url);r[l.uuid]=new Kd(u)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(Pt("ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&Pt('ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&Pt("ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new i_,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new nl:u=new ar,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,SDe)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],d9),u.wrapT=r(o.wrap[1],d9)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,f9)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,f9)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,n,r,i,s){let a;function o(f){return n[f]===void 0&&Pt("ObjectLoader: Undefined geometry",f),n[f]}function l(f){if(f!==void 0){if(Array.isArray(f)){const h=[];for(let m=0,g=f.length;m<g;m++){const v=f[m];r[v]===void 0&&Pt("ObjectLoader: Undefined material",v),h.push(r[v])}return h}return r[f]===void 0&&Pt("ObjectLoader: Undefined material",f),r[f]}}function c(f){return i[f]===void 0&&Pt("ObjectLoader: Undefined texture",f),i[f]}let u,d;switch(e.type){case"Scene":a=new dy,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new Et(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new BP(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new UP(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity),e.backgroundRotation!==void 0&&a.backgroundRotation.fromArray(e.backgroundRotation),e.environmentIntensity!==void 0&&(a.environmentIntensity=e.environmentIntensity),e.environmentRotation!==void 0&&a.environmentRotation.fromArray(e.environmentRotation);break;case"PerspectiveCamera":a=new Ur(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new rl(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new Tle(e.color,e.intensity);break;case"DirectionalLight":a=new h5(e.color,e.intensity),a.target=e.target||"";break;case"PointLight":a=new f5(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new Ale(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new d5(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay),a.target=e.target||"";break;case"HemisphereLight":a=new Ele(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new Cle().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),d=l(e.material),a=new qB(u,d),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),d=l(e.material),a=new Wn(u,d);break;case"InstancedMesh":u=o(e.geometry),d=l(e.material);const f=e.count,h=e.instanceMatrix,m=e.instanceColor;a=new VP(u,d,f),a.instanceMatrix=new Rf(new Float32Array(h.array),16),m!==void 0&&(a.instanceColor=new Rf(new Float32Array(m.array),m.itemSize));break;case"BatchedMesh":u=o(e.geometry),d=l(e.material),a=new Zoe(e.maxInstanceCount,e.maxVertexCount,e.maxIndexCount,d),a.geometry=u,a.perObjectFrustumCulled=e.perObjectFrustumCulled,a.sortObjects=e.sortObjects,a._drawRanges=e.drawRanges,a._reservedRanges=e.reservedRanges,a._geometryInfo=e.geometryInfo.map(g=>{let v=null,y=null;return g.boundingBox!==void 0&&(v=new Qi().fromJSON(g.boundingBox)),g.boundingSphere!==void 0&&(y=new Ti().fromJSON(g.boundingSphere)),{...g,boundingBox:v,boundingSphere:y}}),a._instanceInfo=e.instanceInfo,a._availableInstanceIds=e._availableInstanceIds,a._availableGeometryIds=e._availableGeometryIds,a._nextIndexStart=e.nextIndexStart,a._nextVertexStart=e.nextVertexStart,a._geometryCount=e.geometryCount,a._maxInstanceCount=e.maxInstanceCount,a._maxVertexCount=e.maxVertexCount,a._maxIndexCount=e.maxIndexCount,a._geometryInitialized=e.geometryInitialized,a._matricesTexture=c(e.matricesTexture.uuid),a._indirectTexture=c(e.indirectTexture.uuid),e.colorsTexture!==void 0&&(a._colorsTexture=c(e.colorsTexture.uuid)),e.boundingSphere!==void 0&&(a.boundingSphere=new Ti().fromJSON(e.boundingSphere)),e.boundingBox!==void 0&&(a.boundingBox=new Qi().fromJSON(e.boundingBox));break;case"LOD":a=new Koe;break;case"Line":a=new Vu(o(e.geometry),l(e.material));break;case"LineLoop":a=new YB(o(e.geometry),l(e.material));break;case"LineSegments":a=new Jl(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new ZB(o(e.geometry),l(e.material));break;case"Sprite":a=new qoe(l(e.material));break;case"Group":a=new Eu;break;case"Bone":a=new zP;break;default:a=new $n}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.intensity!==void 0&&(a.shadow.intensity=e.shadow.intensity),e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const f=e.children;for(let h=0;h<f.length;h++)a.add(this.parseObject(f[h],n,r,i,s))}if(e.animations!==void 0){const f=e.animations;for(let h=0;h<f.length;h++){const m=f[h];a.animations.push(s[m])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const f=e.levels;for(let h=0;h<f.length;h++){const m=f[h],g=a.getObjectByProperty("uuid",m.object);g!==void 0&&a.addLevel(g,m.distance,m.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?Pt("ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}bindLightTargets(e){e.traverse(function(n){if(n.isDirectionalLight||n.isSpotLight){const r=n.target,i=e.getObjectByProperty("uuid",r);i!==void 0?n.target=i:n.target=new $n}})}}const SDe={UVMapping:Tf,CubeReflectionMapping:jc,CubeRefractionMapping:Af,EquirectangularReflectionMapping:i0,EquirectangularRefractionMapping:jw,CubeUVReflectionMapping:cy},d9={RepeatWrapping:Mf,ClampToEdgeWrapping:ei,MirroredRepeatWrapping:s0},f9={NearestFilter:Ji,NearestMipmapNearestFilter:CP,NearestMipmapLinearFilter:lp,LinearFilter:Nn,LinearMipmapNearestFilter:wv,LinearMipmapLinearFilter:Zo},g3=new WeakMap;class Rle extends Ys{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&Pt("ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&Pt("ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"},this._abortController=new AbortController}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Sc.get(`image-bitmap:${e}`);if(a!==void 0){if(s.manager.itemStart(e),a.then){a.then(c=>{if(g3.has(a)===!0)i&&i(g3.get(a)),s.manager.itemError(e),s.manager.itemEnd(e);else return n&&n(c),s.manager.itemEnd(e),c});return}return setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a}const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,o.signal=typeof AbortSignal.any=="function"?AbortSignal.any([this._abortController.signal,this.manager.abortController.signal]):this._abortController.signal;const l=fetch(e,o).then(function(c){return c.blob()}).then(function(c){return createImageBitmap(c,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(c){return Sc.add(`image-bitmap:${e}`,c),n&&n(c),s.manager.itemEnd(e),c}).catch(function(c){i&&i(c),g3.set(l,c),Sc.remove(`image-bitmap:${e}`),s.manager.itemError(e),s.manager.itemEnd(e)});Sc.add(`image-bitmap:${e}`,l),s.manager.itemStart(e)}abort(){return this._abortController.abort(),this._abortController=new AbortController,this}}let WE;class m5{static getContext(){return WE===void 0&&(WE=new(window.AudioContext||window.webkitAudioContext)),WE}static setContext(e){WE=e}}class EDe extends Ys{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new xa(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);m5.getContext().decodeAudioData(c,function(d){n(d)}).catch(o)}catch(c){o(c)}},r,i);function o(l){i?i(l):hn(l),s.manager.itemError(e)}}}const h9=new It,p9=new It,bh=new It;class TDe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new Ur,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new Ur,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,bh.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(Rp*n.fov*.5)/n.zoom;let o,l;p9.elements[12]=-i,h9.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,bh.elements[0]=2*n.near/(l-o),bh.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(bh),o=-a*n.aspect-s,l=a*n.aspect-s,bh.elements[0]=2*n.near/(l-o),bh.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(bh)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(p9),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(h9)}}class Ole extends Ur{constructor(e=[]){super(),this.isArrayCamera=!0,this.isMultiViewCamera=!1,this.cameras=e}}class g5{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=performance.now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=performance.now();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}const wh=new J,v3=new hr,ADe=new J,_h=new J,Sh=new J;class MDe extends $n{constructor(){super(),this.type="AudioListener",this.context=m5.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new g5}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(wh,v3,ADe),_h.set(0,0,-1).applyQuaternion(v3),Sh.set(0,1,0).applyQuaternion(v3),n.positionX){const r=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(wh.x,r),n.positionY.linearRampToValueAtTime(wh.y,r),n.positionZ.linearRampToValueAtTime(wh.z,r),n.forwardX.linearRampToValueAtTime(_h.x,r),n.forwardY.linearRampToValueAtTime(_h.y,r),n.forwardZ.linearRampToValueAtTime(_h.z,r),n.upX.linearRampToValueAtTime(Sh.x,r),n.upY.linearRampToValueAtTime(Sh.y,r),n.upZ.linearRampToValueAtTime(Sh.z,r)}else n.setPosition(wh.x,wh.y,wh.z),n.setOrientation(_h.x,_h.y,_h.z,Sh.x,Sh.y,Sh.z)}}class Nle extends $n{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){Pt("Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){Pt("Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){Pt("Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(e=0){if(this.hasPlaybackControl===!1){Pt("Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(this.context.currentTime+e),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){return this.detune=e,this.isPlaying===!0&&this.source.detune!==void 0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){Pt("Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1,this._progress=0}getLoop(){return this.hasPlaybackControl===!1?(Pt("Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){Pt("Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}copy(e,n){return super.copy(e,n),e.sourceType!=="buffer"?(Pt("Audio: Audio source type cannot be copied."),this):(this.autoplay=e.autoplay,this.buffer=e.buffer,this.detune=e.detune,this.loop=e.loop,this.loopStart=e.loopStart,this.loopEnd=e.loopEnd,this.offset=e.offset,this.duration=e.duration,this.playbackRate=e.playbackRate,this.hasPlaybackControl=e.hasPlaybackControl,this.sourceType=e.sourceType,this.filters=e.filters.slice(),this)}clone(e){return new this.constructor(this.listener).copy(this,e)}}const Eh=new J,m9=new hr,CDe=new J,Th=new J;class PDe extends Nle{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){return super.connect(),this.panner.connect(this.gain),this}disconnect(){return super.disconnect(),this.panner.disconnect(this.gain),this}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(Eh,m9,CDe),Th.set(0,0,1).applyQuaternion(m9);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(Eh.x,r),n.positionY.linearRampToValueAtTime(Eh.y,r),n.positionZ.linearRampToValueAtTime(Eh.z,r),n.orientationX.linearRampToValueAtTime(Th.x,r),n.orientationY.linearRampToValueAtTime(Th.y,r),n.orientationZ.linearRampToValueAtTime(Th.z,r)}else n.setPosition(Eh.x,Eh.y,Eh.z),n.setOrientation(Th.x,Th.y,Th.z)}}class RDe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class Ile{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){hr.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;hr.multiplyQuaternionsFlat(e,a,e,n,e,r),hr.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const v5="\\[\\]\\.:\\/",ODe=new RegExp("["+v5+"]","g"),y5="[^"+v5+"]",NDe="[^"+v5.replace("\\.","")+"]",IDe=/((?:WC+[\/:])*)/.source.replace("WC",y5),kDe=/(WCOD+)?/.source.replace("WCOD",NDe),DDe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",y5),LDe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",y5),jDe=new RegExp("^"+IDe+kDe+DDe+LDe+"$"),FDe=["material","materials","bones","map"];class UDe{constructor(e,n,r){const i=r||Yn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Yn{constructor(e,n,r){this.path=n,this.parsedPath=r||Yn.parseTrackName(n),this.node=Yn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Yn.Composite(e,n,r):new Yn(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(ODe,"")}static parseTrackName(e){const n=jDe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);FDe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Yn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){Pt("PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){hn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){hn("PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){hn("PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){hn("PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){hn("PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){hn("PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){hn("PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;hn("PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.isMaterial===!0?o=this.Versioning.NeedsUpdate:e.isObject3D===!0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){hn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){hn("PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Yn.Composite=UDe;Yn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Yn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Yn.prototype.GetterByBindingType=[Yn.prototype._getValue_direct,Yn.prototype._getValue_array,Yn.prototype._getValue_arrayElement,Yn.prototype._getValue_toArray];Yn.prototype.SetterByBindingTypeAndVersioning=[[Yn.prototype._setValue_direct,Yn.prototype._setValue_direct_setNeedsUpdate,Yn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Yn.prototype._setValue_array,Yn.prototype._setValue_array_setNeedsUpdate,Yn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Yn.prototype._setValue_arrayElement,Yn.prototype._setValue_arrayElement_setNeedsUpdate,Yn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Yn.prototype._setValue_fromArray,Yn.prototype._setValue_fromArray_setNeedsUpdate,Yn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class BDe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=bo(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,d=arguments.length;u!==d;++u){const f=arguments[u],h=f.uuid;let m=n[h];if(m===void 0){m=l++,n[h]=m,e.push(f);for(let g=0,v=a;g!==v;++g)s[g].push(new Yn(f,r[g],i[g]))}else if(m<c){o=e[m];const g=--c,v=e[g];n[v.uuid]=m,e[m]=v,n[h]=g,e[g]=f;for(let y=0,w=a;y!==w;++y){const _=s[y],S=_[g];let E=_[m];_[m]=S,E===void 0&&(E=new Yn(f,r[y],i[y])),_[g]=E}}else e[m]!==o&&hn("AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const d=s++,f=e[d];n[f.uuid]=u,e[u]=f,n[c]=d,e[d]=l;for(let h=0,m=i;h!==m;++h){const g=r[h],v=g[d],y=g[u];g[u]=v,g[d]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,d=n[u];if(d!==void 0)if(delete n[u],d<s){const f=--s,h=e[f],m=--a,g=e[m];n[h.uuid]=d,e[d]=h,n[g.uuid]=f,e[f]=g,e.pop();for(let v=0,y=i;v!==y;++v){const w=r[v],_=w[f],S=w[m];w[d]=_,w[f]=S,w.pop()}}else{const f=--a,h=e[f];f>0&&(n[h.uuid]=d),e[d]=h,e.pop();for(let m=0,g=i;m!==g;++m){const v=r[m];v[d]=v[f],v.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,d=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(d);for(let f=u,h=l.length;f!==h;++f){const m=l[f];d[f]=new Yn(m,e,n)}return d}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class kle{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:cp,endingEnd:cp};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=Poe,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r=!1){if(e.fadeOut(n),this.fadeIn(n),r===!0){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r=!1){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case jB:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case LP:default:for(let u=0,d=l.length;u!==d;++u)l[u].evaluate(a),c[u].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===Roe;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===Coe){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=up,i.endingEnd=up):(e?i.endingStart=this.zeroSlopeAtStart?up:cp:i.endingStart=Fw,n?i.endingEnd=this.zeroSlopeAtEnd?up:cp:i.endingEnd=Fw)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const zDe=new Float32Array(1);class VDe extends $c{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let d=0;d!==s;++d){const f=i[d],h=f.name;let m=u[h];if(m!==void 0)++m.referenceCount,a[d]=m;else{if(m=a[d],m!==void 0){m._cacheIndex===null&&(++m.referenceCount,this._addInactiveBinding(m,l,h));continue}const g=n&&n._propertyBindings[d].binding.parsedPath;m=new Ile(Yn.create(r,h,g),f.ValueTypeName,f.getValueSize()),++m.referenceCount,this._addInactiveBinding(m,l,h),a[d]=m}o[d].resultBuffer=m.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const d=o.actionByRoot,f=(e._localRoot||this._root).uuid;delete d[f],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new a5(new Float32Array(2),new Float32Array(2),1,zDe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?m0.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=LP),l!==void 0){const d=l.actionByRoot[s];if(d!==void 0&&d.blendMode===r)return d;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new kle(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?m0.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,d=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,d._cacheIndex=u,n[u]=d,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class $De extends VB{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isRenderTarget3D=!0,this.depth=r,this.texture=new FP(null,e,n,r),this._setTextureOptions(i),this.texture.isRenderTargetTexture=!0}}class Ls{constructor(e){this.value=e}clone(){return new Ls(this.value.clone===void 0?this.value:this.value.clone())}}let HDe=0;class GDe extends $c{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:HDe++}),this.name="",this.usage=Bw,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){this.dispatchEvent({type:"dispose"})}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++){const s=Array.isArray(n[r])?n[r]:[n[r]];for(let a=0;a<s.length;a++)this.uniforms.push(s[a].clone())}return this}clone(){return new this.constructor().copy(this)}}class WDe extends s_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class XDe{constructor(e,n,r,i,s,a=!1){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.normalized=a,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}const g9=new It;class gy{constructor(e,n,r=0,i=1/0){this.ray=new Uc(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new Op,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):hn("Raycaster: Unsupported camera type: "+n.type)}setFromXRController(e){return g9.identity().extractRotation(e.matrixWorld),this.ray.origin.setFromMatrixPosition(e.matrixWorld),this.ray.direction.set(0,0,-1).applyMatrix4(g9),this}intersectObject(e,n=!0,r=[]){return sj(e,this,r,n),r.sort(v9),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)sj(e[i],this,r,n);return r.sort(v9),r}}function v9(t,e){return t.distance-e.distance}function sj(t,e,n,r){let i=!0;if(t.layers.test(e.layers)&&t.raycast(e,n)===!1&&(i=!1),i===!0&&r===!0){const s=t.children;for(let a=0,o=s.length;a<o;a++)sj(s[a],e,n,!0)}}class qDe{constructor(){this._previousTime=0,this._currentTime=0,this._startTime=performance.now(),this._delta=0,this._elapsed=0,this._timescale=1,this._document=null,this._pageVisibilityHandler=null}connect(e){this._document=e,e.hidden!==void 0&&(this._pageVisibilityHandler=KDe.bind(this),e.addEventListener("visibilitychange",this._pageVisibilityHandler,!1))}disconnect(){this._pageVisibilityHandler!==null&&(this._document.removeEventListener("visibilitychange",this._pageVisibilityHandler),this._pageVisibilityHandler=null),this._document=null}getDelta(){return this._delta/1e3}getElapsed(){return this._elapsed/1e3}getTimescale(){return this._timescale}setTimescale(e){return this._timescale=e,this}reset(){return this._currentTime=performance.now()-this._startTime,this}dispose(){this.disconnect()}update(e){return this._pageVisibilityHandler!==null&&this._document.hidden===!0?this._delta=0:(this._previousTime=this._currentTime,this._currentTime=(e!==void 0?e:performance.now())-this._startTime,this._delta=(this._currentTime-this._previousTime)*this._timescale,this._elapsed+=this._delta),this}}function KDe(){this._document.hidden===!1&&this.reset()}class aj{constructor(e=1,n=0,r=0){this.radius=e,this.phi=n,this.theta=r}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=cn(this.phi,1e-6,Math.PI-1e-6),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(cn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class YDe{constructor(e=1,n=0,r=0){this.radius=e,this.theta=n,this.y=r}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}class x5{constructor(e,n,r,i){x5.prototype.isMatrix2=!0,this.elements=[1,0,0,1],e!==void 0&&this.set(e,n,r,i)}identity(){return this.set(1,0,0,1),this}fromArray(e,n=0){for(let r=0;r<4;r++)this.elements[r]=e[r+n];return this}set(e,n,r,i){const s=this.elements;return s[0]=e,s[2]=n,s[1]=r,s[3]=i,this}}const y9=new Ve;class Dle{constructor(e=new Ve(1/0,1/0),n=new Ve(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=y9.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return e.x>=this.min.x&&e.x<=this.max.x&&e.y>=this.min.y&&e.y<=this.max.y}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return e.max.x>=this.min.x&&e.min.x<=this.max.x&&e.max.y>=this.min.y&&e.min.y<=this.max.y}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,y9).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const x9=new J,XE=new J,vg=new J,yg=new J,y3=new J,ZDe=new J,JDe=new J;class l2{constructor(e=new J,n=new J){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){x9.subVectors(e,this.start),XE.subVectors(this.end,this.start);const r=XE.dot(XE);let s=XE.dot(x9)/r;return n&&(s=cn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}distanceSqToLine3(e,n=ZDe,r=JDe){const i=10000000000000001e-32;let s,a;const o=this.start,l=e.start,c=this.end,u=e.end;vg.subVectors(c,o),yg.subVectors(u,l),y3.subVectors(o,l);const d=vg.dot(vg),f=yg.dot(yg),h=yg.dot(y3);if(d<=i&&f<=i)return n.copy(o),r.copy(l),n.sub(r),n.dot(n);if(d<=i)s=0,a=h/f,a=cn(a,0,1);else{const m=vg.dot(y3);if(f<=i)a=0,s=cn(-m/d,0,1);else{const g=vg.dot(yg),v=d*f-g*g;v!==0?s=cn((g*h-m*f)/v,0,1):s=0,a=(g*s+h)/f,a<0?(a=0,s=cn(-m/d,0,1)):a>1&&(a=1,s=cn((g-m)/d,0,1))}}return n.copy(o).add(vg.multiplyScalar(s)),r.copy(l).add(yg.multiplyScalar(a)),n.sub(r),n.dot(n)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const b9=new J;class QDe extends $n{constructor(e,n){super(),this.light=e,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new un,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new Vt(i,3));const s=new Ks({fog:!1,toneMapped:!1});this.cone=new Jl(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),this.parent?(this.parent.updateWorldMatrix(!0),this.matrix.copy(this.parent.matrixWorld).invert().multiply(this.light.matrixWorld)):this.matrix.copy(this.light.matrixWorld),this.matrixWorld.copy(this.light.matrixWorld);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),b9.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(b9),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const wd=new J,qE=new It,x3=new It;class eLe extends Jl{constructor(e){const n=Lle(e),r=new un,i=[],s=[];for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(0,0,0),s.push(0,0,0))}r.setAttribute("position",new Vt(i,3)),r.setAttribute("color",new Vt(s,3));const a=new Ks({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,a),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1;const o=new Et(255),l=new Et(65280);this.setColors(o,l)}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");x3.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(qE.multiplyMatrices(x3,o.matrixWorld),wd.setFromMatrixPosition(qE),i.setXYZ(a,wd.x,wd.y,wd.z),qE.multiplyMatrices(x3,o.parent.matrixWorld),wd.setFromMatrixPosition(qE),i.setXYZ(a+1,wd.x,wd.y,wd.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}setColors(e,n){const i=this.geometry.getAttribute("color");for(let s=0;s<i.count;s+=2)i.setXYZ(s,e.r,e.g,e.b),i.setXYZ(s+1,n.r,n.g,n.b);return i.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}function Lle(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push(...Lle(t.children[n]));return e}class tLe extends Wn{constructor(e,n,r){const i=new hy(n,4,2),s=new Ss({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nLe=new J,w9=new Et,_9=new Et;class rLe extends $n{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new u_(n);i.rotateY(Math.PI*.5),this.material=new Ss({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new wn(a,3)),this.add(new Wn(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");w9.copy(this.light.color),_9.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?w9:_9;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nLe.setFromMatrixPosition(this.light.matrixWorld).negate())}}class iLe extends Jl{constructor(e=10,n=10,r=4473924,i=8947848){r=new Et(r),i=new Et(i);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let f=0,h=0,m=-o;f<=n;f++,m+=a){l.push(-o,0,m,o,0,m),l.push(m,0,-o,m,0,o);const g=f===s?r:i;g.toArray(c,h),h+=3,g.toArray(c,h),h+=3,g.toArray(c,h),h+=3,g.toArray(c,h),h+=3}const u=new un;u.setAttribute("position",new Vt(l,3)),u.setAttribute("color",new Vt(c,3));const d=new Ks({vertexColors:!0,toneMapped:!1});super(u,d),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sLe extends Jl{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new Et(s),a=new Et(a);const o=[],l=[];if(n>1)for(let d=0;d<n;d++){const f=d/n*(Math.PI*2),h=Math.sin(f)*e,m=Math.cos(f)*e;o.push(0,0,0),o.push(h,0,m);const g=d&1?s:a;l.push(g.r,g.g,g.b),l.push(g.r,g.g,g.b)}for(let d=0;d<r;d++){const f=d&1?s:a,h=e-e/r*d;for(let m=0;m<i;m++){let g=m/i*(Math.PI*2),v=Math.sin(g)*h,y=Math.cos(g)*h;o.push(v,0,y),l.push(f.r,f.g,f.b),g=(m+1)/i*(Math.PI*2),v=Math.sin(g)*h,y=Math.cos(g)*h,o.push(v,0,y),l.push(f.r,f.g,f.b)}}const c=new un;c.setAttribute("position",new Vt(o,3)),c.setAttribute("color",new Vt(l,3));const u=new Ks({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const S9=new J,KE=new J,E9=new J;class aLe extends $n{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new un;i.setAttribute("position",new Vt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new Ks({fog:!1,toneMapped:!1});this.lightPlane=new Vu(i,s),this.add(this.lightPlane),i=new un,i.setAttribute("position",new Vt([0,0,0,0,0,1],3)),this.targetLine=new Vu(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),S9.setFromMatrixPosition(this.light.matrixWorld),KE.setFromMatrixPosition(this.light.target.matrixWorld),E9.subVectors(KE,S9),this.lightPlane.lookAt(KE),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(KE),this.targetLine.scale.z=E9.length()}}const YE=new J,ai=new uy;class oLe extends Jl{constructor(e){const n=new un,r=new Ks({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(m,g){l(m),l(g)}function l(m){i.push(0,0,0),s.push(0,0,0),a[m]===void 0&&(a[m]=[]),a[m].push(i.length/3-1)}n.setAttribute("position",new Vt(i,3)),n.setAttribute("color",new Vt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new Et(16755200),u=new Et(16711680),d=new Et(43775),f=new Et(16777215),h=new Et(3355443);this.setColors(c,u,d,f,h)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");return o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0,this}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;let s,a;if(ai.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),this.camera.reversedDepth===!0)s=1,a=0;else if(this.camera.coordinateSystem===vo)s=-1,a=1;else if(this.camera.coordinateSystem===u0)s=0,a=1;else throw new Error("THREE.CameraHelper.update(): Invalid coordinate system: "+this.camera.coordinateSystem);xi("c",n,e,ai,0,0,s),xi("t",n,e,ai,0,0,a),xi("n1",n,e,ai,-r,-i,s),xi("n2",n,e,ai,r,-i,s),xi("n3",n,e,ai,-r,i,s),xi("n4",n,e,ai,r,i,s),xi("f1",n,e,ai,-r,-i,a),xi("f2",n,e,ai,r,-i,a),xi("f3",n,e,ai,-r,i,a),xi("f4",n,e,ai,r,i,a),xi("u1",n,e,ai,r*.7,i*1.1,s),xi("u2",n,e,ai,-r*.7,i*1.1,s),xi("u3",n,e,ai,0,i*2,s),xi("cf1",n,e,ai,-r,0,a),xi("cf2",n,e,ai,r,0,a),xi("cf3",n,e,ai,0,-i,a),xi("cf4",n,e,ai,0,i,a),xi("cn1",n,e,ai,-r,0,s),xi("cn2",n,e,ai,r,0,s),xi("cn3",n,e,ai,0,-i,s),xi("cn4",n,e,ai,0,i,s),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function xi(t,e,n,r,i,s,a){YE.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],YE.x,YE.y,YE.z)}}const ZE=new Qi;class lLe extends Jl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new un;s.setIndex(new wn(r,1)),s.setAttribute("position",new wn(i,3)),super(s,new Ks({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(){if(this.object!==void 0&&ZE.setFromObject(this.object),ZE.isEmpty())return;const e=ZE.min,n=ZE.max,r=this.geometry.attributes.position,i=r.array;i[0]=n.x,i[1]=n.y,i[2]=n.z,i[3]=e.x,i[4]=n.y,i[5]=n.z,i[6]=e.x,i[7]=e.y,i[8]=n.z,i[9]=n.x,i[10]=e.y,i[11]=n.z,i[12]=n.x,i[13]=n.y,i[14]=e.z,i[15]=e.x,i[16]=n.y,i[17]=e.z,i[18]=e.x,i[19]=e.y,i[20]=e.z,i[21]=n.x,i[22]=e.y,i[23]=e.z,r.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cLe extends Jl{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new un;s.setIndex(new wn(r,1)),s.setAttribute("position",new Vt(i,3)),super(s,new Ks({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class uLe extends Vu{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new un;a.setAttribute("position",new Vt(s,3)),a.computeBoundingSphere(),super(a,new Ks({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new un;l.setAttribute("position",new Vt(o,3)),l.computeBoundingSphere(),this.add(new Wn(l,new Ss({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const T9=new J;let JE,b3;class dLe extends $n{constructor(e=new J(0,0,1),n=new J(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",JE===void 0&&(JE=new un,JE.setAttribute("position",new Vt([0,0,0,0,1,0],3)),b3=new l_(.5,1,5,1),b3.translate(0,-.5,0)),this.position.copy(n),this.line=new Vu(JE,new Ks({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Wn(b3,new Ss({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{T9.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(T9,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class fLe extends Jl{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new un;i.setAttribute("position",new Vt(n,3)),i.setAttribute("color",new Vt(r,3));const s=new Ks({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new Et,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hLe{constructor(){this.type="ShapePath",this.color=new Et,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new o2,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const w=[];for(let _=0,S=y.length;_<S;_++){const E=y[_],A=new ff;A.curves=E.curves,w.push(A)}return w}function r(y,w){const _=w.length;let S=!1;for(let E=_-1,A=0;A<_;E=A++){let M=w[E],R=w[A],P=R.x-M.x,O=R.y-M.y;if(Math.abs(O)>Number.EPSILON){if(O<0&&(M=w[A],P=-P,R=w[E],O=-O),y.y<M.y||y.y>R.y)continue;if(y.y===M.y){if(y.x===M.x)return!0}else{const k=O*(y.x-M.x)-P*(y.y-M.y);if(k===0)return!0;if(k<0)continue;S=!S}}else{if(y.y!==M.y)continue;if(R.x<=y.x&&y.x<=M.x||M.x<=y.x&&y.x<=R.x)return!0}}return S}const i=zl.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new ff,l.curves=o.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const d=[],f=[];let h=[],m=0,g;f[m]=void 0,h[m]=[];for(let y=0,w=s.length;y<w;y++)o=s[y],g=o.getPoints(),a=i(g),a=e?!a:a,a?(!u&&f[m]&&m++,f[m]={s:new ff,p:g},f[m].s.curves=o.curves,u&&m++,h[m]=[]):h[m].push({h:o,p:g[0]});if(!f[0])return n(s);if(f.length>1){let y=!1,w=0;for(let _=0,S=f.length;_<S;_++)d[_]=[];for(let _=0,S=f.length;_<S;_++){const E=h[_];for(let A=0;A<E.length;A++){const M=E[A];let R=!0;for(let P=0;P<f.length;P++)r(M.p,f[P].p)&&(_!==P&&w++,R?(R=!1,d[P].push(M)):y=!0);R&&d[_].push(M)}}w>0&&y===!1&&(h=d)}let v;for(let y=0,w=f.length;y<w;y++){l=f[y].s,c.push(l),v=h[y];for(let _=0,S=v.length;_<S;_++)l.holes.push(v[_].h)}return c}}class pLe extends $c{constructor(e,n=null){super(),this.object=e,this.domElement=n,this.enabled=!0,this.state=-1,this.keys={},this.mouseButtons={LEFT:null,MIDDLE:null,RIGHT:null},this.touches={ONE:null,TWO:null}}connect(e){if(e===void 0){Pt("Controls: connect() now requires an element.");return}this.domElement!==null&&this.disconnect(),this.domElement=e}disconnect(){}dispose(){}update(){}}function mLe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2):(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0),t}function gLe(t,e){const n=t.image&&t.image.width?t.image.width/t.image.height:1;return n>e?(t.repeat.x=e/n,t.repeat.y=1,t.offset.x=(1-t.repeat.x)/2,t.offset.y=0):(t.repeat.x=1,t.repeat.y=n/e,t.offset.x=0,t.offset.y=(1-t.repeat.y)/2),t}function vLe(t){return t.repeat.x=1,t.repeat.y=1,t.offset.x=0,t.offset.y=0,t}function oj(t,e,n,r){const i=yLe(r);switch(n){case DB:return t*e;case t_:return t*e/i.components*i.byteLength;case n_:return t*e/i.components*i.byteLength;case IP:return t*e*2/i.components*i.byteLength;case kP:return t*e*2/i.components*i.byteLength;case LB:return t*e*3/i.components*i.byteLength;case Si:return t*e*4/i.components*i.byteLength;case DP:return t*e*4/i.components*i.byteLength;case Ib:case kb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case Db:case Lb:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case RM:case NM:return Math.max(t,16)*Math.max(e,8)/4;case PM:case OM:return Math.max(t,8)*Math.max(e,8)/2;case IM:case kM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*8;case DM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case LM:return Math.floor((t+3)/4)*Math.floor((e+3)/4)*16;case jM:return Math.floor((t+4)/5)*Math.floor((e+3)/4)*16;case FM:return Math.floor((t+4)/5)*Math.floor((e+4)/5)*16;case UM:return Math.floor((t+5)/6)*Math.floor((e+4)/5)*16;case BM:return Math.floor((t+5)/6)*Math.floor((e+5)/6)*16;case zM:return Math.floor((t+7)/8)*Math.floor((e+4)/5)*16;case VM:return Math.floor((t+7)/8)*Math.floor((e+5)/6)*16;case $M:return Math.floor((t+7)/8)*Math.floor((e+7)/8)*16;case HM:return Math.floor((t+9)/10)*Math.floor((e+4)/5)*16;case GM:return Math.floor((t+9)/10)*Math.floor((e+5)/6)*16;case WM:return Math.floor((t+9)/10)*Math.floor((e+7)/8)*16;case XM:return Math.floor((t+9)/10)*Math.floor((e+9)/10)*16;case qM:return Math.floor((t+11)/12)*Math.floor((e+9)/10)*16;case KM:return Math.floor((t+11)/12)*Math.floor((e+11)/12)*16;case YM:case ZM:case JM:return Math.ceil(t/4)*Math.ceil(e/4)*16;case QM:case e2:return Math.ceil(t/4)*Math.ceil(e/4)*8;case t2:case n2:return Math.ceil(t/4)*Math.ceil(e/4)*16}throw new Error(`Unable to determine texture byte length for ${n} format.`)}function yLe(t){switch(t){case ba:case PP:return{byteLength:1,components:1};case Kp:case RP:case hi:return{byteLength:2,components:1};case OP:case NP:return{byteLength:2,components:4};case Fc:case e_:case ti:return{byteLength:4,components:1};case IB:case kB:return{byteLength:4,components:3}}throw new Error(`Unknown texture type ${t}.`)}class xLe{static contain(e,n){return mLe(e,n)}static cover(e,n){return gLe(e,n)}static fill(e){return vLe(e)}static getByteLength(e,n,r,i){return oj(e,n,r,i)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:vm}}));typeof window<"u"&&(window.__THREE__?Pt("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=vm);/**
 * @license
 * Copyright 2010-2025 Three.js Authors
 * SPDX-License-Identifier: MIT
 */function jle(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function bLe(t){const e=new WeakMap;function n(o,l){const c=o.array,u=o.usage,d=c.byteLength,f=t.createBuffer();t.bindBuffer(l,f),t.bufferData(l,c,u),o.onUploadCallback();let h;if(c instanceof Float32Array)h=t.FLOAT;else if(typeof Float16Array<"u"&&c instanceof Float16Array)h=t.HALF_FLOAT;else if(c instanceof Uint16Array)o.isFloat16BufferAttribute?h=t.HALF_FLOAT:h=t.UNSIGNED_SHORT;else if(c instanceof Int16Array)h=t.SHORT;else if(c instanceof Uint32Array)h=t.UNSIGNED_INT;else if(c instanceof Int32Array)h=t.INT;else if(c instanceof Int8Array)h=t.BYTE;else if(c instanceof Uint8Array)h=t.UNSIGNED_BYTE;else if(c instanceof Uint8ClampedArray)h=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+c);return{buffer:f,type:h,bytesPerElement:c.BYTES_PER_ELEMENT,version:o.version,size:d}}function r(o,l,c){const u=l.array,d=l.updateRanges;if(t.bindBuffer(c,o),d.length===0)t.bufferSubData(c,0,u);else{d.sort((h,m)=>h.start-m.start);let f=0;for(let h=1;h<d.length;h++){const m=d[f],g=d[h];g.start<=m.start+m.count+1?m.count=Math.max(m.count,g.start+g.count-m.start):(++f,d[f]=g)}d.length=f+1;for(let h=0,m=d.length;h<m;h++){const g=d[h];t.bufferSubData(c,g.start*u.BYTES_PER_ELEMENT,u,g.start,g.count)}l.clearUpdateRanges()}l.onUploadCallback()}function i(o){return o.isInterleavedBufferAttribute&&(o=o.data),e.get(o)}function s(o){o.isInterleavedBufferAttribute&&(o=o.data);const l=e.get(o);l&&(t.deleteBuffer(l.buffer),e.delete(o))}function a(o,l){if(o.isInterleavedBufferAttribute&&(o=o.data),o.isGLBufferAttribute){const u=e.get(o);(!u||u.version<o.version)&&e.set(o,{buffer:o.buffer,type:o.type,bytesPerElement:o.elementSize,version:o.version});return}const c=e.get(o);if(c===void 0)e.set(o,n(o,l));else if(c.version<o.version){if(c.size!==o.array.byteLength)throw new Error("THREE.WebGLAttributes: The size of the buffer attribute's array buffer does not match the original size. Resizing buffer attributes is not supported.");r(c.buffer,o,l),c.version=o.version}}return{get:i,remove:s,update:a}}var wLe=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,_Le=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,SLe=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,ELe=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,TLe=`#ifdef USE_ALPHATEST
	#ifdef ALPHA_TO_COVERAGE
	diffuseColor.a = smoothstep( alphaTest, alphaTest + fwidth( diffuseColor.a ), diffuseColor.a );
	if ( diffuseColor.a == 0.0 ) discard;
	#else
	if ( diffuseColor.a < alphaTest ) discard;
	#endif
#endif`,ALe=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,MLe=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_CLEARCOAT ) 
		clearcoatSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_SHEEN ) 
		sheenSpecularIndirect *= ambientOcclusion;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,CLe=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,PLe=`#ifdef USE_BATCHING
	#if ! defined( GL_ANGLE_multi_draw )
	#define gl_DrawID _gl_DrawID
	uniform int _gl_DrawID;
	#endif
	uniform highp sampler2D batchingTexture;
	uniform highp usampler2D batchingIdTexture;
	mat4 getBatchingMatrix( const in float i ) {
		int size = textureSize( batchingTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( batchingTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( batchingTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( batchingTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( batchingTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
	float getIndirectIndex( const in int i ) {
		int size = textureSize( batchingIdTexture, 0 ).x;
		int x = i % size;
		int y = i / size;
		return float( texelFetch( batchingIdTexture, ivec2( x, y ), 0 ).r );
	}
#endif
#ifdef USE_BATCHING_COLOR
	uniform sampler2D batchingColorTexture;
	vec3 getBatchingColor( const in float i ) {
		int size = textureSize( batchingColorTexture, 0 ).x;
		int j = int( i );
		int x = j % size;
		int y = j / size;
		return texelFetch( batchingColorTexture, ivec2( x, y ), 0 ).rgb;
	}
#endif`,RLe=`#ifdef USE_BATCHING
	mat4 batchingMatrix = getBatchingMatrix( getIndirectIndex( gl_DrawID ) );
#endif`,OLe=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,NLe=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,ILe=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,kLe=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,DLe=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = normalize( dFdx( surf_pos.xyz ) );
		vec3 vSigmaY = normalize( dFdy( surf_pos.xyz ) );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,LLe=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#ifdef ALPHA_TO_COVERAGE
		float distanceToPlane, distanceGradient;
		float clipOpacity = 1.0;
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
			distanceGradient = fwidth( distanceToPlane ) / 2.0;
			clipOpacity *= smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			if ( clipOpacity == 0.0 ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			float unionClipOpacity = 1.0;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				distanceToPlane = - dot( vClipPosition, plane.xyz ) + plane.w;
				distanceGradient = fwidth( distanceToPlane ) / 2.0;
				unionClipOpacity *= 1.0 - smoothstep( - distanceGradient, distanceGradient, distanceToPlane );
			}
			#pragma unroll_loop_end
			clipOpacity *= 1.0 - unionClipOpacity;
		#endif
		diffuseColor.a *= clipOpacity;
		if ( diffuseColor.a == 0.0 ) discard;
	#else
		#pragma unroll_loop_start
		for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
		}
		#pragma unroll_loop_end
		#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
			bool clipped = true;
			#pragma unroll_loop_start
			for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
				plane = clippingPlanes[ i ];
				clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
			}
			#pragma unroll_loop_end
			if ( clipped ) discard;
		#endif
	#endif
#endif`,jLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,FLe=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,ULe=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,BLe=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,VLe=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	varying vec3 vColor;
#endif`,$Le=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR ) || defined( USE_BATCHING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif
#ifdef USE_BATCHING_COLOR
	vec3 batchingColor = getBatchingColor( getIndirectIndex( gl_DrawID ) );
	vColor.xyz *= batchingColor.xyz;
#endif`,HLe=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,GLe=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,WLe=`vec3 transformedNormal = objectNormal;
#ifdef USE_TANGENT
	vec3 transformedTangent = objectTangent;
#endif
#ifdef USE_BATCHING
	mat3 bm = mat3( batchingMatrix );
	transformedNormal /= vec3( dot( bm[ 0 ], bm[ 0 ] ), dot( bm[ 1 ], bm[ 1 ] ), dot( bm[ 2 ], bm[ 2 ] ) );
	transformedNormal = bm * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = bm * transformedTangent;
	#endif
#endif
#ifdef USE_INSTANCING
	mat3 im = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( im[ 0 ], im[ 0 ] ), dot( im[ 1 ], im[ 1 ] ), dot( im[ 2 ], im[ 2 ] ) );
	transformedNormal = im * transformedNormal;
	#ifdef USE_TANGENT
		transformedTangent = im * transformedTangent;
	#endif
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	transformedTangent = ( modelViewMatrix * vec4( transformedTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,XLe=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qLe=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,KLe=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	#ifdef DECODE_VIDEO_TEXTURE_EMISSIVE
		emissiveColor = sRGBTransferEOTF( emissiveColor );
	#endif
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,YLe=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,ZLe="gl_FragColor = linearToOutputTexel( gl_FragColor );",JLe=`vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferEOTF( in vec4 value ) {
	return vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,QLe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, envMapRotation * vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,eje=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	uniform mat3 envMapRotation;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
#endif`,tje=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,nje=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,rje=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ije=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,sje=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,aje=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,oje=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,lje=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,cje=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,uje=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,dje=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,fje=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
	if ( cutoffDistance > 0.0 ) {
		distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
	}
	return distanceFalloff;
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,hje=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, pow4( roughness ) ) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, envMapRotation * reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,pje=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,mje=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,gje=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,vje=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,yje=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_DISPERSION
	material.dispersion = dispersion;
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	if( material.anisotropy == 0.0 ) {
		anisotropyV = vec2( 1.0, 0.0 );
	} else {
		anisotropyV /= material.anisotropy;
		material.anisotropy = saturate( material.anisotropy );
	}
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x + tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x - tbn[ 0 ] * anisotropyV.y;
#endif`,xje=`uniform sampler2D dfgLUT;
struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	float dispersion;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecularDirect = vec3( 0.0 );
vec3 clearcoatSpecularIndirect = vec3( 0.0 );
vec3 sheenSpecularDirect = vec3( 0.0 );
vec3 sheenSpecularIndirect = vec3(0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transpose( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 uv = vec2( roughness, dotNV );
	return texture2D( dfgLUT, uv ).rg;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
vec3 BRDF_GGX_Multiscatter( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 singleScatter = BRDF_GGX( lightDir, viewDir, normal, material );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	vec2 dfgV = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNV * dotNV), 0.0, dotNV), material.roughness );
	vec2 dfgL = DFGApprox( vec3(0.0, 0.0, 1.0), vec3(sqrt(1.0 - dotNL * dotNL), 0.0, dotNL), material.roughness );
	vec3 FssEss_V = material.specularColor * dfgV.x + material.specularF90 * dfgV.y;
	vec3 FssEss_L = material.specularColor * dfgL.x + material.specularF90 * dfgL.y;
	float Ess_V = dfgV.x + dfgV.y;
	float Ess_L = dfgL.x + dfgL.y;
	float Ems_V = 1.0 - Ess_V;
	float Ems_L = 1.0 - Ess_L;
	vec3 Favg = material.specularColor + ( 1.0 - material.specularColor ) * 0.047619;
	vec3 Fms = FssEss_V * FssEss_L * Favg / ( 1.0 - Ems_V * Ems_L * Favg * Favg + EPSILON );
	float compensationFactor = Ems_V * Ems_L;
	vec3 multiScatter = Fms * compensationFactor;
	return singleScatter + multiScatter;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecularDirect += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularDirect += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX_Multiscatter( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecularIndirect += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecularIndirect += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,bje=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal = vec3( 0.0 );
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowIntensity, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowIntensity, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowIntensity, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,wje=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,_je=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,Sje=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	gl_FragDepth = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Eje=`#if defined( USE_LOGARITHMIC_DEPTH_BUFFER )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Tje=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Aje=`#ifdef USE_LOGARITHMIC_DEPTH_BUFFER
	vFragDepth = 1.0 + gl_Position.w;
	vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
#endif`,Mje=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = sRGBTransferEOTF( sampledDiffuseColor );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,Cje=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,Pje=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Rje=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Oje=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Nje=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Ije=`#ifdef USE_INSTANCING_MORPH
	float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	float morphTargetBaseInfluence = texelFetch( morphTexture, ivec2( 0, gl_InstanceID ), 0 ).r;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		morphTargetInfluences[i] =  texelFetch( morphTexture, ivec2( i + 1, gl_InstanceID ), 0 ).r;
	}
#endif`,kje=`#if defined( USE_MORPHCOLORS )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Dje=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Lje=`#ifdef USE_MORPHTARGETS
	#ifndef USE_INSTANCING_MORPH
		uniform float morphTargetBaseInfluence;
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
	#endif
	uniform sampler2DArray morphTargetsTexture;
	uniform ivec2 morphTargetsTextureSize;
	vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
		int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
		int y = texelIndex / morphTargetsTextureSize.x;
		int x = texelIndex - y * morphTargetsTextureSize.x;
		ivec3 morphUV = ivec3( x, y, morphTargetIndex );
		return texelFetch( morphTargetsTexture, morphUV, 0 );
	}
#endif`,jje=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
	}
#endif`,Fje=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,Uje=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Bje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zje=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Vje=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,$je=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Hje=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Gje=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Wje=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Xje=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qje=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Kje=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;const float ShiftRight8 = 1. / 256.;
const float Inv255 = 1. / 255.;
const vec4 PackFactors = vec4( 1.0, 256.0, 256.0 * 256.0, 256.0 * 256.0 * 256.0 );
const vec2 UnpackFactors2 = vec2( UnpackDownscale, 1.0 / PackFactors.g );
const vec3 UnpackFactors3 = vec3( UnpackDownscale / PackFactors.rg, 1.0 / PackFactors.b );
const vec4 UnpackFactors4 = vec4( UnpackDownscale / PackFactors.rgb, 1.0 / PackFactors.a );
vec4 packDepthToRGBA( const in float v ) {
	if( v <= 0.0 )
		return vec4( 0., 0., 0., 0. );
	if( v >= 1.0 )
		return vec4( 1., 1., 1., 1. );
	float vuf;
	float af = modf( v * PackFactors.a, vuf );
	float bf = modf( vuf * ShiftRight8, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec4( vuf * Inv255, gf * PackUpscale, bf * PackUpscale, af );
}
vec3 packDepthToRGB( const in float v ) {
	if( v <= 0.0 )
		return vec3( 0., 0., 0. );
	if( v >= 1.0 )
		return vec3( 1., 1., 1. );
	float vuf;
	float bf = modf( v * PackFactors.b, vuf );
	float gf = modf( vuf * ShiftRight8, vuf );
	return vec3( vuf * Inv255, gf * PackUpscale, bf );
}
vec2 packDepthToRG( const in float v ) {
	if( v <= 0.0 )
		return vec2( 0., 0. );
	if( v >= 1.0 )
		return vec2( 1., 1. );
	float vuf;
	float gf = modf( v * 256., vuf );
	return vec2( vuf * Inv255, gf );
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors4 );
}
float unpackRGBToDepth( const in vec3 v ) {
	return dot( v, UnpackFactors3 );
}
float unpackRGToDepth( const in vec2 v ) {
	return v.r * UnpackFactors2.r + v.g * UnpackFactors2.g;
}
vec4 pack2HalfToRGBA( const in vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( const in vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Yje=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Zje=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_BATCHING
	mvPosition = batchingMatrix * mvPosition;
#endif
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Jje=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Qje=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,eFe=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,tFe=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,nFe=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		float depth = unpackRGBAToDepth( texture2D( depths, uv ) );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			return step( depth, compare );
		#else
			return step( compare, depth );
		#endif
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow( sampler2D shadow, vec2 uv, float compare ) {
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		#ifdef USE_REVERSED_DEPTH_BUFFER
			float hard_shadow = step( distribution.x, compare );
		#else
			float hard_shadow = step( compare, distribution.x );
		#endif
		if ( hard_shadow != 1.0 ) {
			float distance = compare - distribution.x;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowIntensity, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		float shadow = 1.0;
		vec3 lightToPosition = shadowCoord.xyz;
		
		float lightToPositionLength = length( lightToPosition );
		if ( lightToPositionLength - shadowCameraFar <= 0.0 && lightToPositionLength - shadowCameraNear >= 0.0 ) {
			float dp = ( lightToPositionLength - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );			dp += shadowBias;
			vec3 bd3D = normalize( lightToPosition );
			vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
			#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
				vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
				shadow = (
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
					texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
				) * ( 1.0 / 9.0 );
			#else
				shadow = texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
			#endif
		}
		return mix( 1.0, shadow, shadowIntensity );
	}
#endif`,rFe=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowIntensity;
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,iFe=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,sFe=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowIntensity, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowIntensity, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowIntensity, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,aFe=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,oFe=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	mat4 getBoneMatrix( const in float i ) {
		int size = textureSize( boneTexture, 0 ).x;
		int j = int( i ) * 4;
		int x = j % size;
		int y = j / size;
		vec4 v1 = texelFetch( boneTexture, ivec2( x, y ), 0 );
		vec4 v2 = texelFetch( boneTexture, ivec2( x + 1, y ), 0 );
		vec4 v3 = texelFetch( boneTexture, ivec2( x + 2, y ), 0 );
		vec4 v4 = texelFetch( boneTexture, ivec2( x + 3, y ), 0 );
		return mat4( v1, v2, v3, v4 );
	}
#endif`,lFe=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,cFe=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,uFe=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,dFe=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,fFe=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,hFe=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 CineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
const mat3 LINEAR_REC2020_TO_LINEAR_SRGB = mat3(
	vec3( 1.6605, - 0.1246, - 0.0182 ),
	vec3( - 0.5876, 1.1329, - 0.1006 ),
	vec3( - 0.0728, - 0.0083, 1.1187 )
);
const mat3 LINEAR_SRGB_TO_LINEAR_REC2020 = mat3(
	vec3( 0.6274, 0.0691, 0.0164 ),
	vec3( 0.3293, 0.9195, 0.0880 ),
	vec3( 0.0433, 0.0113, 0.8956 )
);
vec3 agxDefaultContrastApprox( vec3 x ) {
	vec3 x2 = x * x;
	vec3 x4 = x2 * x2;
	return + 15.5 * x4 * x2
		- 40.14 * x4 * x
		+ 31.96 * x4
		- 6.868 * x2 * x
		+ 0.4298 * x2
		+ 0.1191 * x
		- 0.00232;
}
vec3 AgXToneMapping( vec3 color ) {
	const mat3 AgXInsetMatrix = mat3(
		vec3( 0.856627153315983, 0.137318972929847, 0.11189821299995 ),
		vec3( 0.0951212405381588, 0.761241990602591, 0.0767994186031903 ),
		vec3( 0.0482516061458583, 0.101439036467562, 0.811302368396859 )
	);
	const mat3 AgXOutsetMatrix = mat3(
		vec3( 1.1271005818144368, - 0.1413297634984383, - 0.14132976349843826 ),
		vec3( - 0.11060664309660323, 1.157823702216272, - 0.11060664309660294 ),
		vec3( - 0.016493938717834573, - 0.016493938717834257, 1.2519364065950405 )
	);
	const float AgxMinEv = - 12.47393;	const float AgxMaxEv = 4.026069;
	color *= toneMappingExposure;
	color = LINEAR_SRGB_TO_LINEAR_REC2020 * color;
	color = AgXInsetMatrix * color;
	color = max( color, 1e-10 );	color = log2( color );
	color = ( color - AgxMinEv ) / ( AgxMaxEv - AgxMinEv );
	color = clamp( color, 0.0, 1.0 );
	color = agxDefaultContrastApprox( color );
	color = AgXOutsetMatrix * color;
	color = pow( max( vec3( 0.0 ), color ), vec3( 2.2 ) );
	color = LINEAR_REC2020_TO_LINEAR_SRGB * color;
	color = clamp( color, 0.0, 1.0 );
	return color;
}
vec3 NeutralToneMapping( vec3 color ) {
	const float StartCompression = 0.8 - 0.04;
	const float Desaturation = 0.15;
	color *= toneMappingExposure;
	float x = min( color.r, min( color.g, color.b ) );
	float offset = x < 0.08 ? x - 6.25 * x * x : 0.04;
	color -= offset;
	float peak = max( color.r, max( color.g, color.b ) );
	if ( peak < StartCompression ) return color;
	float d = 1. - StartCompression;
	float newPeak = 1. - d * d / ( peak + d - StartCompression );
	color *= newPeak / peak;
	float g = 1. - 1. / ( Desaturation * ( peak - newPeak ) + 1. );
	return mix( color, vec3( newPeak ), g );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,pFe=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.dispersion, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,mFe=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float dispersion, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec4 transmittedLight;
		vec3 transmittance;
		#ifdef USE_DISPERSION
			float halfSpread = ( ior - 1.0 ) * 0.025 * dispersion;
			vec3 iors = vec3( ior - halfSpread, ior, ior + halfSpread );
			for ( int i = 0; i < 3; i ++ ) {
				vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, iors[ i ], modelMatrix );
				vec3 refractedRayExit = position + transmissionRay;
				vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
				vec2 refractionCoords = ndcPos.xy / ndcPos.w;
				refractionCoords += 1.0;
				refractionCoords /= 2.0;
				vec4 transmissionSample = getTransmissionSample( refractionCoords, roughness, iors[ i ] );
				transmittedLight[ i ] = transmissionSample[ i ];
				transmittedLight.a += transmissionSample.a;
				transmittance[ i ] = diffuseColor[ i ] * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance )[ i ];
			}
			transmittedLight.a /= 3.0;
		#else
			vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
			vec3 refractedRayExit = position + transmissionRay;
			vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
			vec2 refractionCoords = ndcPos.xy / ndcPos.w;
			refractionCoords += 1.0;
			refractionCoords /= 2.0;
			transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
			transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		#endif
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,gFe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,vFe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,yFe=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,xFe=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_BATCHING
		worldPosition = batchingMatrix * worldPosition;
	#endif
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const bFe=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,wFe=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,_Fe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,SFe=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
uniform mat3 backgroundRotation;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, backgroundRotation * vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, backgroundRotation * vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,EFe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,TFe=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,AFe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,MFe=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	#ifdef USE_REVERSED_DEPTH_BUFFER
		float fragCoordZ = vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ];
	#else
		float fragCoordZ = 0.5 * vHighPrecisionZW[ 0 ] / vHighPrecisionZW[ 1 ] + 0.5;
	#endif
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#elif DEPTH_PACKING == 3202
		gl_FragColor = vec4( packDepthToRGB( fragCoordZ ), 1.0 );
	#elif DEPTH_PACKING == 3203
		gl_FragColor = vec4( packDepthToRG( fragCoordZ ), 0.0, 1.0 );
	#endif
}`,CFe=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <skinbase_vertex>
	#include <morphinstance_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,PFe=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	vec4 diffuseColor = vec4( 1.0 );
	#include <clipping_planes_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,RFe=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,OFe=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,NFe=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,IFe=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,kFe=`#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,DFe=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,LFe=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,jFe=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,FFe=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,UFe=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,BFe=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zFe=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( 0.0, 0.0, 0.0, opacity );
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), diffuseColor.a );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,VFe=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,$Fe=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,HFe=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,GFe=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_DISPERSION
	uniform float dispersion;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecularDirect + sheenSpecularIndirect;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + ( clearcoatSpecularDirect + clearcoatSpecularIndirect ) * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,WFe=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <batching_pars_vertex>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,XFe=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qFe=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphinstance_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,KFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,YFe=`#include <common>
#include <batching_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <batching_vertex>
	#include <beginnormal_vertex>
	#include <morphinstance_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,ZFe=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,JFe=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix[ 3 ];
	vec2 scale = vec2( length( modelMatrix[ 0 ].xyz ), length( modelMatrix[ 1 ].xyz ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,QFe=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Cn={alphahash_fragment:wLe,alphahash_pars_fragment:_Le,alphamap_fragment:SLe,alphamap_pars_fragment:ELe,alphatest_fragment:TLe,alphatest_pars_fragment:ALe,aomap_fragment:MLe,aomap_pars_fragment:CLe,batching_pars_vertex:PLe,batching_vertex:RLe,begin_vertex:OLe,beginnormal_vertex:NLe,bsdfs:ILe,iridescence_fragment:kLe,bumpmap_pars_fragment:DLe,clipping_planes_fragment:LLe,clipping_planes_pars_fragment:jLe,clipping_planes_pars_vertex:FLe,clipping_planes_vertex:ULe,color_fragment:BLe,color_pars_fragment:zLe,color_pars_vertex:VLe,color_vertex:$Le,common:HLe,cube_uv_reflection_fragment:GLe,defaultnormal_vertex:WLe,displacementmap_pars_vertex:XLe,displacementmap_vertex:qLe,emissivemap_fragment:KLe,emissivemap_pars_fragment:YLe,colorspace_fragment:ZLe,colorspace_pars_fragment:JLe,envmap_fragment:QLe,envmap_common_pars_fragment:eje,envmap_pars_fragment:tje,envmap_pars_vertex:nje,envmap_physical_pars_fragment:hje,envmap_vertex:rje,fog_vertex:ije,fog_pars_vertex:sje,fog_fragment:aje,fog_pars_fragment:oje,gradientmap_pars_fragment:lje,lightmap_pars_fragment:cje,lights_lambert_fragment:uje,lights_lambert_pars_fragment:dje,lights_pars_begin:fje,lights_toon_fragment:pje,lights_toon_pars_fragment:mje,lights_phong_fragment:gje,lights_phong_pars_fragment:vje,lights_physical_fragment:yje,lights_physical_pars_fragment:xje,lights_fragment_begin:bje,lights_fragment_maps:wje,lights_fragment_end:_je,logdepthbuf_fragment:Sje,logdepthbuf_pars_fragment:Eje,logdepthbuf_pars_vertex:Tje,logdepthbuf_vertex:Aje,map_fragment:Mje,map_pars_fragment:Cje,map_particle_fragment:Pje,map_particle_pars_fragment:Rje,metalnessmap_fragment:Oje,metalnessmap_pars_fragment:Nje,morphinstance_vertex:Ije,morphcolor_vertex:kje,morphnormal_vertex:Dje,morphtarget_pars_vertex:Lje,morphtarget_vertex:jje,normal_fragment_begin:Fje,normal_fragment_maps:Uje,normal_pars_fragment:Bje,normal_pars_vertex:zje,normal_vertex:Vje,normalmap_pars_fragment:$je,clearcoat_normal_fragment_begin:Hje,clearcoat_normal_fragment_maps:Gje,clearcoat_pars_fragment:Wje,iridescence_pars_fragment:Xje,opaque_fragment:qje,packing:Kje,premultiplied_alpha_fragment:Yje,project_vertex:Zje,dithering_fragment:Jje,dithering_pars_fragment:Qje,roughnessmap_fragment:eFe,roughnessmap_pars_fragment:tFe,shadowmap_pars_fragment:nFe,shadowmap_pars_vertex:rFe,shadowmap_vertex:iFe,shadowmask_pars_fragment:sFe,skinbase_vertex:aFe,skinning_pars_vertex:oFe,skinning_vertex:lFe,skinnormal_vertex:cFe,specularmap_fragment:uFe,specularmap_pars_fragment:dFe,tonemapping_fragment:fFe,tonemapping_pars_fragment:hFe,transmission_fragment:pFe,transmission_pars_fragment:mFe,uv_pars_fragment:gFe,uv_pars_vertex:vFe,uv_vertex:yFe,worldpos_vertex:xFe,background_vert:bFe,background_frag:wFe,backgroundCube_vert:_Fe,backgroundCube_frag:SFe,cube_vert:EFe,cube_frag:TFe,depth_vert:AFe,depth_frag:MFe,distanceRGBA_vert:CFe,distanceRGBA_frag:PFe,equirect_vert:RFe,equirect_frag:OFe,linedashed_vert:NFe,linedashed_frag:IFe,meshbasic_vert:kFe,meshbasic_frag:DFe,meshlambert_vert:LFe,meshlambert_frag:jFe,meshmatcap_vert:FFe,meshmatcap_frag:UFe,meshnormal_vert:BFe,meshnormal_frag:zFe,meshphong_vert:VFe,meshphong_frag:$Fe,meshphysical_vert:HFe,meshphysical_frag:GFe,meshtoon_vert:WFe,meshtoon_frag:XFe,points_vert:qFe,points_frag:KFe,shadow_vert:YFe,shadow_frag:ZFe,sprite_vert:JFe,sprite_frag:QFe},At={common:{diffuse:{value:new Et(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new yn},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new yn}},envmap:{envMap:{value:null},envMapRotation:{value:new yn},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},dfgLUT:{value:null}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new yn}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new yn}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new yn},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new yn},normalScale:{value:new Ve(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new yn},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new yn}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new yn}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new yn}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Et(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowIntensity:1,shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Et(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0},uvTransform:{value:new yn}},sprite:{diffuse:{value:new Et(16777215)},opacity:{value:1},center:{value:new Ve(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new yn},alphaMap:{value:null},alphaMapTransform:{value:new yn},alphaTest:{value:0}}},jl={basic:{uniforms:aa([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.fog]),vertexShader:Cn.meshbasic_vert,fragmentShader:Cn.meshbasic_frag},lambert:{uniforms:aa([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.fog,At.lights,{emissive:{value:new Et(0)}}]),vertexShader:Cn.meshlambert_vert,fragmentShader:Cn.meshlambert_frag},phong:{uniforms:aa([At.common,At.specularmap,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.fog,At.lights,{emissive:{value:new Et(0)},specular:{value:new Et(1118481)},shininess:{value:30}}]),vertexShader:Cn.meshphong_vert,fragmentShader:Cn.meshphong_frag},standard:{uniforms:aa([At.common,At.envmap,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.roughnessmap,At.metalnessmap,At.fog,At.lights,{emissive:{value:new Et(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag},toon:{uniforms:aa([At.common,At.aomap,At.lightmap,At.emissivemap,At.bumpmap,At.normalmap,At.displacementmap,At.gradientmap,At.fog,At.lights,{emissive:{value:new Et(0)}}]),vertexShader:Cn.meshtoon_vert,fragmentShader:Cn.meshtoon_frag},matcap:{uniforms:aa([At.common,At.bumpmap,At.normalmap,At.displacementmap,At.fog,{matcap:{value:null}}]),vertexShader:Cn.meshmatcap_vert,fragmentShader:Cn.meshmatcap_frag},points:{uniforms:aa([At.points,At.fog]),vertexShader:Cn.points_vert,fragmentShader:Cn.points_frag},dashed:{uniforms:aa([At.common,At.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Cn.linedashed_vert,fragmentShader:Cn.linedashed_frag},depth:{uniforms:aa([At.common,At.displacementmap]),vertexShader:Cn.depth_vert,fragmentShader:Cn.depth_frag},normal:{uniforms:aa([At.common,At.bumpmap,At.normalmap,At.displacementmap,{opacity:{value:1}}]),vertexShader:Cn.meshnormal_vert,fragmentShader:Cn.meshnormal_frag},sprite:{uniforms:aa([At.sprite,At.fog]),vertexShader:Cn.sprite_vert,fragmentShader:Cn.sprite_frag},background:{uniforms:{uvTransform:{value:new yn},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Cn.background_vert,fragmentShader:Cn.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1},backgroundRotation:{value:new yn}},vertexShader:Cn.backgroundCube_vert,fragmentShader:Cn.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Cn.cube_vert,fragmentShader:Cn.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Cn.equirect_vert,fragmentShader:Cn.equirect_frag},distanceRGBA:{uniforms:aa([At.common,At.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Cn.distanceRGBA_vert,fragmentShader:Cn.distanceRGBA_frag},shadow:{uniforms:aa([At.lights,At.fog,{color:{value:new Et(0)},opacity:{value:1}}]),vertexShader:Cn.shadow_vert,fragmentShader:Cn.shadow_frag}};jl.physical={uniforms:aa([jl.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new yn},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new yn},clearcoatNormalScale:{value:new Ve(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new yn},dispersion:{value:0},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new yn},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new yn},sheen:{value:0},sheenColor:{value:new Et(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new yn},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new yn},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new yn},transmissionSamplerSize:{value:new Ve},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new yn},attenuationDistance:{value:0},attenuationColor:{value:new Et(0)},specularColor:{value:new Et(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new yn},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new yn},anisotropyVector:{value:new Ve},anisotropyMap:{value:null},anisotropyMapTransform:{value:new yn}}]),vertexShader:Cn.meshphysical_vert,fragmentShader:Cn.meshphysical_frag};const QE={r:0,b:0,g:0},Ah=new wa,eUe=new It;function tUe(t,e,n,r,i,s,a){const o=new Et(0);let l=s===!0?0:1,c,u,d=null,f=0,h=null;function m(_){let S=_.isScene===!0?_.background:null;return S&&S.isTexture&&(S=(_.backgroundBlurriness>0?n:e).get(S)),S}function g(_){let S=!1;const E=m(_);E===null?y(o,l):E&&E.isColor&&(y(E,1),S=!0);const A=t.xr.getEnvironmentBlendMode();A==="additive"?r.buffers.color.setClear(0,0,0,1,a):A==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||S)&&(r.buffers.depth.setTest(!0),r.buffers.depth.setMask(!0),r.buffers.color.setMask(!0),t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil))}function v(_,S){const E=m(S);E&&(E.isCubeTexture||E.mapping===cy)?(u===void 0&&(u=new Wn(new $f(1,1,1),new Vi({name:"BackgroundCubeMaterial",uniforms:h0(jl.backgroundCube.uniforms),vertexShader:jl.backgroundCube.vertexShader,fragmentShader:jl.backgroundCube.fragmentShader,side:Gs,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(A,M,R){this.matrixWorld.copyPosition(R.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),Ah.copy(S.backgroundRotation),Ah.x*=-1,Ah.y*=-1,Ah.z*=-1,E.isCubeTexture&&E.isRenderTargetTexture===!1&&(Ah.y*=-1,Ah.z*=-1),u.material.uniforms.envMap.value=E,u.material.uniforms.flipEnvMap.value=E.isCubeTexture&&E.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=S.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,u.material.uniforms.backgroundRotation.value.setFromMatrix4(eUe.makeRotationFromEuler(Ah)),u.material.toneMapped=Kn.getTransfer(E.colorSpace)!==pr,(d!==E||f!==E.version||h!==t.toneMapping)&&(u.material.needsUpdate=!0,d=E,f=E.version,h=t.toneMapping),u.layers.enableAll(),_.unshift(u,u.geometry,u.material,0,0,null)):E&&E.isTexture&&(c===void 0&&(c=new Wn(new Mo(2,2),new Vi({name:"BackgroundMaterial",uniforms:h0(jl.background.uniforms),vertexShader:jl.background.vertexShader,fragmentShader:jl.background.fragmentShader,side:Lc,depthTest:!1,depthWrite:!1,fog:!1,allowOverride:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=E,c.material.uniforms.backgroundIntensity.value=S.backgroundIntensity,c.material.toneMapped=Kn.getTransfer(E.colorSpace)!==pr,E.matrixAutoUpdate===!0&&E.updateMatrix(),c.material.uniforms.uvTransform.value.copy(E.matrix),(d!==E||f!==E.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,d=E,f=E.version,h=t.toneMapping),c.layers.enableAll(),_.unshift(c,c.geometry,c.material,0,0,null))}function y(_,S){_.getRGB(QE,Goe(t)),r.buffers.color.setClear(QE.r,QE.g,QE.b,S,a)}function w(){u!==void 0&&(u.geometry.dispose(),u.material.dispose(),u=void 0),c!==void 0&&(c.geometry.dispose(),c.material.dispose(),c=void 0)}return{getClearColor:function(){return o},setClearColor:function(_,S=1){o.set(_),l=S,y(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(_){l=_,y(o,l)},render:g,addToRenderList:v,dispose:w}}function nUe(t,e){const n=t.getParameter(t.MAX_VERTEX_ATTRIBS),r={},i=f(null);let s=i,a=!1;function o(O,k,I,F,L){let V=!1;const z=d(F,I,k);s!==z&&(s=z,c(s.object)),V=h(O,F,I,L),V&&m(O,F,I,L),L!==null&&e.update(L,t.ELEMENT_ARRAY_BUFFER),(V||a)&&(a=!1,S(O,k,I,F),L!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,e.get(L).buffer))}function l(){return t.createVertexArray()}function c(O){return t.bindVertexArray(O)}function u(O){return t.deleteVertexArray(O)}function d(O,k,I){const F=I.wireframe===!0;let L=r[O.id];L===void 0&&(L={},r[O.id]=L);let V=L[k.id];V===void 0&&(V={},L[k.id]=V);let z=V[F];return z===void 0&&(z=f(l()),V[F]=z),z}function f(O){const k=[],I=[],F=[];for(let L=0;L<n;L++)k[L]=0,I[L]=0,F[L]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:k,enabledAttributes:I,attributeDivisors:F,object:O,attributes:{},index:null}}function h(O,k,I,F){const L=s.attributes,V=k.attributes;let z=0;const K=I.getAttributes();for(const j in K)if(K[j].location>=0){const $=L[j];let G=V[j];if(G===void 0&&(j==="instanceMatrix"&&O.instanceMatrix&&(G=O.instanceMatrix),j==="instanceColor"&&O.instanceColor&&(G=O.instanceColor)),$===void 0||$.attribute!==G||G&&$.data!==G.data)return!0;z++}return s.attributesNum!==z||s.index!==F}function m(O,k,I,F){const L={},V=k.attributes;let z=0;const K=I.getAttributes();for(const j in K)if(K[j].location>=0){let $=V[j];$===void 0&&(j==="instanceMatrix"&&O.instanceMatrix&&($=O.instanceMatrix),j==="instanceColor"&&O.instanceColor&&($=O.instanceColor));const G={};G.attribute=$,$&&$.data&&(G.data=$.data),L[j]=G,z++}s.attributes=L,s.attributesNum=z,s.index=F}function g(){const O=s.newAttributes;for(let k=0,I=O.length;k<I;k++)O[k]=0}function v(O){y(O,0)}function y(O,k){const I=s.newAttributes,F=s.enabledAttributes,L=s.attributeDivisors;I[O]=1,F[O]===0&&(t.enableVertexAttribArray(O),F[O]=1),L[O]!==k&&(t.vertexAttribDivisor(O,k),L[O]=k)}function w(){const O=s.newAttributes,k=s.enabledAttributes;for(let I=0,F=k.length;I<F;I++)k[I]!==O[I]&&(t.disableVertexAttribArray(I),k[I]=0)}function _(O,k,I,F,L,V,z){z===!0?t.vertexAttribIPointer(O,k,I,L,V):t.vertexAttribPointer(O,k,I,F,L,V)}function S(O,k,I,F){g();const L=F.attributes,V=I.getAttributes(),z=k.defaultAttributeValues;for(const K in V){const j=V[K];if(j.location>=0){let U=L[K];if(U===void 0&&(K==="instanceMatrix"&&O.instanceMatrix&&(U=O.instanceMatrix),K==="instanceColor"&&O.instanceColor&&(U=O.instanceColor)),U!==void 0){const $=U.normalized,G=U.itemSize,X=e.get(U);if(X===void 0)continue;const Q=X.buffer,oe=X.type,de=X.bytesPerElement,ae=oe===t.INT||oe===t.UNSIGNED_INT||U.gpuType===e_;if(U.isInterleavedBufferAttribute){const ne=U.data,ve=ne.stride,ge=U.offset;if(ne.isInstancedInterleavedBuffer){for(let _e=0;_e<j.locationSize;_e++)y(j.location+_e,ne.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let _e=0;_e<j.locationSize;_e++)v(j.location+_e);t.bindBuffer(t.ARRAY_BUFFER,Q);for(let _e=0;_e<j.locationSize;_e++)_(j.location+_e,G/j.locationSize,oe,$,ve*de,(ge+G/j.locationSize*_e)*de,ae)}else{if(U.isInstancedBufferAttribute){for(let ne=0;ne<j.locationSize;ne++)y(j.location+ne,U.meshPerAttribute);O.isInstancedMesh!==!0&&F._maxInstanceCount===void 0&&(F._maxInstanceCount=U.meshPerAttribute*U.count)}else for(let ne=0;ne<j.locationSize;ne++)v(j.location+ne);t.bindBuffer(t.ARRAY_BUFFER,Q);for(let ne=0;ne<j.locationSize;ne++)_(j.location+ne,G/j.locationSize,oe,$,G*de,G/j.locationSize*ne*de,ae)}}else if(z!==void 0){const $=z[K];if($!==void 0)switch($.length){case 2:t.vertexAttrib2fv(j.location,$);break;case 3:t.vertexAttrib3fv(j.location,$);break;case 4:t.vertexAttrib4fv(j.location,$);break;default:t.vertexAttrib1fv(j.location,$)}}}}w()}function E(){R();for(const O in r){const k=r[O];for(const I in k){const F=k[I];for(const L in F)u(F[L].object),delete F[L];delete k[I]}delete r[O]}}function A(O){if(r[O.id]===void 0)return;const k=r[O.id];for(const I in k){const F=k[I];for(const L in F)u(F[L].object),delete F[L];delete k[I]}delete r[O.id]}function M(O){for(const k in r){const I=r[k];if(I[O.id]===void 0)continue;const F=I[O.id];for(const L in F)u(F[L].object),delete F[L];delete I[O.id]}}function R(){P(),a=!0,s!==i&&(s=i,c(s.object))}function P(){i.geometry=null,i.program=null,i.wireframe=!1}return{setup:o,reset:R,resetDefaultState:P,dispose:E,releaseStatesOfGeometry:A,releaseStatesOfProgram:M,initAttributes:g,enableAttribute:v,disableUnusedAttributes:w}}function rUe(t,e,n){let r;function i(c){r=c}function s(c,u){t.drawArrays(r,c,u),n.update(u,r,1)}function a(c,u,d){d!==0&&(t.drawArraysInstanced(r,c,u,d),n.update(u,r,d))}function o(c,u,d){if(d===0)return;e.get("WEBGL_multi_draw").multiDrawArraysWEBGL(r,c,0,u,0,d);let h=0;for(let m=0;m<d;m++)h+=u[m];n.update(h,r,1)}function l(c,u,d,f){if(d===0)return;const h=e.get("WEBGL_multi_draw");if(h===null)for(let m=0;m<c.length;m++)a(c[m],u[m],f[m]);else{h.multiDrawArraysInstancedWEBGL(r,c,0,u,0,f,0,d);let m=0;for(let g=0;g<d;g++)m+=u[g]*f[g];n.update(m,r,1)}}this.setMode=i,this.render=s,this.renderInstances=a,this.renderMultiDraw=o,this.renderMultiDrawInstances=l}function iUe(t,e,n,r){let i;function s(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const M=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(M.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(M){return!(M!==Si&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_FORMAT))}function o(M){const R=M===hi&&(e.has("EXT_color_buffer_half_float")||e.has("EXT_color_buffer_float"));return!(M!==ba&&r.convert(M)!==t.getParameter(t.IMPLEMENTATION_COLOR_READ_TYPE)&&M!==ti&&!R)}function l(M){if(M==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";M="mediump"}return M==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}let c=n.precision!==void 0?n.precision:"highp";const u=l(c);u!==c&&(Pt("WebGLRenderer:",c,"not supported, using",u,"instead."),c=u);const d=n.logarithmicDepthBuffer===!0,f=n.reversedDepthBuffer===!0&&e.has("EXT_clip_control"),h=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),m=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),g=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),y=t.getParameter(t.MAX_VERTEX_ATTRIBS),w=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),_=t.getParameter(t.MAX_VARYING_VECTORS),S=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),E=m>0,A=t.getParameter(t.MAX_SAMPLES);return{isWebGL2:!0,getMaxAnisotropy:s,getMaxPrecision:l,textureFormatReadable:a,textureTypeReadable:o,precision:c,logarithmicDepthBuffer:d,reversedDepthBuffer:f,maxTextures:h,maxVertexTextures:m,maxTextureSize:g,maxCubemapSize:v,maxAttributes:y,maxVertexUniforms:w,maxVaryings:_,maxFragmentUniforms:S,vertexTextures:E,maxSamples:A}}function sUe(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new Ua,o=new yn,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(d,f){const h=d.length!==0||f||r!==0||i;return i=f,r=d.length,h},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(d,f){n=u(d,f,0)},this.setState=function(d,f,h){const m=d.clippingPlanes,g=d.clipIntersection,v=d.clipShadows,y=t.get(d);if(!i||m===null||m.length===0||s&&!v)s?u(null):c();else{const w=s?0:r,_=w*4;let S=y.clippingState||null;l.value=S,S=u(m,f,_,h);for(let E=0;E!==_;++E)S[E]=n[E];y.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(d,f,h,m){const g=d!==null?d.length:0;let v=null;if(g!==0){if(v=l.value,m!==!0||v===null){const y=h+g*4,w=f.matrixWorldInverse;o.getNormalMatrix(w),(v===null||v.length<y)&&(v=new Float32Array(y));for(let _=0,S=h;_!==g;++_,S+=4)a.copy(d[_]).applyMatrix4(w,o),a.normal.toArray(v,S),v[S+3]=a.constant}l.value=v,l.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,v}}function aUe(t){let e=new WeakMap;function n(a,o){return o===i0?a.mapping=jc:o===jw&&(a.mapping=Af),a}function r(a){if(a&&a.isTexture){const o=a.mapping;if(o===i0||o===jw)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new WB(l.height);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}const Yd=4,A9=[.125,.215,.35,.446,.526,.582],Zh=20,oUe=256,Px=new rl,M9=new Et;let w3=null,_3=0,S3=0,E3=!1;const lUe=new J;class lj{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._sizeLods=[],this._sigmas=[],this._lodMeshes=[],this._backgroundBox=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._blurMaterial=null,this._ggxMaterial=null}fromScene(e,n=0,r=.1,i=100,s={}){const{size:a=256,position:o=lUe}=s;w3=this._renderer.getRenderTarget(),_3=this._renderer.getActiveCubeFace(),S3=this._renderer.getActiveMipmapLevel(),E3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1,this._setSize(a);const l=this._allocateTargets();return l.depthBuffer=!0,this._sceneToCubeUV(e,r,i,l,o),n>0&&this._blur(l,0,0,n),this._applyPMREM(l),this._cleanup(l),l}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=R9(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=P9(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose(),this._backgroundBox!==null&&(this._backgroundBox.geometry.dispose(),this._backgroundBox.material.dispose())}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._ggxMaterial!==null&&this._ggxMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodMeshes.length;e++)this._lodMeshes[e].geometry.dispose()}_cleanup(e){this._renderer.setRenderTarget(w3,_3,S3),this._renderer.xr.enabled=E3,e.scissorTest=!1,xg(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===jc||e.mapping===Af?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),w3=this._renderer.getRenderTarget(),_3=this._renderer.getActiveCubeFace(),S3=this._renderer.getActiveMipmapLevel(),E3=this._renderer.xr.enabled,this._renderer.xr.enabled=!1;const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Nn,minFilter:Nn,generateMipmaps:!1,type:hi,format:Si,colorSpace:es,depthBuffer:!1},i=C9(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=C9(e,n,r);const{_lodMax:s}=this;({lodMeshes:this._lodMeshes,sizeLods:this._sizeLods,sigmas:this._sigmas}=cUe(s)),this._blurMaterial=dUe(s,e,n),this._ggxMaterial=uUe(s,e,n)}return i}_compileMaterial(e){const n=new Wn(new un,e);this._renderer.compile(n,Px)}_sceneToCubeUV(e,n,r,i,s){const l=new Ur(90,1,n,r),c=[1,-1,1,1,1,1],u=[1,1,1,-1,-1,-1],d=this._renderer,f=d.autoClear,h=d.toneMapping;d.getClearColor(M9),d.toneMapping=Oc,d.autoClear=!1,d.state.buffers.depth.getReversed()&&(d.setRenderTarget(i),d.clearDepth(),d.setRenderTarget(null)),this._backgroundBox===null&&(this._backgroundBox=new Wn(new $f,new Ss({name:"PMREM.Background",side:Gs,depthWrite:!1,depthTest:!1})));const g=this._backgroundBox,v=g.material;let y=!1;const w=e.background;w?w.isColor&&(v.color.copy(w),e.background=null,y=!0):(v.color.copy(M9),y=!0);for(let _=0;_<6;_++){const S=_%3;S===0?(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x+u[_],s.y,s.z)):S===1?(l.up.set(0,0,c[_]),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y+u[_],s.z)):(l.up.set(0,c[_],0),l.position.set(s.x,s.y,s.z),l.lookAt(s.x,s.y,s.z+u[_]));const E=this._cubeSize;xg(i,S*E,_>2?E:0,E,E),d.setRenderTarget(i),y&&d.render(g,l),d.render(e,l)}d.toneMapping=h,d.autoClear=f,e.background=w}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===jc||e.mapping===Af;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=R9()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=P9());const s=i?this._cubemapMaterial:this._equirectMaterial,a=this._lodMeshes[0];a.material=s;const o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;xg(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,Px)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;const i=this._lodMeshes.length;for(let s=1;s<i;s++)this._applyGGXFilter(e,s-1,s);n.autoClear=r}_applyGGXFilter(e,n,r){const i=this._renderer,s=this._pingPongRenderTarget,a=this._ggxMaterial,o=this._lodMeshes[r];o.material=a;const l=a.uniforms,c=r/(this._lodMeshes.length-1),u=n/(this._lodMeshes.length-1),d=Math.sqrt(c*c-u*u),f=.05+c*.95,h=d*f,{_lodMax:m}=this,g=this._sizeLods[r],v=3*g*(r>m-Yd?r-m+Yd:0),y=4*(this._cubeSize-g);l.envMap.value=e.texture,l.roughness.value=h,l.mipInt.value=m-n,xg(s,v,y,3*g,2*g),i.setRenderTarget(s),i.render(o,Px),l.envMap.value=s.texture,l.roughness.value=0,l.mipInt.value=m-r,xg(e,v,y,3*g,2*g),i.setRenderTarget(e),i.render(o,Px)}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&hn("blur direction must be either latitudinal or longitudinal!");const u=3,d=this._lodMeshes[i];d.material=c;const f=c.uniforms,h=this._sizeLods[r]-1,m=isFinite(s)?Math.PI/(2*h):2*Math.PI/(2*Zh-1),g=s/m,v=isFinite(s)?1+Math.floor(u*g):Zh;v>Zh&&Pt(`sigmaRadians, ${s}, is too large and will clip, as it requested ${v} samples when the maximum is set to ${Zh}`);const y=[];let w=0;for(let M=0;M<Zh;++M){const R=M/g,P=Math.exp(-R*R/2);y.push(P),M===0?w+=P:M<v&&(w+=2*P)}for(let M=0;M<y.length;M++)y[M]=y[M]/w;f.envMap.value=e.texture,f.samples.value=v,f.weights.value=y,f.latitudinal.value=a==="latitudinal",o&&(f.poleAxis.value=o);const{_lodMax:_}=this;f.dTheta.value=m,f.mipInt.value=_-r;const S=this._sizeLods[i],E=3*S*(i>_-Yd?i-_+Yd:0),A=4*(this._cubeSize-S);xg(n,E,A,3*S,2*S),l.setRenderTarget(n),l.render(d,Px)}}function cUe(t){const e=[],n=[],r=[];let i=t;const s=t-Yd+1+A9.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);e.push(o);let l=1/o;a>t-Yd?l=A9[a-t+Yd-1]:a===0&&(l=0),n.push(l);const c=1/(o-2),u=-c,d=1+c,f=[u,u,d,u,d,d,u,u,d,d,u,d],h=6,m=6,g=3,v=2,y=1,w=new Float32Array(g*m*h),_=new Float32Array(v*m*h),S=new Float32Array(y*m*h);for(let A=0;A<h;A++){const M=A%3*2/3-1,R=A>2?0:-1,P=[M,R,0,M+2/3,R,0,M+2/3,R+1,0,M,R,0,M+2/3,R+1,0,M,R+1,0];w.set(P,g*m*A),_.set(f,v*m*A);const O=[A,A,A,A,A,A];S.set(O,y*m*A)}const E=new un;E.setAttribute("position",new wn(w,g)),E.setAttribute("uv",new wn(_,v)),E.setAttribute("faceIndex",new wn(S,y)),r.push(new Wn(E,null)),i>Yd&&i--}return{lodMeshes:r,sizeLods:e,sigmas:n}}function C9(t,e,n){const r=new mi(t,e,n);return r.texture.mapping=cy,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function xg(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function uUe(t,e,n){return new Vi({name:"PMREMGGXConvolution",defines:{GGX_SAMPLES:oUe,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},roughness:{value:0},mipInt:{value:0}},vertexShader:oR(),fragmentShader:`

			precision highp float;
			precision highp int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform float roughness;
			uniform float mipInt;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			#define PI 3.14159265359

			// Van der Corput radical inverse
			float radicalInverse_VdC(uint bits) {
				bits = (bits << 16u) | (bits >> 16u);
				bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);
				bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);
				bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);
				bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);
				return float(bits) * 2.3283064365386963e-10; // / 0x100000000
			}

			// Hammersley sequence
			vec2 hammersley(uint i, uint N) {
				return vec2(float(i) / float(N), radicalInverse_VdC(i));
			}

			// GGX VNDF importance sampling (Eric Heitz 2018)
			// "Sampling the GGX Distribution of Visible Normals"
			// https://jcgt.org/published/0007/04/01/
			vec3 importanceSampleGGX_VNDF(vec2 Xi, vec3 V, float roughness) {
				float alpha = roughness * roughness;

				// Section 3.2: Transform view direction to hemisphere configuration
				vec3 Vh = normalize(vec3(alpha * V.x, alpha * V.y, V.z));

				// Section 4.1: Orthonormal basis
				float lensq = Vh.x * Vh.x + Vh.y * Vh.y;
				vec3 T1 = lensq > 0.0 ? vec3(-Vh.y, Vh.x, 0.0) / sqrt(lensq) : vec3(1.0, 0.0, 0.0);
				vec3 T2 = cross(Vh, T1);

				// Section 4.2: Parameterization of projected area
				float r = sqrt(Xi.x);
				float phi = 2.0 * PI * Xi.y;
				float t1 = r * cos(phi);
				float t2 = r * sin(phi);
				float s = 0.5 * (1.0 + Vh.z);
				t2 = (1.0 - s) * sqrt(1.0 - t1 * t1) + s * t2;

				// Section 4.3: Reprojection onto hemisphere
				vec3 Nh = t1 * T1 + t2 * T2 + sqrt(max(0.0, 1.0 - t1 * t1 - t2 * t2)) * Vh;

				// Section 3.4: Transform back to ellipsoid configuration
				return normalize(vec3(alpha * Nh.x, alpha * Nh.y, max(0.0, Nh.z)));
			}

			void main() {
				vec3 N = normalize(vOutputDirection);
				vec3 V = N; // Assume view direction equals normal for pre-filtering

				vec3 prefilteredColor = vec3(0.0);
				float totalWeight = 0.0;

				// For very low roughness, just sample the environment directly
				if (roughness < 0.001) {
					gl_FragColor = vec4(bilinearCubeUV(envMap, N, mipInt), 1.0);
					return;
				}

				// Tangent space basis for VNDF sampling
				vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);
				vec3 tangent = normalize(cross(up, N));
				vec3 bitangent = cross(N, tangent);

				for(uint i = 0u; i < uint(GGX_SAMPLES); i++) {
					vec2 Xi = hammersley(i, uint(GGX_SAMPLES));

					// For PMREM, V = N, so in tangent space V is always (0, 0, 1)
					vec3 H_tangent = importanceSampleGGX_VNDF(Xi, vec3(0.0, 0.0, 1.0), roughness);

					// Transform H back to world space
					vec3 H = normalize(tangent * H_tangent.x + bitangent * H_tangent.y + N * H_tangent.z);
					vec3 L = normalize(2.0 * dot(V, H) * H - V);

					float NdotL = max(dot(N, L), 0.0);

					if(NdotL > 0.0) {
						// Sample environment at fixed mip level
						// VNDF importance sampling handles the distribution filtering
						vec3 sampleColor = bilinearCubeUV(envMap, L, mipInt);

						// Weight by NdotL for the split-sum approximation
						// VNDF PDF naturally accounts for the visible microfacet distribution
						prefilteredColor += sampleColor * NdotL;
						totalWeight += NdotL;
					}
				}

				if (totalWeight > 0.0) {
					prefilteredColor = prefilteredColor / totalWeight;
				}

				gl_FragColor = vec4(prefilteredColor, 1.0);
			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function dUe(t,e,n){const r=new Float32Array(Zh),i=new J(0,1,0);return new Vi({name:"SphericalGaussianBlur",defines:{n:Zh,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:oR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function P9(){return new Vi({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:oR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function R9(){return new Vi({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:oR(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:tl,depthTest:!1,depthWrite:!1})}function oR(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function fUe(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===i0||l===jw,u=l===jc||l===Af;if(c||u){let d=e.get(o);const f=d!==void 0?d.texture.pmremVersion:0;if(o.isRenderTargetTexture&&o.pmremVersion!==f)return n===null&&(n=new lj(t)),d=c?n.fromEquirectangular(o,d):n.fromCubemap(o,d),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),d.texture;if(d!==void 0)return d.texture;{const h=o.image;return c&&h&&h.height>0||u&&h&&i(h)?(n===null&&(n=new lj(t)),d=c?n.fromEquirectangular(o):n.fromCubemap(o),d.texture.pmremVersion=o.pmremVersion,e.set(o,d),o.addEventListener("dispose",s),d.texture):null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function hUe(t){const e={};function n(r){if(e[r]!==void 0)return e[r];const i=t.getExtension(r);return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(){n("EXT_color_buffer_float"),n("WEBGL_clip_cull_distance"),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture"),n("WEBGL_render_shared_exponent")},get:function(r){const i=n(r);return i===null&&d0("WebGLRenderer: "+r+" extension not supported."),i}}}function pUe(t,e,n,r){const i={},s=new WeakMap;function a(d){const f=d.target;f.index!==null&&e.remove(f.index);for(const m in f.attributes)e.remove(f.attributes[m]);f.removeEventListener("dispose",a),delete i[f.id];const h=s.get(f);h&&(e.remove(h),s.delete(f)),r.releaseStatesOfGeometry(f),f.isInstancedBufferGeometry===!0&&delete f._maxInstanceCount,n.memory.geometries--}function o(d,f){return i[f.id]===!0||(f.addEventListener("dispose",a),i[f.id]=!0,n.memory.geometries++),f}function l(d){const f=d.attributes;for(const h in f)e.update(f[h],t.ARRAY_BUFFER)}function c(d){const f=[],h=d.index,m=d.attributes.position;let g=0;if(h!==null){const w=h.array;g=h.version;for(let _=0,S=w.length;_<S;_+=3){const E=w[_+0],A=w[_+1],M=w[_+2];f.push(E,A,A,M,M,E)}}else if(m!==void 0){const w=m.array;g=m.version;for(let _=0,S=w.length/3-1;_<S;_+=3){const E=_+0,A=_+1,M=_+2;f.push(E,A,A,M,M,E)}}else return;const v=new(zoe(f)?HB:$B)(f,1);v.version=g;const y=s.get(d);y&&e.remove(y),s.set(d,v)}function u(d){const f=s.get(d);if(f){const h=d.index;h!==null&&f.version<h.version&&c(d)}else c(d);return s.get(d)}return{get:o,update:l,getWireframeAttribute:u}}function mUe(t,e,n){let r;function i(f){r=f}let s,a;function o(f){s=f.type,a=f.bytesPerElement}function l(f,h){t.drawElements(r,h,s,f*a),n.update(h,r,1)}function c(f,h,m){m!==0&&(t.drawElementsInstanced(r,h,s,f*a,m),n.update(h,r,m))}function u(f,h,m){if(m===0)return;e.get("WEBGL_multi_draw").multiDrawElementsWEBGL(r,h,0,s,f,0,m);let v=0;for(let y=0;y<m;y++)v+=h[y];n.update(v,r,1)}function d(f,h,m,g){if(m===0)return;const v=e.get("WEBGL_multi_draw");if(v===null)for(let y=0;y<f.length;y++)c(f[y]/a,h[y],g[y]);else{v.multiDrawElementsInstancedWEBGL(r,h,0,s,f,0,g,0,m);let y=0;for(let w=0;w<m;w++)y+=h[w]*g[w];n.update(y,r,1)}}this.setMode=i,this.setIndex=o,this.render=l,this.renderInstances=c,this.renderMultiDraw=u,this.renderMultiDrawInstances=d}function gUe(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:hn("WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function vUe(t,e,n){const r=new WeakMap,i=new Ln;function s(a,o,l){const c=a.morphTargetInfluences,u=o.morphAttributes.position||o.morphAttributes.normal||o.morphAttributes.color,d=u!==void 0?u.length:0;let f=r.get(o);if(f===void 0||f.count!==d){let P=function(){M.dispose(),r.delete(o),o.removeEventListener("dispose",P)};f!==void 0&&f.texture.dispose();const h=o.morphAttributes.position!==void 0,m=o.morphAttributes.normal!==void 0,g=o.morphAttributes.color!==void 0,v=o.morphAttributes.position||[],y=o.morphAttributes.normal||[],w=o.morphAttributes.color||[];let _=0;h===!0&&(_=1),m===!0&&(_=2),g===!0&&(_=3);let S=o.attributes.position.count*_,E=1;S>e.maxTextureSize&&(E=Math.ceil(S/e.maxTextureSize),S=e.maxTextureSize);const A=new Float32Array(S*E*4*d),M=new jP(A,S,E,d);M.type=ti,M.needsUpdate=!0;const R=_*4;for(let O=0;O<d;O++){const k=v[O],I=y[O],F=w[O],L=S*E*4*O;for(let V=0;V<k.count;V++){const z=V*R;h===!0&&(i.fromBufferAttribute(k,V),A[L+z+0]=i.x,A[L+z+1]=i.y,A[L+z+2]=i.z,A[L+z+3]=0),m===!0&&(i.fromBufferAttribute(I,V),A[L+z+4]=i.x,A[L+z+5]=i.y,A[L+z+6]=i.z,A[L+z+7]=0),g===!0&&(i.fromBufferAttribute(F,V),A[L+z+8]=i.x,A[L+z+9]=i.y,A[L+z+10]=i.z,A[L+z+11]=F.itemSize===4?i.w:1)}}f={count:d,texture:M,size:new Ve(S,E)},r.set(o,f),o.addEventListener("dispose",P)}if(a.isInstancedMesh===!0&&a.morphTexture!==null)l.getUniforms().setValue(t,"morphTexture",a.morphTexture,n);else{let h=0;for(let g=0;g<c.length;g++)h+=c[g];const m=o.morphTargetsRelative?1:1-h;l.getUniforms().setValue(t,"morphTargetBaseInfluence",m),l.getUniforms().setValue(t,"morphTargetInfluences",c)}l.getUniforms().setValue(t,"morphTargetsTexture",f.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",f.size)}return{update:s}}function yUe(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,d=e.get(l,u);if(i.get(d)!==c&&(e.update(d),i.set(d,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const f=l.skeleton;i.get(f)!==c&&(f.update(),i.set(f,c))}return d}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}const Fle=new ar,O9=new a_(1,1),Ule=new jP,Ble=new FP,zle=new i_,N9=[],I9=[],k9=new Float32Array(16),D9=new Float32Array(9),L9=new Float32Array(4);function vy(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=N9[i];if(s===void 0&&(s=new Float32Array(i),N9[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function ts(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function ns(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function lR(t,e){let n=I9[e];n===void 0&&(n=new Int32Array(e),I9[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function xUe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function bUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ts(n,e))return;t.uniform2fv(this.addr,e),ns(n,e)}}function wUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(ts(n,e))return;t.uniform3fv(this.addr,e),ns(n,e)}}function _Ue(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ts(n,e))return;t.uniform4fv(this.addr,e),ns(n,e)}}function SUe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ts(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),ns(n,e)}else{if(ts(n,r))return;L9.set(r),t.uniformMatrix2fv(this.addr,!1,L9),ns(n,r)}}function EUe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ts(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),ns(n,e)}else{if(ts(n,r))return;D9.set(r),t.uniformMatrix3fv(this.addr,!1,D9),ns(n,r)}}function TUe(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(ts(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),ns(n,e)}else{if(ts(n,r))return;k9.set(r),t.uniformMatrix4fv(this.addr,!1,k9),ns(n,r)}}function AUe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function MUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ts(n,e))return;t.uniform2iv(this.addr,e),ns(n,e)}}function CUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ts(n,e))return;t.uniform3iv(this.addr,e),ns(n,e)}}function PUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ts(n,e))return;t.uniform4iv(this.addr,e),ns(n,e)}}function RUe(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function OUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(ts(n,e))return;t.uniform2uiv(this.addr,e),ns(n,e)}}function NUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(ts(n,e))return;t.uniform3uiv(this.addr,e),ns(n,e)}}function IUe(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(ts(n,e))return;t.uniform4uiv(this.addr,e),ns(n,e)}}function kUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i);let s;this.type===t.SAMPLER_2D_SHADOW?(O9.compareFunction=BB,s=O9):s=Fle,n.setTexture2D(e||s,i)}function DUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||Ble,i)}function LUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||zle,i)}function jUe(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||Ule,i)}function FUe(t){switch(t){case 5126:return xUe;case 35664:return bUe;case 35665:return wUe;case 35666:return _Ue;case 35674:return SUe;case 35675:return EUe;case 35676:return TUe;case 5124:case 35670:return AUe;case 35667:case 35671:return MUe;case 35668:case 35672:return CUe;case 35669:case 35673:return PUe;case 5125:return RUe;case 36294:return OUe;case 36295:return NUe;case 36296:return IUe;case 35678:case 36198:case 36298:case 36306:case 35682:return kUe;case 35679:case 36299:case 36307:return DUe;case 35680:case 36300:case 36308:case 36293:return LUe;case 36289:case 36303:case 36311:case 36292:return jUe}}function UUe(t,e){t.uniform1fv(this.addr,e)}function BUe(t,e){const n=vy(e,this.size,2);t.uniform2fv(this.addr,n)}function zUe(t,e){const n=vy(e,this.size,3);t.uniform3fv(this.addr,n)}function VUe(t,e){const n=vy(e,this.size,4);t.uniform4fv(this.addr,n)}function $Ue(t,e){const n=vy(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function HUe(t,e){const n=vy(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function GUe(t,e){const n=vy(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function WUe(t,e){t.uniform1iv(this.addr,e)}function XUe(t,e){t.uniform2iv(this.addr,e)}function qUe(t,e){t.uniform3iv(this.addr,e)}function KUe(t,e){t.uniform4iv(this.addr,e)}function YUe(t,e){t.uniform1uiv(this.addr,e)}function ZUe(t,e){t.uniform2uiv(this.addr,e)}function JUe(t,e){t.uniform3uiv(this.addr,e)}function QUe(t,e){t.uniform4uiv(this.addr,e)}function e4e(t,e,n){const r=this.cache,i=e.length,s=lR(n,i);ts(r,s)||(t.uniform1iv(this.addr,s),ns(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||Fle,s[a])}function t4e(t,e,n){const r=this.cache,i=e.length,s=lR(n,i);ts(r,s)||(t.uniform1iv(this.addr,s),ns(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||Ble,s[a])}function n4e(t,e,n){const r=this.cache,i=e.length,s=lR(n,i);ts(r,s)||(t.uniform1iv(this.addr,s),ns(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||zle,s[a])}function r4e(t,e,n){const r=this.cache,i=e.length,s=lR(n,i);ts(r,s)||(t.uniform1iv(this.addr,s),ns(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||Ule,s[a])}function i4e(t){switch(t){case 5126:return UUe;case 35664:return BUe;case 35665:return zUe;case 35666:return VUe;case 35674:return $Ue;case 35675:return HUe;case 35676:return GUe;case 5124:case 35670:return WUe;case 35667:case 35671:return XUe;case 35668:case 35672:return qUe;case 35669:case 35673:return KUe;case 5125:return YUe;case 36294:return ZUe;case 36295:return JUe;case 36296:return QUe;case 35678:case 36198:case 36298:case 36306:case 35682:return e4e;case 35679:case 36299:case 36307:return t4e;case 35680:case 36300:case 36308:case 36293:return n4e;case 36289:case 36303:case 36311:case 36292:return r4e}}class s4e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.setValue=FUe(n.type)}}class a4e{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.type=n.type,this.size=n.size,this.setValue=i4e(n.type)}}class o4e{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const T3=/(\w+)(\])?(\[|\.)?/g;function j9(t,e){t.seq.push(e),t.map[e.id]=e}function l4e(t,e,n){const r=t.name,i=r.length;for(T3.lastIndex=0;;){const s=T3.exec(r),a=T3.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){j9(n,c===void 0?new s4e(o,t,e):new a4e(o,t,e));break}else{let d=n.map[o];d===void 0&&(d=new o4e(o),j9(n,d)),n=d}}}class aA{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);l4e(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function F9(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}const c4e=37297;let u4e=0;function d4e(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}const U9=new yn;function f4e(t){Kn._getMatrix(U9,Kn.workingColorSpace,t);const e=`mat3( ${U9.elements.map(n=>n.toFixed(4))} )`;switch(Kn.getTransfer(t)){case Uw:return[e,"LinearTransferOETF"];case pr:return[e,"sRGBTransferOETF"];default:return Pt("WebGLProgram: Unsupported color space: ",t),[e,"LinearTransferOETF"]}}function B9(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),s=(t.getShaderInfoLog(e)||"").trim();if(r&&s==="")return"";const a=/ERROR: 0:(\d+)/.exec(s);if(a){const o=parseInt(a[1]);return n.toUpperCase()+`

`+s+`

`+d4e(t.getShaderSource(e),o)}else return s}function h4e(t,e){const n=f4e(e);return[`vec4 ${t}( vec4 value ) {`,`	return ${n[1]}( vec4( value.rgb * ${n[0]}, value.a ) );`,"}"].join(`
`)}function p4e(t,e){let n;switch(e){case woe:n="Linear";break;case _oe:n="Reinhard";break;case Soe:n="Cineon";break;case NB:n="ACESFilmic";break;case Toe:n="AgX";break;case Aoe:n="Neutral";break;case Eoe:n="Custom";break;default:Pt("WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}const eT=new J;function m4e(){Kn.getLuminanceCoefficients(eT);const t=eT.x.toFixed(4),e=eT.y.toFixed(4),n=eT.z.toFixed(4);return["float luminance( const in vec3 rgb ) {",`	const vec3 weights = vec3( ${t}, ${e}, ${n} );`,"	return dot( weights, rgb );","}"].join(`
`)}function g4e(t){return[t.extensionClipCullDistance?"#extension GL_ANGLE_clip_cull_distance : require":"",t.extensionMultiDraw?"#extension GL_ANGLE_multi_draw : require":""].filter(lb).join(`
`)}function v4e(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function y4e(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function lb(t){return t!==""}function z9(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function V9(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const x4e=/^[ \t]*#include +<([\w\d./]+)>/gm;function cj(t){return t.replace(x4e,w4e)}const b4e=new Map;function w4e(t,e){let n=Cn[e];if(n===void 0){const r=b4e.get(e);if(r!==void 0)n=Cn[r],Pt('WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return cj(n)}const _4e=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function $9(t){return t.replace(_4e,S4e)}function S4e(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function H9(t){let e=`precision ${t.precision} float;
	precision ${t.precision} int;
	precision ${t.precision} sampler2D;
	precision ${t.precision} samplerCube;
	precision ${t.precision} sampler3D;
	precision ${t.precision} sampler2DArray;
	precision ${t.precision} sampler2DShadow;
	precision ${t.precision} samplerCubeShadow;
	precision ${t.precision} sampler2DArrayShadow;
	precision ${t.precision} isampler2D;
	precision ${t.precision} isampler3D;
	precision ${t.precision} isamplerCube;
	precision ${t.precision} isampler2DArray;
	precision ${t.precision} usampler2D;
	precision ${t.precision} usampler3D;
	precision ${t.precision} usamplerCube;
	precision ${t.precision} usampler2DArray;
	`;return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function E4e(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===MP?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===Nb?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Pl&&(e="SHADOWMAP_TYPE_VSM"),e}function T4e(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case jc:case Af:e="ENVMAP_TYPE_CUBE";break;case cy:e="ENVMAP_TYPE_CUBE_UV";break}return e}function A4e(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Af:e="ENVMAP_MODE_REFRACTION";break}return e}function M4e(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case Q1:e="ENVMAP_BLENDING_MULTIPLY";break;case xoe:e="ENVMAP_BLENDING_MIX";break;case boe:e="ENVMAP_BLENDING_ADD";break}return e}function C4e(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function P4e(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=E4e(n),c=T4e(n),u=A4e(n),d=M4e(n),f=C4e(n),h=g4e(n),m=v4e(s),g=i.createProgram();let v,y,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(v=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(lb).join(`
`),v.length>0&&(v+=`
`),y=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m].filter(lb).join(`
`),y.length>0&&(y+=`
`)):(v=[H9(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.extensionClipCullDistance?"#define USE_CLIP_DISTANCE":"",n.batching?"#define USE_BATCHING":"",n.batchingColor?"#define USE_BATCHING_COLOR":"",n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.instancingMorph?"#define USE_INSTANCING_MORPH":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","#ifdef USE_INSTANCING_MORPH","	uniform sampler2D morphTexture;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(lb).join(`
`),y=[H9(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,m,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.alphaToCoverage?"#define ALPHA_TO_COVERAGE":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+d:"",f?"#define CUBEUV_TEXEL_WIDTH "+f.texelWidth:"",f?"#define CUBEUV_TEXEL_HEIGHT "+f.texelHeight:"",f?"#define CUBEUV_MAX_MIP "+f.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.dispersion?"#define USE_DISPERSION":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor||n.batchingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.decodeVideoTextureEmissive?"#define DECODE_VIDEO_TEXTURE_EMISSIVE":"",n.logarithmicDepthBuffer?"#define USE_LOGARITHMIC_DEPTH_BUFFER":"",n.reversedDepthBuffer?"#define USE_REVERSED_DEPTH_BUFFER":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==Oc?"#define TONE_MAPPING":"",n.toneMapping!==Oc?Cn.tonemapping_pars_fragment:"",n.toneMapping!==Oc?p4e("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Cn.colorspace_pars_fragment,h4e("linearToOutputTexel",n.outputColorSpace),m4e(),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(lb).join(`
`)),a=cj(a),a=z9(a,n),a=V9(a,n),o=cj(o),o=z9(o,n),o=V9(o,n),a=$9(a),o=$9(o),n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,v=[h,"#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+v,y=["#define varying in",n.glslVersion===ej?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===ej?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const _=w+v+a,S=w+y+o,E=F9(i,i.VERTEX_SHADER,_),A=F9(i,i.FRAGMENT_SHADER,S);i.attachShader(g,E),i.attachShader(g,A),n.index0AttributeName!==void 0?i.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(g,0,"position"),i.linkProgram(g);function M(k){if(t.debug.checkShaderErrors){const I=i.getProgramInfoLog(g)||"",F=i.getShaderInfoLog(E)||"",L=i.getShaderInfoLog(A)||"",V=I.trim(),z=F.trim(),K=L.trim();let j=!0,U=!0;if(i.getProgramParameter(g,i.LINK_STATUS)===!1)if(j=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,g,E,A);else{const $=B9(i,E,"vertex"),G=B9(i,A,"fragment");hn("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(g,i.VALIDATE_STATUS)+`

Material Name: `+k.name+`
Material Type: `+k.type+`

Program Info Log: `+V+`
`+$+`
`+G)}else V!==""?Pt("WebGLProgram: Program Info Log:",V):(z===""||K==="")&&(U=!1);U&&(k.diagnostics={runnable:j,programLog:V,vertexShader:{log:z,prefix:v},fragmentShader:{log:K,prefix:y}})}i.deleteShader(E),i.deleteShader(A),R=new aA(i,g),P=y4e(i,g)}let R;this.getUniforms=function(){return R===void 0&&M(this),R};let P;this.getAttributes=function(){return P===void 0&&M(this),P};let O=n.rendererExtensionParallelShaderCompile===!1;return this.isReady=function(){return O===!1&&(O=i.getProgramParameter(g,c4e)),O},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(g),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=u4e++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=E,this.fragmentShader=A,this}let R4e=0;class O4e{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new N4e(e),n.set(e,r)),r}}class N4e{constructor(e){this.id=R4e++,this.code=e,this.usedTimes=0}}function I4e(t,e,n,r,i,s,a){const o=new Op,l=new O4e,c=new Set,u=[],d=i.logarithmicDepthBuffer,f=i.vertexTextures;let h=i.precision;const m={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(P){return c.add(P),P===0?"uv":`uv${P}`}function v(P,O,k,I,F){const L=I.fog,V=F.geometry,z=P.isMeshStandardMaterial?I.environment:null,K=(P.isMeshStandardMaterial?n:e).get(P.envMap||z),j=K&&K.mapping===cy?K.image.height:null,U=m[P.type];P.precision!==null&&(h=i.getMaxPrecision(P.precision),h!==P.precision&&Pt("WebGLProgram.getParameters:",P.precision,"not supported, using",h,"instead."));const $=V.morphAttributes.position||V.morphAttributes.normal||V.morphAttributes.color,G=$!==void 0?$.length:0;let X=0;V.morphAttributes.position!==void 0&&(X=1),V.morphAttributes.normal!==void 0&&(X=2),V.morphAttributes.color!==void 0&&(X=3);let Q,oe,de,ae;if(U){const Mt=jl[U];Q=Mt.vertexShader,oe=Mt.fragmentShader}else Q=P.vertexShader,oe=P.fragmentShader,l.update(P),de=l.getVertexShaderID(P),ae=l.getFragmentShaderID(P);const ne=t.getRenderTarget(),ve=t.state.buffers.depth.getReversed(),ge=F.isInstancedMesh===!0,_e=F.isBatchedMesh===!0,ye=!!P.map,ce=!!P.matcap,De=!!K,Ee=!!P.aoMap,Z=!!P.lightMap,Me=!!P.bumpMap,Oe=!!P.normalMap,Ce=!!P.displacementMap,Ne=!!P.emissiveMap,ee=!!P.metalnessMap,te=!!P.roughnessMap,me=P.anisotropy>0,W=P.clearcoat>0,B=P.dispersion>0,re=P.iridescence>0,xe=P.sheen>0,Te=P.transmission>0,we=me&&!!P.anisotropyMap,Ke=W&&!!P.clearcoatMap,Xe=W&&!!P.clearcoatNormalMap,dt=W&&!!P.clearcoatRoughnessMap,pt=re&&!!P.iridescenceMap,Le=re&&!!P.iridescenceThicknessMap,Be=xe&&!!P.sheenColorMap,nt=xe&&!!P.sheenRoughnessMap,he=!!P.specularMap,Pe=!!P.specularColorMap,Ye=!!P.specularIntensityMap,ue=Te&&!!P.transmissionMap,Ae=Te&&!!P.thicknessMap,Ze=!!P.gradientMap,at=!!P.alphaMap,qe=P.alphaTest>0,je=!!P.alphaHash,$e=!!P.extensions;let rt=Oc;P.toneMapped&&(ne===null||ne.isXRRenderTarget===!0)&&(rt=t.toneMapping);const lt={shaderID:U,shaderType:P.type,shaderName:P.name,vertexShader:Q,fragmentShader:oe,defines:P.defines,customVertexShaderID:de,customFragmentShaderID:ae,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:h,batching:_e,batchingColor:_e&&F._colorsTexture!==null,instancing:ge,instancingColor:ge&&F.instanceColor!==null,instancingMorph:ge&&F.morphTexture!==null,supportsVertexTextures:f,outputColorSpace:ne===null?t.outputColorSpace:ne.isXRRenderTarget===!0?ne.texture.colorSpace:es,alphaToCoverage:!!P.alphaToCoverage,map:ye,matcap:ce,envMap:De,envMapMode:De&&K.mapping,envMapCubeUVHeight:j,aoMap:Ee,lightMap:Z,bumpMap:Me,normalMap:Oe,displacementMap:f&&Ce,emissiveMap:Ne,normalMapObjectSpace:Oe&&P.normalMapType===Ioe,normalMapTangentSpace:Oe&&P.normalMapType===Vf,metalnessMap:ee,roughnessMap:te,anisotropy:me,anisotropyMap:we,clearcoat:W,clearcoatMap:Ke,clearcoatNormalMap:Xe,clearcoatRoughnessMap:dt,dispersion:B,iridescence:re,iridescenceMap:pt,iridescenceThicknessMap:Le,sheen:xe,sheenColorMap:Be,sheenRoughnessMap:nt,specularMap:he,specularColorMap:Pe,specularIntensityMap:Ye,transmission:Te,transmissionMap:ue,thicknessMap:Ae,gradientMap:Ze,opaque:P.transparent===!1&&P.blending===Pp&&P.alphaToCoverage===!1,alphaMap:at,alphaTest:qe,alphaHash:je,combine:P.combine,mapUv:ye&&g(P.map.channel),aoMapUv:Ee&&g(P.aoMap.channel),lightMapUv:Z&&g(P.lightMap.channel),bumpMapUv:Me&&g(P.bumpMap.channel),normalMapUv:Oe&&g(P.normalMap.channel),displacementMapUv:Ce&&g(P.displacementMap.channel),emissiveMapUv:Ne&&g(P.emissiveMap.channel),metalnessMapUv:ee&&g(P.metalnessMap.channel),roughnessMapUv:te&&g(P.roughnessMap.channel),anisotropyMapUv:we&&g(P.anisotropyMap.channel),clearcoatMapUv:Ke&&g(P.clearcoatMap.channel),clearcoatNormalMapUv:Xe&&g(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:dt&&g(P.clearcoatRoughnessMap.channel),iridescenceMapUv:pt&&g(P.iridescenceMap.channel),iridescenceThicknessMapUv:Le&&g(P.iridescenceThicknessMap.channel),sheenColorMapUv:Be&&g(P.sheenColorMap.channel),sheenRoughnessMapUv:nt&&g(P.sheenRoughnessMap.channel),specularMapUv:he&&g(P.specularMap.channel),specularColorMapUv:Pe&&g(P.specularColorMap.channel),specularIntensityMapUv:Ye&&g(P.specularIntensityMap.channel),transmissionMapUv:ue&&g(P.transmissionMap.channel),thicknessMapUv:Ae&&g(P.thicknessMap.channel),alphaMapUv:at&&g(P.alphaMap.channel),vertexTangents:!!V.attributes.tangent&&(Oe||me),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!V.attributes.color&&V.attributes.color.itemSize===4,pointsUvs:F.isPoints===!0&&!!V.attributes.uv&&(ye||at),fog:!!L,useFog:P.fog===!0,fogExp2:!!L&&L.isFogExp2,flatShading:P.flatShading===!0&&P.wireframe===!1,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:d,reversedDepthBuffer:ve,skinning:F.isSkinnedMesh===!0,morphTargets:V.morphAttributes.position!==void 0,morphNormals:V.morphAttributes.normal!==void 0,morphColors:V.morphAttributes.color!==void 0,morphTargetsCount:G,morphTextureStride:X,numDirLights:O.directional.length,numPointLights:O.point.length,numSpotLights:O.spot.length,numSpotLightMaps:O.spotLightMap.length,numRectAreaLights:O.rectArea.length,numHemiLights:O.hemi.length,numDirLightShadows:O.directionalShadowMap.length,numPointLightShadows:O.pointShadowMap.length,numSpotLightShadows:O.spotShadowMap.length,numSpotLightShadowsWithMaps:O.numSpotLightShadowsWithMaps,numLightProbes:O.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&k.length>0,shadowMapType:t.shadowMap.type,toneMapping:rt,decodeVideoTexture:ye&&P.map.isVideoTexture===!0&&Kn.getTransfer(P.map.colorSpace)===pr,decodeVideoTextureEmissive:Ne&&P.emissiveMap.isVideoTexture===!0&&Kn.getTransfer(P.emissiveMap.colorSpace)===pr,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===Ba,flipSided:P.side===Gs,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionClipCullDistance:$e&&P.extensions.clipCullDistance===!0&&r.has("WEBGL_clip_cull_distance"),extensionMultiDraw:($e&&P.extensions.multiDraw===!0||_e)&&r.has("WEBGL_multi_draw"),rendererExtensionParallelShaderCompile:r.has("KHR_parallel_shader_compile"),customProgramCacheKey:P.customProgramCacheKey()};return lt.vertexUv1s=c.has(1),lt.vertexUv2s=c.has(2),lt.vertexUv3s=c.has(3),c.clear(),lt}function y(P){const O=[];if(P.shaderID?O.push(P.shaderID):(O.push(P.customVertexShaderID),O.push(P.customFragmentShaderID)),P.defines!==void 0)for(const k in P.defines)O.push(k),O.push(P.defines[k]);return P.isRawShaderMaterial===!1&&(w(O,P),_(O,P),O.push(t.outputColorSpace)),O.push(P.customProgramCacheKey),O.join()}function w(P,O){P.push(O.precision),P.push(O.outputColorSpace),P.push(O.envMapMode),P.push(O.envMapCubeUVHeight),P.push(O.mapUv),P.push(O.alphaMapUv),P.push(O.lightMapUv),P.push(O.aoMapUv),P.push(O.bumpMapUv),P.push(O.normalMapUv),P.push(O.displacementMapUv),P.push(O.emissiveMapUv),P.push(O.metalnessMapUv),P.push(O.roughnessMapUv),P.push(O.anisotropyMapUv),P.push(O.clearcoatMapUv),P.push(O.clearcoatNormalMapUv),P.push(O.clearcoatRoughnessMapUv),P.push(O.iridescenceMapUv),P.push(O.iridescenceThicknessMapUv),P.push(O.sheenColorMapUv),P.push(O.sheenRoughnessMapUv),P.push(O.specularMapUv),P.push(O.specularColorMapUv),P.push(O.specularIntensityMapUv),P.push(O.transmissionMapUv),P.push(O.thicknessMapUv),P.push(O.combine),P.push(O.fogExp2),P.push(O.sizeAttenuation),P.push(O.morphTargetsCount),P.push(O.morphAttributeCount),P.push(O.numDirLights),P.push(O.numPointLights),P.push(O.numSpotLights),P.push(O.numSpotLightMaps),P.push(O.numHemiLights),P.push(O.numRectAreaLights),P.push(O.numDirLightShadows),P.push(O.numPointLightShadows),P.push(O.numSpotLightShadows),P.push(O.numSpotLightShadowsWithMaps),P.push(O.numLightProbes),P.push(O.shadowMapType),P.push(O.toneMapping),P.push(O.numClippingPlanes),P.push(O.numClipIntersection),P.push(O.depthPacking)}function _(P,O){o.disableAll(),O.supportsVertexTextures&&o.enable(0),O.instancing&&o.enable(1),O.instancingColor&&o.enable(2),O.instancingMorph&&o.enable(3),O.matcap&&o.enable(4),O.envMap&&o.enable(5),O.normalMapObjectSpace&&o.enable(6),O.normalMapTangentSpace&&o.enable(7),O.clearcoat&&o.enable(8),O.iridescence&&o.enable(9),O.alphaTest&&o.enable(10),O.vertexColors&&o.enable(11),O.vertexAlphas&&o.enable(12),O.vertexUv1s&&o.enable(13),O.vertexUv2s&&o.enable(14),O.vertexUv3s&&o.enable(15),O.vertexTangents&&o.enable(16),O.anisotropy&&o.enable(17),O.alphaHash&&o.enable(18),O.batching&&o.enable(19),O.dispersion&&o.enable(20),O.batchingColor&&o.enable(21),O.gradientMap&&o.enable(22),P.push(o.mask),o.disableAll(),O.fog&&o.enable(0),O.useFog&&o.enable(1),O.flatShading&&o.enable(2),O.logarithmicDepthBuffer&&o.enable(3),O.reversedDepthBuffer&&o.enable(4),O.skinning&&o.enable(5),O.morphTargets&&o.enable(6),O.morphNormals&&o.enable(7),O.morphColors&&o.enable(8),O.premultipliedAlpha&&o.enable(9),O.shadowMapEnabled&&o.enable(10),O.doubleSided&&o.enable(11),O.flipSided&&o.enable(12),O.useDepthPacking&&o.enable(13),O.dithering&&o.enable(14),O.transmission&&o.enable(15),O.sheen&&o.enable(16),O.opaque&&o.enable(17),O.pointsUvs&&o.enable(18),O.decodeVideoTexture&&o.enable(19),O.decodeVideoTextureEmissive&&o.enable(20),O.alphaToCoverage&&o.enable(21),P.push(o.mask)}function S(P){const O=m[P.type];let k;if(O){const I=jl[O];k=GB.clone(I.uniforms)}else k=P.uniforms;return k}function E(P,O){let k;for(let I=0,F=u.length;I<F;I++){const L=u[I];if(L.cacheKey===O){k=L,++k.usedTimes;break}}return k===void 0&&(k=new P4e(t,O,P,s),u.push(k)),k}function A(P){if(--P.usedTimes===0){const O=u.indexOf(P);u[O]=u[u.length-1],u.pop(),P.destroy()}}function M(P){l.remove(P)}function R(){l.dispose()}return{getParameters:v,getProgramCacheKey:y,getUniforms:S,acquireProgram:E,releaseProgram:A,releaseShaderCache:M,programs:u,dispose:R}}function k4e(){let t=new WeakMap;function e(a){return t.has(a)}function n(a){let o=t.get(a);return o===void 0&&(o={},t.set(a,o)),o}function r(a){t.delete(a)}function i(a,o,l){t.get(a)[o]=l}function s(){t=new WeakMap}return{has:e,get:n,remove:r,update:i,dispose:s}}function D4e(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function G9(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function W9(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(d,f,h,m,g,v){let y=t[e];return y===void 0?(y={id:d.id,object:d,geometry:f,material:h,groupOrder:m,renderOrder:d.renderOrder,z:g,group:v},t[e]=y):(y.id=d.id,y.object=d,y.geometry=f,y.material=h,y.groupOrder=m,y.renderOrder=d.renderOrder,y.z=g,y.group=v),e++,y}function o(d,f,h,m,g,v){const y=a(d,f,h,m,g,v);h.transmission>0?r.push(y):h.transparent===!0?i.push(y):n.push(y)}function l(d,f,h,m,g,v){const y=a(d,f,h,m,g,v);h.transmission>0?r.unshift(y):h.transparent===!0?i.unshift(y):n.unshift(y)}function c(d,f){n.length>1&&n.sort(d||D4e),r.length>1&&r.sort(f||G9),i.length>1&&i.sort(f||G9)}function u(){for(let d=e,f=t.length;d<f;d++){const h=t[d];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:u,sort:c}}function L4e(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new W9,t.set(r,[a])):i>=s.length?(a=new W9,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function j4e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new J,color:new Et};break;case"SpotLight":n={position:new J,direction:new J,color:new Et,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new J,color:new Et,distance:0,decay:0};break;case"HemisphereLight":n={direction:new J,skyColor:new Et,groundColor:new Et};break;case"RectAreaLight":n={color:new Et,position:new J,halfWidth:new J,halfHeight:new J};break}return t[e.id]=n,n}}}function F4e(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"SpotLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve};break;case"PointLight":n={shadowIntensity:1,shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ve,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let U4e=0;function B4e(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function z4e(t){const e=new j4e,n=F4e(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let c=0;c<9;c++)r.probe.push(new J);const i=new J,s=new It,a=new It;function o(c){let u=0,d=0,f=0;for(let P=0;P<9;P++)r.probe[P].set(0,0,0);let h=0,m=0,g=0,v=0,y=0,w=0,_=0,S=0,E=0,A=0,M=0;c.sort(B4e);for(let P=0,O=c.length;P<O;P++){const k=c[P],I=k.color,F=k.intensity,L=k.distance,V=k.shadow&&k.shadow.map?k.shadow.map.texture:null;if(k.isAmbientLight)u+=I.r*F,d+=I.g*F,f+=I.b*F;else if(k.isLightProbe){for(let z=0;z<9;z++)r.probe[z].addScaledVector(k.sh.coefficients[z],F);M++}else if(k.isDirectionalLight){const z=e.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity),k.castShadow){const K=k.shadow,j=n.get(k);j.shadowIntensity=K.intensity,j.shadowBias=K.bias,j.shadowNormalBias=K.normalBias,j.shadowRadius=K.radius,j.shadowMapSize=K.mapSize,r.directionalShadow[h]=j,r.directionalShadowMap[h]=V,r.directionalShadowMatrix[h]=k.shadow.matrix,w++}r.directional[h]=z,h++}else if(k.isSpotLight){const z=e.get(k);z.position.setFromMatrixPosition(k.matrixWorld),z.color.copy(I).multiplyScalar(F),z.distance=L,z.coneCos=Math.cos(k.angle),z.penumbraCos=Math.cos(k.angle*(1-k.penumbra)),z.decay=k.decay,r.spot[g]=z;const K=k.shadow;if(k.map&&(r.spotLightMap[E]=k.map,E++,K.updateMatrices(k),k.castShadow&&A++),r.spotLightMatrix[g]=K.matrix,k.castShadow){const j=n.get(k);j.shadowIntensity=K.intensity,j.shadowBias=K.bias,j.shadowNormalBias=K.normalBias,j.shadowRadius=K.radius,j.shadowMapSize=K.mapSize,r.spotShadow[g]=j,r.spotShadowMap[g]=V,S++}g++}else if(k.isRectAreaLight){const z=e.get(k);z.color.copy(I).multiplyScalar(F),z.halfWidth.set(k.width*.5,0,0),z.halfHeight.set(0,k.height*.5,0),r.rectArea[v]=z,v++}else if(k.isPointLight){const z=e.get(k);if(z.color.copy(k.color).multiplyScalar(k.intensity),z.distance=k.distance,z.decay=k.decay,k.castShadow){const K=k.shadow,j=n.get(k);j.shadowIntensity=K.intensity,j.shadowBias=K.bias,j.shadowNormalBias=K.normalBias,j.shadowRadius=K.radius,j.shadowMapSize=K.mapSize,j.shadowCameraNear=K.camera.near,j.shadowCameraFar=K.camera.far,r.pointShadow[m]=j,r.pointShadowMap[m]=V,r.pointShadowMatrix[m]=k.shadow.matrix,_++}r.point[m]=z,m++}else if(k.isHemisphereLight){const z=e.get(k);z.skyColor.copy(k.color).multiplyScalar(F),z.groundColor.copy(k.groundColor).multiplyScalar(F),r.hemi[y]=z,y++}}v>0&&(t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=At.LTC_FLOAT_1,r.rectAreaLTC2=At.LTC_FLOAT_2):(r.rectAreaLTC1=At.LTC_HALF_1,r.rectAreaLTC2=At.LTC_HALF_2)),r.ambient[0]=u,r.ambient[1]=d,r.ambient[2]=f;const R=r.hash;(R.directionalLength!==h||R.pointLength!==m||R.spotLength!==g||R.rectAreaLength!==v||R.hemiLength!==y||R.numDirectionalShadows!==w||R.numPointShadows!==_||R.numSpotShadows!==S||R.numSpotMaps!==E||R.numLightProbes!==M)&&(r.directional.length=h,r.spot.length=g,r.rectArea.length=v,r.point.length=m,r.hemi.length=y,r.directionalShadow.length=w,r.directionalShadowMap.length=w,r.pointShadow.length=_,r.pointShadowMap.length=_,r.spotShadow.length=S,r.spotShadowMap.length=S,r.directionalShadowMatrix.length=w,r.pointShadowMatrix.length=_,r.spotLightMatrix.length=S+E-A,r.spotLightMap.length=E,r.numSpotLightShadowsWithMaps=A,r.numLightProbes=M,R.directionalLength=h,R.pointLength=m,R.spotLength=g,R.rectAreaLength=v,R.hemiLength=y,R.numDirectionalShadows=w,R.numPointShadows=_,R.numSpotShadows=S,R.numSpotMaps=E,R.numLightProbes=M,r.version=U4e++)}function l(c,u){let d=0,f=0,h=0,m=0,g=0;const v=u.matrixWorldInverse;for(let y=0,w=c.length;y<w;y++){const _=c[y];if(_.isDirectionalLight){const S=r.directional[d];S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),d++}else if(_.isSpotLight){const S=r.spot[h];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),S.direction.setFromMatrixPosition(_.matrixWorld),i.setFromMatrixPosition(_.target.matrixWorld),S.direction.sub(i),S.direction.transformDirection(v),h++}else if(_.isRectAreaLight){const S=r.rectArea[m];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),a.identity(),s.copy(_.matrixWorld),s.premultiply(v),a.extractRotation(s),S.halfWidth.set(_.width*.5,0,0),S.halfHeight.set(0,_.height*.5,0),S.halfWidth.applyMatrix4(a),S.halfHeight.applyMatrix4(a),m++}else if(_.isPointLight){const S=r.point[f];S.position.setFromMatrixPosition(_.matrixWorld),S.position.applyMatrix4(v),f++}else if(_.isHemisphereLight){const S=r.hemi[g];S.direction.setFromMatrixPosition(_.matrixWorld),S.direction.transformDirection(v),g++}}}return{setup:o,setupView:l,state:r}}function X9(t){const e=new z4e(t),n=[],r=[];function i(u){c.camera=u,n.length=0,r.length=0}function s(u){n.push(u)}function a(u){r.push(u)}function o(){e.setup(n)}function l(u){e.setupView(n,u)}const c={lightsArray:n,shadowsArray:r,camera:null,lights:e,transmissionRenderTarget:{}};return{init:i,state:c,setupLights:o,setupLightsView:l,pushLight:s,pushShadow:a}}function V4e(t){let e=new WeakMap;function n(i,s=0){const a=e.get(i);let o;return a===void 0?(o=new X9(t),e.set(i,[o])):s>=a.length?(o=new X9(t),a.push(o)):o=a[s],o}function r(){e=new WeakMap}return{get:n,dispose:r}}const $4e=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,H4e=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function G4e(t,e,n){let r=new fy;const i=new Ve,s=new Ve,a=new Ln,o=new f_({depthPacking:UB}),l=new iR,c={},u=n.maxTextureSize,d={[Lc]:Gs,[Gs]:Lc,[Ba]:Ba},f=new Vi({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ve},radius:{value:4}},vertexShader:$4e,fragmentShader:H4e}),h=f.clone();h.defines.HORIZONTAL_PASS=1;const m=new un;m.setAttribute("position",new wn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Wn(m,f),v=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=MP;let y=this.type;this.render=function(A,M,R){if(v.enabled===!1||v.autoUpdate===!1&&v.needsUpdate===!1||A.length===0)return;const P=t.getRenderTarget(),O=t.getActiveCubeFace(),k=t.getActiveMipmapLevel(),I=t.state;I.setBlending(tl),I.buffers.depth.getReversed()===!0?I.buffers.color.setClear(0,0,0,0):I.buffers.color.setClear(1,1,1,1),I.buffers.depth.setTest(!0),I.setScissorTest(!1);const F=y!==Pl&&this.type===Pl,L=y===Pl&&this.type!==Pl;for(let V=0,z=A.length;V<z;V++){const K=A[V],j=K.shadow;if(j===void 0){Pt("WebGLShadowMap:",K,"has no shadow.");continue}if(j.autoUpdate===!1&&j.needsUpdate===!1)continue;i.copy(j.mapSize);const U=j.getFrameExtents();if(i.multiply(U),s.copy(j.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/U.x),i.x=s.x*U.x,j.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/U.y),i.y=s.y*U.y,j.mapSize.y=s.y)),j.map===null||F===!0||L===!0){const G=this.type!==Pl?{minFilter:Ji,magFilter:Ji}:{};j.map!==null&&j.map.dispose(),j.map=new mi(i.x,i.y,G),j.map.texture.name=K.name+".shadowMap",j.camera.updateProjectionMatrix()}t.setRenderTarget(j.map),t.clear();const $=j.getViewportCount();for(let G=0;G<$;G++){const X=j.getViewport(G);a.set(s.x*X.x,s.y*X.y,s.x*X.z,s.y*X.w),I.viewport(a),j.updateMatrices(K,G),r=j.getFrustum(),S(M,R,j.camera,K,this.type)}j.isPointLightShadow!==!0&&this.type===Pl&&w(j,R),j.needsUpdate=!1}y=this.type,v.needsUpdate=!1,t.setRenderTarget(P,O,k)};function w(A,M){const R=e.update(g);f.defines.VSM_SAMPLES!==A.blurSamples&&(f.defines.VSM_SAMPLES=A.blurSamples,h.defines.VSM_SAMPLES=A.blurSamples,f.needsUpdate=!0,h.needsUpdate=!0),A.mapPass===null&&(A.mapPass=new mi(i.x,i.y)),f.uniforms.shadow_pass.value=A.map.texture,f.uniforms.resolution.value=A.mapSize,f.uniforms.radius.value=A.radius,t.setRenderTarget(A.mapPass),t.clear(),t.renderBufferDirect(M,null,R,f,g,null),h.uniforms.shadow_pass.value=A.mapPass.texture,h.uniforms.resolution.value=A.mapSize,h.uniforms.radius.value=A.radius,t.setRenderTarget(A.map),t.clear(),t.renderBufferDirect(M,null,R,h,g,null)}function _(A,M,R,P){let O=null;const k=R.isPointLight===!0?A.customDistanceMaterial:A.customDepthMaterial;if(k!==void 0)O=k;else if(O=R.isPointLight===!0?l:o,t.localClippingEnabled&&M.clipShadows===!0&&Array.isArray(M.clippingPlanes)&&M.clippingPlanes.length!==0||M.displacementMap&&M.displacementScale!==0||M.alphaMap&&M.alphaTest>0||M.map&&M.alphaTest>0||M.alphaToCoverage===!0){const I=O.uuid,F=M.uuid;let L=c[I];L===void 0&&(L={},c[I]=L);let V=L[F];V===void 0&&(V=O.clone(),L[F]=V,M.addEventListener("dispose",E)),O=V}if(O.visible=M.visible,O.wireframe=M.wireframe,P===Pl?O.side=M.shadowSide!==null?M.shadowSide:M.side:O.side=M.shadowSide!==null?M.shadowSide:d[M.side],O.alphaMap=M.alphaMap,O.alphaTest=M.alphaToCoverage===!0?.5:M.alphaTest,O.map=M.map,O.clipShadows=M.clipShadows,O.clippingPlanes=M.clippingPlanes,O.clipIntersection=M.clipIntersection,O.displacementMap=M.displacementMap,O.displacementScale=M.displacementScale,O.displacementBias=M.displacementBias,O.wireframeLinewidth=M.wireframeLinewidth,O.linewidth=M.linewidth,R.isPointLight===!0&&O.isMeshDistanceMaterial===!0){const I=t.properties.get(O);I.light=R}return O}function S(A,M,R,P,O){if(A.visible===!1)return;if(A.layers.test(M.layers)&&(A.isMesh||A.isLine||A.isPoints)&&(A.castShadow||A.receiveShadow&&O===Pl)&&(!A.frustumCulled||r.intersectsObject(A))){A.modelViewMatrix.multiplyMatrices(R.matrixWorldInverse,A.matrixWorld);const F=e.update(A),L=A.material;if(Array.isArray(L)){const V=F.groups;for(let z=0,K=V.length;z<K;z++){const j=V[z],U=L[j.materialIndex];if(U&&U.visible){const $=_(A,U,P,O);A.onBeforeShadow(t,A,M,R,F,$,j),t.renderBufferDirect(R,null,F,$,A,j),A.onAfterShadow(t,A,M,R,F,$,j)}}}else if(L.visible){const V=_(A,L,P,O);A.onBeforeShadow(t,A,M,R,F,V,null),t.renderBufferDirect(R,null,F,V,A,null),A.onAfterShadow(t,A,M,R,F,V,null)}}const I=A.children;for(let F=0,L=I.length;F<L;F++)S(I[F],M,R,P,O)}function E(A){A.target.removeEventListener("dispose",E);for(const R in c){const P=c[R],O=A.target.uuid;O in P&&(P[O].dispose(),delete P[O])}}}const W4e={[_M]:SM,[EM]:MM,[TM]:CM,[qp]:AM,[SM]:_M,[MM]:EM,[CM]:TM,[AM]:qp};function X4e(t,e){function n(){let ue=!1;const Ae=new Ln;let Ze=null;const at=new Ln(0,0,0,0);return{setMask:function(qe){Ze!==qe&&!ue&&(t.colorMask(qe,qe,qe,qe),Ze=qe)},setLocked:function(qe){ue=qe},setClear:function(qe,je,$e,rt,lt){lt===!0&&(qe*=rt,je*=rt,$e*=rt),Ae.set(qe,je,$e,rt),at.equals(Ae)===!1&&(t.clearColor(qe,je,$e,rt),at.copy(Ae))},reset:function(){ue=!1,Ze=null,at.set(-1,0,0,0)}}}function r(){let ue=!1,Ae=!1,Ze=null,at=null,qe=null;return{setReversed:function(je){if(Ae!==je){const $e=e.get("EXT_clip_control");je?$e.clipControlEXT($e.LOWER_LEFT_EXT,$e.ZERO_TO_ONE_EXT):$e.clipControlEXT($e.LOWER_LEFT_EXT,$e.NEGATIVE_ONE_TO_ONE_EXT),Ae=je;const rt=qe;qe=null,this.setClear(rt)}},getReversed:function(){return Ae},setTest:function(je){je?ne(t.DEPTH_TEST):ve(t.DEPTH_TEST)},setMask:function(je){Ze!==je&&!ue&&(t.depthMask(je),Ze=je)},setFunc:function(je){if(Ae&&(je=W4e[je]),at!==je){switch(je){case _M:t.depthFunc(t.NEVER);break;case SM:t.depthFunc(t.ALWAYS);break;case EM:t.depthFunc(t.LESS);break;case qp:t.depthFunc(t.LEQUAL);break;case TM:t.depthFunc(t.EQUAL);break;case AM:t.depthFunc(t.GEQUAL);break;case MM:t.depthFunc(t.GREATER);break;case CM:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}at=je}},setLocked:function(je){ue=je},setClear:function(je){qe!==je&&(Ae&&(je=1-je),t.clearDepth(je),qe=je)},reset:function(){ue=!1,Ze=null,at=null,qe=null,Ae=!1}}}function i(){let ue=!1,Ae=null,Ze=null,at=null,qe=null,je=null,$e=null,rt=null,lt=null;return{setTest:function(Mt){ue||(Mt?ne(t.STENCIL_TEST):ve(t.STENCIL_TEST))},setMask:function(Mt){Ae!==Mt&&!ue&&(t.stencilMask(Mt),Ae=Mt)},setFunc:function(Mt,ln,gn){(Ze!==Mt||at!==ln||qe!==gn)&&(t.stencilFunc(Mt,ln,gn),Ze=Mt,at=ln,qe=gn)},setOp:function(Mt,ln,gn){(je!==Mt||$e!==ln||rt!==gn)&&(t.stencilOp(Mt,ln,gn),je=Mt,$e=ln,rt=gn)},setLocked:function(Mt){ue=Mt},setClear:function(Mt){lt!==Mt&&(t.clearStencil(Mt),lt=Mt)},reset:function(){ue=!1,Ae=null,Ze=null,at=null,qe=null,je=null,$e=null,rt=null,lt=null}}}const s=new n,a=new r,o=new i,l=new WeakMap,c=new WeakMap;let u={},d={},f=new WeakMap,h=[],m=null,g=!1,v=null,y=null,w=null,_=null,S=null,E=null,A=null,M=new Et(0,0,0),R=0,P=!1,O=null,k=null,I=null,F=null,L=null;const V=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let z=!1,K=0;const j=t.getParameter(t.VERSION);j.indexOf("WebGL")!==-1?(K=parseFloat(/^WebGL (\d)/.exec(j)[1]),z=K>=1):j.indexOf("OpenGL ES")!==-1&&(K=parseFloat(/^OpenGL ES (\d)/.exec(j)[1]),z=K>=2);let U=null,$={};const G=t.getParameter(t.SCISSOR_BOX),X=t.getParameter(t.VIEWPORT),Q=new Ln().fromArray(G),oe=new Ln().fromArray(X);function de(ue,Ae,Ze,at){const qe=new Uint8Array(4),je=t.createTexture();t.bindTexture(ue,je),t.texParameteri(ue,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(ue,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let $e=0;$e<Ze;$e++)ue===t.TEXTURE_3D||ue===t.TEXTURE_2D_ARRAY?t.texImage3D(Ae,0,t.RGBA,1,1,at,0,t.RGBA,t.UNSIGNED_BYTE,qe):t.texImage2D(Ae+$e,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,qe);return je}const ae={};ae[t.TEXTURE_2D]=de(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=de(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),ae[t.TEXTURE_2D_ARRAY]=de(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=de(t.TEXTURE_3D,t.TEXTURE_3D,1,1),s.setClear(0,0,0,1),a.setClear(1),o.setClear(0),ne(t.DEPTH_TEST),a.setFunc(qp),Me(!1),Oe(XL),ne(t.CULL_FACE),Ee(tl);function ne(ue){u[ue]!==!0&&(t.enable(ue),u[ue]=!0)}function ve(ue){u[ue]!==!1&&(t.disable(ue),u[ue]=!1)}function ge(ue,Ae){return d[ue]!==Ae?(t.bindFramebuffer(ue,Ae),d[ue]=Ae,ue===t.DRAW_FRAMEBUFFER&&(d[t.FRAMEBUFFER]=Ae),ue===t.FRAMEBUFFER&&(d[t.DRAW_FRAMEBUFFER]=Ae),!0):!1}function _e(ue,Ae){let Ze=h,at=!1;if(ue){Ze=f.get(Ae),Ze===void 0&&(Ze=[],f.set(Ae,Ze));const qe=ue.textures;if(Ze.length!==qe.length||Ze[0]!==t.COLOR_ATTACHMENT0){for(let je=0,$e=qe.length;je<$e;je++)Ze[je]=t.COLOR_ATTACHMENT0+je;Ze.length=qe.length,at=!0}}else Ze[0]!==t.BACK&&(Ze[0]=t.BACK,at=!0);at&&t.drawBuffers(Ze)}function ye(ue){return m!==ue?(t.useProgram(ue),m=ue,!0):!1}const ce={[Fd]:t.FUNC_ADD,[noe]:t.FUNC_SUBTRACT,[roe]:t.FUNC_REVERSE_SUBTRACT};ce[ioe]=t.MIN,ce[soe]=t.MAX;const De={[aoe]:t.ZERO,[ooe]:t.ONE,[loe]:t.SRC_COLOR,[bM]:t.SRC_ALPHA,[poe]:t.SRC_ALPHA_SATURATE,[foe]:t.DST_COLOR,[uoe]:t.DST_ALPHA,[coe]:t.ONE_MINUS_SRC_COLOR,[wM]:t.ONE_MINUS_SRC_ALPHA,[hoe]:t.ONE_MINUS_DST_COLOR,[doe]:t.ONE_MINUS_DST_ALPHA,[moe]:t.CONSTANT_COLOR,[goe]:t.ONE_MINUS_CONSTANT_COLOR,[voe]:t.CONSTANT_ALPHA,[yoe]:t.ONE_MINUS_CONSTANT_ALPHA};function Ee(ue,Ae,Ze,at,qe,je,$e,rt,lt,Mt){if(ue===tl){g===!0&&(ve(t.BLEND),g=!1);return}if(g===!1&&(ne(t.BLEND),g=!0),ue!==toe){if(ue!==v||Mt!==P){if((y!==Fd||S!==Fd)&&(t.blendEquation(t.FUNC_ADD),y=Fd,S=Fd),Mt)switch(ue){case Pp:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qL:t.blendFunc(t.ONE,t.ONE);break;case KL:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case YL:t.blendFuncSeparate(t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ZERO,t.ONE);break;default:hn("WebGLState: Invalid blending: ",ue);break}else switch(ue){case Pp:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case qL:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE,t.ONE,t.ONE);break;case KL:hn("WebGLState: SubtractiveBlending requires material.premultipliedAlpha = true");break;case YL:hn("WebGLState: MultiplyBlending requires material.premultipliedAlpha = true");break;default:hn("WebGLState: Invalid blending: ",ue);break}w=null,_=null,E=null,A=null,M.set(0,0,0),R=0,v=ue,P=Mt}return}qe=qe||Ae,je=je||Ze,$e=$e||at,(Ae!==y||qe!==S)&&(t.blendEquationSeparate(ce[Ae],ce[qe]),y=Ae,S=qe),(Ze!==w||at!==_||je!==E||$e!==A)&&(t.blendFuncSeparate(De[Ze],De[at],De[je],De[$e]),w=Ze,_=at,E=je,A=$e),(rt.equals(M)===!1||lt!==R)&&(t.blendColor(rt.r,rt.g,rt.b,lt),M.copy(rt),R=lt),v=ue,P=!1}function Z(ue,Ae){ue.side===Ba?ve(t.CULL_FACE):ne(t.CULL_FACE);let Ze=ue.side===Gs;Ae&&(Ze=!Ze),Me(Ze),ue.blending===Pp&&ue.transparent===!1?Ee(tl):Ee(ue.blending,ue.blendEquation,ue.blendSrc,ue.blendDst,ue.blendEquationAlpha,ue.blendSrcAlpha,ue.blendDstAlpha,ue.blendColor,ue.blendAlpha,ue.premultipliedAlpha),a.setFunc(ue.depthFunc),a.setTest(ue.depthTest),a.setMask(ue.depthWrite),s.setMask(ue.colorWrite);const at=ue.stencilWrite;o.setTest(at),at&&(o.setMask(ue.stencilWriteMask),o.setFunc(ue.stencilFunc,ue.stencilRef,ue.stencilFuncMask),o.setOp(ue.stencilFail,ue.stencilZFail,ue.stencilZPass)),Ne(ue.polygonOffset,ue.polygonOffsetFactor,ue.polygonOffsetUnits),ue.alphaToCoverage===!0?ne(t.SAMPLE_ALPHA_TO_COVERAGE):ve(t.SAMPLE_ALPHA_TO_COVERAGE)}function Me(ue){O!==ue&&(ue?t.frontFace(t.CW):t.frontFace(t.CCW),O=ue)}function Oe(ue){ue!==Jae?(ne(t.CULL_FACE),ue!==k&&(ue===XL?t.cullFace(t.BACK):ue===Qae?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ve(t.CULL_FACE),k=ue}function Ce(ue){ue!==I&&(z&&t.lineWidth(ue),I=ue)}function Ne(ue,Ae,Ze){ue?(ne(t.POLYGON_OFFSET_FILL),(F!==Ae||L!==Ze)&&(t.polygonOffset(Ae,Ze),F=Ae,L=Ze)):ve(t.POLYGON_OFFSET_FILL)}function ee(ue){ue?ne(t.SCISSOR_TEST):ve(t.SCISSOR_TEST)}function te(ue){ue===void 0&&(ue=t.TEXTURE0+V-1),U!==ue&&(t.activeTexture(ue),U=ue)}function me(ue,Ae,Ze){Ze===void 0&&(U===null?Ze=t.TEXTURE0+V-1:Ze=U);let at=$[Ze];at===void 0&&(at={type:void 0,texture:void 0},$[Ze]=at),(at.type!==ue||at.texture!==Ae)&&(U!==Ze&&(t.activeTexture(Ze),U=Ze),t.bindTexture(ue,Ae||ae[ue]),at.type=ue,at.texture=Ae)}function W(){const ue=$[U];ue!==void 0&&ue.type!==void 0&&(t.bindTexture(ue.type,null),ue.type=void 0,ue.texture=void 0)}function B(){try{t.compressedTexImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function re(){try{t.compressedTexImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function xe(){try{t.texSubImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Te(){try{t.texSubImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function we(){try{t.compressedTexSubImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Ke(){try{t.compressedTexSubImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Xe(){try{t.texStorage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function dt(){try{t.texStorage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function pt(){try{t.texImage2D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Le(){try{t.texImage3D(...arguments)}catch(ue){ue("WebGLState:",ue)}}function Be(ue){Q.equals(ue)===!1&&(t.scissor(ue.x,ue.y,ue.z,ue.w),Q.copy(ue))}function nt(ue){oe.equals(ue)===!1&&(t.viewport(ue.x,ue.y,ue.z,ue.w),oe.copy(ue))}function he(ue,Ae){let Ze=c.get(Ae);Ze===void 0&&(Ze=new WeakMap,c.set(Ae,Ze));let at=Ze.get(ue);at===void 0&&(at=t.getUniformBlockIndex(Ae,ue.name),Ze.set(ue,at))}function Pe(ue,Ae){const at=c.get(Ae).get(ue);l.get(Ae)!==at&&(t.uniformBlockBinding(Ae,at,ue.__bindingPointIndex),l.set(Ae,at))}function Ye(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.blendColor(0,0,0,0),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),a.setReversed(!1),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),u={},U=null,$={},d={},f=new WeakMap,h=[],m=null,g=!1,v=null,y=null,w=null,_=null,S=null,E=null,A=null,M=new Et(0,0,0),R=0,P=!1,O=null,k=null,I=null,F=null,L=null,Q.set(0,0,t.canvas.width,t.canvas.height),oe.set(0,0,t.canvas.width,t.canvas.height),s.reset(),a.reset(),o.reset()}return{buffers:{color:s,depth:a,stencil:o},enable:ne,disable:ve,bindFramebuffer:ge,drawBuffers:_e,useProgram:ye,setBlending:Ee,setMaterial:Z,setFlipSided:Me,setCullFace:Oe,setLineWidth:Ce,setPolygonOffset:Ne,setScissorTest:ee,activeTexture:te,bindTexture:me,unbindTexture:W,compressedTexImage2D:B,compressedTexImage3D:re,texImage2D:pt,texImage3D:Le,updateUBOMapping:he,uniformBlockBinding:Pe,texStorage2D:Xe,texStorage3D:dt,texSubImage2D:xe,texSubImage3D:Te,compressedTexSubImage2D:we,compressedTexSubImage3D:Ke,scissor:Be,viewport:nt,reset:Ye}}function q4e(t,e,n,r,i,s,a){const o=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,l=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),c=new Ve,u=new WeakMap;let d;const f=new WeakMap;let h=!1;try{h=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function m(W,B){return h?new OffscreenCanvas(W,B):zw("canvas")}function g(W,B,re){let xe=1;const Te=me(W);if((Te.width>re||Te.height>re)&&(xe=re/Math.max(Te.width,Te.height)),xe<1)if(typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&W instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&W instanceof ImageBitmap||typeof VideoFrame<"u"&&W instanceof VideoFrame){const we=Math.floor(xe*Te.width),Ke=Math.floor(xe*Te.height);d===void 0&&(d=m(we,Ke));const Xe=B?m(we,Ke):d;return Xe.width=we,Xe.height=Ke,Xe.getContext("2d").drawImage(W,0,0,we,Ke),Pt("WebGLRenderer: Texture has been resized from ("+Te.width+"x"+Te.height+") to ("+we+"x"+Ke+")."),Xe}else return"data"in W&&Pt("WebGLRenderer: Image in DataTexture is too big ("+Te.width+"x"+Te.height+")."),W;return W}function v(W){return W.generateMipmaps}function y(W){t.generateMipmap(W)}function w(W){return W.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:W.isWebGL3DRenderTarget?t.TEXTURE_3D:W.isWebGLArrayRenderTarget||W.isCompressedArrayTexture?t.TEXTURE_2D_ARRAY:t.TEXTURE_2D}function _(W,B,re,xe,Te=!1){if(W!==null){if(t[W]!==void 0)return t[W];Pt("WebGLRenderer: Attempt to use non-existing WebGL internal format '"+W+"'")}let we=B;if(B===t.RED&&(re===t.FLOAT&&(we=t.R32F),re===t.HALF_FLOAT&&(we=t.R16F),re===t.UNSIGNED_BYTE&&(we=t.R8)),B===t.RED_INTEGER&&(re===t.UNSIGNED_BYTE&&(we=t.R8UI),re===t.UNSIGNED_SHORT&&(we=t.R16UI),re===t.UNSIGNED_INT&&(we=t.R32UI),re===t.BYTE&&(we=t.R8I),re===t.SHORT&&(we=t.R16I),re===t.INT&&(we=t.R32I)),B===t.RG&&(re===t.FLOAT&&(we=t.RG32F),re===t.HALF_FLOAT&&(we=t.RG16F),re===t.UNSIGNED_BYTE&&(we=t.RG8)),B===t.RG_INTEGER&&(re===t.UNSIGNED_BYTE&&(we=t.RG8UI),re===t.UNSIGNED_SHORT&&(we=t.RG16UI),re===t.UNSIGNED_INT&&(we=t.RG32UI),re===t.BYTE&&(we=t.RG8I),re===t.SHORT&&(we=t.RG16I),re===t.INT&&(we=t.RG32I)),B===t.RGB_INTEGER&&(re===t.UNSIGNED_BYTE&&(we=t.RGB8UI),re===t.UNSIGNED_SHORT&&(we=t.RGB16UI),re===t.UNSIGNED_INT&&(we=t.RGB32UI),re===t.BYTE&&(we=t.RGB8I),re===t.SHORT&&(we=t.RGB16I),re===t.INT&&(we=t.RGB32I)),B===t.RGBA_INTEGER&&(re===t.UNSIGNED_BYTE&&(we=t.RGBA8UI),re===t.UNSIGNED_SHORT&&(we=t.RGBA16UI),re===t.UNSIGNED_INT&&(we=t.RGBA32UI),re===t.BYTE&&(we=t.RGBA8I),re===t.SHORT&&(we=t.RGBA16I),re===t.INT&&(we=t.RGBA32I)),B===t.RGB&&(re===t.UNSIGNED_INT_5_9_9_9_REV&&(we=t.RGB9_E5),re===t.UNSIGNED_INT_10F_11F_11F_REV&&(we=t.R11F_G11F_B10F)),B===t.RGBA){const Ke=Te?Uw:Kn.getTransfer(xe);re===t.FLOAT&&(we=t.RGBA32F),re===t.HALF_FLOAT&&(we=t.RGBA16F),re===t.UNSIGNED_BYTE&&(we=Ke===pr?t.SRGB8_ALPHA8:t.RGBA8),re===t.UNSIGNED_SHORT_4_4_4_4&&(we=t.RGBA4),re===t.UNSIGNED_SHORT_5_5_5_1&&(we=t.RGB5_A1)}return(we===t.R16F||we===t.R32F||we===t.RG16F||we===t.RG32F||we===t.RGBA16F||we===t.RGBA32F)&&e.get("EXT_color_buffer_float"),we}function S(W,B){let re;return W?B===null||B===Fc||B===a0?re=t.DEPTH24_STENCIL8:B===ti?re=t.DEPTH32F_STENCIL8:B===Kp&&(re=t.DEPTH24_STENCIL8,Pt("DepthTexture: 16 bit depth attachment is not supported with stencil. Using 24-bit attachment.")):B===null||B===Fc||B===a0?re=t.DEPTH_COMPONENT24:B===ti?re=t.DEPTH_COMPONENT32F:B===Kp&&(re=t.DEPTH_COMPONENT16),re}function E(W,B){return v(W)===!0||W.isFramebufferTexture&&W.minFilter!==Ji&&W.minFilter!==Nn?Math.log2(Math.max(B.width,B.height))+1:W.mipmaps!==void 0&&W.mipmaps.length>0?W.mipmaps.length:W.isCompressedTexture&&Array.isArray(W.image)?B.mipmaps.length:1}function A(W){const B=W.target;B.removeEventListener("dispose",A),R(B),B.isVideoTexture&&u.delete(B)}function M(W){const B=W.target;B.removeEventListener("dispose",M),O(B)}function R(W){const B=r.get(W);if(B.__webglInit===void 0)return;const re=W.source,xe=f.get(re);if(xe){const Te=xe[B.__cacheKey];Te.usedTimes--,Te.usedTimes===0&&P(W),Object.keys(xe).length===0&&f.delete(re)}r.remove(W)}function P(W){const B=r.get(W);t.deleteTexture(B.__webglTexture);const re=W.source,xe=f.get(re);delete xe[B.__cacheKey],a.memory.textures--}function O(W){const B=r.get(W);if(W.depthTexture&&(W.depthTexture.dispose(),r.remove(W.depthTexture)),W.isWebGLCubeRenderTarget)for(let xe=0;xe<6;xe++){if(Array.isArray(B.__webglFramebuffer[xe]))for(let Te=0;Te<B.__webglFramebuffer[xe].length;Te++)t.deleteFramebuffer(B.__webglFramebuffer[xe][Te]);else t.deleteFramebuffer(B.__webglFramebuffer[xe]);B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer[xe])}else{if(Array.isArray(B.__webglFramebuffer))for(let xe=0;xe<B.__webglFramebuffer.length;xe++)t.deleteFramebuffer(B.__webglFramebuffer[xe]);else t.deleteFramebuffer(B.__webglFramebuffer);if(B.__webglDepthbuffer&&t.deleteRenderbuffer(B.__webglDepthbuffer),B.__webglMultisampledFramebuffer&&t.deleteFramebuffer(B.__webglMultisampledFramebuffer),B.__webglColorRenderbuffer)for(let xe=0;xe<B.__webglColorRenderbuffer.length;xe++)B.__webglColorRenderbuffer[xe]&&t.deleteRenderbuffer(B.__webglColorRenderbuffer[xe]);B.__webglDepthRenderbuffer&&t.deleteRenderbuffer(B.__webglDepthRenderbuffer)}const re=W.textures;for(let xe=0,Te=re.length;xe<Te;xe++){const we=r.get(re[xe]);we.__webglTexture&&(t.deleteTexture(we.__webglTexture),a.memory.textures--),r.remove(re[xe])}r.remove(W)}let k=0;function I(){k=0}function F(){const W=k;return W>=i.maxTextures&&Pt("WebGLTextures: Trying to use "+W+" texture units while this GPU supports only "+i.maxTextures),k+=1,W}function L(W){const B=[];return B.push(W.wrapS),B.push(W.wrapT),B.push(W.wrapR||0),B.push(W.magFilter),B.push(W.minFilter),B.push(W.anisotropy),B.push(W.internalFormat),B.push(W.format),B.push(W.type),B.push(W.generateMipmaps),B.push(W.premultiplyAlpha),B.push(W.flipY),B.push(W.unpackAlignment),B.push(W.colorSpace),B.join()}function V(W,B){const re=r.get(W);if(W.isVideoTexture&&ee(W),W.isRenderTargetTexture===!1&&W.isExternalTexture!==!0&&W.version>0&&re.__version!==W.version){const xe=W.image;if(xe===null)Pt("WebGLRenderer: Texture marked for update but no image data found.");else if(xe.complete===!1)Pt("WebGLRenderer: Texture marked for update but image is incomplete");else{ae(re,W,B);return}}else W.isExternalTexture&&(re.__webglTexture=W.sourceTexture?W.sourceTexture:null);n.bindTexture(t.TEXTURE_2D,re.__webglTexture,t.TEXTURE0+B)}function z(W,B){const re=r.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&re.__version!==W.version){ae(re,W,B);return}else W.isExternalTexture&&(re.__webglTexture=W.sourceTexture?W.sourceTexture:null);n.bindTexture(t.TEXTURE_2D_ARRAY,re.__webglTexture,t.TEXTURE0+B)}function K(W,B){const re=r.get(W);if(W.isRenderTargetTexture===!1&&W.version>0&&re.__version!==W.version){ae(re,W,B);return}n.bindTexture(t.TEXTURE_3D,re.__webglTexture,t.TEXTURE0+B)}function j(W,B){const re=r.get(W);if(W.version>0&&re.__version!==W.version){ne(re,W,B);return}n.bindTexture(t.TEXTURE_CUBE_MAP,re.__webglTexture,t.TEXTURE0+B)}const U={[Mf]:t.REPEAT,[ei]:t.CLAMP_TO_EDGE,[s0]:t.MIRRORED_REPEAT},$={[Ji]:t.NEAREST,[CP]:t.NEAREST_MIPMAP_NEAREST,[lp]:t.NEAREST_MIPMAP_LINEAR,[Nn]:t.LINEAR,[wv]:t.LINEAR_MIPMAP_NEAREST,[Zo]:t.LINEAR_MIPMAP_LINEAR},G={[koe]:t.NEVER,[Boe]:t.ALWAYS,[Doe]:t.LESS,[BB]:t.LEQUAL,[Loe]:t.EQUAL,[Uoe]:t.GEQUAL,[joe]:t.GREATER,[Foe]:t.NOTEQUAL};function X(W,B){if(B.type===ti&&e.has("OES_texture_float_linear")===!1&&(B.magFilter===Nn||B.magFilter===wv||B.magFilter===lp||B.magFilter===Zo||B.minFilter===Nn||B.minFilter===wv||B.minFilter===lp||B.minFilter===Zo)&&Pt("WebGLRenderer: Unable to use linear filtering with floating point textures. OES_texture_float_linear not supported on this device."),t.texParameteri(W,t.TEXTURE_WRAP_S,U[B.wrapS]),t.texParameteri(W,t.TEXTURE_WRAP_T,U[B.wrapT]),(W===t.TEXTURE_3D||W===t.TEXTURE_2D_ARRAY)&&t.texParameteri(W,t.TEXTURE_WRAP_R,U[B.wrapR]),t.texParameteri(W,t.TEXTURE_MAG_FILTER,$[B.magFilter]),t.texParameteri(W,t.TEXTURE_MIN_FILTER,$[B.minFilter]),B.compareFunction&&(t.texParameteri(W,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(W,t.TEXTURE_COMPARE_FUNC,G[B.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){if(B.magFilter===Ji||B.minFilter!==lp&&B.minFilter!==Zo||B.type===ti&&e.has("OES_texture_float_linear")===!1)return;if(B.anisotropy>1||r.get(B).__currentAnisotropy){const re=e.get("EXT_texture_filter_anisotropic");t.texParameterf(W,re.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(B.anisotropy,i.getMaxAnisotropy())),r.get(B).__currentAnisotropy=B.anisotropy}}}function Q(W,B){let re=!1;W.__webglInit===void 0&&(W.__webglInit=!0,B.addEventListener("dispose",A));const xe=B.source;let Te=f.get(xe);Te===void 0&&(Te={},f.set(xe,Te));const we=L(B);if(we!==W.__cacheKey){Te[we]===void 0&&(Te[we]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,re=!0),Te[we].usedTimes++;const Ke=Te[W.__cacheKey];Ke!==void 0&&(Te[W.__cacheKey].usedTimes--,Ke.usedTimes===0&&P(B)),W.__cacheKey=we,W.__webglTexture=Te[we].texture}return re}function oe(W,B,re){return Math.floor(Math.floor(W/re)/B)}function de(W,B,re,xe){const we=W.updateRanges;if(we.length===0)n.texSubImage2D(t.TEXTURE_2D,0,0,0,B.width,B.height,re,xe,B.data);else{we.sort((Le,Be)=>Le.start-Be.start);let Ke=0;for(let Le=1;Le<we.length;Le++){const Be=we[Ke],nt=we[Le],he=Be.start+Be.count,Pe=oe(nt.start,B.width,4),Ye=oe(Be.start,B.width,4);nt.start<=he+1&&Pe===Ye&&oe(nt.start+nt.count-1,B.width,4)===Pe?Be.count=Math.max(Be.count,nt.start+nt.count-Be.start):(++Ke,we[Ke]=nt)}we.length=Ke+1;const Xe=t.getParameter(t.UNPACK_ROW_LENGTH),dt=t.getParameter(t.UNPACK_SKIP_PIXELS),pt=t.getParameter(t.UNPACK_SKIP_ROWS);t.pixelStorei(t.UNPACK_ROW_LENGTH,B.width);for(let Le=0,Be=we.length;Le<Be;Le++){const nt=we[Le],he=Math.floor(nt.start/4),Pe=Math.ceil(nt.count/4),Ye=he%B.width,ue=Math.floor(he/B.width),Ae=Pe,Ze=1;t.pixelStorei(t.UNPACK_SKIP_PIXELS,Ye),t.pixelStorei(t.UNPACK_SKIP_ROWS,ue),n.texSubImage2D(t.TEXTURE_2D,0,Ye,ue,Ae,Ze,re,xe,B.data)}W.clearUpdateRanges(),t.pixelStorei(t.UNPACK_ROW_LENGTH,Xe),t.pixelStorei(t.UNPACK_SKIP_PIXELS,dt),t.pixelStorei(t.UNPACK_SKIP_ROWS,pt)}}function ae(W,B,re){let xe=t.TEXTURE_2D;(B.isDataArrayTexture||B.isCompressedArrayTexture)&&(xe=t.TEXTURE_2D_ARRAY),B.isData3DTexture&&(xe=t.TEXTURE_3D);const Te=Q(W,B),we=B.source;n.bindTexture(xe,W.__webglTexture,t.TEXTURE0+re);const Ke=r.get(we);if(we.version!==Ke.__version||Te===!0){n.activeTexture(t.TEXTURE0+re);const Xe=Kn.getPrimaries(Kn.workingColorSpace),dt=B.colorSpace===yu?null:Kn.getPrimaries(B.colorSpace),pt=B.colorSpace===yu||Xe===dt?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,pt);let Le=g(B.image,!1,i.maxTextureSize);Le=te(B,Le);const Be=s.convert(B.format,B.colorSpace),nt=s.convert(B.type);let he=_(B.internalFormat,Be,nt,B.colorSpace,B.isVideoTexture);X(xe,B);let Pe;const Ye=B.mipmaps,ue=B.isVideoTexture!==!0,Ae=Ke.__version===void 0||Te===!0,Ze=we.dataReady,at=E(B,Le);if(B.isDepthTexture)he=S(B.format===o0,B.type),Ae&&(ue?n.texStorage2D(t.TEXTURE_2D,1,he,Le.width,Le.height):n.texImage2D(t.TEXTURE_2D,0,he,Le.width,Le.height,0,Be,nt,null));else if(B.isDataTexture)if(Ye.length>0){ue&&Ae&&n.texStorage2D(t.TEXTURE_2D,at,he,Ye[0].width,Ye[0].height);for(let qe=0,je=Ye.length;qe<je;qe++)Pe=Ye[qe],ue?Ze&&n.texSubImage2D(t.TEXTURE_2D,qe,0,0,Pe.width,Pe.height,Be,nt,Pe.data):n.texImage2D(t.TEXTURE_2D,qe,he,Pe.width,Pe.height,0,Be,nt,Pe.data);B.generateMipmaps=!1}else ue?(Ae&&n.texStorage2D(t.TEXTURE_2D,at,he,Le.width,Le.height),Ze&&de(B,Le,Be,nt)):n.texImage2D(t.TEXTURE_2D,0,he,Le.width,Le.height,0,Be,nt,Le.data);else if(B.isCompressedTexture)if(B.isCompressedArrayTexture){ue&&Ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,at,he,Ye[0].width,Ye[0].height,Le.depth);for(let qe=0,je=Ye.length;qe<je;qe++)if(Pe=Ye[qe],B.format!==Si)if(Be!==null)if(ue){if(Ze)if(B.layerUpdates.size>0){const $e=oj(Pe.width,Pe.height,B.format,B.type);for(const rt of B.layerUpdates){const lt=Pe.data.subarray(rt*$e/Pe.data.BYTES_PER_ELEMENT,(rt+1)*$e/Pe.data.BYTES_PER_ELEMENT);n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,qe,0,0,rt,Pe.width,Pe.height,1,Be,lt)}B.clearLayerUpdates()}else n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,qe,0,0,0,Pe.width,Pe.height,Le.depth,Be,Pe.data)}else n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,qe,he,Pe.width,Pe.height,Le.depth,0,Pe.data,0,0);else Pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()");else ue?Ze&&n.texSubImage3D(t.TEXTURE_2D_ARRAY,qe,0,0,0,Pe.width,Pe.height,Le.depth,Be,nt,Pe.data):n.texImage3D(t.TEXTURE_2D_ARRAY,qe,he,Pe.width,Pe.height,Le.depth,0,Be,nt,Pe.data)}else{ue&&Ae&&n.texStorage2D(t.TEXTURE_2D,at,he,Ye[0].width,Ye[0].height);for(let qe=0,je=Ye.length;qe<je;qe++)Pe=Ye[qe],B.format!==Si?Be!==null?ue?Ze&&n.compressedTexSubImage2D(t.TEXTURE_2D,qe,0,0,Pe.width,Pe.height,Be,Pe.data):n.compressedTexImage2D(t.TEXTURE_2D,qe,he,Pe.width,Pe.height,0,Pe.data):Pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ue?Ze&&n.texSubImage2D(t.TEXTURE_2D,qe,0,0,Pe.width,Pe.height,Be,nt,Pe.data):n.texImage2D(t.TEXTURE_2D,qe,he,Pe.width,Pe.height,0,Be,nt,Pe.data)}else if(B.isDataArrayTexture)if(ue){if(Ae&&n.texStorage3D(t.TEXTURE_2D_ARRAY,at,he,Le.width,Le.height,Le.depth),Ze)if(B.layerUpdates.size>0){const qe=oj(Le.width,Le.height,B.format,B.type);for(const je of B.layerUpdates){const $e=Le.data.subarray(je*qe/Le.data.BYTES_PER_ELEMENT,(je+1)*qe/Le.data.BYTES_PER_ELEMENT);n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,je,Le.width,Le.height,1,Be,nt,$e)}B.clearLayerUpdates()}else n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Le.width,Le.height,Le.depth,Be,nt,Le.data)}else n.texImage3D(t.TEXTURE_2D_ARRAY,0,he,Le.width,Le.height,Le.depth,0,Be,nt,Le.data);else if(B.isData3DTexture)ue?(Ae&&n.texStorage3D(t.TEXTURE_3D,at,he,Le.width,Le.height,Le.depth),Ze&&n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Le.width,Le.height,Le.depth,Be,nt,Le.data)):n.texImage3D(t.TEXTURE_3D,0,he,Le.width,Le.height,Le.depth,0,Be,nt,Le.data);else if(B.isFramebufferTexture){if(Ae)if(ue)n.texStorage2D(t.TEXTURE_2D,at,he,Le.width,Le.height);else{let qe=Le.width,je=Le.height;for(let $e=0;$e<at;$e++)n.texImage2D(t.TEXTURE_2D,$e,he,qe,je,0,Be,nt,null),qe>>=1,je>>=1}}else if(Ye.length>0){if(ue&&Ae){const qe=me(Ye[0]);n.texStorage2D(t.TEXTURE_2D,at,he,qe.width,qe.height)}for(let qe=0,je=Ye.length;qe<je;qe++)Pe=Ye[qe],ue?Ze&&n.texSubImage2D(t.TEXTURE_2D,qe,0,0,Be,nt,Pe):n.texImage2D(t.TEXTURE_2D,qe,he,Be,nt,Pe);B.generateMipmaps=!1}else if(ue){if(Ae){const qe=me(Le);n.texStorage2D(t.TEXTURE_2D,at,he,qe.width,qe.height)}Ze&&n.texSubImage2D(t.TEXTURE_2D,0,0,0,Be,nt,Le)}else n.texImage2D(t.TEXTURE_2D,0,he,Be,nt,Le);v(B)&&y(xe),Ke.__version=we.version,B.onUpdate&&B.onUpdate(B)}W.__version=B.version}function ne(W,B,re){if(B.image.length!==6)return;const xe=Q(W,B),Te=B.source;n.bindTexture(t.TEXTURE_CUBE_MAP,W.__webglTexture,t.TEXTURE0+re);const we=r.get(Te);if(Te.version!==we.__version||xe===!0){n.activeTexture(t.TEXTURE0+re);const Ke=Kn.getPrimaries(Kn.workingColorSpace),Xe=B.colorSpace===yu?null:Kn.getPrimaries(B.colorSpace),dt=B.colorSpace===yu||Ke===Xe?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,B.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,B.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,B.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,dt);const pt=B.isCompressedTexture||B.image[0].isCompressedTexture,Le=B.image[0]&&B.image[0].isDataTexture,Be=[];for(let je=0;je<6;je++)!pt&&!Le?Be[je]=g(B.image[je],!0,i.maxCubemapSize):Be[je]=Le?B.image[je].image:B.image[je],Be[je]=te(B,Be[je]);const nt=Be[0],he=s.convert(B.format,B.colorSpace),Pe=s.convert(B.type),Ye=_(B.internalFormat,he,Pe,B.colorSpace),ue=B.isVideoTexture!==!0,Ae=we.__version===void 0||xe===!0,Ze=Te.dataReady;let at=E(B,nt);X(t.TEXTURE_CUBE_MAP,B);let qe;if(pt){ue&&Ae&&n.texStorage2D(t.TEXTURE_CUBE_MAP,at,Ye,nt.width,nt.height);for(let je=0;je<6;je++){qe=Be[je].mipmaps;for(let $e=0;$e<qe.length;$e++){const rt=qe[$e];B.format!==Si?he!==null?ue?Ze&&n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e,0,0,rt.width,rt.height,he,rt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e,Ye,rt.width,rt.height,0,rt.data):Pt("WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):ue?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e,0,0,rt.width,rt.height,he,Pe,rt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e,Ye,rt.width,rt.height,0,he,Pe,rt.data)}}}else{if(qe=B.mipmaps,ue&&Ae){qe.length>0&&at++;const je=me(Be[0]);n.texStorage2D(t.TEXTURE_CUBE_MAP,at,Ye,je.width,je.height)}for(let je=0;je<6;je++)if(Le){ue?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,Be[je].width,Be[je].height,he,Pe,Be[je].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,Ye,Be[je].width,Be[je].height,0,he,Pe,Be[je].data);for(let $e=0;$e<qe.length;$e++){const lt=qe[$e].image[je].image;ue?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e+1,0,0,lt.width,lt.height,he,Pe,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e+1,Ye,lt.width,lt.height,0,he,Pe,lt.data)}}else{ue?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,0,0,he,Pe,Be[je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,0,Ye,he,Pe,Be[je]);for(let $e=0;$e<qe.length;$e++){const rt=qe[$e];ue?Ze&&n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e+1,0,0,he,Pe,rt.image[je]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+je,$e+1,Ye,he,Pe,rt.image[je])}}}v(B)&&y(t.TEXTURE_CUBE_MAP),we.__version=Te.version,B.onUpdate&&B.onUpdate(B)}W.__version=B.version}function ve(W,B,re,xe,Te,we){const Ke=s.convert(re.format,re.colorSpace),Xe=s.convert(re.type),dt=_(re.internalFormat,Ke,Xe,re.colorSpace),pt=r.get(B),Le=r.get(re);if(Le.__renderTarget=B,!pt.__hasExternalTextures){const Be=Math.max(1,B.width>>we),nt=Math.max(1,B.height>>we);Te===t.TEXTURE_3D||Te===t.TEXTURE_2D_ARRAY?n.texImage3D(Te,we,dt,Be,nt,B.depth,0,Ke,Xe,null):n.texImage2D(Te,we,dt,Be,nt,0,Ke,Xe,null)}n.bindFramebuffer(t.FRAMEBUFFER,W),Ne(B)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,xe,Te,Le.__webglTexture,0,Ce(B)):(Te===t.TEXTURE_2D||Te>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Te<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,xe,Te,Le.__webglTexture,we),n.bindFramebuffer(t.FRAMEBUFFER,null)}function ge(W,B,re){if(t.bindRenderbuffer(t.RENDERBUFFER,W),B.depthBuffer){const xe=B.depthTexture,Te=xe&&xe.isDepthTexture?xe.type:null,we=S(B.stencilBuffer,Te),Ke=B.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Xe=Ce(B);Ne(B)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Xe,we,B.width,B.height):re?t.renderbufferStorageMultisample(t.RENDERBUFFER,Xe,we,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,we,B.width,B.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,Ke,t.RENDERBUFFER,W)}else{const xe=B.textures;for(let Te=0;Te<xe.length;Te++){const we=xe[Te],Ke=s.convert(we.format,we.colorSpace),Xe=s.convert(we.type),dt=_(we.internalFormat,Ke,Xe,we.colorSpace),pt=Ce(B);re&&Ne(B)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,pt,dt,B.width,B.height):Ne(B)?o.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,pt,dt,B.width,B.height):t.renderbufferStorage(t.RENDERBUFFER,dt,B.width,B.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function _e(W,B){if(B&&B.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,W),!(B.depthTexture&&B.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");const xe=r.get(B.depthTexture);xe.__renderTarget=B,(!xe.__webglTexture||B.depthTexture.image.width!==B.width||B.depthTexture.image.height!==B.height)&&(B.depthTexture.image.width=B.width,B.depthTexture.image.height=B.height,B.depthTexture.needsUpdate=!0),V(B.depthTexture,0);const Te=xe.__webglTexture,we=Ce(B);if(B.depthTexture.format===Yp)Ne(B)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Te,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Te,0);else if(B.depthTexture.format===o0)Ne(B)?o.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Te,0,we):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Te,0);else throw new Error("Unknown depthTexture format")}function ye(W){const B=r.get(W),re=W.isWebGLCubeRenderTarget===!0;if(B.__boundDepthTexture!==W.depthTexture){const xe=W.depthTexture;if(B.__depthDisposeCallback&&B.__depthDisposeCallback(),xe){const Te=()=>{delete B.__boundDepthTexture,delete B.__depthDisposeCallback,xe.removeEventListener("dispose",Te)};xe.addEventListener("dispose",Te),B.__depthDisposeCallback=Te}B.__boundDepthTexture=xe}if(W.depthTexture&&!B.__autoAllocateDepthBuffer){if(re)throw new Error("target.depthTexture not supported in Cube render targets");const xe=W.texture.mipmaps;xe&&xe.length>0?_e(B.__webglFramebuffer[0],W):_e(B.__webglFramebuffer,W)}else if(re){B.__webglDepthbuffer=[];for(let xe=0;xe<6;xe++)if(n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer[xe]),B.__webglDepthbuffer[xe]===void 0)B.__webglDepthbuffer[xe]=t.createRenderbuffer(),ge(B.__webglDepthbuffer[xe],W,!1);else{const Te=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=B.__webglDepthbuffer[xe];t.bindRenderbuffer(t.RENDERBUFFER,we),t.framebufferRenderbuffer(t.FRAMEBUFFER,Te,t.RENDERBUFFER,we)}}else{const xe=W.texture.mipmaps;if(xe&&xe.length>0?n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer[0]):n.bindFramebuffer(t.FRAMEBUFFER,B.__webglFramebuffer),B.__webglDepthbuffer===void 0)B.__webglDepthbuffer=t.createRenderbuffer(),ge(B.__webglDepthbuffer,W,!1);else{const Te=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,we=B.__webglDepthbuffer;t.bindRenderbuffer(t.RENDERBUFFER,we),t.framebufferRenderbuffer(t.FRAMEBUFFER,Te,t.RENDERBUFFER,we)}}n.bindFramebuffer(t.FRAMEBUFFER,null)}function ce(W,B,re){const xe=r.get(W);B!==void 0&&ve(xe.__webglFramebuffer,W,W.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),re!==void 0&&ye(W)}function De(W){const B=W.texture,re=r.get(W),xe=r.get(B);W.addEventListener("dispose",M);const Te=W.textures,we=W.isWebGLCubeRenderTarget===!0,Ke=Te.length>1;if(Ke||(xe.__webglTexture===void 0&&(xe.__webglTexture=t.createTexture()),xe.__version=B.version,a.memory.textures++),we){re.__webglFramebuffer=[];for(let Xe=0;Xe<6;Xe++)if(B.mipmaps&&B.mipmaps.length>0){re.__webglFramebuffer[Xe]=[];for(let dt=0;dt<B.mipmaps.length;dt++)re.__webglFramebuffer[Xe][dt]=t.createFramebuffer()}else re.__webglFramebuffer[Xe]=t.createFramebuffer()}else{if(B.mipmaps&&B.mipmaps.length>0){re.__webglFramebuffer=[];for(let Xe=0;Xe<B.mipmaps.length;Xe++)re.__webglFramebuffer[Xe]=t.createFramebuffer()}else re.__webglFramebuffer=t.createFramebuffer();if(Ke)for(let Xe=0,dt=Te.length;Xe<dt;Xe++){const pt=r.get(Te[Xe]);pt.__webglTexture===void 0&&(pt.__webglTexture=t.createTexture(),a.memory.textures++)}if(W.samples>0&&Ne(W)===!1){re.__webglMultisampledFramebuffer=t.createFramebuffer(),re.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,re.__webglMultisampledFramebuffer);for(let Xe=0;Xe<Te.length;Xe++){const dt=Te[Xe];re.__webglColorRenderbuffer[Xe]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,re.__webglColorRenderbuffer[Xe]);const pt=s.convert(dt.format,dt.colorSpace),Le=s.convert(dt.type),Be=_(dt.internalFormat,pt,Le,dt.colorSpace,W.isXRRenderTarget===!0),nt=Ce(W);t.renderbufferStorageMultisample(t.RENDERBUFFER,nt,Be,W.width,W.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Xe,t.RENDERBUFFER,re.__webglColorRenderbuffer[Xe])}t.bindRenderbuffer(t.RENDERBUFFER,null),W.depthBuffer&&(re.__webglDepthRenderbuffer=t.createRenderbuffer(),ge(re.__webglDepthRenderbuffer,W,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(we){n.bindTexture(t.TEXTURE_CUBE_MAP,xe.__webglTexture),X(t.TEXTURE_CUBE_MAP,B);for(let Xe=0;Xe<6;Xe++)if(B.mipmaps&&B.mipmaps.length>0)for(let dt=0;dt<B.mipmaps.length;dt++)ve(re.__webglFramebuffer[Xe][dt],W,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,dt);else ve(re.__webglFramebuffer[Xe],W,B,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Xe,0);v(B)&&y(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ke){for(let Xe=0,dt=Te.length;Xe<dt;Xe++){const pt=Te[Xe],Le=r.get(pt);let Be=t.TEXTURE_2D;(W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Be=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Be,Le.__webglTexture),X(Be,pt),ve(re.__webglFramebuffer,W,pt,t.COLOR_ATTACHMENT0+Xe,Be,0),v(pt)&&y(Be)}n.unbindTexture()}else{let Xe=t.TEXTURE_2D;if((W.isWebGL3DRenderTarget||W.isWebGLArrayRenderTarget)&&(Xe=W.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY),n.bindTexture(Xe,xe.__webglTexture),X(Xe,B),B.mipmaps&&B.mipmaps.length>0)for(let dt=0;dt<B.mipmaps.length;dt++)ve(re.__webglFramebuffer[dt],W,B,t.COLOR_ATTACHMENT0,Xe,dt);else ve(re.__webglFramebuffer,W,B,t.COLOR_ATTACHMENT0,Xe,0);v(B)&&y(Xe),n.unbindTexture()}W.depthBuffer&&ye(W)}function Ee(W){const B=W.textures;for(let re=0,xe=B.length;re<xe;re++){const Te=B[re];if(v(Te)){const we=w(W),Ke=r.get(Te).__webglTexture;n.bindTexture(we,Ke),y(we),n.unbindTexture()}}}const Z=[],Me=[];function Oe(W){if(W.samples>0){if(Ne(W)===!1){const B=W.textures,re=W.width,xe=W.height;let Te=t.COLOR_BUFFER_BIT;const we=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ke=r.get(W),Xe=B.length>1;if(Xe)for(let pt=0;pt<B.length;pt++)n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pt,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+pt,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer);const dt=W.texture.mipmaps;dt&&dt.length>0?n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer[0]):n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglFramebuffer);for(let pt=0;pt<B.length;pt++){if(W.resolveDepthBuffer&&(W.depthBuffer&&(Te|=t.DEPTH_BUFFER_BIT),W.stencilBuffer&&W.resolveStencilBuffer&&(Te|=t.STENCIL_BUFFER_BIT)),Xe){t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[pt]);const Le=r.get(B[pt]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Le,0)}t.blitFramebuffer(0,0,re,xe,0,0,re,xe,Te,t.NEAREST),l===!0&&(Z.length=0,Me.length=0,Z.push(t.COLOR_ATTACHMENT0+pt),W.depthBuffer&&W.resolveDepthBuffer===!1&&(Z.push(we),Me.push(we),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,Me)),t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Z))}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Xe)for(let pt=0;pt<B.length;pt++){n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+pt,t.RENDERBUFFER,Ke.__webglColorRenderbuffer[pt]);const Le=r.get(B[pt]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ke.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+pt,t.TEXTURE_2D,Le,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ke.__webglMultisampledFramebuffer)}else if(W.depthBuffer&&W.resolveDepthBuffer===!1&&l){const B=W.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT;t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[B])}}}function Ce(W){return Math.min(i.maxSamples,W.samples)}function Ne(W){const B=r.get(W);return W.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&B.__useRenderToTexture!==!1}function ee(W){const B=a.render.frame;u.get(W)!==B&&(u.set(W,B),W.update())}function te(W,B){const re=W.colorSpace,xe=W.format,Te=W.type;return W.isCompressedTexture===!0||W.isVideoTexture===!0||re!==es&&re!==yu&&(Kn.getTransfer(re)===pr?(xe!==Si||Te!==ba)&&Pt("WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):hn("WebGLTextures: Unsupported texture color space:",re)),B}function me(W){return typeof HTMLImageElement<"u"&&W instanceof HTMLImageElement?(c.width=W.naturalWidth||W.width,c.height=W.naturalHeight||W.height):typeof VideoFrame<"u"&&W instanceof VideoFrame?(c.width=W.displayWidth,c.height=W.displayHeight):(c.width=W.width,c.height=W.height),c}this.allocateTextureUnit=F,this.resetTextureUnits=I,this.setTexture2D=V,this.setTexture2DArray=z,this.setTexture3D=K,this.setTextureCube=j,this.rebindTextures=ce,this.setupRenderTarget=De,this.updateRenderTargetMipmap=Ee,this.updateMultisampleRenderTarget=Oe,this.setupDepthRenderbuffer=ye,this.setupFrameBufferTexture=ve,this.useMultisampledRTT=Ne}function Vle(t,e){function n(r,i=yu){let s;const a=Kn.getTransfer(i);if(r===ba)return t.UNSIGNED_BYTE;if(r===OP)return t.UNSIGNED_SHORT_4_4_4_4;if(r===NP)return t.UNSIGNED_SHORT_5_5_5_1;if(r===IB)return t.UNSIGNED_INT_5_9_9_9_REV;if(r===kB)return t.UNSIGNED_INT_10F_11F_11F_REV;if(r===PP)return t.BYTE;if(r===RP)return t.SHORT;if(r===Kp)return t.UNSIGNED_SHORT;if(r===e_)return t.INT;if(r===Fc)return t.UNSIGNED_INT;if(r===ti)return t.FLOAT;if(r===hi)return t.HALF_FLOAT;if(r===DB)return t.ALPHA;if(r===LB)return t.RGB;if(r===Si)return t.RGBA;if(r===Yp)return t.DEPTH_COMPONENT;if(r===o0)return t.DEPTH_STENCIL;if(r===t_)return t.RED;if(r===n_)return t.RED_INTEGER;if(r===IP)return t.RG;if(r===kP)return t.RG_INTEGER;if(r===DP)return t.RGBA_INTEGER;if(r===Ib||r===kb||r===Db||r===Lb)if(a===pr)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(r===Ib)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(r===kb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(r===Db)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(r===Lb)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(r===Ib)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(r===kb)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(r===Db)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(r===Lb)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(r===PM||r===RM||r===OM||r===NM)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(r===PM)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(r===RM)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(r===OM)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(r===NM)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(r===IM||r===kM||r===DM)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(r===IM||r===kM)return a===pr?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(r===DM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(r===LM||r===jM||r===FM||r===UM||r===BM||r===zM||r===VM||r===$M||r===HM||r===GM||r===WM||r===XM||r===qM||r===KM)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(r===LM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(r===jM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(r===FM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(r===UM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(r===BM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(r===zM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(r===VM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(r===$M)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(r===HM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(r===GM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(r===WM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(r===XM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(r===qM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(r===KM)return a===pr?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(r===YM||r===ZM||r===JM)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(r===YM)return a===pr?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(r===ZM)return s.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(r===JM)return s.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(r===QM||r===e2||r===t2||r===n2)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(r===QM)return s.COMPRESSED_RED_RGTC1_EXT;if(r===e2)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(r===t2)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(r===n2)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return r===a0?t.UNSIGNED_INT_24_8:t[r]!==void 0?t[r]:null}return{convert:n}}const K4e=`
void main() {

	gl_Position = vec4( position, 1.0 );

}`,Y4e=`
uniform sampler2DArray depthColor;
uniform float depthWidth;
uniform float depthHeight;

void main() {

	vec2 coord = vec2( gl_FragCoord.x / depthWidth, gl_FragCoord.y / depthHeight );

	if ( coord.x >= 1.0 ) {

		gl_FragDepth = texture( depthColor, vec3( coord.x - 1.0, coord.y, 1 ) ).r;

	} else {

		gl_FragDepth = texture( depthColor, vec3( coord.x, coord.y, 0 ) ).r;

	}

}`;class Z4e{constructor(){this.texture=null,this.mesh=null,this.depthNear=0,this.depthFar=0}init(e,n){if(this.texture===null){const r=new QB(e.texture);(e.depthNear!==n.depthNear||e.depthFar!==n.depthFar)&&(this.depthNear=e.depthNear,this.depthFar=e.depthFar),this.texture=r}}getMesh(e){if(this.texture!==null&&this.mesh===null){const n=e.cameras[0].viewport,r=new Vi({vertexShader:K4e,fragmentShader:Y4e,uniforms:{depthColor:{value:this.texture},depthWidth:{value:n.z},depthHeight:{value:n.w}}});this.mesh=new Wn(new Mo(20,20),r)}return this.mesh}reset(){this.texture=null,this.mesh=null}getDepthTexture(){return this.texture}}class J4e extends $c{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,d=null,f=null,h=null,m=null;const g=typeof XRWebGLBinding<"u",v=new Z4e,y={},w=n.getContextAttributes();let _=null,S=null;const E=[],A=[],M=new Ve;let R=null;const P=new Ur;P.viewport=new Ln;const O=new Ur;O.viewport=new Ln;const k=[P,O],I=new Ole;let F=null,L=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(ae){let ne=E[ae];return ne===void 0&&(ne=new sA,E[ae]=ne),ne.getTargetRaySpace()},this.getControllerGrip=function(ae){let ne=E[ae];return ne===void 0&&(ne=new sA,E[ae]=ne),ne.getGripSpace()},this.getHand=function(ae){let ne=E[ae];return ne===void 0&&(ne=new sA,E[ae]=ne),ne.getHandSpace()};function V(ae){const ne=A.indexOf(ae.inputSource);if(ne===-1)return;const ve=E[ne];ve!==void 0&&(ve.update(ae.inputSource,ae.frame,c||a),ve.dispatchEvent({type:ae.type,data:ae.inputSource}))}function z(){i.removeEventListener("select",V),i.removeEventListener("selectstart",V),i.removeEventListener("selectend",V),i.removeEventListener("squeeze",V),i.removeEventListener("squeezestart",V),i.removeEventListener("squeezeend",V),i.removeEventListener("end",z),i.removeEventListener("inputsourceschange",K);for(let ae=0;ae<E.length;ae++){const ne=A[ae];ne!==null&&(A[ae]=null,E[ae].disconnect(ne))}F=null,L=null,v.reset();for(const ae in y)delete y[ae];e.setRenderTarget(_),h=null,f=null,d=null,i=null,S=null,de.stop(),r.isPresenting=!1,e.setPixelRatio(R),e.setSize(M.width,M.height,!1),r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(ae){s=ae,r.isPresenting===!0&&Pt("WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(ae){o=ae,r.isPresenting===!0&&Pt("WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(ae){c=ae},this.getBaseLayer=function(){return f!==null?f:h},this.getBinding=function(){return d===null&&g&&(d=new XRWebGLBinding(i,n)),d},this.getFrame=function(){return m},this.getSession=function(){return i},this.setSession=async function(ae){if(i=ae,i!==null){if(_=e.getRenderTarget(),i.addEventListener("select",V),i.addEventListener("selectstart",V),i.addEventListener("selectend",V),i.addEventListener("squeeze",V),i.addEventListener("squeezestart",V),i.addEventListener("squeezeend",V),i.addEventListener("end",z),i.addEventListener("inputsourceschange",K),w.xrCompatible!==!0&&await n.makeXRCompatible(),R=e.getPixelRatio(),e.getSize(M),g&&"createProjectionLayer"in XRWebGLBinding.prototype){let ve=null,ge=null,_e=null;w.depth&&(_e=w.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,ve=w.stencil?o0:Yp,ge=w.stencil?a0:Fc);const ye={colorFormat:n.RGBA8,depthFormat:_e,scaleFactor:s};d=this.getBinding(),f=d.createProjectionLayer(ye),i.updateRenderState({layers:[f]}),e.setPixelRatio(1),e.setSize(f.textureWidth,f.textureHeight,!1),S=new mi(f.textureWidth,f.textureHeight,{format:Si,type:ba,depthTexture:new a_(f.textureWidth,f.textureHeight,ge,void 0,void 0,void 0,void 0,void 0,void 0,ve),stencilBuffer:w.stencil,colorSpace:e.outputColorSpace,samples:w.antialias?4:0,resolveDepthBuffer:f.ignoreDepthValues===!1,resolveStencilBuffer:f.ignoreDepthValues===!1})}else{const ve={antialias:w.antialias,alpha:!0,depth:w.depth,stencil:w.stencil,framebufferScaleFactor:s};h=new XRWebGLLayer(i,n,ve),i.updateRenderState({baseLayer:h}),e.setPixelRatio(1),e.setSize(h.framebufferWidth,h.framebufferHeight,!1),S=new mi(h.framebufferWidth,h.framebufferHeight,{format:Si,type:ba,colorSpace:e.outputColorSpace,stencilBuffer:w.stencil,resolveDepthBuffer:h.ignoreDepthValues===!1,resolveStencilBuffer:h.ignoreDepthValues===!1})}S.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),de.setContext(i),de.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode},this.getDepthTexture=function(){return v.getDepthTexture()};function K(ae){for(let ne=0;ne<ae.removed.length;ne++){const ve=ae.removed[ne],ge=A.indexOf(ve);ge>=0&&(A[ge]=null,E[ge].disconnect(ve))}for(let ne=0;ne<ae.added.length;ne++){const ve=ae.added[ne];let ge=A.indexOf(ve);if(ge===-1){for(let ye=0;ye<E.length;ye++)if(ye>=A.length){A.push(ve),ge=ye;break}else if(A[ye]===null){A[ye]=ve,ge=ye;break}if(ge===-1)break}const _e=E[ge];_e&&_e.connect(ve)}}const j=new J,U=new J;function $(ae,ne,ve){j.setFromMatrixPosition(ne.matrixWorld),U.setFromMatrixPosition(ve.matrixWorld);const ge=j.distanceTo(U),_e=ne.projectionMatrix.elements,ye=ve.projectionMatrix.elements,ce=_e[14]/(_e[10]-1),De=_e[14]/(_e[10]+1),Ee=(_e[9]+1)/_e[5],Z=(_e[9]-1)/_e[5],Me=(_e[8]-1)/_e[0],Oe=(ye[8]+1)/ye[0],Ce=ce*Me,Ne=ce*Oe,ee=ge/(-Me+Oe),te=ee*-Me;if(ne.matrixWorld.decompose(ae.position,ae.quaternion,ae.scale),ae.translateX(te),ae.translateZ(ee),ae.matrixWorld.compose(ae.position,ae.quaternion,ae.scale),ae.matrixWorldInverse.copy(ae.matrixWorld).invert(),_e[10]===-1)ae.projectionMatrix.copy(ne.projectionMatrix),ae.projectionMatrixInverse.copy(ne.projectionMatrixInverse);else{const me=ce+ee,W=De+ee,B=Ce-te,re=Ne+(ge-te),xe=Ee*De/W*me,Te=Z*De/W*me;ae.projectionMatrix.makePerspective(B,re,xe,Te,me,W),ae.projectionMatrixInverse.copy(ae.projectionMatrix).invert()}}function G(ae,ne){ne===null?ae.matrixWorld.copy(ae.matrix):ae.matrixWorld.multiplyMatrices(ne.matrixWorld,ae.matrix),ae.matrixWorldInverse.copy(ae.matrixWorld).invert()}this.updateCamera=function(ae){if(i===null)return;let ne=ae.near,ve=ae.far;v.texture!==null&&(v.depthNear>0&&(ne=v.depthNear),v.depthFar>0&&(ve=v.depthFar)),I.near=O.near=P.near=ne,I.far=O.far=P.far=ve,(F!==I.near||L!==I.far)&&(i.updateRenderState({depthNear:I.near,depthFar:I.far}),F=I.near,L=I.far),I.layers.mask=ae.layers.mask|6,P.layers.mask=I.layers.mask&3,O.layers.mask=I.layers.mask&5;const ge=ae.parent,_e=I.cameras;G(I,ge);for(let ye=0;ye<_e.length;ye++)G(_e[ye],ge);_e.length===2?$(I,P,O):I.projectionMatrix.copy(P.projectionMatrix),X(ae,I,ge)};function X(ae,ne,ve){ve===null?ae.matrix.copy(ne.matrixWorld):(ae.matrix.copy(ve.matrixWorld),ae.matrix.invert(),ae.matrix.multiply(ne.matrixWorld)),ae.matrix.decompose(ae.position,ae.quaternion,ae.scale),ae.updateMatrixWorld(!0),ae.projectionMatrix.copy(ne.projectionMatrix),ae.projectionMatrixInverse.copy(ne.projectionMatrixInverse),ae.isPerspectiveCamera&&(ae.fov=f0*2*Math.atan(1/ae.projectionMatrix.elements[5]),ae.zoom=1)}this.getCamera=function(){return I},this.getFoveation=function(){if(!(f===null&&h===null))return l},this.setFoveation=function(ae){l=ae,f!==null&&(f.fixedFoveation=ae),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=ae)},this.hasDepthSensing=function(){return v.texture!==null},this.getDepthSensingMesh=function(){return v.getMesh(I)},this.getCameraTexture=function(ae){return y[ae]};let Q=null;function oe(ae,ne){if(u=ne.getViewerPose(c||a),m=ne,u!==null){const ve=u.views;h!==null&&(e.setRenderTargetFramebuffer(S,h.framebuffer),e.setRenderTarget(S));let ge=!1;ve.length!==I.cameras.length&&(I.cameras.length=0,ge=!0);for(let De=0;De<ve.length;De++){const Ee=ve[De];let Z=null;if(h!==null)Z=h.getViewport(Ee);else{const Oe=d.getViewSubImage(f,Ee);Z=Oe.viewport,De===0&&(e.setRenderTargetTextures(S,Oe.colorTexture,Oe.depthStencilTexture),e.setRenderTarget(S))}let Me=k[De];Me===void 0&&(Me=new Ur,Me.layers.enable(De),Me.viewport=new Ln,k[De]=Me),Me.matrix.fromArray(Ee.transform.matrix),Me.matrix.decompose(Me.position,Me.quaternion,Me.scale),Me.projectionMatrix.fromArray(Ee.projectionMatrix),Me.projectionMatrixInverse.copy(Me.projectionMatrix).invert(),Me.viewport.set(Z.x,Z.y,Z.width,Z.height),De===0&&(I.matrix.copy(Me.matrix),I.matrix.decompose(I.position,I.quaternion,I.scale)),ge===!0&&I.cameras.push(Me)}const _e=i.enabledFeatures;if(_e&&_e.includes("depth-sensing")&&i.depthUsage=="gpu-optimized"&&g){d=r.getBinding();const De=d.getDepthInformation(ve[0]);De&&De.isValid&&De.texture&&v.init(De,i.renderState)}if(_e&&_e.includes("camera-access")&&g){e.state.unbindTexture(),d=r.getBinding();for(let De=0;De<ve.length;De++){const Ee=ve[De].camera;if(Ee){let Z=y[Ee];Z||(Z=new QB,y[Ee]=Z);const Me=d.getCameraImage(Ee);Z.sourceTexture=Me}}}}for(let ve=0;ve<E.length;ve++){const ge=A[ve],_e=E[ve];ge!==null&&_e!==void 0&&_e.update(ge,ne,c||a)}Q&&Q(ae,ne),ne.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:ne}),m=null}const de=new jle;de.setAnimationLoop(oe),this.setAnimationLoop=function(ae){Q=ae},this.dispose=function(){}}}const Mh=new wa,Q4e=new It;function eBe(t,e){function n(v,y){v.matrixAutoUpdate===!0&&v.updateMatrix(),y.value.copy(v.matrix)}function r(v,y){y.color.getRGB(v.fogColor.value,Goe(t)),y.isFog?(v.fogNear.value=y.near,v.fogFar.value=y.far):y.isFogExp2&&(v.fogDensity.value=y.density)}function i(v,y,w,_,S){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(v,y):y.isMeshToonMaterial?(s(v,y),d(v,y)):y.isMeshPhongMaterial?(s(v,y),u(v,y)):y.isMeshStandardMaterial?(s(v,y),f(v,y),y.isMeshPhysicalMaterial&&h(v,y,S)):y.isMeshMatcapMaterial?(s(v,y),m(v,y)):y.isMeshDepthMaterial?s(v,y):y.isMeshDistanceMaterial?(s(v,y),g(v,y)):y.isMeshNormalMaterial?s(v,y):y.isLineBasicMaterial?(a(v,y),y.isLineDashedMaterial&&o(v,y)):y.isPointsMaterial?l(v,y,w,_):y.isSpriteMaterial?c(v,y):y.isShadowMaterial?(v.color.value.copy(y.color),v.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(v,y){v.opacity.value=y.opacity,y.color&&v.diffuse.value.copy(y.color),y.emissive&&v.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.bumpMap&&(v.bumpMap.value=y.bumpMap,n(y.bumpMap,v.bumpMapTransform),v.bumpScale.value=y.bumpScale,y.side===Gs&&(v.bumpScale.value*=-1)),y.normalMap&&(v.normalMap.value=y.normalMap,n(y.normalMap,v.normalMapTransform),v.normalScale.value.copy(y.normalScale),y.side===Gs&&v.normalScale.value.negate()),y.displacementMap&&(v.displacementMap.value=y.displacementMap,n(y.displacementMap,v.displacementMapTransform),v.displacementScale.value=y.displacementScale,v.displacementBias.value=y.displacementBias),y.emissiveMap&&(v.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,v.emissiveMapTransform)),y.specularMap&&(v.specularMap.value=y.specularMap,n(y.specularMap,v.specularMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest);const w=e.get(y),_=w.envMap,S=w.envMapRotation;_&&(v.envMap.value=_,Mh.copy(S),Mh.x*=-1,Mh.y*=-1,Mh.z*=-1,_.isCubeTexture&&_.isRenderTargetTexture===!1&&(Mh.y*=-1,Mh.z*=-1),v.envMapRotation.value.setFromMatrix4(Q4e.makeRotationFromEuler(Mh)),v.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,v.reflectivity.value=y.reflectivity,v.ior.value=y.ior,v.refractionRatio.value=y.refractionRatio),y.lightMap&&(v.lightMap.value=y.lightMap,v.lightMapIntensity.value=y.lightMapIntensity,n(y.lightMap,v.lightMapTransform)),y.aoMap&&(v.aoMap.value=y.aoMap,v.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,v.aoMapTransform))}function a(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform))}function o(v,y){v.dashSize.value=y.dashSize,v.totalSize.value=y.dashSize+y.gapSize,v.scale.value=y.scale}function l(v,y,w,_){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.size.value=y.size*w,v.scale.value=_*.5,y.map&&(v.map.value=y.map,n(y.map,v.uvTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest)}function c(v,y){v.diffuse.value.copy(y.color),v.opacity.value=y.opacity,v.rotation.value=y.rotation,y.map&&(v.map.value=y.map,n(y.map,v.mapTransform)),y.alphaMap&&(v.alphaMap.value=y.alphaMap,n(y.alphaMap,v.alphaMapTransform)),y.alphaTest>0&&(v.alphaTest.value=y.alphaTest)}function u(v,y){v.specular.value.copy(y.specular),v.shininess.value=Math.max(y.shininess,1e-4)}function d(v,y){y.gradientMap&&(v.gradientMap.value=y.gradientMap)}function f(v,y){v.metalness.value=y.metalness,y.metalnessMap&&(v.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,v.metalnessMapTransform)),v.roughness.value=y.roughness,y.roughnessMap&&(v.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,v.roughnessMapTransform)),y.envMap&&(v.envMapIntensity.value=y.envMapIntensity)}function h(v,y,w){v.ior.value=y.ior,y.sheen>0&&(v.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),v.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(v.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,v.sheenColorMapTransform)),y.sheenRoughnessMap&&(v.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,v.sheenRoughnessMapTransform))),y.clearcoat>0&&(v.clearcoat.value=y.clearcoat,v.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(v.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,v.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(v.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,v.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(v.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,v.clearcoatNormalMapTransform),v.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===Gs&&v.clearcoatNormalScale.value.negate())),y.dispersion>0&&(v.dispersion.value=y.dispersion),y.iridescence>0&&(v.iridescence.value=y.iridescence,v.iridescenceIOR.value=y.iridescenceIOR,v.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],v.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(v.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,v.iridescenceMapTransform)),y.iridescenceThicknessMap&&(v.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,v.iridescenceThicknessMapTransform))),y.transmission>0&&(v.transmission.value=y.transmission,v.transmissionSamplerMap.value=w.texture,v.transmissionSamplerSize.value.set(w.width,w.height),y.transmissionMap&&(v.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,v.transmissionMapTransform)),v.thickness.value=y.thickness,y.thicknessMap&&(v.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,v.thicknessMapTransform)),v.attenuationDistance.value=y.attenuationDistance,v.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(v.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(v.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,v.anisotropyMapTransform))),v.specularIntensity.value=y.specularIntensity,v.specularColor.value.copy(y.specularColor),y.specularColorMap&&(v.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,v.specularColorMapTransform)),y.specularIntensityMap&&(v.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,v.specularIntensityMapTransform))}function m(v,y){y.matcap&&(v.matcap.value=y.matcap)}function g(v,y){const w=e.get(y).light;v.referencePosition.value.setFromMatrixPosition(w.matrixWorld),v.nearDistance.value=w.shadow.camera.near,v.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function tBe(t,e,n,r){let i={},s={},a=[];const o=t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS);function l(w,_){const S=_.program;r.uniformBlockBinding(w,S)}function c(w,_){let S=i[w.id];S===void 0&&(m(w),S=u(w),i[w.id]=S,w.addEventListener("dispose",v));const E=_.program;r.updateUBOMapping(w,E);const A=e.render.frame;s[w.id]!==A&&(f(w),s[w.id]=A)}function u(w){const _=d();w.__bindingPointIndex=_;const S=t.createBuffer(),E=w.__size,A=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,E,A),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function d(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return hn("WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function f(w){const _=i[w.id],S=w.uniforms,E=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let A=0,M=S.length;A<M;A++){const R=Array.isArray(S[A])?S[A]:[S[A]];for(let P=0,O=R.length;P<O;P++){const k=R[P];if(h(k,A,P,E)===!0){const I=k.__offset,F=Array.isArray(k.value)?k.value:[k.value];let L=0;for(let V=0;V<F.length;V++){const z=F[V],K=g(z);typeof z=="number"||typeof z=="boolean"?(k.__data[0]=z,t.bufferSubData(t.UNIFORM_BUFFER,I+L,k.__data)):z.isMatrix3?(k.__data[0]=z.elements[0],k.__data[1]=z.elements[1],k.__data[2]=z.elements[2],k.__data[3]=0,k.__data[4]=z.elements[3],k.__data[5]=z.elements[4],k.__data[6]=z.elements[5],k.__data[7]=0,k.__data[8]=z.elements[6],k.__data[9]=z.elements[7],k.__data[10]=z.elements[8],k.__data[11]=0):(z.toArray(k.__data,L),L+=K.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,I,k.__data)}}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(w,_,S,E){const A=w.value,M=_+"_"+S;if(E[M]===void 0)return typeof A=="number"||typeof A=="boolean"?E[M]=A:E[M]=A.clone(),!0;{const R=E[M];if(typeof A=="number"||typeof A=="boolean"){if(R!==A)return E[M]=A,!0}else if(R.equals(A)===!1)return R.copy(A),!0}return!1}function m(w){const _=w.uniforms;let S=0;const E=16;for(let M=0,R=_.length;M<R;M++){const P=Array.isArray(_[M])?_[M]:[_[M]];for(let O=0,k=P.length;O<k;O++){const I=P[O],F=Array.isArray(I.value)?I.value:[I.value];for(let L=0,V=F.length;L<V;L++){const z=F[L],K=g(z),j=S%E,U=j%K.boundary,$=j+U;S+=U,$!==0&&E-$<K.storage&&(S+=E-$),I.__data=new Float32Array(K.storage/Float32Array.BYTES_PER_ELEMENT),I.__offset=S,S+=K.storage}}}const A=S%E;return A>0&&(S+=E-A),w.__size=S,w.__cache={},this}function g(w){const _={boundary:0,storage:0};return typeof w=="number"||typeof w=="boolean"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?Pt("WebGLRenderer: Texture samplers can not be part of an uniforms group."):Pt("WebGLRenderer: Unsupported uniform value type.",w),_}function v(w){const _=w.target;_.removeEventListener("dispose",v);const S=a.indexOf(_.__bindingPointIndex);a.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function y(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},s={}}return{bind:l,update:c,dispose:y}}const nBe=new Uint16Array([11481,15204,11534,15171,11808,15015,12385,14843,12894,14716,13396,14600,13693,14483,13976,14366,14237,14171,14405,13961,14511,13770,14605,13598,14687,13444,14760,13305,14822,13066,14876,12857,14923,12675,14963,12517,14997,12379,15025,12230,15049,12023,15070,11843,15086,11687,15100,11551,15111,11433,15120,11330,15127,11217,15132,11060,15135,10922,15138,10801,15139,10695,15139,10600,13012,14923,13020,14917,13064,14886,13176,14800,13349,14666,13513,14526,13724,14398,13960,14230,14200,14020,14383,13827,14488,13651,14583,13491,14667,13348,14740,13132,14803,12908,14856,12713,14901,12542,14938,12394,14968,12241,14992,12017,15010,11822,15024,11654,15034,11507,15041,11380,15044,11269,15044,11081,15042,10913,15037,10764,15031,10635,15023,10520,15014,10419,15003,10330,13657,14676,13658,14673,13670,14660,13698,14622,13750,14547,13834,14442,13956,14317,14112,14093,14291,13889,14407,13704,14499,13538,14586,13389,14664,13201,14733,12966,14792,12758,14842,12577,14882,12418,14915,12272,14940,12033,14959,11826,14972,11646,14980,11490,14983,11355,14983,11212,14979,11008,14971,10830,14961,10675,14950,10540,14936,10420,14923,10315,14909,10204,14894,10041,14089,14460,14090,14459,14096,14452,14112,14431,14141,14388,14186,14305,14252,14130,14341,13941,14399,13756,14467,13585,14539,13430,14610,13272,14677,13026,14737,12808,14790,12617,14833,12449,14869,12303,14896,12065,14916,11845,14929,11655,14937,11490,14939,11347,14936,11184,14930,10970,14921,10783,14912,10621,14900,10480,14885,10356,14867,10247,14848,10062,14827,9894,14805,9745,14400,14208,14400,14206,14402,14198,14406,14174,14415,14122,14427,14035,14444,13913,14469,13767,14504,13613,14548,13463,14598,13324,14651,13082,14704,12858,14752,12658,14795,12483,14831,12330,14860,12106,14881,11875,14895,11675,14903,11501,14905,11351,14903,11178,14900,10953,14892,10757,14880,10589,14865,10442,14847,10313,14827,10162,14805,9965,14782,9792,14757,9642,14731,9507,14562,13883,14562,13883,14563,13877,14566,13862,14570,13830,14576,13773,14584,13689,14595,13582,14613,13461,14637,13336,14668,13120,14704,12897,14741,12695,14776,12516,14808,12358,14835,12150,14856,11910,14870,11701,14878,11519,14882,11361,14884,11187,14880,10951,14871,10748,14858,10572,14842,10418,14823,10286,14801,10099,14777,9897,14751,9722,14725,9567,14696,9430,14666,9309,14702,13604,14702,13604,14702,13600,14703,13591,14705,13570,14707,13533,14709,13477,14712,13400,14718,13305,14727,13106,14743,12907,14762,12716,14784,12539,14807,12380,14827,12190,14844,11943,14855,11727,14863,11539,14870,11376,14871,11204,14868,10960,14858,10748,14845,10565,14829,10406,14809,10269,14786,10058,14761,9852,14734,9671,14705,9512,14674,9374,14641,9253,14608,9076,14821,13366,14821,13365,14821,13364,14821,13358,14821,13344,14821,13320,14819,13252,14817,13145,14815,13011,14814,12858,14817,12698,14823,12539,14832,12389,14841,12214,14850,11968,14856,11750,14861,11558,14866,11390,14867,11226,14862,10972,14853,10754,14840,10565,14823,10401,14803,10259,14780,10032,14754,9820,14725,9635,14694,9473,14661,9333,14627,9203,14593,8988,14557,8798,14923,13014,14922,13014,14922,13012,14922,13004,14920,12987,14919,12957,14915,12907,14909,12834,14902,12738,14894,12623,14888,12498,14883,12370,14880,12203,14878,11970,14875,11759,14873,11569,14874,11401,14872,11243,14865,10986,14855,10762,14842,10568,14825,10401,14804,10255,14781,10017,14754,9799,14725,9611,14692,9445,14658,9301,14623,9139,14587,8920,14548,8729,14509,8562,15008,12672,15008,12672,15008,12671,15007,12667,15005,12656,15001,12637,14997,12605,14989,12556,14978,12490,14966,12407,14953,12313,14940,12136,14927,11934,14914,11742,14903,11563,14896,11401,14889,11247,14879,10992,14866,10767,14851,10570,14833,10400,14812,10252,14789,10007,14761,9784,14731,9592,14698,9424,14663,9279,14627,9088,14588,8868,14548,8676,14508,8508,14467,8360,15080,12386,15080,12386,15079,12385,15078,12383,15076,12378,15072,12367,15066,12347,15057,12315,15045,12253,15030,12138,15012,11998,14993,11845,14972,11685,14951,11530,14935,11383,14920,11228,14904,10981,14887,10762,14870,10567,14850,10397,14827,10248,14803,9997,14774,9771,14743,9578,14710,9407,14674,9259,14637,9048,14596,8826,14555,8632,14514,8464,14471,8317,14427,8182,15139,12008,15139,12008,15138,12008,15137,12007,15135,12003,15130,11990,15124,11969,15115,11929,15102,11872,15086,11794,15064,11693,15041,11581,15013,11459,14987,11336,14966,11170,14944,10944,14921,10738,14898,10552,14875,10387,14850,10239,14824,9983,14794,9758,14762,9563,14728,9392,14692,9244,14653,9014,14611,8791,14569,8597,14526,8427,14481,8281,14436,8110,14391,7885,15188,11617,15188,11617,15187,11617,15186,11618,15183,11617,15179,11612,15173,11601,15163,11581,15150,11546,15133,11495,15110,11427,15083,11346,15051,11246,15024,11057,14996,10868,14967,10687,14938,10517,14911,10362,14882,10206,14853,9956,14821,9737,14787,9543,14752,9375,14715,9228,14675,8980,14632,8760,14589,8565,14544,8395,14498,8248,14451,8049,14404,7824,14357,7630,15228,11298,15228,11298,15227,11299,15226,11301,15223,11303,15219,11302,15213,11299,15204,11290,15191,11271,15174,11217,15150,11129,15119,11015,15087,10886,15057,10744,15024,10599,14990,10455,14957,10318,14924,10143,14891,9911,14856,9701,14820,9516,14782,9352,14744,9200,14703,8946,14659,8725,14615,8533,14568,8366,14521,8220,14472,7992,14423,7770,14374,7578,14315,7408,15260,10819,15260,10819,15259,10822,15258,10826,15256,10832,15251,10836,15246,10841,15237,10838,15225,10821,15207,10788,15183,10734,15151,10660,15120,10571,15087,10469,15049,10359,15012,10249,14974,10041,14937,9837,14900,9647,14860,9475,14820,9320,14779,9147,14736,8902,14691,8688,14646,8499,14598,8335,14549,8189,14499,7940,14448,7720,14397,7529,14347,7363,14256,7218,15285,10410,15285,10411,15285,10413,15284,10418,15282,10425,15278,10434,15272,10442,15264,10449,15252,10445,15235,10433,15210,10403,15179,10358,15149,10301,15113,10218,15073,10059,15033,9894,14991,9726,14951,9565,14909,9413,14865,9273,14822,9073,14777,8845,14730,8641,14682,8459,14633,8300,14583,8129,14531,7883,14479,7670,14426,7482,14373,7321,14305,7176,14201,6939,15305,9939,15305,9940,15305,9945,15304,9955,15302,9967,15298,9989,15293,10010,15286,10033,15274,10044,15258,10045,15233,10022,15205,9975,15174,9903,15136,9808,15095,9697,15053,9578,15009,9451,14965,9327,14918,9198,14871,8973,14825,8766,14775,8579,14725,8408,14675,8259,14622,8058,14569,7821,14515,7615,14460,7435,14405,7276,14350,7108,14256,6866,14149,6653,15321,9444,15321,9445,15321,9448,15320,9458,15317,9470,15314,9490,15310,9515,15302,9540,15292,9562,15276,9579,15251,9577,15226,9559,15195,9519,15156,9463,15116,9389,15071,9304,15025,9208,14978,9023,14927,8838,14878,8661,14827,8496,14774,8344,14722,8206,14667,7973,14612,7749,14556,7555,14499,7382,14443,7229,14385,7025,14322,6791,14210,6588,14100,6409,15333,8920,15333,8921,15332,8927,15332,8943,15329,8965,15326,9002,15322,9048,15316,9106,15307,9162,15291,9204,15267,9221,15244,9221,15212,9196,15175,9134,15133,9043,15088,8930,15040,8801,14990,8665,14938,8526,14886,8391,14830,8261,14775,8087,14719,7866,14661,7664,14603,7482,14544,7322,14485,7178,14426,6936,14367,6713,14281,6517,14166,6348,14054,6198,15341,8360,15341,8361,15341,8366,15341,8379,15339,8399,15336,8431,15332,8473,15326,8527,15318,8585,15302,8632,15281,8670,15258,8690,15227,8690,15191,8664,15149,8612,15104,8543,15055,8456,15001,8360,14948,8259,14892,8122,14834,7923,14776,7734,14716,7558,14656,7397,14595,7250,14534,7070,14472,6835,14410,6628,14350,6443,14243,6283,14125,6135,14010,5889,15348,7715,15348,7717,15348,7725,15347,7745,15345,7780,15343,7836,15339,7905,15334,8e3,15326,8103,15310,8193,15293,8239,15270,8270,15240,8287,15204,8283,15163,8260,15118,8223,15067,8143,15014,8014,14958,7873,14899,7723,14839,7573,14778,7430,14715,7293,14652,7164,14588,6931,14524,6720,14460,6531,14396,6362,14330,6210,14207,6015,14086,5781,13969,5576,15352,7114,15352,7116,15352,7128,15352,7159,15350,7195,15348,7237,15345,7299,15340,7374,15332,7457,15317,7544,15301,7633,15280,7703,15251,7754,15216,7775,15176,7767,15131,7733,15079,7670,15026,7588,14967,7492,14906,7387,14844,7278,14779,7171,14714,6965,14648,6770,14581,6587,14515,6420,14448,6269,14382,6123,14299,5881,14172,5665,14049,5477,13929,5310,15355,6329,15355,6330,15355,6339,15355,6362,15353,6410,15351,6472,15349,6572,15344,6688,15337,6835,15323,6985,15309,7142,15287,7220,15260,7277,15226,7310,15188,7326,15142,7318,15090,7285,15036,7239,14976,7177,14914,7045,14849,6892,14782,6736,14714,6581,14645,6433,14576,6293,14506,6164,14438,5946,14369,5733,14270,5540,14140,5369,14014,5216,13892,5043,15357,5483,15357,5484,15357,5496,15357,5528,15356,5597,15354,5692,15351,5835,15347,6011,15339,6195,15328,6317,15314,6446,15293,6566,15268,6668,15235,6746,15197,6796,15152,6811,15101,6790,15046,6748,14985,6673,14921,6583,14854,6479,14785,6371,14714,6259,14643,6149,14571,5946,14499,5750,14428,5567,14358,5401,14242,5250,14109,5111,13980,4870,13856,4657,15359,4555,15359,4557,15358,4573,15358,4633,15357,4715,15355,4841,15353,5061,15349,5216,15342,5391,15331,5577,15318,5770,15299,5967,15274,6150,15243,6223,15206,6280,15161,6310,15111,6317,15055,6300,14994,6262,14928,6208,14860,6141,14788,5994,14715,5838,14641,5684,14566,5529,14492,5384,14418,5247,14346,5121,14216,4892,14079,4682,13948,4496,13822,4330,15359,3498,15359,3501,15359,3520,15359,3598,15358,3719,15356,3860,15355,4137,15351,4305,15344,4563,15334,4809,15321,5116,15303,5273,15280,5418,15250,5547,15214,5653,15170,5722,15120,5761,15064,5763,15002,5733,14935,5673,14865,5597,14792,5504,14716,5400,14640,5294,14563,5185,14486,5041,14410,4841,14335,4655,14191,4482,14051,4325,13918,4183,13790,4012,15360,2282,15360,2285,15360,2306,15360,2401,15359,2547,15357,2748,15355,3103,15352,3349,15345,3675,15336,4020,15324,4272,15307,4496,15285,4716,15255,4908,15220,5086,15178,5170,15128,5214,15072,5234,15010,5231,14943,5206,14871,5166,14796,5102,14718,4971,14639,4833,14559,4687,14480,4541,14402,4401,14315,4268,14167,4142,14025,3958,13888,3747,13759,3556,15360,923,15360,925,15360,946,15360,1052,15359,1214,15357,1494,15356,1892,15352,2274,15346,2663,15338,3099,15326,3393,15309,3679,15288,3980,15260,4183,15226,4325,15185,4437,15136,4517,15080,4570,15018,4591,14950,4581,14877,4545,14800,4485,14720,4411,14638,4325,14556,4231,14475,4136,14395,3988,14297,3803,14145,3628,13999,3465,13861,3314,13729,3177,15360,263,15360,264,15360,272,15360,325,15359,407,15358,548,15356,780,15352,1144,15347,1580,15339,2099,15328,2425,15312,2795,15292,3133,15264,3329,15232,3517,15191,3689,15143,3819,15088,3923,15025,3978,14956,3999,14882,3979,14804,3931,14722,3855,14639,3756,14554,3645,14470,3529,14388,3409,14279,3289,14124,3173,13975,3055,13834,2848,13701,2658,15360,49,15360,49,15360,52,15360,75,15359,111,15358,201,15356,283,15353,519,15348,726,15340,1045,15329,1415,15314,1795,15295,2173,15269,2410,15237,2649,15197,2866,15150,3054,15095,3140,15032,3196,14963,3228,14888,3236,14808,3224,14725,3191,14639,3146,14553,3088,14466,2976,14382,2836,14262,2692,14103,2549,13952,2409,13808,2278,13674,2154,15360,4,15360,4,15360,4,15360,13,15359,33,15358,59,15357,112,15353,199,15348,302,15341,456,15331,628,15316,827,15297,1082,15272,1332,15241,1601,15202,1851,15156,2069,15101,2172,15039,2256,14970,2314,14894,2348,14813,2358,14728,2344,14640,2311,14551,2263,14463,2203,14376,2133,14247,2059,14084,1915,13930,1761,13784,1609,13648,1464,15360,0,15360,0,15360,0,15360,3,15359,18,15358,26,15357,53,15354,80,15348,97,15341,165,15332,238,15318,326,15299,427,15275,529,15245,654,15207,771,15161,885,15108,994,15046,1089,14976,1170,14900,1229,14817,1266,14731,1284,14641,1282,14550,1260,14460,1223,14370,1174,14232,1116,14066,1050,13909,981,13761,910,13623,839]);let lu=null;function rBe(){return lu===null&&(lu=new nl(nBe,32,32,IP,hi),lu.minFilter=Nn,lu.magFilter=Nn,lu.wrapS=ei,lu.wrapT=ei,lu.generateMipmaps=!1,lu.needsUpdate=!0),lu}class b5{constructor(e={}){const{canvas:n=Voe(),context:r=null,depth:i=!0,stencil:s=!1,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:d=!1,reversedDepthBuffer:f=!1}=e;this.isWebGLRenderer=!0;let h;if(r!==null){if(typeof WebGLRenderingContext<"u"&&r instanceof WebGLRenderingContext)throw new Error("THREE.WebGLRenderer: WebGL 1 is not supported since r163.");h=r.getContextAttributes().alpha}else h=a;const m=new Set([DP,kP,n_]),g=new Set([ba,Fc,Kp,a0,OP,NP]),v=new Uint32Array(4),y=new Int32Array(4);let w=null,_=null;const S=[],E=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.toneMapping=Oc,this.toneMappingExposure=1,this.transmissionResolutionScale=1;const A=this;let M=!1;this._outputColorSpace=wi;let R=0,P=0,O=null,k=-1,I=null;const F=new Ln,L=new Ln;let V=null;const z=new Et(0);let K=0,j=n.width,U=n.height,$=1,G=null,X=null;const Q=new Ln(0,0,j,U),oe=new Ln(0,0,j,U);let de=!1;const ae=new fy;let ne=!1,ve=!1;const ge=new It,_e=new J,ye=new Ln,ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};let De=!1;function Ee(){return O===null?$:1}let Z=r;function Me(Y,pe){return n.getContext(Y,pe)}try{const Y={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:d};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${vm}`),n.addEventListener("webglcontextlost",qe,!1),n.addEventListener("webglcontextrestored",je,!1),n.addEventListener("webglcontextcreationerror",$e,!1),Z===null){const pe="webgl2";if(Z=Me(pe,Y),Z===null)throw Me(pe)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}}catch(Y){throw Y("WebGLRenderer: "+Y.message),Y}let Oe,Ce,Ne,ee,te,me,W,B,re,xe,Te,we,Ke,Xe,dt,pt,Le,Be,nt,he,Pe,Ye,ue,Ae;function Ze(){Oe=new hUe(Z),Oe.init(),Ye=new Vle(Z,Oe),Ce=new iUe(Z,Oe,e,Ye),Ne=new X4e(Z,Oe),Ce.reversedDepthBuffer&&f&&Ne.buffers.depth.setReversed(!0),ee=new gUe(Z),te=new k4e,me=new q4e(Z,Oe,Ne,te,Ce,Ye,ee),W=new aUe(A),B=new fUe(A),re=new bLe(Z),ue=new nUe(Z,re),xe=new pUe(Z,re,ee,ue),Te=new yUe(Z,xe,re,ee),nt=new vUe(Z,Ce,me),pt=new sUe(te),we=new I4e(A,W,B,Oe,Ce,ue,pt),Ke=new eBe(A,te),Xe=new L4e,dt=new V4e(Oe),Be=new tUe(A,W,B,Ne,Te,h,l),Le=new G4e(A,Te,Ce),Ae=new tBe(Z,ee,Ce,Ne),he=new rUe(Z,Oe,ee),Pe=new mUe(Z,Oe,ee),ee.programs=we.programs,A.capabilities=Ce,A.extensions=Oe,A.properties=te,A.renderLists=Xe,A.shadowMap=Le,A.state=Ne,A.info=ee}Ze();const at=new J4e(A,Z);this.xr=at,this.getContext=function(){return Z},this.getContextAttributes=function(){return Z.getContextAttributes()},this.forceContextLoss=function(){const Y=Oe.get("WEBGL_lose_context");Y&&Y.loseContext()},this.forceContextRestore=function(){const Y=Oe.get("WEBGL_lose_context");Y&&Y.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(Y){Y!==void 0&&($=Y,this.setSize(j,U,!1))},this.getSize=function(Y){return Y.set(j,U)},this.setSize=function(Y,pe,le=!0){if(at.isPresenting){Pt("WebGLRenderer: Can't change size while VR device is presenting.");return}j=Y,U=pe,n.width=Math.floor(Y*$),n.height=Math.floor(pe*$),le===!0&&(n.style.width=Y+"px",n.style.height=pe+"px"),this.setViewport(0,0,Y,pe)},this.getDrawingBufferSize=function(Y){return Y.set(j*$,U*$).floor()},this.setDrawingBufferSize=function(Y,pe,le){j=Y,U=pe,$=le,n.width=Math.floor(Y*le),n.height=Math.floor(pe*le),this.setViewport(0,0,Y,pe)},this.getCurrentViewport=function(Y){return Y.copy(F)},this.getViewport=function(Y){return Y.copy(Q)},this.setViewport=function(Y,pe,le,ke){Y.isVector4?Q.set(Y.x,Y.y,Y.z,Y.w):Q.set(Y,pe,le,ke),Ne.viewport(F.copy(Q).multiplyScalar($).round())},this.getScissor=function(Y){return Y.copy(oe)},this.setScissor=function(Y,pe,le,ke){Y.isVector4?oe.set(Y.x,Y.y,Y.z,Y.w):oe.set(Y,pe,le,ke),Ne.scissor(L.copy(oe).multiplyScalar($).round())},this.getScissorTest=function(){return de},this.setScissorTest=function(Y){Ne.setScissorTest(de=Y)},this.setOpaqueSort=function(Y){G=Y},this.setTransparentSort=function(Y){X=Y},this.getClearColor=function(Y){return Y.copy(Be.getClearColor())},this.setClearColor=function(){Be.setClearColor(...arguments)},this.getClearAlpha=function(){return Be.getClearAlpha()},this.setClearAlpha=function(){Be.setClearAlpha(...arguments)},this.clear=function(Y=!0,pe=!0,le=!0){let ke=0;if(Y){let be=!1;if(O!==null){const ze=O.texture.format;be=m.has(ze)}if(be){const ze=O.texture.type,et=g.has(ze),st=Be.getClearColor(),ot=Be.getClearAlpha(),yt=st.r,ft=st.g,ut=st.b;et?(v[0]=yt,v[1]=ft,v[2]=ut,v[3]=ot,Z.clearBufferuiv(Z.COLOR,0,v)):(y[0]=yt,y[1]=ft,y[2]=ut,y[3]=ot,Z.clearBufferiv(Z.COLOR,0,y))}else ke|=Z.COLOR_BUFFER_BIT}pe&&(ke|=Z.DEPTH_BUFFER_BIT),le&&(ke|=Z.STENCIL_BUFFER_BIT,this.state.buffers.stencil.setMask(4294967295)),Z.clear(ke)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",qe,!1),n.removeEventListener("webglcontextrestored",je,!1),n.removeEventListener("webglcontextcreationerror",$e,!1),Be.dispose(),Xe.dispose(),dt.dispose(),te.dispose(),W.dispose(),B.dispose(),Te.dispose(),ue.dispose(),Ae.dispose(),we.dispose(),at.dispose(),at.removeEventListener("sessionstart",ur),at.removeEventListener("sessionend",yr),Xr.stop()};function qe(Y){Y.preventDefault(),Vw("WebGLRenderer: Context Lost."),M=!0}function je(){Vw("WebGLRenderer: Context Restored."),M=!1;const Y=ee.autoReset,pe=Le.enabled,le=Le.autoUpdate,ke=Le.needsUpdate,be=Le.type;Ze(),ee.autoReset=Y,Le.enabled=pe,Le.autoUpdate=le,Le.needsUpdate=ke,Le.type=be}function $e(Y){hn("WebGLRenderer: A WebGL context could not be created. Reason: ",Y.statusMessage)}function rt(Y){const pe=Y.target;pe.removeEventListener("dispose",rt),lt(pe)}function lt(Y){Mt(Y),te.remove(Y)}function Mt(Y){const pe=te.get(Y).programs;pe!==void 0&&(pe.forEach(function(le){we.releaseProgram(le)}),Y.isShaderMaterial&&we.releaseShaderCache(Y))}this.renderBufferDirect=function(Y,pe,le,ke,be,ze){pe===null&&(pe=ce);const et=be.isMesh&&be.matrixWorld.determinant()<0,st=Fe(Y,pe,le,ke,be);Ne.setMaterial(ke,et);let ot=le.index,yt=1;if(ke.wireframe===!0){if(ot=xe.getWireframeAttribute(le),ot===void 0)return;yt=2}const ft=le.drawRange,ut=le.attributes.position;let Tt=ft.start*yt,Wt=(ft.start+ft.count)*yt;ze!==null&&(Tt=Math.max(Tt,ze.start*yt),Wt=Math.min(Wt,(ze.start+ze.count)*yt)),ot!==null?(Tt=Math.max(Tt,0),Wt=Math.min(Wt,ot.count)):ut!=null&&(Tt=Math.max(Tt,0),Wt=Math.min(Wt,ut.count));const kt=Wt-Tt;if(kt<0||kt===1/0)return;ue.setup(be,ke,st,le,ot);let Qt,sn=he;if(ot!==null&&(Qt=re.get(ot),sn=Pe,sn.setIndex(Qt)),be.isMesh)ke.wireframe===!0?(Ne.setLineWidth(ke.wireframeLinewidth*Ee()),sn.setMode(Z.LINES)):sn.setMode(Z.TRIANGLES);else if(be.isLine){let Ct=ke.linewidth;Ct===void 0&&(Ct=1),Ne.setLineWidth(Ct*Ee()),be.isLineSegments?sn.setMode(Z.LINES):be.isLineLoop?sn.setMode(Z.LINE_LOOP):sn.setMode(Z.LINE_STRIP)}else be.isPoints?sn.setMode(Z.POINTS):be.isSprite&&sn.setMode(Z.TRIANGLES);if(be.isBatchedMesh)if(be._multiDrawInstances!==null)d0("WebGLRenderer: renderMultiDrawInstances has been deprecated and will be removed in r184. Append to renderMultiDraw arguments and use indirection."),sn.renderMultiDrawInstances(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount,be._multiDrawInstances);else if(Oe.get("WEBGL_multi_draw"))sn.renderMultiDraw(be._multiDrawStarts,be._multiDrawCounts,be._multiDrawCount);else{const Ct=be._multiDrawStarts,dn=be._multiDrawCounts,Dt=be._multiDrawCount,Hn=ot?re.get(ot).bytesPerElement:1,kn=te.get(ke).currentProgram.getUniforms();for(let Kt=0;Kt<Dt;Kt++)kn.setValue(Z,"_gl_DrawID",Kt),sn.render(Ct[Kt]/Hn,dn[Kt])}else if(be.isInstancedMesh)sn.renderInstances(Tt,kt,be.count);else if(le.isInstancedBufferGeometry){const Ct=le._maxInstanceCount!==void 0?le._maxInstanceCount:1/0,dn=Math.min(le.instanceCount,Ct);sn.renderInstances(Tt,kt,dn)}else sn.render(Tt,kt)};function ln(Y,pe,le){Y.transparent===!0&&Y.side===Ba&&Y.forceSinglePass===!1?(Y.side=Gs,Y.needsUpdate=!0,q(Y,pe,le),Y.side=Lc,Y.needsUpdate=!0,q(Y,pe,le),Y.side=Ba):q(Y,pe,le)}this.compile=function(Y,pe,le=null){le===null&&(le=Y),_=dt.get(le),_.init(pe),E.push(_),le.traverseVisible(function(be){be.isLight&&be.layers.test(pe.layers)&&(_.pushLight(be),be.castShadow&&_.pushShadow(be))}),Y!==le&&Y.traverseVisible(function(be){be.isLight&&be.layers.test(pe.layers)&&(_.pushLight(be),be.castShadow&&_.pushShadow(be))}),_.setupLights();const ke=new Set;return Y.traverse(function(be){if(!(be.isMesh||be.isPoints||be.isLine||be.isSprite))return;const ze=be.material;if(ze)if(Array.isArray(ze))for(let et=0;et<ze.length;et++){const st=ze[et];ln(st,le,be),ke.add(st)}else ln(ze,le,be),ke.add(ze)}),_=E.pop(),ke},this.compileAsync=function(Y,pe,le=null){const ke=this.compile(Y,pe,le);return new Promise(be=>{function ze(){if(ke.forEach(function(et){te.get(et).currentProgram.isReady()&&ke.delete(et)}),ke.size===0){be(Y);return}setTimeout(ze,10)}Oe.get("KHR_parallel_shader_compile")!==null?ze():setTimeout(ze,10)})};let gn=null;function Zn(Y){gn&&gn(Y)}function ur(){Xr.stop()}function yr(){Xr.start()}const Xr=new jle;Xr.setAnimationLoop(Zn),typeof self<"u"&&Xr.setContext(self),this.setAnimationLoop=function(Y){gn=Y,at.setAnimationLoop(Y),Y===null?Xr.stop():Xr.start()},at.addEventListener("sessionstart",ur),at.addEventListener("sessionend",yr),this.render=function(Y,pe){if(pe!==void 0&&pe.isCamera!==!0){hn("WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(M===!0)return;if(Y.matrixWorldAutoUpdate===!0&&Y.updateMatrixWorld(),pe.parent===null&&pe.matrixWorldAutoUpdate===!0&&pe.updateMatrixWorld(),at.enabled===!0&&at.isPresenting===!0&&(at.cameraAutoUpdate===!0&&at.updateCamera(pe),pe=at.getCamera()),Y.isScene===!0&&Y.onBeforeRender(A,Y,pe,O),_=dt.get(Y,E.length),_.init(pe),E.push(_),ge.multiplyMatrices(pe.projectionMatrix,pe.matrixWorldInverse),ae.setFromProjectionMatrix(ge,vo,pe.reversedDepth),ve=this.localClippingEnabled,ne=pt.init(this.clippingPlanes,ve),w=Xe.get(Y,S.length),w.init(),S.push(w),at.enabled===!0&&at.isPresenting===!0){const ze=A.xr.getDepthSensingMesh();ze!==null&&Pi(ze,pe,-1/0,A.sortObjects)}Pi(Y,pe,0,A.sortObjects),w.finish(),A.sortObjects===!0&&w.sort(G,X),De=at.enabled===!1||at.isPresenting===!1||at.hasDepthSensing()===!1,De&&Be.addToRenderList(w,Y),this.info.render.frame++,ne===!0&&pt.beginShadows();const le=_.state.shadowsArray;Le.render(le,Y,pe),ne===!0&&pt.endShadows(),this.info.autoReset===!0&&this.info.reset();const ke=w.opaque,be=w.transmissive;if(_.setupLights(),pe.isArrayCamera){const ze=pe.cameras;if(be.length>0)for(let et=0,st=ze.length;et<st;et++){const ot=ze[et];rn(ke,be,Y,ot)}De&&Be.render(Y);for(let et=0,st=ze.length;et<st;et++){const ot=ze[et];ii(w,Y,ot,ot.viewport)}}else be.length>0&&rn(ke,be,Y,pe),De&&Be.render(Y),ii(w,Y,pe);O!==null&&P===0&&(me.updateMultisampleRenderTarget(O),me.updateRenderTargetMipmap(O)),Y.isScene===!0&&Y.onAfterRender(A,Y,pe),ue.resetDefaultState(),k=-1,I=null,E.pop(),E.length>0?(_=E[E.length-1],ne===!0&&pt.setGlobalState(A.clippingPlanes,_.state.camera)):_=null,S.pop(),S.length>0?w=S[S.length-1]:w=null};function Pi(Y,pe,le,ke){if(Y.visible===!1)return;if(Y.layers.test(pe.layers)){if(Y.isGroup)le=Y.renderOrder;else if(Y.isLOD)Y.autoUpdate===!0&&Y.update(pe);else if(Y.isLight)_.pushLight(Y),Y.castShadow&&_.pushShadow(Y);else if(Y.isSprite){if(!Y.frustumCulled||ae.intersectsSprite(Y)){ke&&ye.setFromMatrixPosition(Y.matrixWorld).applyMatrix4(ge);const et=Te.update(Y),st=Y.material;st.visible&&w.push(Y,et,st,le,ye.z,null)}}else if((Y.isMesh||Y.isLine||Y.isPoints)&&(!Y.frustumCulled||ae.intersectsObject(Y))){const et=Te.update(Y),st=Y.material;if(ke&&(Y.boundingSphere!==void 0?(Y.boundingSphere===null&&Y.computeBoundingSphere(),ye.copy(Y.boundingSphere.center)):(et.boundingSphere===null&&et.computeBoundingSphere(),ye.copy(et.boundingSphere.center)),ye.applyMatrix4(Y.matrixWorld).applyMatrix4(ge)),Array.isArray(st)){const ot=et.groups;for(let yt=0,ft=ot.length;yt<ft;yt++){const ut=ot[yt],Tt=st[ut.materialIndex];Tt&&Tt.visible&&w.push(Y,et,Tt,le,ye.z,ut)}}else st.visible&&w.push(Y,et,st,le,ye.z,null)}}const ze=Y.children;for(let et=0,st=ze.length;et<st;et++)Pi(ze[et],pe,le,ke)}function ii(Y,pe,le,ke){const{opaque:be,transmissive:ze,transparent:et}=Y;_.setupLightsView(le),ne===!0&&pt.setGlobalState(A.clippingPlanes,le),ke&&Ne.viewport(F.copy(ke)),be.length>0&&Ir(be,pe,le),ze.length>0&&Ir(ze,pe,le),et.length>0&&Ir(et,pe,le),Ne.buffers.depth.setTest(!0),Ne.buffers.depth.setMask(!0),Ne.buffers.color.setMask(!0),Ne.setPolygonOffset(!1)}function rn(Y,pe,le,ke){if((le.isScene===!0?le.overrideMaterial:null)!==null)return;_.state.transmissionRenderTarget[ke.id]===void 0&&(_.state.transmissionRenderTarget[ke.id]=new mi(1,1,{generateMipmaps:!0,type:Oe.has("EXT_color_buffer_half_float")||Oe.has("EXT_color_buffer_float")?hi:ba,minFilter:Zo,samples:4,stencilBuffer:s,resolveDepthBuffer:!1,resolveStencilBuffer:!1,colorSpace:Kn.workingColorSpace}));const ze=_.state.transmissionRenderTarget[ke.id],et=ke.viewport||F;ze.setSize(et.z*A.transmissionResolutionScale,et.w*A.transmissionResolutionScale);const st=A.getRenderTarget(),ot=A.getActiveCubeFace(),yt=A.getActiveMipmapLevel();A.setRenderTarget(ze),A.getClearColor(z),K=A.getClearAlpha(),K<1&&A.setClearColor(16777215,.5),A.clear(),De&&Be.render(le);const ft=A.toneMapping;A.toneMapping=Oc;const ut=ke.viewport;if(ke.viewport!==void 0&&(ke.viewport=void 0),_.setupLightsView(ke),ne===!0&&pt.setGlobalState(A.clippingPlanes,ke),Ir(Y,le,ke),me.updateMultisampleRenderTarget(ze),me.updateRenderTargetMipmap(ze),Oe.has("WEBGL_multisampled_render_to_texture")===!1){let Tt=!1;for(let Wt=0,kt=pe.length;Wt<kt;Wt++){const Qt=pe[Wt],{object:sn,geometry:Ct,material:dn,group:Dt}=Qt;if(dn.side===Ba&&sn.layers.test(ke.layers)){const Hn=dn.side;dn.side=Gs,dn.needsUpdate=!0,Aa(sn,le,ke,Ct,dn,Dt),dn.side=Hn,dn.needsUpdate=!0,Tt=!0}}Tt===!0&&(me.updateMultisampleRenderTarget(ze),me.updateRenderTargetMipmap(ze))}A.setRenderTarget(st,ot,yt),A.setClearColor(z,K),ut!==void 0&&(ke.viewport=ut),A.toneMapping=ft}function Ir(Y,pe,le){const ke=pe.isScene===!0?pe.overrideMaterial:null;for(let be=0,ze=Y.length;be<ze;be++){const et=Y[be],{object:st,geometry:ot,group:yt}=et;let ft=et.material;ft.allowOverride===!0&&ke!==null&&(ft=ke),st.layers.test(le.layers)&&Aa(st,pe,le,ot,ft,yt)}}function Aa(Y,pe,le,ke,be,ze){Y.onBeforeRender(A,pe,le,ke,be,ze),Y.modelViewMatrix.multiplyMatrices(le.matrixWorldInverse,Y.matrixWorld),Y.normalMatrix.getNormalMatrix(Y.modelViewMatrix),be.onBeforeRender(A,pe,le,ke,Y,ze),be.transparent===!0&&be.side===Ba&&be.forceSinglePass===!1?(be.side=Gs,be.needsUpdate=!0,A.renderBufferDirect(le,pe,ke,be,Y,ze),be.side=Lc,be.needsUpdate=!0,A.renderBufferDirect(le,pe,ke,be,Y,ze),be.side=Ba):A.renderBufferDirect(le,pe,ke,be,Y,ze),Y.onAfterRender(A,pe,le,ke,be,ze)}function q(Y,pe,le){pe.isScene!==!0&&(pe=ce);const ke=te.get(Y),be=_.state.lights,ze=_.state.shadowsArray,et=be.state.version,st=we.getParameters(Y,be.state,ze,pe,le),ot=we.getProgramCacheKey(st);let yt=ke.programs;ke.environment=Y.isMeshStandardMaterial?pe.environment:null,ke.fog=pe.fog,ke.envMap=(Y.isMeshStandardMaterial?B:W).get(Y.envMap||ke.environment),ke.envMapRotation=ke.environment!==null&&Y.envMap===null?pe.environmentRotation:Y.envMapRotation,yt===void 0&&(Y.addEventListener("dispose",rt),yt=new Map,ke.programs=yt);let ft=yt.get(ot);if(ft!==void 0){if(ke.currentProgram===ft&&ke.lightsStateVersion===et)return Se(Y,st),ft}else st.uniforms=we.getUniforms(Y),Y.onBeforeCompile(st,A),ft=we.acquireProgram(st,ot),yt.set(ot,ft),ke.uniforms=st.uniforms;const ut=ke.uniforms;return(!Y.isShaderMaterial&&!Y.isRawShaderMaterial||Y.clipping===!0)&&(ut.clippingPlanes=pt.uniform),Se(Y,st),ke.needsLights=Ge(Y),ke.lightsStateVersion=et,ke.needsLights&&(ut.ambientLightColor.value=be.state.ambient,ut.lightProbe.value=be.state.probe,ut.directionalLights.value=be.state.directional,ut.directionalLightShadows.value=be.state.directionalShadow,ut.spotLights.value=be.state.spot,ut.spotLightShadows.value=be.state.spotShadow,ut.rectAreaLights.value=be.state.rectArea,ut.ltc_1.value=be.state.rectAreaLTC1,ut.ltc_2.value=be.state.rectAreaLTC2,ut.pointLights.value=be.state.point,ut.pointLightShadows.value=be.state.pointShadow,ut.hemisphereLights.value=be.state.hemi,ut.directionalShadowMap.value=be.state.directionalShadowMap,ut.directionalShadowMatrix.value=be.state.directionalShadowMatrix,ut.spotShadowMap.value=be.state.spotShadowMap,ut.spotLightMatrix.value=be.state.spotLightMatrix,ut.spotLightMap.value=be.state.spotLightMap,ut.pointShadowMap.value=be.state.pointShadowMap,ut.pointShadowMatrix.value=be.state.pointShadowMatrix),ke.currentProgram=ft,ke.uniformsList=null,ft}function se(Y){if(Y.uniformsList===null){const pe=Y.currentProgram.getUniforms();Y.uniformsList=aA.seqWithValue(pe.seq,Y.uniforms)}return Y.uniformsList}function Se(Y,pe){const le=te.get(Y);le.outputColorSpace=pe.outputColorSpace,le.batching=pe.batching,le.batchingColor=pe.batchingColor,le.instancing=pe.instancing,le.instancingColor=pe.instancingColor,le.instancingMorph=pe.instancingMorph,le.skinning=pe.skinning,le.morphTargets=pe.morphTargets,le.morphNormals=pe.morphNormals,le.morphColors=pe.morphColors,le.morphTargetsCount=pe.morphTargetsCount,le.numClippingPlanes=pe.numClippingPlanes,le.numIntersection=pe.numClipIntersection,le.vertexAlphas=pe.vertexAlphas,le.vertexTangents=pe.vertexTangents,le.toneMapping=pe.toneMapping}function Fe(Y,pe,le,ke,be){pe.isScene!==!0&&(pe=ce),me.resetTextureUnits();const ze=pe.fog,et=ke.isMeshStandardMaterial?pe.environment:null,st=O===null?A.outputColorSpace:O.isXRRenderTarget===!0?O.texture.colorSpace:es,ot=(ke.isMeshStandardMaterial?B:W).get(ke.envMap||et),yt=ke.vertexColors===!0&&!!le.attributes.color&&le.attributes.color.itemSize===4,ft=!!le.attributes.tangent&&(!!ke.normalMap||ke.anisotropy>0),ut=!!le.morphAttributes.position,Tt=!!le.morphAttributes.normal,Wt=!!le.morphAttributes.color;let kt=Oc;ke.toneMapped&&(O===null||O.isXRRenderTarget===!0)&&(kt=A.toneMapping);const Qt=le.morphAttributes.position||le.morphAttributes.normal||le.morphAttributes.color,sn=Qt!==void 0?Qt.length:0,Ct=te.get(ke),dn=_.state.lights;if(ne===!0&&(ve===!0||Y!==I)){const kr=Y===I&&ke.id===k;pt.setState(ke,Y,kr)}let Dt=!1;ke.version===Ct.__version?(Ct.needsLights&&Ct.lightsStateVersion!==dn.state.version||Ct.outputColorSpace!==st||be.isBatchedMesh&&Ct.batching===!1||!be.isBatchedMesh&&Ct.batching===!0||be.isBatchedMesh&&Ct.batchingColor===!0&&be.colorTexture===null||be.isBatchedMesh&&Ct.batchingColor===!1&&be.colorTexture!==null||be.isInstancedMesh&&Ct.instancing===!1||!be.isInstancedMesh&&Ct.instancing===!0||be.isSkinnedMesh&&Ct.skinning===!1||!be.isSkinnedMesh&&Ct.skinning===!0||be.isInstancedMesh&&Ct.instancingColor===!0&&be.instanceColor===null||be.isInstancedMesh&&Ct.instancingColor===!1&&be.instanceColor!==null||be.isInstancedMesh&&Ct.instancingMorph===!0&&be.morphTexture===null||be.isInstancedMesh&&Ct.instancingMorph===!1&&be.morphTexture!==null||Ct.envMap!==ot||ke.fog===!0&&Ct.fog!==ze||Ct.numClippingPlanes!==void 0&&(Ct.numClippingPlanes!==pt.numPlanes||Ct.numIntersection!==pt.numIntersection)||Ct.vertexAlphas!==yt||Ct.vertexTangents!==ft||Ct.morphTargets!==ut||Ct.morphNormals!==Tt||Ct.morphColors!==Wt||Ct.toneMapping!==kt||Ct.morphTargetsCount!==sn)&&(Dt=!0):(Dt=!0,Ct.__version=ke.version);let Hn=Ct.currentProgram;Dt===!0&&(Hn=q(ke,pe,be));let kn=!1,Kt=!1,er=!1;const Bn=Hn.getUniforms(),qn=Ct.uniforms;if(Ne.useProgram(Hn.program)&&(kn=!0,Kt=!0,er=!0),ke.id!==k&&(k=ke.id,Kt=!0),kn||I!==Y){Ne.buffers.depth.getReversed()&&Y.reversedDepth!==!0&&(Y._reversedDepth=!0,Y.updateProjectionMatrix()),Bn.setValue(Z,"projectionMatrix",Y.projectionMatrix),Bn.setValue(Z,"viewMatrix",Y.matrixWorldInverse);const Vr=Bn.map.cameraPosition;Vr!==void 0&&Vr.setValue(Z,_e.setFromMatrixPosition(Y.matrixWorld)),Ce.logarithmicDepthBuffer&&Bn.setValue(Z,"logDepthBufFC",2/(Math.log(Y.far+1)/Math.LN2)),(ke.isMeshPhongMaterial||ke.isMeshToonMaterial||ke.isMeshLambertMaterial||ke.isMeshBasicMaterial||ke.isMeshStandardMaterial||ke.isShaderMaterial)&&Bn.setValue(Z,"isOrthographic",Y.isOrthographicCamera===!0),I!==Y&&(I=Y,Kt=!0,er=!0)}if(be.isSkinnedMesh){Bn.setOptional(Z,be,"bindMatrix"),Bn.setOptional(Z,be,"bindMatrixInverse");const kr=be.skeleton;kr&&(kr.boneTexture===null&&kr.computeBoneTexture(),Bn.setValue(Z,"boneTexture",kr.boneTexture,me))}be.isBatchedMesh&&(Bn.setOptional(Z,be,"batchingTexture"),Bn.setValue(Z,"batchingTexture",be._matricesTexture,me),Bn.setOptional(Z,be,"batchingIdTexture"),Bn.setValue(Z,"batchingIdTexture",be._indirectTexture,me),Bn.setOptional(Z,be,"batchingColorTexture"),be._colorsTexture!==null&&Bn.setValue(Z,"batchingColorTexture",be._colorsTexture,me));const Ar=le.morphAttributes;if((Ar.position!==void 0||Ar.normal!==void 0||Ar.color!==void 0)&&nt.update(be,le,Hn),(Kt||Ct.receiveShadow!==be.receiveShadow)&&(Ct.receiveShadow=be.receiveShadow,Bn.setValue(Z,"receiveShadow",be.receiveShadow)),ke.isMeshGouraudMaterial&&ke.envMap!==null&&(qn.envMap.value=ot,qn.flipEnvMap.value=ot.isCubeTexture&&ot.isRenderTargetTexture===!1?-1:1),ke.isMeshStandardMaterial&&ke.envMap===null&&pe.environment!==null&&(qn.envMapIntensity.value=pe.environmentIntensity),qn.dfgLUT!==void 0&&(qn.dfgLUT.value=rBe()),Kt&&(Bn.setValue(Z,"toneMappingExposure",A.toneMappingExposure),Ct.needsLights&&He(qn,er),ze&&ke.fog===!0&&Ke.refreshFogUniforms(qn,ze),Ke.refreshMaterialUniforms(qn,ke,$,U,_.state.transmissionRenderTarget[Y.id]),aA.upload(Z,se(Ct),qn,me)),ke.isShaderMaterial&&ke.uniformsNeedUpdate===!0&&(aA.upload(Z,se(Ct),qn,me),ke.uniformsNeedUpdate=!1),ke.isSpriteMaterial&&Bn.setValue(Z,"center",be.center),Bn.setValue(Z,"modelViewMatrix",be.modelViewMatrix),Bn.setValue(Z,"normalMatrix",be.normalMatrix),Bn.setValue(Z,"modelMatrix",be.matrixWorld),ke.isShaderMaterial||ke.isRawShaderMaterial){const kr=ke.uniformsGroups;for(let Vr=0,qa=kr.length;Vr<qa;Vr++){const Zs=kr[Vr];Ae.update(Zs,Hn),Ae.bind(Zs,Hn)}}return Hn}function He(Y,pe){Y.ambientLightColor.needsUpdate=pe,Y.lightProbe.needsUpdate=pe,Y.directionalLights.needsUpdate=pe,Y.directionalLightShadows.needsUpdate=pe,Y.pointLights.needsUpdate=pe,Y.pointLightShadows.needsUpdate=pe,Y.spotLights.needsUpdate=pe,Y.spotLightShadows.needsUpdate=pe,Y.rectAreaLights.needsUpdate=pe,Y.hemisphereLights.needsUpdate=pe}function Ge(Y){return Y.isMeshLambertMaterial||Y.isMeshToonMaterial||Y.isMeshPhongMaterial||Y.isMeshStandardMaterial||Y.isShadowMaterial||Y.isShaderMaterial&&Y.lights===!0}this.getActiveCubeFace=function(){return R},this.getActiveMipmapLevel=function(){return P},this.getRenderTarget=function(){return O},this.setRenderTargetTextures=function(Y,pe,le){const ke=te.get(Y);ke.__autoAllocateDepthBuffer=Y.resolveDepthBuffer===!1,ke.__autoAllocateDepthBuffer===!1&&(ke.__useRenderToTexture=!1),te.get(Y.texture).__webglTexture=pe,te.get(Y.depthTexture).__webglTexture=ke.__autoAllocateDepthBuffer?void 0:le,ke.__hasExternalTextures=!0},this.setRenderTargetFramebuffer=function(Y,pe){const le=te.get(Y);le.__webglFramebuffer=pe,le.__useDefaultFramebuffer=pe===void 0};const mt=Z.createFramebuffer();this.setRenderTarget=function(Y,pe=0,le=0){O=Y,R=pe,P=le;let ke=!0,be=null,ze=!1,et=!1;if(Y){const ot=te.get(Y);if(ot.__useDefaultFramebuffer!==void 0)Ne.bindFramebuffer(Z.FRAMEBUFFER,null),ke=!1;else if(ot.__webglFramebuffer===void 0)me.setupRenderTarget(Y);else if(ot.__hasExternalTextures)me.rebindTextures(Y,te.get(Y.texture).__webglTexture,te.get(Y.depthTexture).__webglTexture);else if(Y.depthBuffer){const ut=Y.depthTexture;if(ot.__boundDepthTexture!==ut){if(ut!==null&&te.has(ut)&&(Y.width!==ut.image.width||Y.height!==ut.image.height))throw new Error("WebGLRenderTarget: Attached DepthTexture is initialized to the incorrect size.");me.setupDepthRenderbuffer(Y)}}const yt=Y.texture;(yt.isData3DTexture||yt.isDataArrayTexture||yt.isCompressedArrayTexture)&&(et=!0);const ft=te.get(Y).__webglFramebuffer;Y.isWebGLCubeRenderTarget?(Array.isArray(ft[pe])?be=ft[pe][le]:be=ft[pe],ze=!0):Y.samples>0&&me.useMultisampledRTT(Y)===!1?be=te.get(Y).__webglMultisampledFramebuffer:Array.isArray(ft)?be=ft[le]:be=ft,F.copy(Y.viewport),L.copy(Y.scissor),V=Y.scissorTest}else F.copy(Q).multiplyScalar($).floor(),L.copy(oe).multiplyScalar($).floor(),V=de;if(le!==0&&(be=mt),Ne.bindFramebuffer(Z.FRAMEBUFFER,be)&&ke&&Ne.drawBuffers(Y,be),Ne.viewport(F),Ne.scissor(L),Ne.setScissorTest(V),ze){const ot=te.get(Y.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_CUBE_MAP_POSITIVE_X+pe,ot.__webglTexture,le)}else if(et){const ot=pe;for(let yt=0;yt<Y.textures.length;yt++){const ft=te.get(Y.textures[yt]);Z.framebufferTextureLayer(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0+yt,ft.__webglTexture,le,ot)}}else if(Y!==null&&le!==0){const ot=te.get(Y.texture);Z.framebufferTexture2D(Z.FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,ot.__webglTexture,le)}k=-1},this.readRenderTargetPixels=function(Y,pe,le,ke,be,ze,et,st=0){if(!(Y&&Y.isWebGLRenderTarget)){hn("WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let ot=te.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&et!==void 0&&(ot=ot[et]),ot){Ne.bindFramebuffer(Z.FRAMEBUFFER,ot);try{const yt=Y.textures[st],ft=yt.format,ut=yt.type;if(!Ce.textureFormatReadable(ft)){hn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}if(!Ce.textureTypeReadable(ut)){hn("WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}pe>=0&&pe<=Y.width-ke&&le>=0&&le<=Y.height-be&&(Y.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+st),Z.readPixels(pe,le,ke,be,Ye.convert(ft),Ye.convert(ut),ze))}finally{const yt=O!==null?te.get(O).__webglFramebuffer:null;Ne.bindFramebuffer(Z.FRAMEBUFFER,yt)}}},this.readRenderTargetPixelsAsync=async function(Y,pe,le,ke,be,ze,et,st=0){if(!(Y&&Y.isWebGLRenderTarget))throw new Error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let ot=te.get(Y).__webglFramebuffer;if(Y.isWebGLCubeRenderTarget&&et!==void 0&&(ot=ot[et]),ot)if(pe>=0&&pe<=Y.width-ke&&le>=0&&le<=Y.height-be){Ne.bindFramebuffer(Z.FRAMEBUFFER,ot);const yt=Y.textures[st],ft=yt.format,ut=yt.type;if(!Ce.textureFormatReadable(ft))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in RGBA or implementation defined format.");if(!Ce.textureTypeReadable(ut))throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: renderTarget is not in UnsignedByteType or implementation defined type.");const Tt=Z.createBuffer();Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Tt),Z.bufferData(Z.PIXEL_PACK_BUFFER,ze.byteLength,Z.STREAM_READ),Y.textures.length>1&&Z.readBuffer(Z.COLOR_ATTACHMENT0+st),Z.readPixels(pe,le,ke,be,Ye.convert(ft),Ye.convert(ut),0);const Wt=O!==null?te.get(O).__webglFramebuffer:null;Ne.bindFramebuffer(Z.FRAMEBUFFER,Wt);const kt=Z.fenceSync(Z.SYNC_GPU_COMMANDS_COMPLETE,0);return Z.flush(),await P3e(Z,kt,4),Z.bindBuffer(Z.PIXEL_PACK_BUFFER,Tt),Z.getBufferSubData(Z.PIXEL_PACK_BUFFER,0,ze),Z.deleteBuffer(Tt),Z.deleteSync(kt),ze}else throw new Error("THREE.WebGLRenderer.readRenderTargetPixelsAsync: requested read bounds are out of range.")},this.copyFramebufferToTexture=function(Y,pe=null,le=0){const ke=Math.pow(2,-le),be=Math.floor(Y.image.width*ke),ze=Math.floor(Y.image.height*ke),et=pe!==null?pe.x:0,st=pe!==null?pe.y:0;me.setTexture2D(Y,0),Z.copyTexSubImage2D(Z.TEXTURE_2D,le,0,0,et,st,be,ze),Ne.unbindTexture()};const ct=Z.createFramebuffer(),xt=Z.createFramebuffer();this.copyTextureToTexture=function(Y,pe,le=null,ke=null,be=0,ze=null){ze===null&&(be!==0?(d0("WebGLRenderer: copyTextureToTexture function signature has changed to support src and dst mipmap levels."),ze=be,be=0):ze=0);let et,st,ot,yt,ft,ut,Tt,Wt,kt;const Qt=Y.isCompressedTexture?Y.mipmaps[ze]:Y.image;if(le!==null)et=le.max.x-le.min.x,st=le.max.y-le.min.y,ot=le.isBox3?le.max.z-le.min.z:1,yt=le.min.x,ft=le.min.y,ut=le.isBox3?le.min.z:0;else{const Ar=Math.pow(2,-be);et=Math.floor(Qt.width*Ar),st=Math.floor(Qt.height*Ar),Y.isDataArrayTexture?ot=Qt.depth:Y.isData3DTexture?ot=Math.floor(Qt.depth*Ar):ot=1,yt=0,ft=0,ut=0}ke!==null?(Tt=ke.x,Wt=ke.y,kt=ke.z):(Tt=0,Wt=0,kt=0);const sn=Ye.convert(pe.format),Ct=Ye.convert(pe.type);let dn;pe.isData3DTexture?(me.setTexture3D(pe,0),dn=Z.TEXTURE_3D):pe.isDataArrayTexture||pe.isCompressedArrayTexture?(me.setTexture2DArray(pe,0),dn=Z.TEXTURE_2D_ARRAY):(me.setTexture2D(pe,0),dn=Z.TEXTURE_2D),Z.pixelStorei(Z.UNPACK_FLIP_Y_WEBGL,pe.flipY),Z.pixelStorei(Z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,pe.premultiplyAlpha),Z.pixelStorei(Z.UNPACK_ALIGNMENT,pe.unpackAlignment);const Dt=Z.getParameter(Z.UNPACK_ROW_LENGTH),Hn=Z.getParameter(Z.UNPACK_IMAGE_HEIGHT),kn=Z.getParameter(Z.UNPACK_SKIP_PIXELS),Kt=Z.getParameter(Z.UNPACK_SKIP_ROWS),er=Z.getParameter(Z.UNPACK_SKIP_IMAGES);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Qt.width),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Qt.height),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,yt),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,ft),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,ut);const Bn=Y.isDataArrayTexture||Y.isData3DTexture,qn=pe.isDataArrayTexture||pe.isData3DTexture;if(Y.isDepthTexture){const Ar=te.get(Y),kr=te.get(pe),Vr=te.get(Ar.__renderTarget),qa=te.get(kr.__renderTarget);Ne.bindFramebuffer(Z.READ_FRAMEBUFFER,Vr.__webglFramebuffer),Ne.bindFramebuffer(Z.DRAW_FRAMEBUFFER,qa.__webglFramebuffer);for(let Zs=0;Zs<ot;Zs++)Bn&&(Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,te.get(Y).__webglTexture,be,ut+Zs),Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,te.get(pe).__webglTexture,ze,kt+Zs)),Z.blitFramebuffer(yt,ft,et,st,Tt,Wt,et,st,Z.DEPTH_BUFFER_BIT,Z.NEAREST);Ne.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else if(be!==0||Y.isRenderTargetTexture||te.has(Y)){const Ar=te.get(Y),kr=te.get(pe);Ne.bindFramebuffer(Z.READ_FRAMEBUFFER,ct),Ne.bindFramebuffer(Z.DRAW_FRAMEBUFFER,xt);for(let Vr=0;Vr<ot;Vr++)Bn?Z.framebufferTextureLayer(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Ar.__webglTexture,be,ut+Vr):Z.framebufferTexture2D(Z.READ_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,Ar.__webglTexture,be),qn?Z.framebufferTextureLayer(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,kr.__webglTexture,ze,kt+Vr):Z.framebufferTexture2D(Z.DRAW_FRAMEBUFFER,Z.COLOR_ATTACHMENT0,Z.TEXTURE_2D,kr.__webglTexture,ze),be!==0?Z.blitFramebuffer(yt,ft,et,st,Tt,Wt,et,st,Z.COLOR_BUFFER_BIT,Z.NEAREST):qn?Z.copyTexSubImage3D(dn,ze,Tt,Wt,kt+Vr,yt,ft,et,st):Z.copyTexSubImage2D(dn,ze,Tt,Wt,yt,ft,et,st);Ne.bindFramebuffer(Z.READ_FRAMEBUFFER,null),Ne.bindFramebuffer(Z.DRAW_FRAMEBUFFER,null)}else qn?Y.isDataTexture||Y.isData3DTexture?Z.texSubImage3D(dn,ze,Tt,Wt,kt,et,st,ot,sn,Ct,Qt.data):pe.isCompressedArrayTexture?Z.compressedTexSubImage3D(dn,ze,Tt,Wt,kt,et,st,ot,sn,Qt.data):Z.texSubImage3D(dn,ze,Tt,Wt,kt,et,st,ot,sn,Ct,Qt):Y.isDataTexture?Z.texSubImage2D(Z.TEXTURE_2D,ze,Tt,Wt,et,st,sn,Ct,Qt.data):Y.isCompressedTexture?Z.compressedTexSubImage2D(Z.TEXTURE_2D,ze,Tt,Wt,Qt.width,Qt.height,sn,Qt.data):Z.texSubImage2D(Z.TEXTURE_2D,ze,Tt,Wt,et,st,sn,Ct,Qt);Z.pixelStorei(Z.UNPACK_ROW_LENGTH,Dt),Z.pixelStorei(Z.UNPACK_IMAGE_HEIGHT,Hn),Z.pixelStorei(Z.UNPACK_SKIP_PIXELS,kn),Z.pixelStorei(Z.UNPACK_SKIP_ROWS,Kt),Z.pixelStorei(Z.UNPACK_SKIP_IMAGES,er),ze===0&&pe.generateMipmaps&&Z.generateMipmap(dn),Ne.unbindTexture()},this.initRenderTarget=function(Y){te.get(Y).__webglFramebuffer===void 0&&me.setupRenderTarget(Y)},this.initTexture=function(Y){Y.isCubeTexture?me.setTextureCube(Y,0):Y.isData3DTexture?me.setTexture3D(Y,0):Y.isDataArrayTexture||Y.isCompressedArrayTexture?me.setTexture2DArray(Y,0):me.setTexture2D(Y,0),Ne.unbindTexture()},this.resetState=function(){R=0,P=0,O=null,Ne.reset(),ue.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return vo}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=Kn._getDrawingBufferColorSpace(e),n.unpackColorSpace=Kn._getUnpackColorSpace()}}const iBe=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:NB,AddEquation:Fd,AddOperation:boe,AdditiveAnimationBlendMode:jB,AdditiveBlending:qL,AgXToneMapping:Toe,AlphaFormat:DB,AlwaysCompare:Boe,AlwaysDepth:SM,AlwaysStencilFunc:QL,AmbientLight:Tle,AnimationAction:kle,AnimationClip:m0,AnimationLoader:vDe,AnimationMixer:VDe,AnimationObjectGroup:BDe,AnimationUtils:hDe,ArcCurve:Qoe,ArrayCamera:Ole,ArrowHelper:dLe,AttachedBindMode:ZL,Audio:Nle,AudioAnalyser:RDe,AudioContext:m5,AudioListener:MDe,AudioLoader:EDe,AxesHelper:fLe,BackSide:Gs,BasicDepthPacking:Noe,BasicShadowMap:eoe,BatchedMesh:Zoe,Bone:zP,BooleanKeyframeTrack:ym,Box2:Dle,Box3:Qi,Box3Helper:cLe,BoxGeometry:$f,BoxHelper:lLe,BufferAttribute:wn,BufferGeometry:un,BufferGeometryLoader:Ple,ByteType:PP,Cache:Sc,Camera:uy,CameraHelper:oLe,CanvasTexture:Lke,CapsuleGeometry:WP,CatmullRomCurve3:ele,CineonToneMapping:Soe,CircleGeometry:XP,ClampToEdgeWrapping:ei,Clock:g5,Color:Et,ColorKeyframeTrack:o5,ColorManagement:Kn,CompressedArrayTexture:kke,CompressedCubeTexture:Dke,CompressedTexture:GP,CompressedTextureLoader:yDe,ConeGeometry:l_,ConstantAlphaFactor:voe,ConstantColorFactor:moe,Controls:pLe,CubeCamera:Woe,CubeReflectionMapping:jc,CubeRefractionMapping:Af,CubeTexture:i_,CubeTextureLoader:Sle,CubeUVReflectionMapping:cy,CubicBezierCurve:t5,CubicBezierCurve3:tle,CubicInterpolant:xle,CullFaceBack:XL,CullFaceFront:Qae,CullFaceFrontBack:XIe,CullFaceNone:Jae,Curve:Ql,CurvePath:rle,CustomBlending:toe,CustomToneMapping:Eoe,CylinderGeometry:o_,Cylindrical:YDe,Data3DTexture:FP,DataArrayTexture:jP,DataTexture:nl,DataTextureLoader:l5,DataUtils:dp,DecrementStencilOp:r3e,DecrementWrapStencilOp:s3e,DefaultLoadingManager:_le,DepthFormat:Yp,DepthStencilFormat:o0,DepthTexture:a_,DetachedBindMode:Moe,DirectionalLight:h5,DirectionalLightHelper:aLe,DiscreteInterpolant:ble,DodecahedronGeometry:qP,DoubleSide:Ba,DstAlphaFactor:uoe,DstColorFactor:foe,DynamicCopyUsage:b3e,DynamicDrawUsage:p3e,DynamicReadUsage:v3e,EdgesGeometry:Joe,EllipseCurve:KP,EqualCompare:Loe,EqualDepth:TM,EqualStencilFunc:c3e,EquirectangularReflectionMapping:i0,EquirectangularRefractionMapping:jw,Euler:wa,EventDispatcher:$c,ExternalTexture:QB,ExtrudeGeometry:ZP,FileLoader:xa,Float16BufferAttribute:fke,Float32BufferAttribute:Vt,FloatType:ti,Fog:BP,FogExp2:UP,FramebufferTexture:Ike,FrontSide:Lc,Frustum:fy,FrustumArray:$P,GLBufferAttribute:XDe,GLSL1:_3e,GLSL3:ej,GreaterCompare:joe,GreaterDepth:MM,GreaterEqualCompare:Uoe,GreaterEqualDepth:AM,GreaterEqualStencilFunc:h3e,GreaterStencilFunc:d3e,GridHelper:iLe,Group:Eu,HalfFloatType:hi,HemisphereLight:Ele,HemisphereLightHelper:rLe,IcosahedronGeometry:c_,ImageBitmapLoader:Rle,ImageLoader:Ww,ImageUtils:$oe,IncrementStencilOp:n3e,IncrementWrapStencilOp:i3e,InstancedBufferAttribute:Rf,InstancedBufferGeometry:p5,InstancedInterleavedBuffer:WDe,InstancedMesh:VP,Int16BufferAttribute:uke,Int32BufferAttribute:dke,Int8BufferAttribute:oke,IntType:e_,InterleavedBuffer:s_,InterleavedBufferAttribute:Pf,Interpolant:my,InterpolateDiscrete:l0,InterpolateLinear:c0,InterpolateSmooth:iA,InterpolationSamplingMode:T3e,InterpolationSamplingType:E3e,InvertStencilOp:a3e,KeepStencilOp:Uh,KeyframeTrack:ul,LOD:Koe,LatheGeometry:JP,Layers:Op,LessCompare:Doe,LessDepth:EM,LessEqualCompare:BB,LessEqualDepth:qp,LessEqualStencilFunc:u3e,LessStencilFunc:l3e,Light:Gf,LightProbe:Cle,Line:Vu,Line3:l2,LineBasicMaterial:Ks,LineCurve:n5,LineCurve3:nle,LineDashedMaterial:gle,LineLoop:YB,LineSegments:Jl,LinearFilter:Nn,LinearInterpolant:a5,LinearMipMapLinearFilter:JL,LinearMipMapNearestFilter:YIe,LinearMipmapLinearFilter:Zo,LinearMipmapNearestFilter:wv,LinearSRGBColorSpace:es,LinearToneMapping:woe,LinearTransfer:Uw,Loader:Ys,LoaderUtils:hf,LoadingManager:sR,LoopOnce:Coe,LoopPingPong:Roe,LoopRepeat:Poe,MOUSE:jh,Material:Ai,MaterialLoader:aR,MathUtils:r_,Matrix2:x5,Matrix3:yn,Matrix4:It,MaxEquation:soe,Mesh:Wn,MeshBasicMaterial:Ss,MeshDepthMaterial:f_,MeshDistanceMaterial:iR,MeshLambertMaterial:ple,MeshMatcapMaterial:mle,MeshNormalMaterial:hle,MeshPhongMaterial:dle,MeshPhysicalMaterial:cl,MeshStandardMaterial:py,MeshToonMaterial:fle,MinEquation:ioe,MirroredRepeatWrapping:s0,MixOperation:xoe,MultiplyBlending:YL,MultiplyOperation:Q1,NearestFilter:Ji,NearestMipMapLinearFilter:KIe,NearestMipMapNearestFilter:qIe,NearestMipmapLinearFilter:lp,NearestMipmapNearestFilter:CP,NeutralToneMapping:Aoe,NeverCompare:koe,NeverDepth:_M,NeverStencilFunc:o3e,NoBlending:tl,NoColorSpace:yu,NoToneMapping:Oc,NormalAnimationBlendMode:LP,NormalBlending:Pp,NotEqualCompare:Foe,NotEqualDepth:CM,NotEqualStencilFunc:f3e,NumberKeyframeTrack:Jp,Object3D:$n,ObjectLoader:_De,ObjectSpaceNormalMap:Ioe,OctahedronGeometry:u_,OneFactor:ooe,OneMinusConstantAlphaFactor:yoe,OneMinusConstantColorFactor:goe,OneMinusDstAlphaFactor:doe,OneMinusDstColorFactor:hoe,OneMinusSrcAlphaFactor:wM,OneMinusSrcColorFactor:coe,OrthographicCamera:rl,PCFShadowMap:MP,PCFSoftShadowMap:Nb,PMREMGenerator:lj,Path:o2,PerspectiveCamera:Ur,Plane:Ua,PlaneGeometry:Mo,PlaneHelper:uLe,PointLight:f5,PointLightHelper:tLe,Points:ZB,PointsMaterial:HP,PolarGridHelper:sLe,PolyhedronGeometry:Hf,PositionalAudio:PDe,PropertyBinding:Yn,PropertyMixer:Ile,QuadraticBezierCurve:r5,QuadraticBezierCurve3:YP,Quaternion:hr,QuaternionKeyframeTrack:Qp,QuaternionLinearInterpolant:wle,RED_GREEN_RGTC2_Format:t2,RED_RGTC1_Format:QM,REVISION:vm,RGBADepthPacking:UB,RGBAFormat:Si,RGBAIntegerFormat:DP,RGBA_ASTC_10x10_Format:XM,RGBA_ASTC_10x5_Format:HM,RGBA_ASTC_10x6_Format:GM,RGBA_ASTC_10x8_Format:WM,RGBA_ASTC_12x10_Format:qM,RGBA_ASTC_12x12_Format:KM,RGBA_ASTC_4x4_Format:LM,RGBA_ASTC_5x4_Format:jM,RGBA_ASTC_5x5_Format:FM,RGBA_ASTC_6x5_Format:UM,RGBA_ASTC_6x6_Format:BM,RGBA_ASTC_8x5_Format:zM,RGBA_ASTC_8x6_Format:VM,RGBA_ASTC_8x8_Format:$M,RGBA_BPTC_Format:YM,RGBA_ETC2_EAC_Format:DM,RGBA_PVRTC_2BPPV1_Format:NM,RGBA_PVRTC_4BPPV1_Format:OM,RGBA_S3TC_DXT1_Format:kb,RGBA_S3TC_DXT3_Format:Db,RGBA_S3TC_DXT5_Format:Lb,RGBDepthPacking:JIe,RGBFormat:LB,RGBIntegerFormat:ZIe,RGB_BPTC_SIGNED_Format:ZM,RGB_BPTC_UNSIGNED_Format:JM,RGB_ETC1_Format:IM,RGB_ETC2_Format:kM,RGB_PVRTC_2BPPV1_Format:RM,RGB_PVRTC_4BPPV1_Format:PM,RGB_S3TC_DXT1_Format:Ib,RGDepthPacking:QIe,RGFormat:IP,RGIntegerFormat:kP,RawShaderMaterial:ule,Ray:Uc,Raycaster:gy,RectAreaLight:Ale,RedFormat:t_,RedIntegerFormat:n_,ReinhardToneMapping:_oe,RenderTarget:VB,RenderTarget3D:$De,RepeatWrapping:Mf,ReplaceStencilOp:t3e,ReverseSubtractEquation:roe,RingGeometry:QP,SIGNED_RED_GREEN_RGTC2_Format:n2,SIGNED_RED_RGTC1_Format:e2,SRGBColorSpace:wi,SRGBTransfer:pr,Scene:dy,ShaderChunk:Cn,ShaderLib:jl,ShaderMaterial:Vi,ShadowMaterial:cle,Shape:ff,ShapeGeometry:d_,ShapePath:hLe,ShapeUtils:zl,ShortType:RP,Skeleton:KB,SkeletonHelper:eLe,SkinnedMesh:qB,Source:Kd,Sphere:Ti,SphereGeometry:hy,Spherical:aj,SphericalHarmonics3:Mle,SplineCurve:i5,SpotLight:d5,SpotLightHelper:QDe,Sprite:qoe,SpriteMaterial:XB,SrcAlphaFactor:bM,SrcAlphaSaturateFactor:poe,SrcColorFactor:loe,StaticCopyUsage:x3e,StaticDrawUsage:Bw,StaticReadUsage:g3e,StereoCamera:TDe,StreamCopyUsage:w3e,StreamDrawUsage:m3e,StreamReadUsage:y3e,StringKeyframeTrack:xm,SubtractEquation:noe,SubtractiveBlending:KL,TOUCH:Fh,TangentSpaceNormalMap:Vf,TetrahedronGeometry:eR,Texture:ar,TextureLoader:c5,TextureUtils:xLe,Timer:qDe,TimestampQuery:S3e,TorusGeometry:tR,TorusKnotGeometry:nR,Triangle:Vs,TriangleFanDrawMode:r2,TriangleStripDrawMode:FB,TrianglesDrawMode:Ooe,TubeGeometry:rR,UVMapping:Tf,Uint16BufferAttribute:$B,Uint32BufferAttribute:HB,Uint8BufferAttribute:lke,Uint8ClampedBufferAttribute:cke,Uniform:Ls,UniformsGroup:GDe,UniformsLib:At,UniformsUtils:GB,UnsignedByteType:ba,UnsignedInt101111Type:kB,UnsignedInt248Type:a0,UnsignedInt5999Type:IB,UnsignedIntType:Fc,UnsignedShort4444Type:OP,UnsignedShort5551Type:NP,UnsignedShortType:Kp,VSMShadowMap:Pl,Vector2:Ve,Vector3:J,Vector4:Ln,VectorKeyframeTrack:em,VideoFrameTexture:Nke,VideoTexture:JB,WebGL3DRenderTarget:Y3e,WebGLArrayRenderTarget:K3e,WebGLCoordinateSystem:vo,WebGLCubeRenderTarget:WB,WebGLRenderTarget:mi,WebGLRenderer:b5,WebGLUtils:Vle,WebGPUCoordinateSystem:u0,WebXRController:sA,WireframeGeometry:lle,WrapAroundEnding:Fw,ZeroCurvatureEnding:cp,ZeroFactor:aoe,ZeroSlopeEnding:up,ZeroStencilOp:e3e,createCanvasElement:Voe,error:hn,getConsoleFunction:C3e,log:Vw,setConsoleFunction:M3e,warn:Pt,warnOnce:d0},Symbol.toStringTag,{value:"Module"}));var $le={exports:{}},bm={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */bm.ConcurrentRoot=1;bm.ContinuousEventPriority=4;bm.DefaultEventPriority=16;bm.DiscreteEventPriority=1;bm.IdleEventPriority=536870912;bm.LegacyRoot=0;$le.exports=bm;var iv=$le.exports;function sBe(t){let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(d!==e){const f=e;e=u?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,s=(c,u=i,d=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let f=u(e);function h(){const m=u(e);if(!d(f,m)){const g=f;c(f=m,g)}}return n.add(h),()=>n.delete(h)},l={setState:r,getState:i,subscribe:(c,u,d)=>u||d?s(c,u,d):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const aBe=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),q9=aBe?T.useEffect:T.useLayoutEffect;function Hle(t){const e=typeof t=="function"?sBe(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=T.useReducer(v=>v+1,0),a=e.getState(),o=T.useRef(a),l=T.useRef(r),c=T.useRef(i),u=T.useRef(!1),d=T.useRef();d.current===void 0&&(d.current=r(a));let f,h=!1;(o.current!==a||l.current!==r||c.current!==i||u.current)&&(f=r(a),h=!i(d.current,f)),q9(()=>{h&&(d.current=f),o.current=a,l.current=r,c.current=i,u.current=!1});const m=T.useRef(a);q9(()=>{const v=()=>{try{const w=e.getState(),_=l.current(w);c.current(d.current,_)||(o.current=w,d.current=_,s())}catch{u.current=!0,s()}},y=e.subscribe(v);return e.getState()!==m.current&&v(),y},[]);const g=h?f:d.current;return T.useDebugValue(g),g};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const oBe=t=>typeof t=="object"&&typeof t.then=="function",hp=[];function Gle(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function Wle(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of hp)if(Gle(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=hp.indexOf(i);s!==-1&&hp.splice(s,1)},promise:(oBe(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(hp.push(i),!n)throw i.promise}const w5=(t,e,n)=>Wle(t,e,!1,n),lBe=(t,e,n)=>void Wle(t,e,!0,n),cBe=t=>{if(t===void 0||t.length===0)hp.splice(0,hp.length);else{const e=hp.find(n=>Gle(t,n.keys,n.equal));e&&e.remove()}};var Xle={exports:{}},A3={exports:{}},M3={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K9;function uBe(){return K9||(K9=1,function(t){function e(j,U){var $=j.length;j.push(U);e:for(;0<$;){var G=$-1>>>1,X=j[G];if(0<i(X,U))j[G]=U,j[$]=X,$=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],$=j.pop();if($!==U){j[0]=$;e:for(var G=0,X=j.length,Q=X>>>1;G<Q;){var oe=2*(G+1)-1,de=j[oe],ae=oe+1,ne=j[ae];if(0>i(de,$))ae<X&&0>i(ne,de)?(j[G]=ne,j[ae]=$,G=ae):(j[G]=de,j[oe]=$,G=oe);else if(ae<X&&0>i(ne,$))j[G]=ne,j[ae]=$,G=ae;else break e}}return U}function i(j,U){var $=j.sortIndex-U.sortIndex;return $!==0?$:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(j){if(g=!1,_(j),!m)if(n(l)!==null)m=!0,z(E);else{var U=n(c);U!==null&&K(S,U.startTime-j)}}function E(j,U){m=!1,g&&(g=!1,y(R),R=-1),h=!0;var $=f;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||j&&!k());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var X=G(d.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var oe=n(c);oe!==null&&K(S,oe.startTime-U),Q=!1}return Q}finally{d=null,f=$,h=!1}}var A=!1,M=null,R=-1,P=5,O=-1;function k(){return!(t.unstable_now()-O<P)}function I(){if(M!==null){var j=t.unstable_now();O=j;var U=!0;try{U=M(!0,j)}finally{U?F():(A=!1,M=null)}}else A=!1}var F;if(typeof w=="function")F=function(){w(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=I,F=function(){V.postMessage(null)}}else F=function(){v(I,0)};function z(j){M=j,A||(A=!0,F())}function K(j,U){R=v(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,z(E))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var $=f;f=U;try{return j()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=f;f=j;try{return U()}finally{f=$}},t.unstable_scheduleCallback=function(j,U,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,j={id:u++,callback:U,priorityLevel:j,startTime:$,expirationTime:X,sortIndex:-1},$>G?(j.sortIndex=$,e(c,j),n(l)===null&&j===n(c)&&(g?(y(R),R=-1):g=!0,K(S,$-G))):(j.sortIndex=X,e(l,j),m||h||(m=!0,z(E))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var U=f;return function(){var $=f;f=U;try{return j.apply(this,arguments)}finally{f=$}}}}(M3)),M3}var Y9;function dBe(){return Y9||(Y9=1,A3.exports=uBe()),A3.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fBe=function(e){var n={},r=T,i=dBe(),s=Object.assign;function a(x){for(var b="https://reactjs.org/docs/error-decoder.html?invariant="+x,C=1;C<arguments.length;C++)b+="&args[]="+encodeURIComponent(arguments[C]);return"Minified React error #"+x+"; visit "+b+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),f=Symbol.for("react.profiler"),h=Symbol.for("react.provider"),m=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),E=Symbol.iterator;function A(x){return x===null||typeof x!="object"?null:(x=E&&x[E]||x["@@iterator"],typeof x=="function"?x:null)}function M(x){if(x==null)return null;if(typeof x=="function")return x.displayName||x.name||null;if(typeof x=="string")return x;switch(x){case u:return"Fragment";case c:return"Portal";case f:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case y:return"SuspenseList"}if(typeof x=="object")switch(x.$$typeof){case m:return(x.displayName||"Context")+".Consumer";case h:return(x._context.displayName||"Context")+".Provider";case g:var b=x.render;return x=x.displayName,x||(x=b.displayName||b.name||"",x=x!==""?"ForwardRef("+x+")":"ForwardRef"),x;case w:return b=x.displayName||null,b!==null?b:M(x.type)||"Memo";case _:b=x._payload,x=x._init;try{return M(x(b))}catch{}}return null}function R(x){var b=x.type;switch(x.tag){case 24:return"Cache";case 9:return(b.displayName||"Context")+".Consumer";case 10:return(b._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return x=b.render,x=x.displayName||x.name||"",b.displayName||(x!==""?"ForwardRef("+x+")":"ForwardRef");case 7:return"Fragment";case 5:return b;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return M(b);case 8:return b===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof b=="function")return b.displayName||b.name||null;if(typeof b=="string")return b}return null}function P(x){var b=x,C=x;if(x.alternate)for(;b.return;)b=b.return;else{x=b;do b=x,b.flags&4098&&(C=b.return),x=b.return;while(x)}return b.tag===3?C:null}function O(x){if(P(x)!==x)throw Error(a(188))}function k(x){var b=x.alternate;if(!b){if(b=P(x),b===null)throw Error(a(188));return b!==x?null:x}for(var C=x,N=b;;){var D=C.return;if(D===null)break;var H=D.alternate;if(H===null){if(N=D.return,N!==null){C=N;continue}break}if(D.child===H.child){for(H=D.child;H;){if(H===C)return O(D),x;if(H===N)return O(D),b;H=H.sibling}throw Error(a(188))}if(C.return!==N.return)C=D,N=H;else{for(var fe=!1,Re=D.child;Re;){if(Re===C){fe=!0,C=D,N=H;break}if(Re===N){fe=!0,N=D,C=H;break}Re=Re.sibling}if(!fe){for(Re=H.child;Re;){if(Re===C){fe=!0,C=H,N=D;break}if(Re===N){fe=!0,N=H,C=D;break}Re=Re.sibling}if(!fe)throw Error(a(189))}}if(C.alternate!==N)throw Error(a(190))}if(C.tag!==3)throw Error(a(188));return C.stateNode.current===C?x:b}function I(x){return x=k(x),x!==null?F(x):null}function F(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){var b=F(x);if(b!==null)return b;x=x.sibling}return null}function L(x){if(x.tag===5||x.tag===6)return x;for(x=x.child;x!==null;){if(x.tag!==4){var b=L(x);if(b!==null)return b}x=x.sibling}return null}var V=Array.isArray,z=e.getPublicInstance,K=e.getRootHostContext,j=e.getChildHostContext,U=e.prepareForCommit,$=e.resetAfterCommit,G=e.createInstance,X=e.appendInitialChild,Q=e.finalizeInitialChildren,oe=e.prepareUpdate,de=e.shouldSetTextContent,ae=e.createTextInstance,ne=e.scheduleTimeout,ve=e.cancelTimeout,ge=e.noTimeout,_e=e.isPrimaryRenderer,ye=e.supportsMutation,ce=e.supportsPersistence,De=e.supportsHydration,Ee=e.getInstanceFromNode,Z=e.preparePortalMount,Me=e.getCurrentEventPriority,Oe=e.detachDeletedInstance,Ce=e.supportsMicrotasks,Ne=e.scheduleMicrotask,ee=e.supportsTestSelectors,te=e.findFiberRoot,me=e.getBoundingRect,W=e.getTextContent,B=e.isHiddenSubtree,re=e.matchAccessibilityRole,xe=e.setFocusIfFocusable,Te=e.setupIntersectionObserver,we=e.appendChild,Ke=e.appendChildToContainer,Xe=e.commitTextUpdate,dt=e.commitMount,pt=e.commitUpdate,Le=e.insertBefore,Be=e.insertInContainerBefore,nt=e.removeChild,he=e.removeChildFromContainer,Pe=e.resetTextContent,Ye=e.hideInstance,ue=e.hideTextInstance,Ae=e.unhideInstance,Ze=e.unhideTextInstance,at=e.clearContainer,qe=e.cloneInstance,je=e.createContainerChildSet,$e=e.appendChildToContainerChildSet,rt=e.finalizeContainerChildren,lt=e.replaceContainerChildren,Mt=e.cloneHiddenInstance,ln=e.cloneHiddenTextInstance,gn=e.canHydrateInstance,Zn=e.canHydrateTextInstance,ur=e.canHydrateSuspenseInstance,yr=e.isSuspenseInstancePending,Xr=e.isSuspenseInstanceFallback,Pi=e.registerSuspenseInstanceRetry,ii=e.getNextHydratableSibling,rn=e.getFirstHydratableChild,Ir=e.getFirstHydratableChildWithinContainer,Aa=e.getFirstHydratableChildWithinSuspenseInstance,q=e.hydrateInstance,se=e.hydrateTextInstance,Se=e.hydrateSuspenseInstance,Fe=e.getNextHydratableInstanceAfterSuspenseInstance,He=e.commitHydratedContainer,Ge=e.commitHydratedSuspenseInstance,mt=e.clearSuspenseBoundary,ct=e.clearSuspenseBoundaryFromContainer,xt=e.shouldDeleteUnhydratedTailInstances,Y=e.didNotMatchHydratedContainerTextInstance,pe=e.didNotMatchHydratedTextInstance,le;function ke(x){if(le===void 0)try{throw Error()}catch(C){var b=C.stack.trim().match(/\n( *(at )?)/);le=b&&b[1]||""}return`
`+le+x}var be=!1;function ze(x,b){if(!x||be)return"";be=!0;var C=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(b)if(b=function(){throw Error()},Object.defineProperty(b.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(b,[])}catch(bt){var N=bt}Reflect.construct(x,[],b)}else{try{b.call()}catch(bt){N=bt}x.call(b.prototype)}else{try{throw Error()}catch(bt){N=bt}x()}}catch(bt){if(bt&&N&&typeof bt.stack=="string"){for(var D=bt.stack.split(`
`),H=N.stack.split(`
`),fe=D.length-1,Re=H.length-1;1<=fe&&0<=Re&&D[fe]!==H[Re];)Re--;for(;1<=fe&&0<=Re;fe--,Re--)if(D[fe]!==H[Re]){if(fe!==1||Re!==1)do if(fe--,Re--,0>Re||D[fe]!==H[Re]){var Je=`
`+D[fe].replace(" at new "," at ");return x.displayName&&Je.includes("<anonymous>")&&(Je=Je.replace("<anonymous>",x.displayName)),Je}while(1<=fe&&0<=Re);break}}}finally{be=!1,Error.prepareStackTrace=C}return(x=x?x.displayName||x.name:"")?ke(x):""}var et=Object.prototype.hasOwnProperty,st=[],ot=-1;function yt(x){return{current:x}}function ft(x){0>ot||(x.current=st[ot],st[ot]=null,ot--)}function ut(x,b){ot++,st[ot]=x.current,x.current=b}var Tt={},Wt=yt(Tt),kt=yt(!1),Qt=Tt;function sn(x,b){var C=x.type.contextTypes;if(!C)return Tt;var N=x.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===b)return N.__reactInternalMemoizedMaskedChildContext;var D={},H;for(H in C)D[H]=b[H];return N&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=b,x.__reactInternalMemoizedMaskedChildContext=D),D}function Ct(x){return x=x.childContextTypes,x!=null}function dn(){ft(kt),ft(Wt)}function Dt(x,b,C){if(Wt.current!==Tt)throw Error(a(168));ut(Wt,b),ut(kt,C)}function Hn(x,b,C){var N=x.stateNode;if(b=b.childContextTypes,typeof N.getChildContext!="function")return C;N=N.getChildContext();for(var D in N)if(!(D in b))throw Error(a(108,R(x)||"Unknown",D));return s({},C,N)}function kn(x){return x=(x=x.stateNode)&&x.__reactInternalMemoizedMergedChildContext||Tt,Qt=Wt.current,ut(Wt,x),ut(kt,kt.current),!0}function Kt(x,b,C){var N=x.stateNode;if(!N)throw Error(a(169));C?(x=Hn(x,b,Qt),N.__reactInternalMemoizedMergedChildContext=x,ft(kt),ft(Wt),ut(Wt,x)):ft(kt),ut(kt,C)}var er=Math.clz32?Math.clz32:Ar,Bn=Math.log,qn=Math.LN2;function Ar(x){return x>>>=0,x===0?32:31-(Bn(x)/qn|0)|0}var kr=64,Vr=4194304;function qa(x){switch(x&-x){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return x&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return x&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return x}}function Zs(x,b){var C=x.pendingLanes;if(C===0)return 0;var N=0,D=x.suspendedLanes,H=x.pingedLanes,fe=C&268435455;if(fe!==0){var Re=fe&~D;Re!==0?N=qa(Re):(H&=fe,H!==0&&(N=qa(H)))}else fe=C&~D,fe!==0?N=qa(fe):H!==0&&(N=qa(H));if(N===0)return 0;if(b!==0&&b!==N&&!(b&D)&&(D=N&-N,H=b&-b,D>=H||D===16&&(H&4194240)!==0))return b;if(N&4&&(N|=C&16),b=x.entangledLanes,b!==0)for(x=x.entanglements,b&=N;0<b;)C=31-er(b),D=1<<C,N|=x[C],b&=~D;return N}function k_(x,b){switch(x){case 1:case 2:case 4:return b+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return b+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Iy(x,b){for(var C=x.suspendedLanes,N=x.pingedLanes,D=x.expirationTimes,H=x.pendingLanes;0<H;){var fe=31-er(H),Re=1<<fe,Je=D[fe];Je===-1?(!(Re&C)||Re&N)&&(D[fe]=k_(Re,b)):Je<=b&&(x.expiredLanes|=Re),H&=~Re}}function Xc(x){return x=x.pendingLanes&-1073741825,x!==0?x:x&1073741824?1073741824:0}function Cm(x){for(var b=[],C=0;31>C;C++)b.push(x);return b}function nc(x,b,C){x.pendingLanes|=b,b!==536870912&&(x.suspendedLanes=0,x.pingedLanes=0),x=x.eventTimes,b=31-er(b),x[b]=C}function td(x,b){var C=x.pendingLanes&~b;x.pendingLanes=b,x.suspendedLanes=0,x.pingedLanes=0,x.expiredLanes&=b,x.mutableReadLanes&=b,x.entangledLanes&=b,b=x.entanglements;var N=x.eventTimes;for(x=x.expirationTimes;0<C;){var D=31-er(C),H=1<<D;b[D]=0,N[D]=-1,x[D]=-1,C&=~H}}function rc(x,b){var C=x.entangledLanes|=b;for(x=x.entanglements;C;){var N=31-er(C),D=1<<N;D&b|x[N]&b&&(x[N]|=b),C&=~D}}var zn=0;function ky(x){return x&=-x,1<x?4<x?x&268435455?16:536870912:4:1}var qc=i.unstable_scheduleCallback,Pm=i.unstable_cancelCallback,Dy=i.unstable_shouldYield,D_=i.unstable_requestPaint,qr=i.unstable_now,Zf=i.unstable_ImmediatePriority,L_=i.unstable_UserBlockingPriority,Js=i.unstable_NormalPriority,Ly=i.unstable_IdlePriority,Jf=null,Ka=null;function jy(x){if(Ka&&typeof Ka.onCommitFiberRoot=="function")try{Ka.onCommitFiberRoot(Jf,x,void 0,(x.current.flags&128)===128)}catch{}}function j_(x,b){return x===b&&(x!==0||1/x===1/b)||x!==x&&b!==b}var Ya=typeof Object.is=="function"?Object.is:j_,Qs=null,ic=!1,Co=!1;function Fy(x){Qs===null?Qs=[x]:Qs.push(x)}function Uy(x){ic=!0,Fy(x)}function Ma(){if(!Co&&Qs!==null){Co=!0;var x=0,b=zn;try{var C=Qs;for(zn=1;x<C.length;x++){var N=C[x];do N=N(!0);while(N!==null)}Qs=null,ic=!1}catch(D){throw Qs!==null&&(Qs=Qs.slice(x+1)),qc(Zf,Ma),D}finally{zn=b,Co=!1}}return null}var Qf=o.ReactCurrentBatchConfig;function eh(x,b){if(Ya(x,b))return!0;if(typeof x!="object"||x===null||typeof b!="object"||b===null)return!1;var C=Object.keys(x),N=Object.keys(b);if(C.length!==N.length)return!1;for(N=0;N<C.length;N++){var D=C[N];if(!et.call(b,D)||!Ya(x[D],b[D]))return!1}return!0}function th(x){switch(x.tag){case 5:return ke(x.type);case 16:return ke("Lazy");case 13:return ke("Suspense");case 19:return ke("SuspenseList");case 0:case 2:case 15:return x=ze(x.type,!1),x;case 11:return x=ze(x.type.render,!1),x;case 1:return x=ze(x.type,!0),x;default:return""}}function ea(x,b){if(x&&x.defaultProps){b=s({},b),x=x.defaultProps;for(var C in x)b[C]===void 0&&(b[C]=x[C]);return b}return b}var is=yt(null),Rm=null,pl=null,nd=null;function Om(){nd=pl=Rm=null}function F_(x,b,C){_e?(ut(is,b._currentValue),b._currentValue=C):(ut(is,b._currentValue2),b._currentValue2=C)}function ss(x){var b=is.current;ft(is),_e?x._currentValue=b:x._currentValue2=b}function ta(x,b,C){for(;x!==null;){var N=x.alternate;if((x.childLanes&b)!==b?(x.childLanes|=b,N!==null&&(N.childLanes|=b)):N!==null&&(N.childLanes&b)!==b&&(N.childLanes|=b),x===C)break;x=x.return}}function gi(x,b){Rm=x,nd=pl=null,x=x.dependencies,x!==null&&x.firstContext!==null&&(x.lanes&b&&(eo=!0),x.firstContext=null)}function vi(x){var b=_e?x._currentValue:x._currentValue2;if(nd!==x)if(x={context:x,memoizedValue:b,next:null},pl===null){if(Rm===null)throw Error(a(308));pl=x,Rm.dependencies={lanes:0,firstContext:x}}else pl=pl.next=x;return b}var Za=null,rd=!1;function TO(x){x.updateQueue={baseState:x.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function fV(x,b){x=x.updateQueue,b.updateQueue===x&&(b.updateQueue={baseState:x.baseState,firstBaseUpdate:x.firstBaseUpdate,lastBaseUpdate:x.lastBaseUpdate,shared:x.shared,effects:x.effects})}function Kc(x,b){return{eventTime:x,lane:b,tag:0,payload:null,callback:null,next:null}}function id(x,b){var C=x.updateQueue;C!==null&&(C=C.shared,Ri!==null&&x.mode&1&&!(jn&2)?(x=C.interleaved,x===null?(b.next=b,Za===null?Za=[C]:Za.push(C)):(b.next=x.next,x.next=b),C.interleaved=b):(x=C.pending,x===null?b.next=b:(b.next=x.next,x.next=b),C.pending=b))}function U_(x,b,C){if(b=b.updateQueue,b!==null&&(b=b.shared,(C&4194240)!==0)){var N=b.lanes;N&=x.pendingLanes,C|=N,b.lanes=C,rc(x,C)}}function hV(x,b){var C=x.updateQueue,N=x.alternate;if(N!==null&&(N=N.updateQueue,C===N)){var D=null,H=null;if(C=C.firstBaseUpdate,C!==null){do{var fe={eventTime:C.eventTime,lane:C.lane,tag:C.tag,payload:C.payload,callback:C.callback,next:null};H===null?D=H=fe:H=H.next=fe,C=C.next}while(C!==null);H===null?D=H=b:H=H.next=b}else D=H=b;C={baseState:N.baseState,firstBaseUpdate:D,lastBaseUpdate:H,shared:N.shared,effects:N.effects},x.updateQueue=C;return}x=C.lastBaseUpdate,x===null?C.firstBaseUpdate=b:x.next=b,C.lastBaseUpdate=b}function B_(x,b,C,N){var D=x.updateQueue;rd=!1;var H=D.firstBaseUpdate,fe=D.lastBaseUpdate,Re=D.shared.pending;if(Re!==null){D.shared.pending=null;var Je=Re,bt=Je.next;Je.next=null,fe===null?H=bt:fe.next=bt,fe=Je;var Bt=x.alternate;Bt!==null&&(Bt=Bt.updateQueue,Re=Bt.lastBaseUpdate,Re!==fe&&(Re===null?Bt.firstBaseUpdate=bt:Re.next=bt,Bt.lastBaseUpdate=Je))}if(H!==null){var En=D.baseState;fe=0,Bt=bt=Je=null,Re=H;do{var en=Re.lane,wr=Re.eventTime;if((N&en)===en){Bt!==null&&(Bt=Bt.next={eventTime:wr,lane:0,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null});e:{var Yt=x,Ps=Re;switch(en=b,wr=C,Ps.tag){case 1:if(Yt=Ps.payload,typeof Yt=="function"){En=Yt.call(wr,En,en);break e}En=Yt;break e;case 3:Yt.flags=Yt.flags&-65537|128;case 0:if(Yt=Ps.payload,en=typeof Yt=="function"?Yt.call(wr,En,en):Yt,en==null)break e;En=s({},En,en);break e;case 2:rd=!0}}Re.callback!==null&&Re.lane!==0&&(x.flags|=64,en=D.effects,en===null?D.effects=[Re]:en.push(Re))}else wr={eventTime:wr,lane:en,tag:Re.tag,payload:Re.payload,callback:Re.callback,next:null},Bt===null?(bt=Bt=wr,Je=En):Bt=Bt.next=wr,fe|=en;if(Re=Re.next,Re===null){if(Re=D.shared.pending,Re===null)break;en=Re,Re=en.next,en.next=null,D.lastBaseUpdate=en,D.shared.pending=null}}while(!0);if(Bt===null&&(Je=En),D.baseState=Je,D.firstBaseUpdate=bt,D.lastBaseUpdate=Bt,b=D.shared.interleaved,b!==null){D=b;do fe|=D.lane,D=D.next;while(D!==b)}else H===null&&(D.shared.lanes=0);Bm|=fe,x.lanes=fe,x.memoizedState=En}}function pV(x,b,C){if(x=b.effects,b.effects=null,x!==null)for(b=0;b<x.length;b++){var N=x[b],D=N.callback;if(D!==null){if(N.callback=null,N=C,typeof D!="function")throw Error(a(191,D));D.call(N)}}}var mV=new r.Component().refs;function AO(x,b,C,N){b=x.memoizedState,C=C(N,b),C=C==null?b:s({},b,C),x.memoizedState=C,x.lanes===0&&(x.updateQueue.baseState=C)}var z_={isMounted:function(x){return(x=x._reactInternals)?P(x)===x:!1},enqueueSetState:function(x,b,C){x=x._reactInternals;var N=ra(),D=od(x),H=Kc(N,D);H.payload=b,C!=null&&(H.callback=C),id(x,H),b=Io(x,D,N),b!==null&&U_(b,x,D)},enqueueReplaceState:function(x,b,C){x=x._reactInternals;var N=ra(),D=od(x),H=Kc(N,D);H.tag=1,H.payload=b,C!=null&&(H.callback=C),id(x,H),b=Io(x,D,N),b!==null&&U_(b,x,D)},enqueueForceUpdate:function(x,b){x=x._reactInternals;var C=ra(),N=od(x),D=Kc(C,N);D.tag=2,b!=null&&(D.callback=b),id(x,D),b=Io(x,N,C),b!==null&&U_(b,x,N)}};function gV(x,b,C,N,D,H,fe){return x=x.stateNode,typeof x.shouldComponentUpdate=="function"?x.shouldComponentUpdate(N,H,fe):b.prototype&&b.prototype.isPureReactComponent?!eh(C,N)||!eh(D,H):!0}function vV(x,b,C){var N=!1,D=Tt,H=b.contextType;return typeof H=="object"&&H!==null?H=vi(H):(D=Ct(b)?Qt:Wt.current,N=b.contextTypes,H=(N=N!=null)?sn(x,D):Tt),b=new b(C,H),x.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=z_,x.stateNode=b,b._reactInternals=x,N&&(x=x.stateNode,x.__reactInternalMemoizedUnmaskedChildContext=D,x.__reactInternalMemoizedMaskedChildContext=H),b}function yV(x,b,C,N){x=b.state,typeof b.componentWillReceiveProps=="function"&&b.componentWillReceiveProps(C,N),typeof b.UNSAFE_componentWillReceiveProps=="function"&&b.UNSAFE_componentWillReceiveProps(C,N),b.state!==x&&z_.enqueueReplaceState(b,b.state,null)}function MO(x,b,C,N){var D=x.stateNode;D.props=C,D.state=x.memoizedState,D.refs=mV,TO(x);var H=b.contextType;typeof H=="object"&&H!==null?D.context=vi(H):(H=Ct(b)?Qt:Wt.current,D.context=sn(x,H)),D.state=x.memoizedState,H=b.getDerivedStateFromProps,typeof H=="function"&&(AO(x,b,H,C),D.state=x.memoizedState),typeof b.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(b=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),b!==D.state&&z_.enqueueReplaceState(D,D.state,null),B_(x,C,D,N),D.state=x.memoizedState),typeof D.componentDidMount=="function"&&(x.flags|=4194308)}var Nm=[],Im=0,V_=null,$_=0,Po=[],Ro=0,nh=null,Yc=1,Zc="";function rh(x,b){Nm[Im++]=$_,Nm[Im++]=V_,V_=x,$_=b}function xV(x,b,C){Po[Ro++]=Yc,Po[Ro++]=Zc,Po[Ro++]=nh,nh=x;var N=Yc;x=Zc;var D=32-er(N)-1;N&=~(1<<D),C+=1;var H=32-er(b)+D;if(30<H){var fe=D-D%5;H=(N&(1<<fe)-1).toString(32),N>>=fe,D-=fe,Yc=1<<32-er(b)+D|C<<D|N,Zc=H+x}else Yc=1<<H|C<<D|N,Zc=x}function CO(x){x.return!==null&&(rh(x,1),xV(x,1,0))}function PO(x){for(;x===V_;)V_=Nm[--Im],Nm[Im]=null,$_=Nm[--Im],Nm[Im]=null;for(;x===nh;)nh=Po[--Ro],Po[Ro]=null,Zc=Po[--Ro],Po[Ro]=null,Yc=Po[--Ro],Po[Ro]=null}var Ja=null,Qa=null,$r=!1,By=!1,ml=null;function bV(x,b){var C=ko(5,null,null,0);C.elementType="DELETED",C.stateNode=b,C.return=x,b=x.deletions,b===null?(x.deletions=[C],x.flags|=16):b.push(C)}function wV(x,b){switch(x.tag){case 5:return b=gn(b,x.type,x.pendingProps),b!==null?(x.stateNode=b,Ja=x,Qa=rn(b),!0):!1;case 6:return b=Zn(b,x.pendingProps),b!==null?(x.stateNode=b,Ja=x,Qa=null,!0):!1;case 13:if(b=ur(b),b!==null){var C=nh!==null?{id:Yc,overflow:Zc}:null;return x.memoizedState={dehydrated:b,treeContext:C,retryLane:1073741824},C=ko(18,null,null,0),C.stateNode=b,C.return=x,x.child=C,Ja=x,Qa=null,!0}return!1;default:return!1}}function RO(x){return(x.mode&1)!==0&&(x.flags&128)===0}function OO(x){if($r){var b=Qa;if(b){var C=b;if(!wV(x,b)){if(RO(x))throw Error(a(418));b=ii(C);var N=Ja;b&&wV(x,b)?bV(N,C):(x.flags=x.flags&-4097|2,$r=!1,Ja=x)}}else{if(RO(x))throw Error(a(418));x.flags=x.flags&-4097|2,$r=!1,Ja=x}}}function _V(x){for(x=x.return;x!==null&&x.tag!==5&&x.tag!==3&&x.tag!==13;)x=x.return;Ja=x}function zy(x){if(!De||x!==Ja)return!1;if(!$r)return _V(x),$r=!0,!1;if(x.tag!==3&&(x.tag!==5||xt(x.type)&&!de(x.type,x.memoizedProps))){var b=Qa;if(b){if(RO(x)){for(x=Qa;x;)x=ii(x);throw Error(a(418))}for(;b;)bV(x,b),b=ii(b)}}if(_V(x),x.tag===13){if(!De)throw Error(a(316));if(x=x.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));Qa=Fe(x)}else Qa=Ja?ii(x.stateNode):null;return!0}function km(){De&&(Qa=Ja=null,By=$r=!1)}function NO(x){ml===null?ml=[x]:ml.push(x)}function Vy(x,b,C){if(x=C.ref,x!==null&&typeof x!="function"&&typeof x!="object"){if(C._owner){if(C=C._owner,C){if(C.tag!==1)throw Error(a(309));var N=C.stateNode}if(!N)throw Error(a(147,x));var D=N,H=""+x;return b!==null&&b.ref!==null&&typeof b.ref=="function"&&b.ref._stringRef===H?b.ref:(b=function(fe){var Re=D.refs;Re===mV&&(Re=D.refs={}),fe===null?delete Re[H]:Re[H]=fe},b._stringRef=H,b)}if(typeof x!="string")throw Error(a(284));if(!C._owner)throw Error(a(290,x))}return x}function H_(x,b){throw x=Object.prototype.toString.call(b),Error(a(31,x==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":x))}function SV(x){var b=x._init;return b(x._payload)}function EV(x){function b(Ue,Ie){if(x){var We=Ue.deletions;We===null?(Ue.deletions=[Ie],Ue.flags|=16):We.push(Ie)}}function C(Ue,Ie){if(!x)return null;for(;Ie!==null;)b(Ue,Ie),Ie=Ie.sibling;return null}function N(Ue,Ie){for(Ue=new Map;Ie!==null;)Ie.key!==null?Ue.set(Ie.key,Ie):Ue.set(Ie.index,Ie),Ie=Ie.sibling;return Ue}function D(Ue,Ie){return Ue=cd(Ue,Ie),Ue.index=0,Ue.sibling=null,Ue}function H(Ue,Ie,We){return Ue.index=We,x?(We=Ue.alternate,We!==null?(We=We.index,We<Ie?(Ue.flags|=2,Ie):We):(Ue.flags|=2,Ie)):(Ue.flags|=1048576,Ie)}function fe(Ue){return x&&Ue.alternate===null&&(Ue.flags|=2),Ue}function Re(Ue,Ie,We,Ot){return Ie===null||Ie.tag!==6?(Ie=mN(We,Ue.mode,Ot),Ie.return=Ue,Ie):(Ie=D(Ie,We),Ie.return=Ue,Ie)}function Je(Ue,Ie,We,Ot){var Xt=We.type;return Xt===u?Bt(Ue,Ie,We.props.children,Ot,We.key):Ie!==null&&(Ie.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===_&&SV(Xt)===Ie.type)?(Ot=D(Ie,We.props),Ot.ref=Vy(Ue,Ie,We),Ot.return=Ue,Ot):(Ot=wS(We.type,We.key,We.props,null,Ue.mode,Ot),Ot.ref=Vy(Ue,Ie,We),Ot.return=Ue,Ot)}function bt(Ue,Ie,We,Ot){return Ie===null||Ie.tag!==4||Ie.stateNode.containerInfo!==We.containerInfo||Ie.stateNode.implementation!==We.implementation?(Ie=gN(We,Ue.mode,Ot),Ie.return=Ue,Ie):(Ie=D(Ie,We.children||[]),Ie.return=Ue,Ie)}function Bt(Ue,Ie,We,Ot,Xt){return Ie===null||Ie.tag!==7?(Ie=uh(We,Ue.mode,Ot,Xt),Ie.return=Ue,Ie):(Ie=D(Ie,We),Ie.return=Ue,Ie)}function En(Ue,Ie,We){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number")return Ie=mN(""+Ie,Ue.mode,We),Ie.return=Ue,Ie;if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case l:return We=wS(Ie.type,Ie.key,Ie.props,null,Ue.mode,We),We.ref=Vy(Ue,null,Ie),We.return=Ue,We;case c:return Ie=gN(Ie,Ue.mode,We),Ie.return=Ue,Ie;case _:var Ot=Ie._init;return En(Ue,Ot(Ie._payload),We)}if(V(Ie)||A(Ie))return Ie=uh(Ie,Ue.mode,We,null),Ie.return=Ue,Ie;H_(Ue,Ie)}return null}function en(Ue,Ie,We,Ot){var Xt=Ie!==null?Ie.key:null;if(typeof We=="string"&&We!==""||typeof We=="number")return Xt!==null?null:Re(Ue,Ie,""+We,Ot);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case l:return We.key===Xt?Je(Ue,Ie,We,Ot):null;case c:return We.key===Xt?bt(Ue,Ie,We,Ot):null;case _:return Xt=We._init,en(Ue,Ie,Xt(We._payload),Ot)}if(V(We)||A(We))return Xt!==null?null:Bt(Ue,Ie,We,Ot,null);H_(Ue,We)}return null}function wr(Ue,Ie,We,Ot,Xt){if(typeof Ot=="string"&&Ot!==""||typeof Ot=="number")return Ue=Ue.get(We)||null,Re(Ie,Ue,""+Ot,Xt);if(typeof Ot=="object"&&Ot!==null){switch(Ot.$$typeof){case l:return Ue=Ue.get(Ot.key===null?We:Ot.key)||null,Je(Ie,Ue,Ot,Xt);case c:return Ue=Ue.get(Ot.key===null?We:Ot.key)||null,bt(Ie,Ue,Ot,Xt);case _:var Dn=Ot._init;return wr(Ue,Ie,We,Dn(Ot._payload),Xt)}if(V(Ot)||A(Ot))return Ue=Ue.get(We)||null,Bt(Ie,Ue,Ot,Xt,null);H_(Ie,Ot)}return null}function Yt(Ue,Ie,We,Ot){for(var Xt=null,Dn=null,Tn=Ie,tr=Ie=0,os=null;Tn!==null&&tr<We.length;tr++){Tn.index>tr?(os=Tn,Tn=null):os=Tn.sibling;var nr=en(Ue,Tn,We[tr],Ot);if(nr===null){Tn===null&&(Tn=os);break}x&&Tn&&nr.alternate===null&&b(Ue,Tn),Ie=H(nr,Ie,tr),Dn===null?Xt=nr:Dn.sibling=nr,Dn=nr,Tn=os}if(tr===We.length)return C(Ue,Tn),$r&&rh(Ue,tr),Xt;if(Tn===null){for(;tr<We.length;tr++)Tn=En(Ue,We[tr],Ot),Tn!==null&&(Ie=H(Tn,Ie,tr),Dn===null?Xt=Tn:Dn.sibling=Tn,Dn=Tn);return $r&&rh(Ue,tr),Xt}for(Tn=N(Ue,Tn);tr<We.length;tr++)os=wr(Tn,Ue,tr,We[tr],Ot),os!==null&&(x&&os.alternate!==null&&Tn.delete(os.key===null?tr:os.key),Ie=H(os,Ie,tr),Dn===null?Xt=os:Dn.sibling=os,Dn=os);return x&&Tn.forEach(function(ud){return b(Ue,ud)}),$r&&rh(Ue,tr),Xt}function Ps(Ue,Ie,We,Ot){var Xt=A(We);if(typeof Xt!="function")throw Error(a(150));if(We=Xt.call(We),We==null)throw Error(a(151));for(var Dn=Xt=null,Tn=Ie,tr=Ie=0,os=null,nr=We.next();Tn!==null&&!nr.done;tr++,nr=We.next()){Tn.index>tr?(os=Tn,Tn=null):os=Tn.sibling;var ud=en(Ue,Tn,nr.value,Ot);if(ud===null){Tn===null&&(Tn=os);break}x&&Tn&&ud.alternate===null&&b(Ue,Tn),Ie=H(ud,Ie,tr),Dn===null?Xt=ud:Dn.sibling=ud,Dn=ud,Tn=os}if(nr.done)return C(Ue,Tn),$r&&rh(Ue,tr),Xt;if(Tn===null){for(;!nr.done;tr++,nr=We.next())nr=En(Ue,nr.value,Ot),nr!==null&&(Ie=H(nr,Ie,tr),Dn===null?Xt=nr:Dn.sibling=nr,Dn=nr);return $r&&rh(Ue,tr),Xt}for(Tn=N(Ue,Tn);!nr.done;tr++,nr=We.next())nr=wr(Tn,Ue,tr,nr.value,Ot),nr!==null&&(x&&nr.alternate!==null&&Tn.delete(nr.key===null?tr:nr.key),Ie=H(nr,Ie,tr),Dn===null?Xt=nr:Dn.sibling=nr,Dn=nr);return x&&Tn.forEach(function(tve){return b(Ue,tve)}),$r&&rh(Ue,tr),Xt}function Do(Ue,Ie,We,Ot){if(typeof We=="object"&&We!==null&&We.type===u&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case l:e:{for(var Xt=We.key,Dn=Ie;Dn!==null;){if(Dn.key===Xt){if(Xt=We.type,Xt===u){if(Dn.tag===7){C(Ue,Dn.sibling),Ie=D(Dn,We.props.children),Ie.return=Ue,Ue=Ie;break e}}else if(Dn.elementType===Xt||typeof Xt=="object"&&Xt!==null&&Xt.$$typeof===_&&SV(Xt)===Dn.type){C(Ue,Dn.sibling),Ie=D(Dn,We.props),Ie.ref=Vy(Ue,Dn,We),Ie.return=Ue,Ue=Ie;break e}C(Ue,Dn);break}else b(Ue,Dn);Dn=Dn.sibling}We.type===u?(Ie=uh(We.props.children,Ue.mode,Ot,We.key),Ie.return=Ue,Ue=Ie):(Ot=wS(We.type,We.key,We.props,null,Ue.mode,Ot),Ot.ref=Vy(Ue,Ie,We),Ot.return=Ue,Ue=Ot)}return fe(Ue);case c:e:{for(Dn=We.key;Ie!==null;){if(Ie.key===Dn)if(Ie.tag===4&&Ie.stateNode.containerInfo===We.containerInfo&&Ie.stateNode.implementation===We.implementation){C(Ue,Ie.sibling),Ie=D(Ie,We.children||[]),Ie.return=Ue,Ue=Ie;break e}else{C(Ue,Ie);break}else b(Ue,Ie);Ie=Ie.sibling}Ie=gN(We,Ue.mode,Ot),Ie.return=Ue,Ue=Ie}return fe(Ue);case _:return Dn=We._init,Do(Ue,Ie,Dn(We._payload),Ot)}if(V(We))return Yt(Ue,Ie,We,Ot);if(A(We))return Ps(Ue,Ie,We,Ot);H_(Ue,We)}return typeof We=="string"&&We!==""||typeof We=="number"?(We=""+We,Ie!==null&&Ie.tag===6?(C(Ue,Ie.sibling),Ie=D(Ie,We),Ie.return=Ue,Ue=Ie):(C(Ue,Ie),Ie=mN(We,Ue.mode,Ot),Ie.return=Ue,Ue=Ie),fe(Ue)):C(Ue,Ie)}return Do}var Dm=EV(!0),TV=EV(!1),$y={},Oo=yt($y),Hy=yt($y),Lm=yt($y);function sc(x){if(x===$y)throw Error(a(174));return x}function IO(x,b){ut(Lm,b),ut(Hy,x),ut(Oo,$y),x=K(b),ft(Oo),ut(Oo,x)}function jm(){ft(Oo),ft(Hy),ft(Lm)}function AV(x){var b=sc(Lm.current),C=sc(Oo.current);b=j(C,x.type,b),C!==b&&(ut(Hy,x),ut(Oo,b))}function kO(x){Hy.current===x&&(ft(Oo),ft(Hy))}var Kr=yt(0);function G_(x){for(var b=x;b!==null;){if(b.tag===13){var C=b.memoizedState;if(C!==null&&(C=C.dehydrated,C===null||yr(C)||Xr(C)))return b}else if(b.tag===19&&b.memoizedProps.revealOrder!==void 0){if(b.flags&128)return b}else if(b.child!==null){b.child.return=b,b=b.child;continue}if(b===x)break;for(;b.sibling===null;){if(b.return===null||b.return===x)return null;b=b.return}b.sibling.return=b.return,b=b.sibling}return null}var DO=[];function LO(){for(var x=0;x<DO.length;x++){var b=DO[x];_e?b._workInProgressVersionPrimary=null:b._workInProgressVersionSecondary=null}DO.length=0}var W_=o.ReactCurrentDispatcher,No=o.ReactCurrentBatchConfig,Fm=0,si=null,As=null,as=null,X_=!1,Gy=!1,Wy=0,Age=0;function Ms(){throw Error(a(321))}function jO(x,b){if(b===null)return!1;for(var C=0;C<b.length&&C<x.length;C++)if(!Ya(x[C],b[C]))return!1;return!0}function FO(x,b,C,N,D,H){if(Fm=H,si=b,b.memoizedState=null,b.updateQueue=null,b.lanes=0,W_.current=x===null||x.memoizedState===null?Rge:Oge,x=C(N,D),Gy){H=0;do{if(Gy=!1,Wy=0,25<=H)throw Error(a(301));H+=1,as=As=null,b.updateQueue=null,W_.current=Nge,x=C(N,D)}while(Gy)}if(W_.current=J_,b=As!==null&&As.next!==null,Fm=0,as=As=si=null,X_=!1,b)throw Error(a(300));return x}function UO(){var x=Wy!==0;return Wy=0,x}function Jc(){var x={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return as===null?si.memoizedState=as=x:as=as.next=x,as}function ac(){if(As===null){var x=si.alternate;x=x!==null?x.memoizedState:null}else x=As.next;var b=as===null?si.memoizedState:as.next;if(b!==null)as=b,As=x;else{if(x===null)throw Error(a(310));As=x,x={memoizedState:As.memoizedState,baseState:As.baseState,baseQueue:As.baseQueue,queue:As.queue,next:null},as===null?si.memoizedState=as=x:as=as.next=x}return as}function ih(x,b){return typeof b=="function"?b(x):b}function q_(x){var b=ac(),C=b.queue;if(C===null)throw Error(a(311));C.lastRenderedReducer=x;var N=As,D=N.baseQueue,H=C.pending;if(H!==null){if(D!==null){var fe=D.next;D.next=H.next,H.next=fe}N.baseQueue=D=H,C.pending=null}if(D!==null){H=D.next,N=N.baseState;var Re=fe=null,Je=null,bt=H;do{var Bt=bt.lane;if((Fm&Bt)===Bt)Je!==null&&(Je=Je.next={lane:0,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null}),N=bt.hasEagerState?bt.eagerState:x(N,bt.action);else{var En={lane:Bt,action:bt.action,hasEagerState:bt.hasEagerState,eagerState:bt.eagerState,next:null};Je===null?(Re=Je=En,fe=N):Je=Je.next=En,si.lanes|=Bt,Bm|=Bt}bt=bt.next}while(bt!==null&&bt!==H);Je===null?fe=N:Je.next=Re,Ya(N,b.memoizedState)||(eo=!0),b.memoizedState=N,b.baseState=fe,b.baseQueue=Je,C.lastRenderedState=N}if(x=C.interleaved,x!==null){D=x;do H=D.lane,si.lanes|=H,Bm|=H,D=D.next;while(D!==x)}else D===null&&(C.lanes=0);return[b.memoizedState,C.dispatch]}function K_(x){var b=ac(),C=b.queue;if(C===null)throw Error(a(311));C.lastRenderedReducer=x;var N=C.dispatch,D=C.pending,H=b.memoizedState;if(D!==null){C.pending=null;var fe=D=D.next;do H=x(H,fe.action),fe=fe.next;while(fe!==D);Ya(H,b.memoizedState)||(eo=!0),b.memoizedState=H,b.baseQueue===null&&(b.baseState=H),C.lastRenderedState=H}return[H,N]}function MV(){}function CV(x,b){var C=si,N=ac(),D=b(),H=!Ya(N.memoizedState,D);if(H&&(N.memoizedState=D,eo=!0),N=N.queue,qy(OV.bind(null,C,N,x),[x]),N.getSnapshot!==b||H||as!==null&&as.memoizedState.tag&1){if(C.flags|=2048,Xy(9,RV.bind(null,C,N,D,b),void 0,null),Ri===null)throw Error(a(349));Fm&30||PV(C,b,D)}return D}function PV(x,b,C){x.flags|=16384,x={getSnapshot:b,value:C},b=si.updateQueue,b===null?(b={lastEffect:null,stores:null},si.updateQueue=b,b.stores=[x]):(C=b.stores,C===null?b.stores=[x]:C.push(x))}function RV(x,b,C,N){b.value=C,b.getSnapshot=N,NV(b)&&Io(x,1,-1)}function OV(x,b,C){return C(function(){NV(b)&&Io(x,1,-1)})}function NV(x){var b=x.getSnapshot;x=x.value;try{var C=b();return!Ya(x,C)}catch{return!0}}function BO(x){var b=Jc();return typeof x=="function"&&(x=x()),b.memoizedState=b.baseState=x,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ih,lastRenderedState:x},b.queue=x,x=x.dispatch=Pge.bind(null,si,x),[b.memoizedState,x]}function Xy(x,b,C,N){return x={tag:x,create:b,destroy:C,deps:N,next:null},b=si.updateQueue,b===null?(b={lastEffect:null,stores:null},si.updateQueue=b,b.lastEffect=x.next=x):(C=b.lastEffect,C===null?b.lastEffect=x.next=x:(N=C.next,C.next=x,x.next=N,b.lastEffect=x)),x}function IV(){return ac().memoizedState}function Y_(x,b,C,N){var D=Jc();si.flags|=x,D.memoizedState=Xy(1|b,C,void 0,N===void 0?null:N)}function Z_(x,b,C,N){var D=ac();N=N===void 0?null:N;var H=void 0;if(As!==null){var fe=As.memoizedState;if(H=fe.destroy,N!==null&&jO(N,fe.deps)){D.memoizedState=Xy(b,C,H,N);return}}si.flags|=x,D.memoizedState=Xy(1|b,C,H,N)}function zO(x,b){return Y_(8390656,8,x,b)}function qy(x,b){return Z_(2048,8,x,b)}function kV(x,b){return Z_(4,2,x,b)}function DV(x,b){return Z_(4,4,x,b)}function LV(x,b){if(typeof b=="function")return x=x(),b(x),function(){b(null)};if(b!=null)return x=x(),b.current=x,function(){b.current=null}}function jV(x,b,C){return C=C!=null?C.concat([x]):null,Z_(4,4,LV.bind(null,b,x),C)}function VO(){}function FV(x,b){var C=ac();b=b===void 0?null:b;var N=C.memoizedState;return N!==null&&b!==null&&jO(b,N[1])?N[0]:(C.memoizedState=[x,b],x)}function UV(x,b){var C=ac();b=b===void 0?null:b;var N=C.memoizedState;return N!==null&&b!==null&&jO(b,N[1])?N[0]:(x=x(),C.memoizedState=[x,b],x)}function Mge(x,b){var C=zn;zn=C!==0&&4>C?C:4,x(!0);var N=No.transition;No.transition={};try{x(!1),b()}finally{zn=C,No.transition=N}}function BV(){return ac().memoizedState}function Cge(x,b,C){var N=od(x);C={lane:N,action:C,hasEagerState:!1,eagerState:null,next:null},zV(x)?VV(b,C):($V(x,b,C),C=ra(),x=Io(x,N,C),x!==null&&HV(x,b,N))}function Pge(x,b,C){var N=od(x),D={lane:N,action:C,hasEagerState:!1,eagerState:null,next:null};if(zV(x))VV(b,D);else{$V(x,b,D);var H=x.alternate;if(x.lanes===0&&(H===null||H.lanes===0)&&(H=b.lastRenderedReducer,H!==null))try{var fe=b.lastRenderedState,Re=H(fe,C);if(D.hasEagerState=!0,D.eagerState=Re,Ya(Re,fe))return}catch{}finally{}C=ra(),x=Io(x,N,C),x!==null&&HV(x,b,N)}}function zV(x){var b=x.alternate;return x===si||b!==null&&b===si}function VV(x,b){Gy=X_=!0;var C=x.pending;C===null?b.next=b:(b.next=C.next,C.next=b),x.pending=b}function $V(x,b,C){Ri!==null&&x.mode&1&&!(jn&2)?(x=b.interleaved,x===null?(C.next=C,Za===null?Za=[b]:Za.push(b)):(C.next=x.next,x.next=C),b.interleaved=C):(x=b.pending,x===null?C.next=C:(C.next=x.next,x.next=C),b.pending=C)}function HV(x,b,C){if(C&4194240){var N=b.lanes;N&=x.pendingLanes,C|=N,b.lanes=C,rc(x,C)}}var J_={readContext:vi,useCallback:Ms,useContext:Ms,useEffect:Ms,useImperativeHandle:Ms,useInsertionEffect:Ms,useLayoutEffect:Ms,useMemo:Ms,useReducer:Ms,useRef:Ms,useState:Ms,useDebugValue:Ms,useDeferredValue:Ms,useTransition:Ms,useMutableSource:Ms,useSyncExternalStore:Ms,useId:Ms,unstable_isNewReconciler:!1},Rge={readContext:vi,useCallback:function(x,b){return Jc().memoizedState=[x,b===void 0?null:b],x},useContext:vi,useEffect:zO,useImperativeHandle:function(x,b,C){return C=C!=null?C.concat([x]):null,Y_(4194308,4,LV.bind(null,b,x),C)},useLayoutEffect:function(x,b){return Y_(4194308,4,x,b)},useInsertionEffect:function(x,b){return Y_(4,2,x,b)},useMemo:function(x,b){var C=Jc();return b=b===void 0?null:b,x=x(),C.memoizedState=[x,b],x},useReducer:function(x,b,C){var N=Jc();return b=C!==void 0?C(b):b,N.memoizedState=N.baseState=b,x={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:x,lastRenderedState:b},N.queue=x,x=x.dispatch=Cge.bind(null,si,x),[N.memoizedState,x]},useRef:function(x){var b=Jc();return x={current:x},b.memoizedState=x},useState:BO,useDebugValue:VO,useDeferredValue:function(x){var b=BO(x),C=b[0],N=b[1];return zO(function(){var D=No.transition;No.transition={};try{N(x)}finally{No.transition=D}},[x]),C},useTransition:function(){var x=BO(!1),b=x[0];return x=Mge.bind(null,x[1]),Jc().memoizedState=x,[b,x]},useMutableSource:function(){},useSyncExternalStore:function(x,b,C){var N=si,D=Jc();if($r){if(C===void 0)throw Error(a(407));C=C()}else{if(C=b(),Ri===null)throw Error(a(349));Fm&30||PV(N,b,C)}D.memoizedState=C;var H={value:C,getSnapshot:b};return D.queue=H,zO(OV.bind(null,N,H,x),[x]),N.flags|=2048,Xy(9,RV.bind(null,N,H,C,b),void 0,null),C},useId:function(){var x=Jc(),b=Ri.identifierPrefix;if($r){var C=Zc,N=Yc;C=(N&~(1<<32-er(N)-1)).toString(32)+C,b=":"+b+"R"+C,C=Wy++,0<C&&(b+="H"+C.toString(32)),b+=":"}else C=Age++,b=":"+b+"r"+C.toString(32)+":";return x.memoizedState=b},unstable_isNewReconciler:!1},Oge={readContext:vi,useCallback:FV,useContext:vi,useEffect:qy,useImperativeHandle:jV,useInsertionEffect:kV,useLayoutEffect:DV,useMemo:UV,useReducer:q_,useRef:IV,useState:function(){return q_(ih)},useDebugValue:VO,useDeferredValue:function(x){var b=q_(ih),C=b[0],N=b[1];return qy(function(){var D=No.transition;No.transition={};try{N(x)}finally{No.transition=D}},[x]),C},useTransition:function(){var x=q_(ih)[0],b=ac().memoizedState;return[x,b]},useMutableSource:MV,useSyncExternalStore:CV,useId:BV,unstable_isNewReconciler:!1},Nge={readContext:vi,useCallback:FV,useContext:vi,useEffect:qy,useImperativeHandle:jV,useInsertionEffect:kV,useLayoutEffect:DV,useMemo:UV,useReducer:K_,useRef:IV,useState:function(){return K_(ih)},useDebugValue:VO,useDeferredValue:function(x){var b=K_(ih),C=b[0],N=b[1];return qy(function(){var D=No.transition;No.transition={};try{N(x)}finally{No.transition=D}},[x]),C},useTransition:function(){var x=K_(ih)[0],b=ac().memoizedState;return[x,b]},useMutableSource:MV,useSyncExternalStore:CV,useId:BV,unstable_isNewReconciler:!1};function $O(x,b){try{var C="",N=b;do C+=th(N),N=N.return;while(N);var D=C}catch(H){D=`
Error generating stack: `+H.message+`
`+H.stack}return{value:x,source:b,stack:D}}function HO(x,b){try{console.error(b.value)}catch(C){setTimeout(function(){throw C})}}var Ige=typeof WeakMap=="function"?WeakMap:Map;function GV(x,b,C){C=Kc(-1,C),C.tag=3,C.payload={element:null};var N=b.value;return C.callback=function(){pS||(pS=!0,lN=N),HO(x,b)},C}function WV(x,b,C){C=Kc(-1,C),C.tag=3;var N=x.type.getDerivedStateFromError;if(typeof N=="function"){var D=b.value;C.payload=function(){return N(D)},C.callback=function(){HO(x,b)}}var H=x.stateNode;return H!==null&&typeof H.componentDidCatch=="function"&&(C.callback=function(){HO(x,b),typeof N!="function"&&(sd===null?sd=new Set([this]):sd.add(this));var fe=b.stack;this.componentDidCatch(b.value,{componentStack:fe!==null?fe:""})}),C}function XV(x,b,C){var N=x.pingCache;if(N===null){N=x.pingCache=new Ige;var D=new Set;N.set(b,D)}else D=N.get(b),D===void 0&&(D=new Set,N.set(b,D));D.has(C)||(D.add(C),x=Xge.bind(null,x,b,C),b.then(x,x))}function qV(x){do{var b;if((b=x.tag===13)&&(b=x.memoizedState,b=b!==null?b.dehydrated!==null:!0),b)return x;x=x.return}while(x!==null);return null}function KV(x,b,C,N,D){return x.mode&1?(x.flags|=65536,x.lanes=D,x):(x===b?x.flags|=65536:(x.flags|=128,C.flags|=131072,C.flags&=-52805,C.tag===1&&(C.alternate===null?C.tag=17:(b=Kc(-1,1),b.tag=2,id(C,b))),C.lanes|=1),x)}function oc(x){x.flags|=4}function YV(x,b){if(x!==null&&x.child===b.child)return!0;if(b.flags&16)return!1;for(x=b.child;x!==null;){if(x.flags&12854||x.subtreeFlags&12854)return!1;x=x.sibling}return!0}var Ky,Yy,Q_,eS;if(ye)Ky=function(x,b){for(var C=b.child;C!==null;){if(C.tag===5||C.tag===6)X(x,C.stateNode);else if(C.tag!==4&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===b)break;for(;C.sibling===null;){if(C.return===null||C.return===b)return;C=C.return}C.sibling.return=C.return,C=C.sibling}},Yy=function(){},Q_=function(x,b,C,N,D){if(x=x.memoizedProps,x!==N){var H=b.stateNode,fe=sc(Oo.current);C=oe(H,C,x,N,D,fe),(b.updateQueue=C)&&oc(b)}},eS=function(x,b,C,N){C!==N&&oc(b)};else if(ce){Ky=function(x,b,C,N){for(var D=b.child;D!==null;){if(D.tag===5){var H=D.stateNode;C&&N&&(H=Mt(H,D.type,D.memoizedProps,D)),X(x,H)}else if(D.tag===6)H=D.stateNode,C&&N&&(H=ln(H,D.memoizedProps,D)),X(x,H);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)H=D.child,H!==null&&(H.return=D),Ky(x,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===b)break;for(;D.sibling===null;){if(D.return===null||D.return===b)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};var ZV=function(x,b,C,N){for(var D=b.child;D!==null;){if(D.tag===5){var H=D.stateNode;C&&N&&(H=Mt(H,D.type,D.memoizedProps,D)),$e(x,H)}else if(D.tag===6)H=D.stateNode,C&&N&&(H=ln(H,D.memoizedProps,D)),$e(x,H);else if(D.tag!==4){if(D.tag===22&&D.memoizedState!==null)H=D.child,H!==null&&(H.return=D),ZV(x,D,!0,!0);else if(D.child!==null){D.child.return=D,D=D.child;continue}}if(D===b)break;for(;D.sibling===null;){if(D.return===null||D.return===b)return;D=D.return}D.sibling.return=D.return,D=D.sibling}};Yy=function(x,b){var C=b.stateNode;if(!YV(x,b)){x=C.containerInfo;var N=je(x);ZV(N,b,!1,!1),C.pendingChildren=N,oc(b),rt(x,N)}},Q_=function(x,b,C,N,D){var H=x.stateNode,fe=x.memoizedProps;if((x=YV(x,b))&&fe===N)b.stateNode=H;else{var Re=b.stateNode,Je=sc(Oo.current),bt=null;fe!==N&&(bt=oe(Re,C,fe,N,D,Je)),x&&bt===null?b.stateNode=H:(H=qe(H,bt,C,fe,N,b,x,Re),Q(H,C,N,D,Je)&&oc(b),b.stateNode=H,x?oc(b):Ky(H,b,!1,!1))}},eS=function(x,b,C,N){C!==N?(x=sc(Lm.current),C=sc(Oo.current),b.stateNode=ae(N,x,C,b),oc(b)):b.stateNode=x.stateNode}}else Yy=function(){},Q_=function(){},eS=function(){};function Zy(x,b){if(!$r)switch(x.tailMode){case"hidden":b=x.tail;for(var C=null;b!==null;)b.alternate!==null&&(C=b),b=b.sibling;C===null?x.tail=null:C.sibling=null;break;case"collapsed":C=x.tail;for(var N=null;C!==null;)C.alternate!==null&&(N=C),C=C.sibling;N===null?b||x.tail===null?x.tail=null:x.tail.sibling=null:N.sibling=null}}function Cs(x){var b=x.alternate!==null&&x.alternate.child===x.child,C=0,N=0;if(b)for(var D=x.child;D!==null;)C|=D.lanes|D.childLanes,N|=D.subtreeFlags&14680064,N|=D.flags&14680064,D.return=x,D=D.sibling;else for(D=x.child;D!==null;)C|=D.lanes|D.childLanes,N|=D.subtreeFlags,N|=D.flags,D.return=x,D=D.sibling;return x.subtreeFlags|=N,x.childLanes=C,b}function kge(x,b,C){var N=b.pendingProps;switch(PO(b),b.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cs(b),null;case 1:return Ct(b.type)&&dn(),Cs(b),null;case 3:return N=b.stateNode,jm(),ft(kt),ft(Wt),LO(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(x===null||x.child===null)&&(zy(b)?oc(b):x===null||x.memoizedState.isDehydrated&&!(b.flags&256)||(b.flags|=1024,ml!==null&&(dN(ml),ml=null))),Yy(x,b),Cs(b),null;case 5:kO(b),C=sc(Lm.current);var D=b.type;if(x!==null&&b.stateNode!=null)Q_(x,b,D,N,C),x.ref!==b.ref&&(b.flags|=512,b.flags|=2097152);else{if(!N){if(b.stateNode===null)throw Error(a(166));return Cs(b),null}if(x=sc(Oo.current),zy(b)){if(!De)throw Error(a(175));x=q(b.stateNode,b.type,b.memoizedProps,C,x,b,!By),b.updateQueue=x,x!==null&&oc(b)}else{var H=G(D,N,C,x,b);Ky(H,b,!1,!1),b.stateNode=H,Q(H,D,N,C,x)&&oc(b)}b.ref!==null&&(b.flags|=512,b.flags|=2097152)}return Cs(b),null;case 6:if(x&&b.stateNode!=null)eS(x,b,x.memoizedProps,N);else{if(typeof N!="string"&&b.stateNode===null)throw Error(a(166));if(x=sc(Lm.current),C=sc(Oo.current),zy(b)){if(!De)throw Error(a(176));if(x=b.stateNode,N=b.memoizedProps,(C=se(x,N,b,!By))&&(D=Ja,D!==null))switch(H=(D.mode&1)!==0,D.tag){case 3:Y(D.stateNode.containerInfo,x,N,H);break;case 5:pe(D.type,D.memoizedProps,D.stateNode,x,N,H)}C&&oc(b)}else b.stateNode=ae(N,x,C,b)}return Cs(b),null;case 13:if(ft(Kr),N=b.memoizedState,$r&&Qa!==null&&b.mode&1&&!(b.flags&128)){for(x=Qa;x;)x=ii(x);return km(),b.flags|=98560,b}if(N!==null&&N.dehydrated!==null){if(N=zy(b),x===null){if(!N)throw Error(a(318));if(!De)throw Error(a(344));if(x=b.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(a(317));Se(x,b)}else km(),!(b.flags&128)&&(b.memoizedState=null),b.flags|=4;return Cs(b),null}return ml!==null&&(dN(ml),ml=null),b.flags&128?(b.lanes=C,b):(N=N!==null,C=!1,x===null?zy(b):C=x.memoizedState!==null,N&&!C&&(b.child.flags|=8192,b.mode&1&&(x===null||Kr.current&1?$i===0&&($i=3):hN())),b.updateQueue!==null&&(b.flags|=4),Cs(b),null);case 4:return jm(),Yy(x,b),x===null&&Z(b.stateNode.containerInfo),Cs(b),null;case 10:return ss(b.type._context),Cs(b),null;case 17:return Ct(b.type)&&dn(),Cs(b),null;case 19:if(ft(Kr),D=b.memoizedState,D===null)return Cs(b),null;if(N=(b.flags&128)!==0,H=D.rendering,H===null)if(N)Zy(D,!1);else{if($i!==0||x!==null&&x.flags&128)for(x=b.child;x!==null;){if(H=G_(x),H!==null){for(b.flags|=128,Zy(D,!1),x=H.updateQueue,x!==null&&(b.updateQueue=x,b.flags|=4),b.subtreeFlags=0,x=C,N=b.child;N!==null;)C=N,D=x,C.flags&=14680066,H=C.alternate,H===null?(C.childLanes=0,C.lanes=D,C.child=null,C.subtreeFlags=0,C.memoizedProps=null,C.memoizedState=null,C.updateQueue=null,C.dependencies=null,C.stateNode=null):(C.childLanes=H.childLanes,C.lanes=H.lanes,C.child=H.child,C.subtreeFlags=0,C.deletions=null,C.memoizedProps=H.memoizedProps,C.memoizedState=H.memoizedState,C.updateQueue=H.updateQueue,C.type=H.type,D=H.dependencies,C.dependencies=D===null?null:{lanes:D.lanes,firstContext:D.firstContext}),N=N.sibling;return ut(Kr,Kr.current&1|2),b.child}x=x.sibling}D.tail!==null&&qr()>oN&&(b.flags|=128,N=!0,Zy(D,!1),b.lanes=4194304)}else{if(!N)if(x=G_(H),x!==null){if(b.flags|=128,N=!0,x=x.updateQueue,x!==null&&(b.updateQueue=x,b.flags|=4),Zy(D,!0),D.tail===null&&D.tailMode==="hidden"&&!H.alternate&&!$r)return Cs(b),null}else 2*qr()-D.renderingStartTime>oN&&C!==1073741824&&(b.flags|=128,N=!0,Zy(D,!1),b.lanes=4194304);D.isBackwards?(H.sibling=b.child,b.child=H):(x=D.last,x!==null?x.sibling=H:b.child=H,D.last=H)}return D.tail!==null?(b=D.tail,D.rendering=b,D.tail=b.sibling,D.renderingStartTime=qr(),b.sibling=null,x=Kr.current,ut(Kr,N?x&1|2:x&1),b):(Cs(b),null);case 22:case 23:return fN(),N=b.memoizedState!==null,x!==null&&x.memoizedState!==null!==N&&(b.flags|=8192),N&&b.mode&1?to&1073741824&&(Cs(b),ye&&b.subtreeFlags&6&&(b.flags|=8192)):Cs(b),null;case 24:return null;case 25:return null}throw Error(a(156,b.tag))}var Dge=o.ReactCurrentOwner,eo=!1;function na(x,b,C,N){b.child=x===null?TV(b,null,C,N):Dm(b,x.child,C,N)}function JV(x,b,C,N,D){C=C.render;var H=b.ref;return gi(b,D),N=FO(x,b,C,N,H,D),C=UO(),x!==null&&!eo?(b.updateQueue=x.updateQueue,b.flags&=-2053,x.lanes&=~D,Qc(x,b,D)):($r&&C&&CO(b),b.flags|=1,na(x,b,N,D),b.child)}function QV(x,b,C,N,D){if(x===null){var H=C.type;return typeof H=="function"&&!pN(H)&&H.defaultProps===void 0&&C.compare===null&&C.defaultProps===void 0?(b.tag=15,b.type=H,e8(x,b,H,N,D)):(x=wS(C.type,null,N,b,b.mode,D),x.ref=b.ref,x.return=b,b.child=x)}if(H=x.child,!(x.lanes&D)){var fe=H.memoizedProps;if(C=C.compare,C=C!==null?C:eh,C(fe,N)&&x.ref===b.ref)return Qc(x,b,D)}return b.flags|=1,x=cd(H,N),x.ref=b.ref,x.return=b,b.child=x}function e8(x,b,C,N,D){if(x!==null&&eh(x.memoizedProps,N)&&x.ref===b.ref)if(eo=!1,(x.lanes&D)!==0)x.flags&131072&&(eo=!0);else return b.lanes=x.lanes,Qc(x,b,D);return GO(x,b,C,N,D)}function t8(x,b,C){var N=b.pendingProps,D=N.children,H=x!==null?x.memoizedState:null;if(N.mode==="hidden")if(!(b.mode&1))b.memoizedState={baseLanes:0,cachePool:null},ut(Um,to),to|=C;else if(C&1073741824)b.memoizedState={baseLanes:0,cachePool:null},N=H!==null?H.baseLanes:C,ut(Um,to),to|=N;else return x=H!==null?H.baseLanes|C:C,b.lanes=b.childLanes=1073741824,b.memoizedState={baseLanes:x,cachePool:null},b.updateQueue=null,ut(Um,to),to|=x,null;else H!==null?(N=H.baseLanes|C,b.memoizedState=null):N=C,ut(Um,to),to|=N;return na(x,b,D,C),b.child}function n8(x,b){var C=b.ref;(x===null&&C!==null||x!==null&&x.ref!==C)&&(b.flags|=512,b.flags|=2097152)}function GO(x,b,C,N,D){var H=Ct(C)?Qt:Wt.current;return H=sn(b,H),gi(b,D),C=FO(x,b,C,N,H,D),N=UO(),x!==null&&!eo?(b.updateQueue=x.updateQueue,b.flags&=-2053,x.lanes&=~D,Qc(x,b,D)):($r&&N&&CO(b),b.flags|=1,na(x,b,C,D),b.child)}function r8(x,b,C,N,D){if(Ct(C)){var H=!0;kn(b)}else H=!1;if(gi(b,D),b.stateNode===null)x!==null&&(x.alternate=null,b.alternate=null,b.flags|=2),vV(b,C,N),MO(b,C,N,D),N=!0;else if(x===null){var fe=b.stateNode,Re=b.memoizedProps;fe.props=Re;var Je=fe.context,bt=C.contextType;typeof bt=="object"&&bt!==null?bt=vi(bt):(bt=Ct(C)?Qt:Wt.current,bt=sn(b,bt));var Bt=C.getDerivedStateFromProps,En=typeof Bt=="function"||typeof fe.getSnapshotBeforeUpdate=="function";En||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(Re!==N||Je!==bt)&&yV(b,fe,N,bt),rd=!1;var en=b.memoizedState;fe.state=en,B_(b,N,fe,D),Je=b.memoizedState,Re!==N||en!==Je||kt.current||rd?(typeof Bt=="function"&&(AO(b,C,Bt,N),Je=b.memoizedState),(Re=rd||gV(b,C,Re,N,en,Je,bt))?(En||typeof fe.UNSAFE_componentWillMount!="function"&&typeof fe.componentWillMount!="function"||(typeof fe.componentWillMount=="function"&&fe.componentWillMount(),typeof fe.UNSAFE_componentWillMount=="function"&&fe.UNSAFE_componentWillMount()),typeof fe.componentDidMount=="function"&&(b.flags|=4194308)):(typeof fe.componentDidMount=="function"&&(b.flags|=4194308),b.memoizedProps=N,b.memoizedState=Je),fe.props=N,fe.state=Je,fe.context=bt,N=Re):(typeof fe.componentDidMount=="function"&&(b.flags|=4194308),N=!1)}else{fe=b.stateNode,fV(x,b),Re=b.memoizedProps,bt=b.type===b.elementType?Re:ea(b.type,Re),fe.props=bt,En=b.pendingProps,en=fe.context,Je=C.contextType,typeof Je=="object"&&Je!==null?Je=vi(Je):(Je=Ct(C)?Qt:Wt.current,Je=sn(b,Je));var wr=C.getDerivedStateFromProps;(Bt=typeof wr=="function"||typeof fe.getSnapshotBeforeUpdate=="function")||typeof fe.UNSAFE_componentWillReceiveProps!="function"&&typeof fe.componentWillReceiveProps!="function"||(Re!==En||en!==Je)&&yV(b,fe,N,Je),rd=!1,en=b.memoizedState,fe.state=en,B_(b,N,fe,D);var Yt=b.memoizedState;Re!==En||en!==Yt||kt.current||rd?(typeof wr=="function"&&(AO(b,C,wr,N),Yt=b.memoizedState),(bt=rd||gV(b,C,bt,N,en,Yt,Je)||!1)?(Bt||typeof fe.UNSAFE_componentWillUpdate!="function"&&typeof fe.componentWillUpdate!="function"||(typeof fe.componentWillUpdate=="function"&&fe.componentWillUpdate(N,Yt,Je),typeof fe.UNSAFE_componentWillUpdate=="function"&&fe.UNSAFE_componentWillUpdate(N,Yt,Je)),typeof fe.componentDidUpdate=="function"&&(b.flags|=4),typeof fe.getSnapshotBeforeUpdate=="function"&&(b.flags|=1024)):(typeof fe.componentDidUpdate!="function"||Re===x.memoizedProps&&en===x.memoizedState||(b.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||Re===x.memoizedProps&&en===x.memoizedState||(b.flags|=1024),b.memoizedProps=N,b.memoizedState=Yt),fe.props=N,fe.state=Yt,fe.context=Je,N=bt):(typeof fe.componentDidUpdate!="function"||Re===x.memoizedProps&&en===x.memoizedState||(b.flags|=4),typeof fe.getSnapshotBeforeUpdate!="function"||Re===x.memoizedProps&&en===x.memoizedState||(b.flags|=1024),N=!1)}return WO(x,b,C,N,H,D)}function WO(x,b,C,N,D,H){n8(x,b);var fe=(b.flags&128)!==0;if(!N&&!fe)return D&&Kt(b,C,!1),Qc(x,b,H);N=b.stateNode,Dge.current=b;var Re=fe&&typeof C.getDerivedStateFromError!="function"?null:N.render();return b.flags|=1,x!==null&&fe?(b.child=Dm(b,x.child,null,H),b.child=Dm(b,null,Re,H)):na(x,b,Re,H),b.memoizedState=N.state,D&&Kt(b,C,!0),b.child}function i8(x){var b=x.stateNode;b.pendingContext?Dt(x,b.pendingContext,b.pendingContext!==b.context):b.context&&Dt(x,b.context,!1),IO(x,b.containerInfo)}function s8(x,b,C,N,D){return km(),NO(D),b.flags|=256,na(x,b,C,N),b.child}var tS={dehydrated:null,treeContext:null,retryLane:0};function nS(x){return{baseLanes:x,cachePool:null}}function a8(x,b,C){var N=b.pendingProps,D=Kr.current,H=!1,fe=(b.flags&128)!==0,Re;if((Re=fe)||(Re=x!==null&&x.memoizedState===null?!1:(D&2)!==0),Re?(H=!0,b.flags&=-129):(x===null||x.memoizedState!==null)&&(D|=1),ut(Kr,D&1),x===null)return OO(b),x=b.memoizedState,x!==null&&(x=x.dehydrated,x!==null)?(b.mode&1?Xr(x)?b.lanes=8:b.lanes=1073741824:b.lanes=1,null):(D=N.children,x=N.fallback,H?(N=b.mode,H=b.child,D={mode:"hidden",children:D},!(N&1)&&H!==null?(H.childLanes=0,H.pendingProps=D):H=_S(D,N,0,null),x=uh(x,N,C,null),H.return=b,x.return=b,H.sibling=x,b.child=H,b.child.memoizedState=nS(C),b.memoizedState=tS,x):XO(b,D));if(D=x.memoizedState,D!==null){if(Re=D.dehydrated,Re!==null){if(fe)return b.flags&256?(b.flags&=-257,rS(x,b,C,Error(a(422)))):b.memoizedState!==null?(b.child=x.child,b.flags|=128,null):(H=N.fallback,D=b.mode,N=_S({mode:"visible",children:N.children},D,0,null),H=uh(H,D,C,null),H.flags|=2,N.return=b,H.return=b,N.sibling=H,b.child=N,b.mode&1&&Dm(b,x.child,null,C),b.child.memoizedState=nS(C),b.memoizedState=tS,H);if(!(b.mode&1))b=rS(x,b,C,null);else if(Xr(Re))b=rS(x,b,C,Error(a(419)));else if(N=(C&x.childLanes)!==0,eo||N){if(N=Ri,N!==null){switch(C&-C){case 4:H=2;break;case 16:H=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:H=32;break;case 536870912:H=268435456;break;default:H=0}N=H&(N.suspendedLanes|C)?0:H,N!==0&&N!==D.retryLane&&(D.retryLane=N,Io(x,N,-1))}hN(),b=rS(x,b,C,Error(a(421)))}else yr(Re)?(b.flags|=128,b.child=x.child,b=qge.bind(null,x),Pi(Re,b),b=null):(C=D.treeContext,De&&(Qa=Aa(Re),Ja=b,$r=!0,ml=null,By=!1,C!==null&&(Po[Ro++]=Yc,Po[Ro++]=Zc,Po[Ro++]=nh,Yc=C.id,Zc=C.overflow,nh=b)),b=XO(b,b.pendingProps.children),b.flags|=4096);return b}return H?(N=l8(x,b,N.children,N.fallback,C),H=b.child,D=x.child.memoizedState,H.memoizedState=D===null?nS(C):{baseLanes:D.baseLanes|C,cachePool:null},H.childLanes=x.childLanes&~C,b.memoizedState=tS,N):(C=o8(x,b,N.children,C),b.memoizedState=null,C)}return H?(N=l8(x,b,N.children,N.fallback,C),H=b.child,D=x.child.memoizedState,H.memoizedState=D===null?nS(C):{baseLanes:D.baseLanes|C,cachePool:null},H.childLanes=x.childLanes&~C,b.memoizedState=tS,N):(C=o8(x,b,N.children,C),b.memoizedState=null,C)}function XO(x,b){return b=_S({mode:"visible",children:b},x.mode,0,null),b.return=x,x.child=b}function o8(x,b,C,N){var D=x.child;return x=D.sibling,C=cd(D,{mode:"visible",children:C}),!(b.mode&1)&&(C.lanes=N),C.return=b,C.sibling=null,x!==null&&(N=b.deletions,N===null?(b.deletions=[x],b.flags|=16):N.push(x)),b.child=C}function l8(x,b,C,N,D){var H=b.mode;x=x.child;var fe=x.sibling,Re={mode:"hidden",children:C};return!(H&1)&&b.child!==x?(C=b.child,C.childLanes=0,C.pendingProps=Re,b.deletions=null):(C=cd(x,Re),C.subtreeFlags=x.subtreeFlags&14680064),fe!==null?N=cd(fe,N):(N=uh(N,H,D,null),N.flags|=2),N.return=b,C.return=b,C.sibling=N,b.child=C,N}function rS(x,b,C,N){return N!==null&&NO(N),Dm(b,x.child,null,C),x=XO(b,b.pendingProps.children),x.flags|=2,b.memoizedState=null,x}function c8(x,b,C){x.lanes|=b;var N=x.alternate;N!==null&&(N.lanes|=b),ta(x.return,b,C)}function qO(x,b,C,N,D){var H=x.memoizedState;H===null?x.memoizedState={isBackwards:b,rendering:null,renderingStartTime:0,last:N,tail:C,tailMode:D}:(H.isBackwards=b,H.rendering=null,H.renderingStartTime=0,H.last=N,H.tail=C,H.tailMode=D)}function u8(x,b,C){var N=b.pendingProps,D=N.revealOrder,H=N.tail;if(na(x,b,N.children,C),N=Kr.current,N&2)N=N&1|2,b.flags|=128;else{if(x!==null&&x.flags&128)e:for(x=b.child;x!==null;){if(x.tag===13)x.memoizedState!==null&&c8(x,C,b);else if(x.tag===19)c8(x,C,b);else if(x.child!==null){x.child.return=x,x=x.child;continue}if(x===b)break e;for(;x.sibling===null;){if(x.return===null||x.return===b)break e;x=x.return}x.sibling.return=x.return,x=x.sibling}N&=1}if(ut(Kr,N),!(b.mode&1))b.memoizedState=null;else switch(D){case"forwards":for(C=b.child,D=null;C!==null;)x=C.alternate,x!==null&&G_(x)===null&&(D=C),C=C.sibling;C=D,C===null?(D=b.child,b.child=null):(D=C.sibling,C.sibling=null),qO(b,!1,D,C,H);break;case"backwards":for(C=null,D=b.child,b.child=null;D!==null;){if(x=D.alternate,x!==null&&G_(x)===null){b.child=D;break}x=D.sibling,D.sibling=C,C=D,D=x}qO(b,!0,C,null,H);break;case"together":qO(b,!1,null,null,void 0);break;default:b.memoizedState=null}return b.child}function Qc(x,b,C){if(x!==null&&(b.dependencies=x.dependencies),Bm|=b.lanes,!(C&b.childLanes))return null;if(x!==null&&b.child!==x.child)throw Error(a(153));if(b.child!==null){for(x=b.child,C=cd(x,x.pendingProps),b.child=C,C.return=b;x.sibling!==null;)x=x.sibling,C=C.sibling=cd(x,x.pendingProps),C.return=b;C.sibling=null}return b.child}function Lge(x,b,C){switch(b.tag){case 3:i8(b),km();break;case 5:AV(b);break;case 1:Ct(b.type)&&kn(b);break;case 4:IO(b,b.stateNode.containerInfo);break;case 10:F_(b,b.type._context,b.memoizedProps.value);break;case 13:var N=b.memoizedState;if(N!==null)return N.dehydrated!==null?(ut(Kr,Kr.current&1),b.flags|=128,null):C&b.child.childLanes?a8(x,b,C):(ut(Kr,Kr.current&1),x=Qc(x,b,C),x!==null?x.sibling:null);ut(Kr,Kr.current&1);break;case 19:if(N=(C&b.childLanes)!==0,x.flags&128){if(N)return u8(x,b,C);b.flags|=128}var D=b.memoizedState;if(D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),ut(Kr,Kr.current),N)break;return null;case 22:case 23:return b.lanes=0,t8(x,b,C)}return Qc(x,b,C)}function jge(x,b){switch(PO(b),b.tag){case 1:return Ct(b.type)&&dn(),x=b.flags,x&65536?(b.flags=x&-65537|128,b):null;case 3:return jm(),ft(kt),ft(Wt),LO(),x=b.flags,x&65536&&!(x&128)?(b.flags=x&-65537|128,b):null;case 5:return kO(b),null;case 13:if(ft(Kr),x=b.memoizedState,x!==null&&x.dehydrated!==null){if(b.alternate===null)throw Error(a(340));km()}return x=b.flags,x&65536?(b.flags=x&-65537|128,b):null;case 19:return ft(Kr),null;case 4:return jm(),null;case 10:return ss(b.type._context),null;case 22:case 23:return fN(),null;case 24:return null;default:return null}}var iS=!1,sh=!1,Fge=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function sS(x,b){var C=x.ref;if(C!==null)if(typeof C=="function")try{C(null)}catch(N){Ra(x,b,N)}else C.current=null}function KO(x,b,C){try{C()}catch(N){Ra(x,b,N)}}var d8=!1;function Uge(x,b){for(U(x.containerInfo),Rt=b;Rt!==null;)if(x=Rt,b=x.child,(x.subtreeFlags&1028)!==0&&b!==null)b.return=x,Rt=b;else for(;Rt!==null;){x=Rt;try{var C=x.alternate;if(x.flags&1024)switch(x.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var N=C.memoizedProps,D=C.memoizedState,H=x.stateNode,fe=H.getSnapshotBeforeUpdate(x.elementType===x.type?N:ea(x.type,N),D);H.__reactInternalSnapshotBeforeUpdate=fe}break;case 3:ye&&at(x.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(Re){Ra(x,x.return,Re)}if(b=x.sibling,b!==null){b.return=x.return,Rt=b;break}Rt=x.return}return C=d8,d8=!1,C}function ah(x,b,C){var N=b.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var D=N=N.next;do{if((D.tag&x)===x){var H=D.destroy;D.destroy=void 0,H!==void 0&&KO(b,C,H)}D=D.next}while(D!==N)}}function Jy(x,b){if(b=b.updateQueue,b=b!==null?b.lastEffect:null,b!==null){var C=b=b.next;do{if((C.tag&x)===x){var N=C.create;C.destroy=N()}C=C.next}while(C!==b)}}function YO(x){var b=x.ref;if(b!==null){var C=x.stateNode;switch(x.tag){case 5:x=z(C);break;default:x=C}typeof b=="function"?b(x):b.current=x}}function f8(x,b,C){if(Ka&&typeof Ka.onCommitFiberUnmount=="function")try{Ka.onCommitFiberUnmount(Jf,b)}catch{}switch(b.tag){case 0:case 11:case 14:case 15:if(x=b.updateQueue,x!==null&&(x=x.lastEffect,x!==null)){var N=x=x.next;do{var D=N,H=D.destroy;D=D.tag,H!==void 0&&(D&2||D&4)&&KO(b,C,H),N=N.next}while(N!==x)}break;case 1:if(sS(b,C),x=b.stateNode,typeof x.componentWillUnmount=="function")try{x.props=b.memoizedProps,x.state=b.memoizedState,x.componentWillUnmount()}catch(fe){Ra(b,C,fe)}break;case 5:sS(b,C);break;case 4:ye?y8(x,b,C):ce&&ce&&(b=b.stateNode.containerInfo,C=je(b),lt(b,C))}}function h8(x,b,C){for(var N=b;;)if(f8(x,N,C),N.child===null||ye&&N.tag===4){if(N===b)break;for(;N.sibling===null;){if(N.return===null||N.return===b)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else N.child.return=N,N=N.child}function p8(x){var b=x.alternate;b!==null&&(x.alternate=null,p8(b)),x.child=null,x.deletions=null,x.sibling=null,x.tag===5&&(b=x.stateNode,b!==null&&Oe(b)),x.stateNode=null,x.return=null,x.dependencies=null,x.memoizedProps=null,x.memoizedState=null,x.pendingProps=null,x.stateNode=null,x.updateQueue=null}function m8(x){return x.tag===5||x.tag===3||x.tag===4}function g8(x){e:for(;;){for(;x.sibling===null;){if(x.return===null||m8(x.return))return null;x=x.return}for(x.sibling.return=x.return,x=x.sibling;x.tag!==5&&x.tag!==6&&x.tag!==18;){if(x.flags&2||x.child===null||x.tag===4)continue e;x.child.return=x,x=x.child}if(!(x.flags&2))return x.stateNode}}function v8(x){if(ye){e:{for(var b=x.return;b!==null;){if(m8(b))break e;b=b.return}throw Error(a(160))}var C=b;switch(C.tag){case 5:b=C.stateNode,C.flags&32&&(Pe(b),C.flags&=-33),C=g8(x),JO(x,C,b);break;case 3:case 4:b=C.stateNode.containerInfo,C=g8(x),ZO(x,C,b);break;default:throw Error(a(161))}}}function ZO(x,b,C){var N=x.tag;if(N===5||N===6)x=x.stateNode,b?Be(C,x,b):Ke(C,x);else if(N!==4&&(x=x.child,x!==null))for(ZO(x,b,C),x=x.sibling;x!==null;)ZO(x,b,C),x=x.sibling}function JO(x,b,C){var N=x.tag;if(N===5||N===6)x=x.stateNode,b?Le(C,x,b):we(C,x);else if(N!==4&&(x=x.child,x!==null))for(JO(x,b,C),x=x.sibling;x!==null;)JO(x,b,C),x=x.sibling}function y8(x,b,C){for(var N=b,D=!1,H,fe;;){if(!D){D=N.return;e:for(;;){if(D===null)throw Error(a(160));switch(H=D.stateNode,D.tag){case 5:fe=!1;break e;case 3:H=H.containerInfo,fe=!0;break e;case 4:H=H.containerInfo,fe=!0;break e}D=D.return}D=!0}if(N.tag===5||N.tag===6)h8(x,N,C),fe?he(H,N.stateNode):nt(H,N.stateNode);else if(N.tag===18)fe?ct(H,N.stateNode):mt(H,N.stateNode);else if(N.tag===4){if(N.child!==null){H=N.stateNode.containerInfo,fe=!0,N.child.return=N,N=N.child;continue}}else if(f8(x,N,C),N.child!==null){N.child.return=N,N=N.child;continue}if(N===b)break;for(;N.sibling===null;){if(N.return===null||N.return===b)return;N=N.return,N.tag===4&&(D=!1)}N.sibling.return=N.return,N=N.sibling}}function QO(x,b){if(ye){switch(b.tag){case 0:case 11:case 14:case 15:ah(3,b,b.return),Jy(3,b),ah(5,b,b.return);return;case 1:return;case 5:var C=b.stateNode;if(C!=null){var N=b.memoizedProps;x=x!==null?x.memoizedProps:N;var D=b.type,H=b.updateQueue;b.updateQueue=null,H!==null&&pt(C,H,D,x,N,b)}return;case 6:if(b.stateNode===null)throw Error(a(162));C=b.memoizedProps,Xe(b.stateNode,x!==null?x.memoizedProps:C,C);return;case 3:De&&x!==null&&x.memoizedState.isDehydrated&&He(b.stateNode.containerInfo);return;case 12:return;case 13:aS(b);return;case 19:aS(b);return;case 17:return}throw Error(a(163))}switch(b.tag){case 0:case 11:case 14:case 15:ah(3,b,b.return),Jy(3,b),ah(5,b,b.return);return;case 12:return;case 13:aS(b);return;case 19:aS(b);return;case 3:De&&x!==null&&x.memoizedState.isDehydrated&&He(b.stateNode.containerInfo);break;case 22:case 23:return}e:if(ce){switch(b.tag){case 1:case 5:case 6:break e;case 3:case 4:b=b.stateNode,lt(b.containerInfo,b.pendingChildren);break e}throw Error(a(163))}}function aS(x){var b=x.updateQueue;if(b!==null){x.updateQueue=null;var C=x.stateNode;C===null&&(C=x.stateNode=new Fge),b.forEach(function(N){var D=Kge.bind(null,x,N);C.has(N)||(C.add(N),N.then(D,D))})}}function Bge(x,b){for(Rt=b;Rt!==null;){b=Rt;var C=b.deletions;if(C!==null)for(var N=0;N<C.length;N++){var D=C[N];try{var H=x;ye?y8(H,D,b):h8(H,D,b);var fe=D.alternate;fe!==null&&(fe.return=null),D.return=null}catch(Xt){Ra(D,b,Xt)}}if(C=b.child,b.subtreeFlags&12854&&C!==null)C.return=b,Rt=C;else for(;Rt!==null;){b=Rt;try{var Re=b.flags;if(Re&32&&ye&&Pe(b.stateNode),Re&512){var Je=b.alternate;if(Je!==null){var bt=Je.ref;bt!==null&&(typeof bt=="function"?bt(null):bt.current=null)}}if(Re&8192)switch(b.tag){case 13:if(b.memoizedState!==null){var Bt=b.alternate;(Bt===null||Bt.memoizedState===null)&&(aN=qr())}break;case 22:var En=b.memoizedState!==null,en=b.alternate,wr=en!==null&&en.memoizedState!==null;if(C=b,ye){e:if(N=C,D=En,H=null,ye)for(var Yt=N;;){if(Yt.tag===5){if(H===null){H=Yt;var Ps=Yt.stateNode;D?Ye(Ps):Ae(Yt.stateNode,Yt.memoizedProps)}}else if(Yt.tag===6){if(H===null){var Do=Yt.stateNode;D?ue(Do):Ze(Do,Yt.memoizedProps)}}else if((Yt.tag!==22&&Yt.tag!==23||Yt.memoizedState===null||Yt===N)&&Yt.child!==null){Yt.child.return=Yt,Yt=Yt.child;continue}if(Yt===N)break;for(;Yt.sibling===null;){if(Yt.return===null||Yt.return===N)break e;H===Yt&&(H=null),Yt=Yt.return}H===Yt&&(H=null),Yt.sibling.return=Yt.return,Yt=Yt.sibling}}if(En&&!wr&&C.mode&1){Rt=C;for(var Ue=C.child;Ue!==null;){for(C=Rt=Ue;Rt!==null;){N=Rt;var Ie=N.child;switch(N.tag){case 0:case 11:case 14:case 15:ah(4,N,N.return);break;case 1:sS(N,N.return);var We=N.stateNode;if(typeof We.componentWillUnmount=="function"){var Ot=N.return;try{We.props=N.memoizedProps,We.state=N.memoizedState,We.componentWillUnmount()}catch(Xt){Ra(N,Ot,Xt)}}break;case 5:sS(N,N.return);break;case 22:if(N.memoizedState!==null){w8(C);continue}}Ie!==null?(Ie.return=N,Rt=Ie):w8(C)}Ue=Ue.sibling}}}switch(Re&4102){case 2:v8(b),b.flags&=-3;break;case 6:v8(b),b.flags&=-3,QO(b.alternate,b);break;case 4096:b.flags&=-4097;break;case 4100:b.flags&=-4097,QO(b.alternate,b);break;case 4:QO(b.alternate,b)}}catch(Xt){Ra(b,b.return,Xt)}if(C=b.sibling,C!==null){C.return=b.return,Rt=C;break}Rt=b.return}}}function zge(x,b,C){Rt=x,x8(x)}function x8(x,b,C){for(var N=(x.mode&1)!==0;Rt!==null;){var D=Rt,H=D.child;if(D.tag===22&&N){var fe=D.memoizedState!==null||iS;if(!fe){var Re=D.alternate,Je=Re!==null&&Re.memoizedState!==null||sh;Re=iS;var bt=sh;if(iS=fe,(sh=Je)&&!bt)for(Rt=D;Rt!==null;)fe=Rt,Je=fe.child,fe.tag===22&&fe.memoizedState!==null?_8(D):Je!==null?(Je.return=fe,Rt=Je):_8(D);for(;H!==null;)Rt=H,x8(H),H=H.sibling;Rt=D,iS=Re,sh=bt}b8(x)}else D.subtreeFlags&8772&&H!==null?(H.return=D,Rt=H):b8(x)}}function b8(x){for(;Rt!==null;){var b=Rt;if(b.flags&8772){var C=b.alternate;try{if(b.flags&8772)switch(b.tag){case 0:case 11:case 15:sh||Jy(5,b);break;case 1:var N=b.stateNode;if(b.flags&4&&!sh)if(C===null)N.componentDidMount();else{var D=b.elementType===b.type?C.memoizedProps:ea(b.type,C.memoizedProps);N.componentDidUpdate(D,C.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var H=b.updateQueue;H!==null&&pV(b,H,N);break;case 3:var fe=b.updateQueue;if(fe!==null){if(C=null,b.child!==null)switch(b.child.tag){case 5:C=z(b.child.stateNode);break;case 1:C=b.child.stateNode}pV(b,fe,C)}break;case 5:var Re=b.stateNode;C===null&&b.flags&4&&dt(Re,b.type,b.memoizedProps,b);break;case 6:break;case 4:break;case 12:break;case 13:if(De&&b.memoizedState===null){var Je=b.alternate;if(Je!==null){var bt=Je.memoizedState;if(bt!==null){var Bt=bt.dehydrated;Bt!==null&&Ge(Bt)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}sh||b.flags&512&&YO(b)}catch(En){Ra(b,b.return,En)}}if(b===x){Rt=null;break}if(C=b.sibling,C!==null){C.return=b.return,Rt=C;break}Rt=b.return}}function w8(x){for(;Rt!==null;){var b=Rt;if(b===x){Rt=null;break}var C=b.sibling;if(C!==null){C.return=b.return,Rt=C;break}Rt=b.return}}function _8(x){for(;Rt!==null;){var b=Rt;try{switch(b.tag){case 0:case 11:case 15:var C=b.return;try{Jy(4,b)}catch(Je){Ra(b,C,Je)}break;case 1:var N=b.stateNode;if(typeof N.componentDidMount=="function"){var D=b.return;try{N.componentDidMount()}catch(Je){Ra(b,D,Je)}}var H=b.return;try{YO(b)}catch(Je){Ra(b,H,Je)}break;case 5:var fe=b.return;try{YO(b)}catch(Je){Ra(b,fe,Je)}}}catch(Je){Ra(b,b.return,Je)}if(b===x){Rt=null;break}var Re=b.sibling;if(Re!==null){Re.return=b.return,Rt=Re;break}Rt=b.return}}var oS=0,lS=1,cS=2,uS=3,dS=4;if(typeof Symbol=="function"&&Symbol.for){var Qy=Symbol.for;oS=Qy("selector.component"),lS=Qy("selector.has_pseudo_class"),cS=Qy("selector.role"),uS=Qy("selector.test_id"),dS=Qy("selector.text")}function eN(x){var b=Ee(x);if(b!=null){if(typeof b.memoizedProps["data-testname"]!="string")throw Error(a(364));return b}if(x=te(x),x===null)throw Error(a(362));return x.stateNode.current}function tN(x,b){switch(b.$$typeof){case oS:if(x.type===b.value)return!0;break;case lS:e:{b=b.value,x=[x,0];for(var C=0;C<x.length;){var N=x[C++],D=x[C++],H=b[D];if(N.tag!==5||!B(N)){for(;H!=null&&tN(N,H);)D++,H=b[D];if(D===b.length){b=!0;break e}else for(N=N.child;N!==null;)x.push(N,D),N=N.sibling}}b=!1}return b;case cS:if(x.tag===5&&re(x.stateNode,b.value))return!0;break;case dS:if((x.tag===5||x.tag===6)&&(x=W(x),x!==null&&0<=x.indexOf(b.value)))return!0;break;case uS:if(x.tag===5&&(x=x.memoizedProps["data-testname"],typeof x=="string"&&x.toLowerCase()===b.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function nN(x){switch(x.$$typeof){case oS:return"<"+(M(x.value)||"Unknown")+">";case lS:return":has("+(nN(x)||"")+")";case cS:return'[role="'+x.value+'"]';case dS:return'"'+x.value+'"';case uS:return'[data-testname="'+x.value+'"]';default:throw Error(a(365))}}function S8(x,b){var C=[];x=[x,0];for(var N=0;N<x.length;){var D=x[N++],H=x[N++],fe=b[H];if(D.tag!==5||!B(D)){for(;fe!=null&&tN(D,fe);)H++,fe=b[H];if(H===b.length)C.push(D);else for(D=D.child;D!==null;)x.push(D,H),D=D.sibling}}return C}function rN(x,b){if(!ee)throw Error(a(363));x=eN(x),x=S8(x,b),b=[],x=Array.from(x);for(var C=0;C<x.length;){var N=x[C++];if(N.tag===5)B(N)||b.push(N.stateNode);else for(N=N.child;N!==null;)x.push(N),N=N.sibling}return b}var Vge=Math.ceil,fS=o.ReactCurrentDispatcher,iN=o.ReactCurrentOwner,yi=o.ReactCurrentBatchConfig,jn=0,Ri=null,Oi=null,gs=0,to=0,Um=yt(0),$i=0,ex=null,Bm=0,hS=0,sN=0,tx=null,Ca=null,aN=0,oN=1/0;function zm(){oN=qr()+500}var pS=!1,lN=null,sd=null,mS=!1,ad=null,gS=0,nx=0,cN=null,vS=-1,yS=0;function ra(){return jn&6?qr():vS!==-1?vS:vS=qr()}function od(x){return x.mode&1?jn&2&&gs!==0?gs&-gs:Qf.transition!==null?(yS===0&&(x=kr,kr<<=1,!(kr&4194240)&&(kr=64),yS=x),yS):(x=zn,x!==0?x:Me()):1}function Io(x,b,C){if(50<nx)throw nx=0,cN=null,Error(a(185));var N=xS(x,b);return N===null?null:(nc(N,b,C),(!(jn&2)||N!==Ri)&&(N===Ri&&(!(jn&2)&&(hS|=b),$i===4&&ld(N,gs)),Pa(N,C),b===1&&jn===0&&!(x.mode&1)&&(zm(),ic&&Ma())),N)}function xS(x,b){x.lanes|=b;var C=x.alternate;for(C!==null&&(C.lanes|=b),C=x,x=x.return;x!==null;)x.childLanes|=b,C=x.alternate,C!==null&&(C.childLanes|=b),C=x,x=x.return;return C.tag===3?C.stateNode:null}function Pa(x,b){var C=x.callbackNode;Iy(x,b);var N=Zs(x,x===Ri?gs:0);if(N===0)C!==null&&Pm(C),x.callbackNode=null,x.callbackPriority=0;else if(b=N&-N,x.callbackPriority!==b){if(C!=null&&Pm(C),b===1)x.tag===0?Uy(T8.bind(null,x)):Fy(T8.bind(null,x)),Ce?Ne(function(){jn===0&&Ma()}):qc(Zf,Ma),C=null;else{switch(ky(N)){case 1:C=Zf;break;case 4:C=L_;break;case 16:C=Js;break;case 536870912:C=Ly;break;default:C=Js}C=k8(C,E8.bind(null,x))}x.callbackPriority=b,x.callbackNode=C}}function E8(x,b){if(vS=-1,yS=0,jn&6)throw Error(a(327));var C=x.callbackNode;if(ch()&&x.callbackNode!==C)return null;var N=Zs(x,x===Ri?gs:0);if(N===0)return null;if(N&30||N&x.expiredLanes||b)b=bS(x,N);else{b=N;var D=jn;jn|=2;var H=C8();(Ri!==x||gs!==b)&&(zm(),oh(x,b));do try{Gge();break}catch(Re){M8(x,Re)}while(!0);Om(),fS.current=H,jn=D,Oi!==null?b=0:(Ri=null,gs=0,b=$i)}if(b!==0){if(b===2&&(D=Xc(x),D!==0&&(N=D,b=uN(x,D))),b===1)throw C=ex,oh(x,0),ld(x,N),Pa(x,qr()),C;if(b===6)ld(x,N);else{if(D=x.current.alternate,!(N&30)&&!$ge(D)&&(b=bS(x,N),b===2&&(H=Xc(x),H!==0&&(N=H,b=uN(x,H))),b===1))throw C=ex,oh(x,0),ld(x,N),Pa(x,qr()),C;switch(x.finishedWork=D,x.finishedLanes=N,b){case 0:case 1:throw Error(a(345));case 2:lh(x,Ca);break;case 3:if(ld(x,N),(N&130023424)===N&&(b=aN+500-qr(),10<b)){if(Zs(x,0)!==0)break;if(D=x.suspendedLanes,(D&N)!==N){ra(),x.pingedLanes|=x.suspendedLanes&D;break}x.timeoutHandle=ne(lh.bind(null,x,Ca),b);break}lh(x,Ca);break;case 4:if(ld(x,N),(N&4194240)===N)break;for(b=x.eventTimes,D=-1;0<N;){var fe=31-er(N);H=1<<fe,fe=b[fe],fe>D&&(D=fe),N&=~H}if(N=D,N=qr()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*Vge(N/1960))-N,10<N){x.timeoutHandle=ne(lh.bind(null,x,Ca),N);break}lh(x,Ca);break;case 5:lh(x,Ca);break;default:throw Error(a(329))}}}return Pa(x,qr()),x.callbackNode===C?E8.bind(null,x):null}function uN(x,b){var C=tx;return x.current.memoizedState.isDehydrated&&(oh(x,b).flags|=256),x=bS(x,b),x!==2&&(b=Ca,Ca=C,b!==null&&dN(b)),x}function dN(x){Ca===null?Ca=x:Ca.push.apply(Ca,x)}function $ge(x){for(var b=x;;){if(b.flags&16384){var C=b.updateQueue;if(C!==null&&(C=C.stores,C!==null))for(var N=0;N<C.length;N++){var D=C[N],H=D.getSnapshot;D=D.value;try{if(!Ya(H(),D))return!1}catch{return!1}}}if(C=b.child,b.subtreeFlags&16384&&C!==null)C.return=b,b=C;else{if(b===x)break;for(;b.sibling===null;){if(b.return===null||b.return===x)return!0;b=b.return}b.sibling.return=b.return,b=b.sibling}}return!0}function ld(x,b){for(b&=~sN,b&=~hS,x.suspendedLanes|=b,x.pingedLanes&=~b,x=x.expirationTimes;0<b;){var C=31-er(b),N=1<<C;x[C]=-1,b&=~N}}function T8(x){if(jn&6)throw Error(a(327));ch();var b=Zs(x,0);if(!(b&1))return Pa(x,qr()),null;var C=bS(x,b);if(x.tag!==0&&C===2){var N=Xc(x);N!==0&&(b=N,C=uN(x,N))}if(C===1)throw C=ex,oh(x,0),ld(x,b),Pa(x,qr()),C;if(C===6)throw Error(a(345));return x.finishedWork=x.current.alternate,x.finishedLanes=b,lh(x,Ca),Pa(x,qr()),null}function A8(x){ad!==null&&ad.tag===0&&!(jn&6)&&ch();var b=jn;jn|=1;var C=yi.transition,N=zn;try{if(yi.transition=null,zn=1,x)return x()}finally{zn=N,yi.transition=C,jn=b,!(jn&6)&&Ma()}}function fN(){to=Um.current,ft(Um)}function oh(x,b){x.finishedWork=null,x.finishedLanes=0;var C=x.timeoutHandle;if(C!==ge&&(x.timeoutHandle=ge,ve(C)),Oi!==null)for(C=Oi.return;C!==null;){var N=C;switch(PO(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&dn();break;case 3:jm(),ft(kt),ft(Wt),LO();break;case 5:kO(N);break;case 4:jm();break;case 13:ft(Kr);break;case 19:ft(Kr);break;case 10:ss(N.type._context);break;case 22:case 23:fN()}C=C.return}if(Ri=x,Oi=x=cd(x.current,null),gs=to=b,$i=0,ex=null,sN=hS=Bm=0,Ca=tx=null,Za!==null){for(b=0;b<Za.length;b++)if(C=Za[b],N=C.interleaved,N!==null){C.interleaved=null;var D=N.next,H=C.pending;if(H!==null){var fe=H.next;H.next=D,N.next=fe}C.pending=N}Za=null}return x}function M8(x,b){do{var C=Oi;try{if(Om(),W_.current=J_,X_){for(var N=si.memoizedState;N!==null;){var D=N.queue;D!==null&&(D.pending=null),N=N.next}X_=!1}if(Fm=0,as=As=si=null,Gy=!1,Wy=0,iN.current=null,C===null||C.return===null){$i=1,ex=b,Oi=null;break}e:{var H=x,fe=C.return,Re=C,Je=b;if(b=gs,Re.flags|=32768,Je!==null&&typeof Je=="object"&&typeof Je.then=="function"){var bt=Je,Bt=Re,En=Bt.tag;if(!(Bt.mode&1)&&(En===0||En===11||En===15)){var en=Bt.alternate;en?(Bt.updateQueue=en.updateQueue,Bt.memoizedState=en.memoizedState,Bt.lanes=en.lanes):(Bt.updateQueue=null,Bt.memoizedState=null)}var wr=qV(fe);if(wr!==null){wr.flags&=-257,KV(wr,fe,Re,H,b),wr.mode&1&&XV(H,bt,b),b=wr,Je=bt;var Yt=b.updateQueue;if(Yt===null){var Ps=new Set;Ps.add(Je),b.updateQueue=Ps}else Yt.add(Je);break e}else{if(!(b&1)){XV(H,bt,b),hN();break e}Je=Error(a(426))}}else if($r&&Re.mode&1){var Do=qV(fe);if(Do!==null){!(Do.flags&65536)&&(Do.flags|=256),KV(Do,fe,Re,H,b),NO(Je);break e}}H=Je,$i!==4&&($i=2),tx===null?tx=[H]:tx.push(H),Je=$O(Je,Re),Re=fe;do{switch(Re.tag){case 3:Re.flags|=65536,b&=-b,Re.lanes|=b;var Ue=GV(Re,Je,b);hV(Re,Ue);break e;case 1:H=Je;var Ie=Re.type,We=Re.stateNode;if(!(Re.flags&128)&&(typeof Ie.getDerivedStateFromError=="function"||We!==null&&typeof We.componentDidCatch=="function"&&(sd===null||!sd.has(We)))){Re.flags|=65536,b&=-b,Re.lanes|=b;var Ot=WV(Re,H,b);hV(Re,Ot);break e}}Re=Re.return}while(Re!==null)}R8(C)}catch(Xt){b=Xt,Oi===C&&C!==null&&(Oi=C=C.return);continue}break}while(!0)}function C8(){var x=fS.current;return fS.current=J_,x===null?J_:x}function hN(){($i===0||$i===3||$i===2)&&($i=4),Ri===null||!(Bm&268435455)&&!(hS&268435455)||ld(Ri,gs)}function bS(x,b){var C=jn;jn|=2;var N=C8();Ri===x&&gs===b||oh(x,b);do try{Hge();break}catch(D){M8(x,D)}while(!0);if(Om(),jn=C,fS.current=N,Oi!==null)throw Error(a(261));return Ri=null,gs=0,$i}function Hge(){for(;Oi!==null;)P8(Oi)}function Gge(){for(;Oi!==null&&!Dy();)P8(Oi)}function P8(x){var b=I8(x.alternate,x,to);x.memoizedProps=x.pendingProps,b===null?R8(x):Oi=b,iN.current=null}function R8(x){var b=x;do{var C=b.alternate;if(x=b.return,b.flags&32768){if(C=jge(C,b),C!==null){C.flags&=32767,Oi=C;return}if(x!==null)x.flags|=32768,x.subtreeFlags=0,x.deletions=null;else{$i=6,Oi=null;return}}else if(C=kge(C,b,to),C!==null){Oi=C;return}if(b=b.sibling,b!==null){Oi=b;return}Oi=b=x}while(b!==null);$i===0&&($i=5)}function lh(x,b){var C=zn,N=yi.transition;try{yi.transition=null,zn=1,Wge(x,b,C)}finally{yi.transition=N,zn=C}return null}function Wge(x,b,C){do ch();while(ad!==null);if(jn&6)throw Error(a(327));var N=x.finishedWork,D=x.finishedLanes;if(N===null)return null;if(x.finishedWork=null,x.finishedLanes=0,N===x.current)throw Error(a(177));x.callbackNode=null,x.callbackPriority=0;var H=N.lanes|N.childLanes;if(td(x,H),x===Ri&&(Oi=Ri=null,gs=0),!(N.subtreeFlags&2064)&&!(N.flags&2064)||mS||(mS=!0,k8(Js,function(){return ch(),null})),H=(N.flags&15990)!==0,N.subtreeFlags&15990||H){H=yi.transition,yi.transition=null;var fe=zn;zn=1;var Re=jn;jn|=4,iN.current=null,Uge(x,N),Bge(x,N),$(x.containerInfo),x.current=N,zge(N),D_(),jn=Re,zn=fe,yi.transition=H}else x.current=N;if(mS&&(mS=!1,ad=x,gS=D),H=x.pendingLanes,H===0&&(sd=null),jy(N.stateNode),Pa(x,qr()),b!==null)for(C=x.onRecoverableError,N=0;N<b.length;N++)C(b[N]);if(pS)throw pS=!1,x=lN,lN=null,x;return gS&1&&x.tag!==0&&ch(),H=x.pendingLanes,H&1?x===cN?nx++:(nx=0,cN=x):nx=0,Ma(),null}function ch(){if(ad!==null){var x=ky(gS),b=yi.transition,C=zn;try{if(yi.transition=null,zn=16>x?16:x,ad===null)var N=!1;else{if(x=ad,ad=null,gS=0,jn&6)throw Error(a(331));var D=jn;for(jn|=4,Rt=x.current;Rt!==null;){var H=Rt,fe=H.child;if(Rt.flags&16){var Re=H.deletions;if(Re!==null){for(var Je=0;Je<Re.length;Je++){var bt=Re[Je];for(Rt=bt;Rt!==null;){var Bt=Rt;switch(Bt.tag){case 0:case 11:case 15:ah(8,Bt,H)}var En=Bt.child;if(En!==null)En.return=Bt,Rt=En;else for(;Rt!==null;){Bt=Rt;var en=Bt.sibling,wr=Bt.return;if(p8(Bt),Bt===bt){Rt=null;break}if(en!==null){en.return=wr,Rt=en;break}Rt=wr}}}var Yt=H.alternate;if(Yt!==null){var Ps=Yt.child;if(Ps!==null){Yt.child=null;do{var Do=Ps.sibling;Ps.sibling=null,Ps=Do}while(Ps!==null)}}Rt=H}}if(H.subtreeFlags&2064&&fe!==null)fe.return=H,Rt=fe;else e:for(;Rt!==null;){if(H=Rt,H.flags&2048)switch(H.tag){case 0:case 11:case 15:ah(9,H,H.return)}var Ue=H.sibling;if(Ue!==null){Ue.return=H.return,Rt=Ue;break e}Rt=H.return}}var Ie=x.current;for(Rt=Ie;Rt!==null;){fe=Rt;var We=fe.child;if(fe.subtreeFlags&2064&&We!==null)We.return=fe,Rt=We;else e:for(fe=Ie;Rt!==null;){if(Re=Rt,Re.flags&2048)try{switch(Re.tag){case 0:case 11:case 15:Jy(9,Re)}}catch(Xt){Ra(Re,Re.return,Xt)}if(Re===fe){Rt=null;break e}var Ot=Re.sibling;if(Ot!==null){Ot.return=Re.return,Rt=Ot;break e}Rt=Re.return}}if(jn=D,Ma(),Ka&&typeof Ka.onPostCommitFiberRoot=="function")try{Ka.onPostCommitFiberRoot(Jf,x)}catch{}N=!0}return N}finally{zn=C,yi.transition=b}}return!1}function O8(x,b,C){b=$O(C,b),b=GV(x,b,1),id(x,b),b=ra(),x=xS(x,1),x!==null&&(nc(x,1,b),Pa(x,b))}function Ra(x,b,C){if(x.tag===3)O8(x,x,C);else for(;b!==null;){if(b.tag===3){O8(b,x,C);break}else if(b.tag===1){var N=b.stateNode;if(typeof b.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(sd===null||!sd.has(N))){x=$O(C,x),x=WV(b,x,1),id(b,x),x=ra(),b=xS(b,1),b!==null&&(nc(b,1,x),Pa(b,x));break}}b=b.return}}function Xge(x,b,C){var N=x.pingCache;N!==null&&N.delete(b),b=ra(),x.pingedLanes|=x.suspendedLanes&C,Ri===x&&(gs&C)===C&&($i===4||$i===3&&(gs&130023424)===gs&&500>qr()-aN?oh(x,0):sN|=C),Pa(x,b)}function N8(x,b){b===0&&(x.mode&1?(b=Vr,Vr<<=1,!(Vr&130023424)&&(Vr=4194304)):b=1);var C=ra();x=xS(x,b),x!==null&&(nc(x,b,C),Pa(x,C))}function qge(x){var b=x.memoizedState,C=0;b!==null&&(C=b.retryLane),N8(x,C)}function Kge(x,b){var C=0;switch(x.tag){case 13:var N=x.stateNode,D=x.memoizedState;D!==null&&(C=D.retryLane);break;case 19:N=x.stateNode;break;default:throw Error(a(314))}N!==null&&N.delete(b),N8(x,C)}var I8;I8=function(x,b,C){if(x!==null)if(x.memoizedProps!==b.pendingProps||kt.current)eo=!0;else{if(!(x.lanes&C)&&!(b.flags&128))return eo=!1,Lge(x,b,C);eo=!!(x.flags&131072)}else eo=!1,$r&&b.flags&1048576&&xV(b,$_,b.index);switch(b.lanes=0,b.tag){case 2:var N=b.type;x!==null&&(x.alternate=null,b.alternate=null,b.flags|=2),x=b.pendingProps;var D=sn(b,Wt.current);gi(b,C),D=FO(null,b,N,x,D,C);var H=UO();return b.flags|=1,typeof D=="object"&&D!==null&&typeof D.render=="function"&&D.$$typeof===void 0?(b.tag=1,b.memoizedState=null,b.updateQueue=null,Ct(N)?(H=!0,kn(b)):H=!1,b.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,TO(b),D.updater=z_,b.stateNode=D,D._reactInternals=b,MO(b,N,x,C),b=WO(null,b,N,!0,H,C)):(b.tag=0,$r&&H&&CO(b),na(null,b,D,C),b=b.child),b;case 16:N=b.elementType;e:{switch(x!==null&&(x.alternate=null,b.alternate=null,b.flags|=2),x=b.pendingProps,D=N._init,N=D(N._payload),b.type=N,D=b.tag=Zge(N),x=ea(N,x),D){case 0:b=GO(null,b,N,x,C);break e;case 1:b=r8(null,b,N,x,C);break e;case 11:b=JV(null,b,N,x,C);break e;case 14:b=QV(null,b,N,ea(N.type,x),C);break e}throw Error(a(306,N,""))}return b;case 0:return N=b.type,D=b.pendingProps,D=b.elementType===N?D:ea(N,D),GO(x,b,N,D,C);case 1:return N=b.type,D=b.pendingProps,D=b.elementType===N?D:ea(N,D),r8(x,b,N,D,C);case 3:e:{if(i8(b),x===null)throw Error(a(387));N=b.pendingProps,H=b.memoizedState,D=H.element,fV(x,b),B_(b,N,null,C);var fe=b.memoizedState;if(N=fe.element,De&&H.isDehydrated)if(H={element:N,isDehydrated:!1,cache:fe.cache,transitions:fe.transitions},b.updateQueue.baseState=H,b.memoizedState=H,b.flags&256){D=Error(a(423)),b=s8(x,b,N,C,D);break e}else if(N!==D){D=Error(a(424)),b=s8(x,b,N,C,D);break e}else for(De&&(Qa=Ir(b.stateNode.containerInfo),Ja=b,$r=!0,ml=null,By=!1),C=TV(b,null,N,C),b.child=C;C;)C.flags=C.flags&-3|4096,C=C.sibling;else{if(km(),N===D){b=Qc(x,b,C);break e}na(x,b,N,C)}b=b.child}return b;case 5:return AV(b),x===null&&OO(b),N=b.type,D=b.pendingProps,H=x!==null?x.memoizedProps:null,fe=D.children,de(N,D)?fe=null:H!==null&&de(N,H)&&(b.flags|=32),n8(x,b),na(x,b,fe,C),b.child;case 6:return x===null&&OO(b),null;case 13:return a8(x,b,C);case 4:return IO(b,b.stateNode.containerInfo),N=b.pendingProps,x===null?b.child=Dm(b,null,N,C):na(x,b,N,C),b.child;case 11:return N=b.type,D=b.pendingProps,D=b.elementType===N?D:ea(N,D),JV(x,b,N,D,C);case 7:return na(x,b,b.pendingProps,C),b.child;case 8:return na(x,b,b.pendingProps.children,C),b.child;case 12:return na(x,b,b.pendingProps.children,C),b.child;case 10:e:{if(N=b.type._context,D=b.pendingProps,H=b.memoizedProps,fe=D.value,F_(b,N,fe),H!==null)if(Ya(H.value,fe)){if(H.children===D.children&&!kt.current){b=Qc(x,b,C);break e}}else for(H=b.child,H!==null&&(H.return=b);H!==null;){var Re=H.dependencies;if(Re!==null){fe=H.child;for(var Je=Re.firstContext;Je!==null;){if(Je.context===N){if(H.tag===1){Je=Kc(-1,C&-C),Je.tag=2;var bt=H.updateQueue;if(bt!==null){bt=bt.shared;var Bt=bt.pending;Bt===null?Je.next=Je:(Je.next=Bt.next,Bt.next=Je),bt.pending=Je}}H.lanes|=C,Je=H.alternate,Je!==null&&(Je.lanes|=C),ta(H.return,C,b),Re.lanes|=C;break}Je=Je.next}}else if(H.tag===10)fe=H.type===b.type?null:H.child;else if(H.tag===18){if(fe=H.return,fe===null)throw Error(a(341));fe.lanes|=C,Re=fe.alternate,Re!==null&&(Re.lanes|=C),ta(fe,C,b),fe=H.sibling}else fe=H.child;if(fe!==null)fe.return=H;else for(fe=H;fe!==null;){if(fe===b){fe=null;break}if(H=fe.sibling,H!==null){H.return=fe.return,fe=H;break}fe=fe.return}H=fe}na(x,b,D.children,C),b=b.child}return b;case 9:return D=b.type,N=b.pendingProps.children,gi(b,C),D=vi(D),N=N(D),b.flags|=1,na(x,b,N,C),b.child;case 14:return N=b.type,D=ea(N,b.pendingProps),D=ea(N.type,D),QV(x,b,N,D,C);case 15:return e8(x,b,b.type,b.pendingProps,C);case 17:return N=b.type,D=b.pendingProps,D=b.elementType===N?D:ea(N,D),x!==null&&(x.alternate=null,b.alternate=null,b.flags|=2),b.tag=1,Ct(N)?(x=!0,kn(b)):x=!1,gi(b,C),vV(b,N,D),MO(b,N,D,C),WO(null,b,N,!0,x,C);case 19:return u8(x,b,C);case 22:return t8(x,b,C)}throw Error(a(156,b.tag))};function k8(x,b){return qc(x,b)}function Yge(x,b,C,N){this.tag=x,this.key=C,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=b,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ko(x,b,C,N){return new Yge(x,b,C,N)}function pN(x){return x=x.prototype,!(!x||!x.isReactComponent)}function Zge(x){if(typeof x=="function")return pN(x)?1:0;if(x!=null){if(x=x.$$typeof,x===g)return 11;if(x===w)return 14}return 2}function cd(x,b){var C=x.alternate;return C===null?(C=ko(x.tag,b,x.key,x.mode),C.elementType=x.elementType,C.type=x.type,C.stateNode=x.stateNode,C.alternate=x,x.alternate=C):(C.pendingProps=b,C.type=x.type,C.flags=0,C.subtreeFlags=0,C.deletions=null),C.flags=x.flags&14680064,C.childLanes=x.childLanes,C.lanes=x.lanes,C.child=x.child,C.memoizedProps=x.memoizedProps,C.memoizedState=x.memoizedState,C.updateQueue=x.updateQueue,b=x.dependencies,C.dependencies=b===null?null:{lanes:b.lanes,firstContext:b.firstContext},C.sibling=x.sibling,C.index=x.index,C.ref=x.ref,C}function wS(x,b,C,N,D,H){var fe=2;if(N=x,typeof x=="function")pN(x)&&(fe=1);else if(typeof x=="string")fe=5;else e:switch(x){case u:return uh(C.children,D,H,b);case d:fe=8,D|=8;break;case f:return x=ko(12,C,b,D|2),x.elementType=f,x.lanes=H,x;case v:return x=ko(13,C,b,D),x.elementType=v,x.lanes=H,x;case y:return x=ko(19,C,b,D),x.elementType=y,x.lanes=H,x;case S:return _S(C,D,H,b);default:if(typeof x=="object"&&x!==null)switch(x.$$typeof){case h:fe=10;break e;case m:fe=9;break e;case g:fe=11;break e;case w:fe=14;break e;case _:fe=16,N=null;break e}throw Error(a(130,x==null?x:typeof x,""))}return b=ko(fe,C,b,D),b.elementType=x,b.type=N,b.lanes=H,b}function uh(x,b,C,N){return x=ko(7,x,N,b),x.lanes=C,x}function _S(x,b,C,N){return x=ko(22,x,N,b),x.elementType=S,x.lanes=C,x.stateNode={},x}function mN(x,b,C){return x=ko(6,x,null,b),x.lanes=C,x}function gN(x,b,C){return b=ko(4,x.children!==null?x.children:[],x.key,b),b.lanes=C,b.stateNode={containerInfo:x.containerInfo,pendingChildren:null,implementation:x.implementation},b}function Jge(x,b,C,N,D){this.tag=b,this.containerInfo=x,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ge,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cm(0),this.expirationTimes=Cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cm(0),this.identifierPrefix=N,this.onRecoverableError=D,De&&(this.mutableSourceEagerHydrationData=null)}function D8(x,b,C,N,D,H,fe,Re,Je){return x=new Jge(x,b,C,Re,Je),b===1?(b=1,H===!0&&(b|=8)):b=0,H=ko(3,null,null,b),x.current=H,H.stateNode=x,H.memoizedState={element:N,isDehydrated:C,cache:null,transitions:null},TO(H),x}function L8(x){if(!x)return Tt;x=x._reactInternals;e:{if(P(x)!==x||x.tag!==1)throw Error(a(170));var b=x;do{switch(b.tag){case 3:b=b.stateNode.context;break e;case 1:if(Ct(b.type)){b=b.stateNode.__reactInternalMemoizedMergedChildContext;break e}}b=b.return}while(b!==null);throw Error(a(171))}if(x.tag===1){var C=x.type;if(Ct(C))return Hn(x,C,b)}return b}function j8(x){var b=x._reactInternals;if(b===void 0)throw typeof x.render=="function"?Error(a(188)):(x=Object.keys(x).join(","),Error(a(268,x)));return x=I(b),x===null?null:x.stateNode}function F8(x,b){if(x=x.memoizedState,x!==null&&x.dehydrated!==null){var C=x.retryLane;x.retryLane=C!==0&&C<b?C:b}}function vN(x,b){F8(x,b),(x=x.alternate)&&F8(x,b)}function Qge(x){return x=I(x),x===null?null:x.stateNode}function eve(){return null}return n.attemptContinuousHydration=function(x){if(x.tag===13){var b=ra();Io(x,134217728,b),vN(x,134217728)}},n.attemptHydrationAtCurrentPriority=function(x){if(x.tag===13){var b=ra(),C=od(x);Io(x,C,b),vN(x,C)}},n.attemptSynchronousHydration=function(x){switch(x.tag){case 3:var b=x.stateNode;if(b.current.memoizedState.isDehydrated){var C=qa(b.pendingLanes);C!==0&&(rc(b,C|1),Pa(b,qr()),!(jn&6)&&(zm(),Ma()))}break;case 13:var N=ra();A8(function(){return Io(x,1,N)}),vN(x,1)}},n.batchedUpdates=function(x,b){var C=jn;jn|=1;try{return x(b)}finally{jn=C,jn===0&&(zm(),ic&&Ma())}},n.createComponentSelector=function(x){return{$$typeof:oS,value:x}},n.createContainer=function(x,b,C,N,D,H,fe){return D8(x,b,!1,null,C,N,D,H,fe)},n.createHasPseudoClassSelector=function(x){return{$$typeof:lS,value:x}},n.createHydrationContainer=function(x,b,C,N,D,H,fe,Re,Je){return x=D8(C,N,!0,x,D,H,fe,Re,Je),x.context=L8(null),C=x.current,N=ra(),D=od(C),H=Kc(N,D),H.callback=b??null,id(C,H),x.current.lanes=D,nc(x,D,N),Pa(x,N),x},n.createPortal=function(x,b,C){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:N==null?null:""+N,children:x,containerInfo:b,implementation:C}},n.createRoleSelector=function(x){return{$$typeof:cS,value:x}},n.createTestNameSelector=function(x){return{$$typeof:uS,value:x}},n.createTextSelector=function(x){return{$$typeof:dS,value:x}},n.deferredUpdates=function(x){var b=zn,C=yi.transition;try{return yi.transition=null,zn=16,x()}finally{zn=b,yi.transition=C}},n.discreteUpdates=function(x,b,C,N,D){var H=zn,fe=yi.transition;try{return yi.transition=null,zn=1,x(b,C,N,D)}finally{zn=H,yi.transition=fe,jn===0&&zm()}},n.findAllNodes=rN,n.findBoundingRects=function(x,b){if(!ee)throw Error(a(363));b=rN(x,b),x=[];for(var C=0;C<b.length;C++)x.push(me(b[C]));for(b=x.length-1;0<b;b--){C=x[b];for(var N=C.x,D=N+C.width,H=C.y,fe=H+C.height,Re=b-1;0<=Re;Re--)if(b!==Re){var Je=x[Re],bt=Je.x,Bt=bt+Je.width,En=Je.y,en=En+Je.height;if(N>=bt&&H>=En&&D<=Bt&&fe<=en){x.splice(b,1);break}else if(N!==bt||C.width!==Je.width||en<H||En>fe){if(!(H!==En||C.height!==Je.height||Bt<N||bt>D)){bt>N&&(Je.width+=bt-N,Je.x=N),Bt<D&&(Je.width=D-bt),x.splice(b,1);break}}else{En>H&&(Je.height+=En-H,Je.y=H),en<fe&&(Je.height=fe-En),x.splice(b,1);break}}}return x},n.findHostInstance=j8,n.findHostInstanceWithNoPortals=function(x){return x=k(x),x=x!==null?L(x):null,x===null?null:x.stateNode},n.findHostInstanceWithWarning=function(x){return j8(x)},n.flushControlled=function(x){var b=jn;jn|=1;var C=yi.transition,N=zn;try{yi.transition=null,zn=1,x()}finally{zn=N,yi.transition=C,jn=b,jn===0&&(zm(),Ma())}},n.flushPassiveEffects=ch,n.flushSync=A8,n.focusWithin=function(x,b){if(!ee)throw Error(a(363));for(x=eN(x),b=S8(x,b),b=Array.from(b),x=0;x<b.length;){var C=b[x++];if(!B(C)){if(C.tag===5&&xe(C.stateNode))return!0;for(C=C.child;C!==null;)b.push(C),C=C.sibling}}return!1},n.getCurrentUpdatePriority=function(){return zn},n.getFindAllNodesFailureDescription=function(x,b){if(!ee)throw Error(a(363));var C=0,N=[];x=[eN(x),0];for(var D=0;D<x.length;){var H=x[D++],fe=x[D++],Re=b[fe];if((H.tag!==5||!B(H))&&(tN(H,Re)&&(N.push(nN(Re)),fe++,fe>C&&(C=fe)),fe<b.length))for(H=H.child;H!==null;)x.push(H,fe),H=H.sibling}if(C<b.length){for(x=[];C<b.length;C++)x.push(nN(b[C]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+x.join(" > ")}return null},n.getPublicRootInstance=function(x){if(x=x.current,!x.child)return null;switch(x.child.tag){case 5:return z(x.child.stateNode);default:return x.child.stateNode}},n.injectIntoDevTools=function(x){if(x={bundleType:x.bundleType,version:x.version,rendererPackageName:x.rendererPackageName,rendererConfig:x.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:Qge,findFiberByHostInstance:x.findFiberByHostInstance||eve,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")x=!1;else{var b=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(b.isDisabled||!b.supportsFiber)x=!0;else{try{Jf=b.inject(x),Ka=b}catch{}x=!!b.checkDCE}}return x},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(x,b,C,N){if(!ee)throw Error(a(363));x=rN(x,b);var D=Te(x,C,N).disconnect;return{disconnect:function(){D()}}},n.registerMutableSourceForHydration=function(x,b){var C=b._getVersion;C=C(b._source),x.mutableSourceEagerHydrationData==null?x.mutableSourceEagerHydrationData=[b,C]:x.mutableSourceEagerHydrationData.push(b,C)},n.runWithPriority=function(x,b){var C=zn;try{return zn=x,b()}finally{zn=C}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(x,b,C,N){var D=b.current,H=ra(),fe=od(D);return C=L8(C),b.context===null?b.context=C:b.pendingContext=C,b=Kc(H,fe),b.payload={element:x},N=N===void 0?null:N,N!==null&&(b.callback=N),id(D,b),x=Io(D,fe,H),x!==null&&U_(x,D,fe),fe},n};Xle.exports=fBe;var hBe=Xle.exports;const pBe=lr(hBe);var qle={exports:{}},Kle={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(j,U){var $=j.length;j.push(U);e:for(;0<$;){var G=$-1>>>1,X=j[G];if(0<i(X,U))j[G]=U,j[$]=X,$=G;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var U=j[0],$=j.pop();if($!==U){j[0]=$;e:for(var G=0,X=j.length,Q=X>>>1;G<Q;){var oe=2*(G+1)-1,de=j[oe],ae=oe+1,ne=j[ae];if(0>i(de,$))ae<X&&0>i(ne,de)?(j[G]=ne,j[ae]=$,G=ae):(j[G]=de,j[oe]=$,G=oe);else if(ae<X&&0>i(ne,$))j[G]=ne,j[ae]=$,G=ae;else break e}}return U}function i(j,U){var $=j.sortIndex-U.sortIndex;return $!==0?$:j.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,d=null,f=3,h=!1,m=!1,g=!1,v=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(j){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=j)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(j){if(g=!1,_(j),!m)if(n(l)!==null)m=!0,z(E);else{var U=n(c);U!==null&&K(S,U.startTime-j)}}function E(j,U){m=!1,g&&(g=!1,y(R),R=-1),h=!0;var $=f;try{for(_(U),d=n(l);d!==null&&(!(d.expirationTime>U)||j&&!k());){var G=d.callback;if(typeof G=="function"){d.callback=null,f=d.priorityLevel;var X=G(d.expirationTime<=U);U=t.unstable_now(),typeof X=="function"?d.callback=X:d===n(l)&&r(l),_(U)}else r(l);d=n(l)}if(d!==null)var Q=!0;else{var oe=n(c);oe!==null&&K(S,oe.startTime-U),Q=!1}return Q}finally{d=null,f=$,h=!1}}var A=!1,M=null,R=-1,P=5,O=-1;function k(){return!(t.unstable_now()-O<P)}function I(){if(M!==null){var j=t.unstable_now();O=j;var U=!0;try{U=M(!0,j)}finally{U?F():(A=!1,M=null)}}else A=!1}var F;if(typeof w=="function")F=function(){w(I)};else if(typeof MessageChannel<"u"){var L=new MessageChannel,V=L.port2;L.port1.onmessage=I,F=function(){V.postMessage(null)}}else F=function(){v(I,0)};function z(j){M=j,A||(A=!0,F())}function K(j,U){R=v(function(){j(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(j){j.callback=null},t.unstable_continueExecution=function(){m||h||(m=!0,z(E))},t.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<j?Math.floor(1e3/j):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(j){switch(f){case 1:case 2:case 3:var U=3;break;default:U=f}var $=f;f=U;try{return j()}finally{f=$}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var $=f;f=j;try{return U()}finally{f=$}},t.unstable_scheduleCallback=function(j,U,$){var G=t.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?G+$:G):$=G,j){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=$+X,j={id:u++,callback:U,priorityLevel:j,startTime:$,expirationTime:X,sortIndex:-1},$>G?(j.sortIndex=$,e(c,j),n(l)===null&&j===n(c)&&(g?(y(R),R=-1):g=!0,K(S,$-G))):(j.sortIndex=X,e(l,j),m||h||(m=!0,z(E))),j},t.unstable_shouldYield=k,t.unstable_wrapCallback=function(j){var U=f;return function(){var $=f;f=U;try{return j.apply(this,arguments)}finally{f=$}}}})(Kle);qle.exports=Kle;var Z9=qle.exports;const _5={},cR=t=>void Object.assign(_5,t);function mBe(t,e){function n(u,{args:d=[],attach:f,...h},m){let g=`${u[0].toUpperCase()}${u.slice(1)}`,v;if(u==="primitive"){if(h.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=h.object;v=Ng(y,{type:u,root:m,attach:f,primitive:!0})}else{const y=_5[g];if(!y)throw new Error(`R3F: ${g} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(d))throw new Error("R3F: The args prop must be an array!");v=Ng(new y(...d),{type:u,root:m,attach:f,memoizedProps:{args:d}})}return v.__r3f.attach===void 0&&(v.isBufferGeometry?v.__r3f.attach="geometry":v.isMaterial&&(v.__r3f.attach="material")),g!=="inject"&&R3(v,h),v}function r(u,d){let f=!1;if(d){var h,m;(h=d.__r3f)!=null&&h.attach?P3(u,d,d.__r3f.attach):d.isObject3D&&u.isObject3D&&(u.add(d),f=!0),f||(m=u.__r3f)==null||m.objects.push(d),d.__r3f||Ng(d,{}),d.__r3f.parent=u,dj(d),Ig(d)}}function i(u,d,f){let h=!1;if(d){var m,g;if((m=d.__r3f)!=null&&m.attach)P3(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){d.parent=u,d.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:d});const v=u.children.filter(w=>w!==d),y=v.indexOf(f);u.children=[...v.slice(0,y),d,...v.slice(y)],h=!0}h||(g=u.__r3f)==null||g.objects.push(d),d.__r3f||Ng(d,{}),d.__r3f.parent=u,dj(d),Ig(d)}}function s(u,d,f=!1){u&&[...u].forEach(h=>a(d,h,f))}function a(u,d,f){if(d){var h,m,g;if(d.__r3f&&(d.__r3f.parent=null),(h=u.__r3f)!=null&&h.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==d)),(m=d.__r3f)!=null&&m.attach)n7(u,d,d.__r3f.attach);else if(d.isObject3D&&u.isObject3D){var v;u.remove(d),(v=d.__r3f)!=null&&v.root&&SBe(oA(d),d)}const w=(g=d.__r3f)==null?void 0:g.primitive,_=!w&&(f===void 0?d.dispose!==null:f);if(!w){var y;s((y=d.__r3f)==null?void 0:y.objects,d,_),s(d.children,d,_)}if(delete d.__r3f,_&&d.dispose&&d.type!=="Scene"){const S=()=>{try{d.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?Z9.unstable_scheduleCallback(Z9.unstable_IdlePriority,S):S()}Ig(u)}}function o(u,d,f,h){var m;const g=(m=u.__r3f)==null?void 0:m.parent;if(!g)return;const v=n(d,f,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(v,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(v,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(g,u),v.parent&&(v.__r3f.autoRemovedBeforeAppend=!0),r(g,v),v.raycast&&v.__r3f.eventCount&&oA(v).getState().internal.interaction.push(v),[h,h.alternate].forEach(y=>{y!==null&&(y.stateNode=v,y.ref&&(typeof y.ref=="function"?y.ref(v):y.ref.current=v))})}const l=()=>{};return{reconciler:pBe({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,d)=>{if(!d)return;const f=u.getState().scene;f.__r3f&&(f.__r3f.root=u,r(f,d))},removeChildFromContainer:(u,d)=>{d&&a(u.getState().scene,d)},insertInContainerBefore:(u,d,f)=>{if(!d||!f)return;const h=u.getState().scene;h.__r3f&&i(h,d,f)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var d;return!!((d=u==null?void 0:u.__r3f)!=null?d:{}).handlers},prepareUpdate(u,d,f,h){var m;if(((m=u==null?void 0:u.__r3f)!=null?m:{}).primitive&&h.object&&h.object!==u)return[!0];{const{args:v=[],children:y,...w}=h,{args:_=[],children:S,...E}=f;if(!Array.isArray(v))throw new Error("R3F: the args prop must be an array!");if(v.some((M,R)=>M!==_[R]))return[!0];const A=nce(u,w,E,!0);return A.changes.length?[!1,A]:null}},commitUpdate(u,[d,f],h,m,g,v){d?o(u,h,g,v):R3(u,f)},commitMount(u,d,f,h){var m;const g=(m=u.__r3f)!=null?m:{};u.raycast&&g.handlers&&g.eventCount&&oA(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>Ng(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var d;const{attach:f,parent:h}=(d=u.__r3f)!=null?d:{};f&&h&&n7(h,u,f),u.isObject3D&&(u.visible=!1),Ig(u)},unhideInstance(u,d){var f;const{attach:h,parent:m}=(f=u.__r3f)!=null?f:{};h&&m&&P3(m,u,h),(u.isObject3D&&d.visible==null||d.visible)&&(u.visible=!0),Ig(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():iv.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Rr.fun(performance.now)?performance.now:Rr.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Rr.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Rr.fun(clearTimeout)?clearTimeout:void 0}),applyProps:R3}}var J9,Q9;const C3=t=>"colorSpace"in t||"outputColorSpace"in t,Yle=()=>{var t;return(t=_5.ColorManagement)!=null?t:null},Zle=t=>t&&t.isOrthographicCamera,gBe=t=>t&&t.hasOwnProperty("current"),h_=typeof window<"u"&&((J9=window.document)!=null&&J9.createElement||((Q9=window.navigator)==null?void 0:Q9.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function Jle(t){const e=T.useRef(t);return h_(()=>void(e.current=t),[t]),e}function vBe({set:t}){return h_(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class Qle extends T.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}Qle.getDerivedStateFromError=()=>({error:!0});const ece="__default",e7=new Map,yBe=t=>t&&!!t.memoized&&!!t.changes;function tce(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Rx=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function oA(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Rr={obj:t=>t===Object(t)&&!Rr.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Rr.str(t)||Rr.num(t)||Rr.boo(t))return t===e;const s=Rr.obj(t);if(s&&r==="reference")return t===e;const a=Rr.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!Rr.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(Rr.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function xBe(t){const e={nodes:{},materials:{}};return t&&t.traverse(n=>{n.name&&(e.nodes[n.name]=n),n.material&&!e.materials[n.material.name]&&(e.materials[n.material.name]=n.material)}),e}function bBe(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function Ng(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function uj(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const t7=/-\d+$/;function P3(t,e,n){if(Rr.str(n)){if(t7.test(n)){const s=n.replace(t7,""),{target:a,key:o}=uj(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=uj(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function n7(t,e,n){var r,i;if(Rr.str(n)){const{target:s,key:a}=uj(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function nce(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},c=!1){const u=t.__r3f,d=Object.entries(i),f=[];if(c){const m=Object.keys(l);for(let g=0;g<m.length;g++)i.hasOwnProperty(m[g])||d.unshift([m[g],ece+"remove"])}d.forEach(([m,g])=>{var v;if((v=t.__r3f)!=null&&v.primitive&&m==="object"||Rr.equ(g,l[m]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(m))return f.push([m,g,!0,[]]);let y=[];m.includes("-")&&(y=m.split("-")),f.push([m,g,!1,y]);for(const w in i){const _=i[w];w.startsWith(`${m}-`)&&f.push([w,_,!1,w.split("-")])}});const h={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(h.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(h.attach=u.memoizedProps.attach),{memoized:h,changes:f}}const wBe=typeof process<"u"&&!1;function R3(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=yBe(e)?e:nce(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let f=0;f<o.length;f++){let[h,m,g,v]=o[f];if(C3(t)){const S="srgb",E="srgb-linear";h==="encoding"?(h="colorSpace",m=m===3001?S:E):h==="outputEncoding"&&(h="outputColorSpace",m=m===3001?S:E)}let y=t,w=y[h];if(v.length&&(w=v.reduce((_,S)=>_[S],t),!(w&&w.set))){const[_,...S]=v.reverse();y=S.reverse().reduce((E,A)=>E[A],t),h=_}if(m===ece+"remove")if(y.constructor){let _=e7.get(y.constructor);_||(_=new y.constructor,e7.set(y.constructor,_)),m=_[h]}else m=0;if(g&&r)m?r.handlers[h]=m:delete r.handlers[h],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof Op)){if(Array.isArray(m))w.fromArray?w.fromArray(m):w.set(...m);else if(w.copy&&m&&m.constructor&&(wBe?w.constructor.name===m.constructor.name:w.constructor===m.constructor))w.copy(m);else if(m!==void 0){var c;const _=(c=w)==null?void 0:c.isColor;!_&&w.setScalar?w.setScalar(m):w instanceof Op&&m instanceof Op?w.mask=m.mask:w.set(m),!Yle()&&s&&!s.linear&&_&&w.convertSRGBToLinear()}}else{var u;if(y[h]=m,(u=y[h])!=null&&u.isTexture&&y[h].format===Si&&y[h].type===ba&&s){const _=y[h];C3(_)&&C3(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}Ig(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const f=oA(t).getState().internal,h=f.interaction.indexOf(t);h>-1&&f.interaction.splice(h,1),r.eventCount&&f.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&dj(t),t}function Ig(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function dj(t){t.onUpdate==null||t.onUpdate(t)}function rce(t,e){t.manual||(Zle(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function tT(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function _Be(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return iv.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return iv.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return iv.ContinuousEventPriority;default:return iv.DefaultEventPriority}}function ice(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function SBe(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{ice(n.capturedMap,e,r,i)})}function EBe(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],d=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+d*d))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var d;return(d=c.__r3f)==null?void 0:d.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),d=new Set,f=[],h=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<h.length;y++){const w=Rx(h[y]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function m(y){const w=Rx(y);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var _;w.events.compute==null||w.events.compute(l,w,(_=w.previousRoot)==null?void 0:_.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(y,!0):[]}let g=h.flatMap(m).sort((y,w)=>{const _=Rx(y.object),S=Rx(w.object);return!_||!S?y.distance-w.distance:S.events.priority-_.events.priority||y.distance-w.distance}).filter(y=>{const w=tT(y);return d.has(w)?!1:(d.add(w),!0)});u.events.filter&&(g=u.events.filter(g,u));for(const y of g){let w=y.object;for(;w;){var v;(v=w.__r3f)!=null&&v.eventCount&&f.push({...y,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())d.has(tT(y.intersection))||f.push(y.intersection);return f}function i(l,c,u,d){const f=t.getState();if(l.length){const h={stopped:!1};for(const m of l){const g=Rx(m.object)||f,{raycaster:v,pointer:y,camera:w,internal:_}=g,S=new J(y.x,y.y,0).unproject(w),E=O=>{var k,I;return(k=(I=_.capturedMap.get(O))==null?void 0:I.has(m.eventObject))!=null?k:!1},A=O=>{const k={intersection:m,target:c.target};_.capturedMap.has(O)?_.capturedMap.get(O).set(m.eventObject,k):_.capturedMap.set(O,new Map([[m.eventObject,k]])),c.target.setPointerCapture(O)},M=O=>{const k=_.capturedMap.get(O);k&&ice(_.capturedMap,m.eventObject,k,O)};let R={};for(let O in c){let k=c[O];typeof k!="function"&&(R[O]=k)}let P={...m,...R,pointer:y,intersections:l,stopped:h.stopped,delta:u,unprojectedPoint:S,ray:v.ray,camera:w,stopPropagation(){const O="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!O||O.has(m.eventObject))&&(P.stopped=h.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(k=>k.eventObject===m.eventObject))){const k=l.slice(0,l.indexOf(m));s([...k,m])}},target:{hasPointerCapture:E,setPointerCapture:A,releasePointerCapture:M},currentTarget:{hasPointerCapture:E,setPointerCapture:A,releasePointerCapture:M},nativeEvent:c};if(d(P),h.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(d=>d.object===u.object&&d.index===u.index&&d.instanceId===u.instanceId)){const f=u.eventObject.__r3f,h=f==null?void 0:f.handlers;if(c.hovered.delete(tT(u)),f!=null&&f.eventCount){const m={...u,intersections:l};h.onPointerOut==null||h.onPointerOut(m),h.onPointerLeave==null||h.onPointerLeave(m)}}}function a(l,c){for(let u=0;u<c.length;u++){const d=c[u].__r3f;d==null||d.handlers.onPointerMissed==null||d.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:d,internal:f}=t.getState();f.lastEvent.current=u;const h=l==="onPointerMove",m=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",v=r(u,h?n:void 0),y=m?e(u):0;l==="onPointerDown"&&(f.initialClick=[u.offsetX,u.offsetY],f.initialHits=v.map(_=>_.eventObject)),m&&!v.length&&y<=2&&(a(u,f.interaction),d&&d(u)),h&&s(v);function w(_){const S=_.eventObject,E=S.__r3f,A=E==null?void 0:E.handlers;if(E!=null&&E.eventCount)if(h){if(A.onPointerOver||A.onPointerEnter||A.onPointerOut||A.onPointerLeave){const M=tT(_),R=f.hovered.get(M);R?R.stopped&&_.stopPropagation():(f.hovered.set(M,_),A.onPointerOver==null||A.onPointerOver(_),A.onPointerEnter==null||A.onPointerEnter(_))}A.onPointerMove==null||A.onPointerMove(_)}else{const M=A[l];M?(!m||f.initialHits.includes(S))&&(a(u,f.interaction.filter(R=>!f.initialHits.includes(R))),M(_)):m&&f.initialHits.includes(S)&&a(u,f.interaction.filter(R=>!f.initialHits.includes(R)))}}i(v,u,y,w)}}return{handlePointer:o}}const TBe=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],sce=t=>!!(t!=null&&t.render),uR=T.createContext(null),ABe=(t,e)=>{const n=Hle((o,l)=>{const c=new J,u=new J,d=new J;function f(y=l().camera,w=u,_=l().size){const{width:S,height:E,top:A,left:M}=_,R=S/E;w.isVector3?d.copy(w):d.set(...w);const P=y.getWorldPosition(c).distanceTo(d);if(Zle(y))return{width:S/y.zoom,height:E/y.zoom,top:A,left:M,factor:1,distance:P,aspect:R};{const O=y.fov*Math.PI/180,k=2*Math.tan(O/2)*P,I=k*(S/E);return{width:I,height:k,top:A,left:M,factor:S/I,distance:P,aspect:R}}}let h;const m=y=>o(w=>({performance:{...w.performance,current:y}})),g=new Ve;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,w)=>e(y,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new g5,pointer:g,mouse:g,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();h&&clearTimeout(h),y.performance.current!==y.performance.min&&m(y.performance.min),h=setTimeout(()=>m(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:f},setEvents:y=>o(w=>({...w,events:{...w.events,...y}})),setSize:(y,w,_,S,E)=>{const A=l().camera,M={width:y,height:w,top:S||0,left:E||0,updateStyle:_};o(R=>({size:M,viewport:{...R.viewport,...f(A,u,M)}}))},setDpr:y=>o(w=>{const _=tce(y);return{viewport:{...w.viewport,dpr:_,initialDpr:w.viewport.initialDpr||_}}}),setFrameloop:(y="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,y!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:T.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,w,_)=>{const S=l().internal;return S.priority=S.priority+(w>0?1:0),S.subscribers.push({ref:y,priority:w,store:_}),S.subscribers=S.subscribers.sort((E,A)=>E.priority-A.priority),()=>{const E=l().internal;E!=null&&E.subscribers&&(E.priority=E.priority-(w>0?1:0),E.subscribers=E.subscribers.filter(A=>A.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:d}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var f;i=l,s=c.dpr,rce(o,l),u.setPixelRatio(c.dpr);const h=(f=l.updateStyle)!=null?f:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,h)}o!==a&&(a=o,d(h=>({viewport:{...h.viewport,...h.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let nT,MBe=new Set,CBe=new Set,PBe=new Set;function O3(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function Ox(t,e){switch(t){case"before":return O3(MBe,e);case"after":return O3(CBe,e);case"tail":return O3(PBe,e)}}let N3,I3;function k3(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),N3=e.internal.subscribers,nT=0;nT<N3.length;nT++)I3=N3[nT],I3.ref.current(I3.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function RBe(t){let e=!1,n=!1,r,i,s;function a(c){i=requestAnimationFrame(a),e=!0,r=0,Ox("before",c),n=!0;for(const d of t.values()){var u;s=d.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=k3(c,s))}if(n=!1,Ox("after",c),r===0)return Ox("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,u=1){var d;if(!c)return t.forEach(f=>o(f.store.getState(),u));(d=c.gl.xr)!=null&&d.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,d,f){if(u&&Ox("before",c),d)k3(c,d,f);else for(const h of t.values())k3(c,h.store.getState());u&&Ox("after",c)}return{loop:a,invalidate:o,advance:l}}function Ku(){const t=T.useContext(uR);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function Sr(t=n=>n,e){return Ku()(t,e)}function Tr(t,e=0){const n=Ku(),r=n.getState().internal.subscribe,i=Jle(t);return h_(()=>r(i,e,n),[e,r,n]),null}const r7=new WeakMap;function ace(t,e){return function(n,...r){let i=r7.get(n);return i||(i=new n,r7.set(n,i)),t&&t(i),Promise.all(r.map(s=>new Promise((a,o)=>i.load(s,l=>{l.scene&&Object.assign(l,xBe(l.scene)),a(l)},e,l=>o(new Error(`Could not load ${s}: ${l==null?void 0:l.message}`))))))}}function tm(t,e,n,r){const i=Array.isArray(e)?e:[e],s=w5(ace(n,r),[t,...i],{equal:Rr.equ});return Array.isArray(e)?s:s[0]}tm.preload=function(t,e,n){const r=Array.isArray(e)?e:[e];return lBe(ace(n),[t,...r])};tm.clear=function(t,e){const n=Array.isArray(e)?e:[e];return cBe([t,...n])};const g0=new Map,{invalidate:i7,advance:s7}=RBe(g0),{reconciler:v0,applyProps:Nd}=mBe(g0,_Be),bg={objects:"shallow",strict:!1},OBe=(t,e)=>{const n=typeof t=="function"?t(e):t;return sce(n)?n:new b5({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function NBe(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function IBe(t){const e=g0.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||ABe(i7,s7),a=n||v0.createContainer(s,iv.ConcurrentRoot,null,!1,null,"",i,null);e||g0.set(t,{fiber:a,store:s});let o,l=!1,c;return{configure(u={}){let{gl:d,size:f,scene:h,events:m,onCreated:g,shadows:v=!1,linear:y=!1,flat:w=!1,legacy:_=!1,orthographic:S=!1,frameloop:E="always",dpr:A=[1,2],performance:M,raycaster:R,camera:P,onPointerMissed:O}=u,k=s.getState(),I=k.gl;k.gl||k.set({gl:I=OBe(d,t)});let F=k.raycaster;F||k.set({raycaster:F=new gy});const{params:L,...V}=R||{};if(Rr.equ(V,F,bg)||Nd(F,{...V}),Rr.equ(L,F.params,bg)||Nd(F,{params:{...F.params,...L}}),!k.camera||k.camera===c&&!Rr.equ(c,P,bg)){c=P;const $=P instanceof uy,G=$?P:S?new rl(0,0,0,0,.1,1e3):new Ur(75,0,.1,1e3);$||(G.position.z=5,P&&(Nd(G,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(G.manual=!0,G.updateProjectionMatrix())),!k.camera&&!(P!=null&&P.rotation)&&G.lookAt(0,0,0)),k.set({camera:G}),F.camera=G}if(!k.scene){let $;h!=null&&h.isScene?$=h:($=new dy,h&&Nd($,h)),k.set({scene:Ng($)})}if(!k.xr){var z;const $=(Q,oe)=>{const de=s.getState();de.frameloop!=="never"&&s7(Q,!0,de,oe)},G=()=>{const Q=s.getState();Q.gl.xr.enabled=Q.gl.xr.isPresenting,Q.gl.xr.setAnimationLoop(Q.gl.xr.isPresenting?$:null),Q.gl.xr.isPresenting||i7(Q)},X={connect(){const Q=s.getState().gl;Q.xr.addEventListener("sessionstart",G),Q.xr.addEventListener("sessionend",G)},disconnect(){const Q=s.getState().gl;Q.xr.removeEventListener("sessionstart",G),Q.xr.removeEventListener("sessionend",G)}};typeof((z=I.xr)==null?void 0:z.addEventListener)=="function"&&X.connect(),k.set({xr:X})}if(I.shadowMap){const $=I.shadowMap.enabled,G=I.shadowMap.type;if(I.shadowMap.enabled=!!v,Rr.boo(v))I.shadowMap.type=Nb;else if(Rr.str(v)){var K;const X={basic:eoe,percentage:MP,soft:Nb,variance:Pl};I.shadowMap.type=(K=X[v])!=null?K:Nb}else Rr.obj(v)&&Object.assign(I.shadowMap,v);($!==I.shadowMap.enabled||G!==I.shadowMap.type)&&(I.shadowMap.needsUpdate=!0)}const j=Yle();j&&("enabled"in j?j.enabled=!_:"legacyMode"in j&&(j.legacyMode=_)),l||Nd(I,{outputEncoding:y?3e3:3001,toneMapping:w?Oc:NB}),k.legacy!==_&&k.set(()=>({legacy:_})),k.linear!==y&&k.set(()=>({linear:y})),k.flat!==w&&k.set(()=>({flat:w})),d&&!Rr.fun(d)&&!sce(d)&&!Rr.equ(d,I,bg)&&Nd(I,d),m&&!k.events.handlers&&k.set({events:m(s)});const U=NBe(t,f);return Rr.equ(U,k.size,bg)||k.setSize(U.width,U.height,U.updateStyle,U.top,U.left),A&&k.viewport.dpr!==tce(A)&&k.setDpr(A),k.frameloop!==E&&k.setFrameloop(E),k.onPointerMissed||k.set({onPointerMissed:O}),M&&!Rr.equ(M,k.performance,bg)&&k.set($=>({performance:{...$.performance,...M}})),o=g,l=!0,this},render(u){return l||this.configure(),v0.updateContainer(p.jsx(kBe,{store:s,children:u,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){oce(t)}}}function kBe({store:t,children:e,onCreated:n,rootElement:r}){return h_(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),p.jsx(uR.Provider,{value:t,children:e})}function oce(t,e){const n=g0.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),v0.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),bBe(i),g0.delete(t)}catch{}},500)})}}function dR(t,e,n){return p.jsx(DBe,{children:t,container:e,state:n},e.uuid)}function DBe({state:t={},children:e,container:n}){const{events:r,size:i,...s}=t,a=Ku(),[o]=T.useState(()=>new gy),[l]=T.useState(()=>new Ve),c=T.useCallback((d,f)=>{const h={...d};Object.keys(d).forEach(g=>{(TBe.includes(g)||d[g]!==f[g]&&f[g])&&delete h[g]});let m;if(f&&i){const g=f.camera;m=d.viewport.getCurrentViewport(g,new J,i),g!==d.camera&&rce(g,i)}return{...h,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...d.events,...f==null?void 0:f.events,...r},size:{...d.size,...i},viewport:{...d.viewport,...m},...s}},[t]),[u]=T.useState(()=>{const d=a.getState();return Hle((h,m)=>({...d,scene:n,raycaster:o,pointer:l,mouse:l,previousRoot:a,events:{...d.events,...r},size:{...d.size,...i},...s,set:h,get:m,setEvents:g=>h(v=>({...v,events:{...v.events,...g}}))}))});return T.useEffect(()=>{const d=a.subscribe(f=>u.setState(h=>c(f,h)));return()=>{d()}},[c]),T.useEffect(()=>{u.setState(d=>c(a.getState(),d))},[c]),T.useEffect(()=>()=>{u.destroy()},[]),p.jsx(p.Fragment,{children:v0.createPortal(p.jsx(uR.Provider,{value:u,children:e}),u,null)})}v0.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:T.version});const D3={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function LBe(t){const{handlePointer:e}=EBe(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(D3).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,c]=D3[a];n.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=D3[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function a7(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function jBe({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=T.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=T.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=T.useRef(!1);T.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[d,f,h]=T.useMemo(()=>{const y=()=>{if(!o.current.element)return;const{left:w,top:_,width:S,height:E,bottom:A,right:M,x:R,y:P}=o.current.element.getBoundingClientRect(),O={left:w,top:_,width:S,height:E,bottom:A,right:M,x:R,y:P};o.current.element instanceof HTMLElement&&r&&(O.height=o.current.element.offsetHeight,O.width=o.current.element.offsetWidth),Object.freeze(O),u.current&&!zBe(o.current.lastBounds,O)&&a(o.current.lastBounds=O)};return[y,c?a7(y,c):y,l?a7(y,l):y]},[a,r,l,c]);function m(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",h,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function g(){o.current.element&&(o.current.resizeObserver=new i(h),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(y=>y.addEventListener("scroll",h,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{h()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const v=y=>{!y||y===o.current.element||(m(),o.current.element=y,o.current.scrollContainers=lce(y),g())};return UBe(h,!!e),FBe(f),T.useEffect(()=>{m(),g()},[e,h,f]),T.useEffect(()=>m,[]),[v,s,d]}function FBe(t){T.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function UBe(t,e){T.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function lce(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...lce(t.parentElement)]}const BBe=["x","y","top","bottom","left","right","width","height"],zBe=(t,e)=>BBe.every(n=>t[n]===e[n]);var VBe=Object.defineProperty,$Be=Object.defineProperties,HBe=Object.getOwnPropertyDescriptors,o7=Object.getOwnPropertySymbols,GBe=Object.prototype.hasOwnProperty,WBe=Object.prototype.propertyIsEnumerable,l7=(t,e,n)=>e in t?VBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c7=(t,e)=>{for(var n in e||(e={}))GBe.call(e,n)&&l7(t,n,e[n]);if(o7)for(var n of o7(e))WBe.call(e,n)&&l7(t,n,e[n]);return t},XBe=(t,e)=>$Be(t,HBe(e)),u7,d7;typeof window<"u"&&((u7=window.document)!=null&&u7.createElement||((d7=window.navigator)==null?void 0:d7.product)==="ReactNative")?T.useLayoutEffect:T.useEffect;function cce(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=t.child;for(;r;){const i=cce(r,e,n);if(i)return i;r=r.sibling}}function uce(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const f7=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=f7;return}return f7.apply(this,arguments)};const S5=uce(T.createContext(null));class dce extends T.Component{render(){return T.createElement(S5.Provider,{value:this._reactInternals},this.props.children)}}function qBe(){const t=T.useContext(S5);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=T.useId();return T.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=cce(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function KBe(){const t=qBe(),[e]=T.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==S5&&!e.has(i)&&e.set(i,T.useContext(uce(i)))}n=n.return}return e}function YBe(){const t=KBe();return T.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>T.createElement(e,null,T.createElement(n.Provider,XBe(c7({},r),{value:t.get(n)}))),e=>T.createElement(dce,c7({},e))),[t])}const ZBe=T.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=LBe,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:d,legacy:f,orthographic:h,frameloop:m,dpr:g,performance:v,raycaster:y,camera:w,scene:_,onPointerMissed:S,onCreated:E,...A},M){T.useMemo(()=>cR(iBe),[]);const R=YBe(),[P,O]=jBe({scroll:!0,debounce:{scroll:50,resize:0},...r}),k=T.useRef(null),I=T.useRef(null);T.useImperativeHandle(M,()=>k.current);const F=Jle(S),[L,V]=T.useState(!1),[z,K]=T.useState(!1);if(L)throw L;if(z)throw z;const j=T.useRef(null);h_(()=>{const $=k.current;O.width>0&&O.height>0&&$&&(j.current||(j.current=IBe($)),j.current.configure({gl:s,events:a,shadows:c,linear:u,flat:d,legacy:f,orthographic:h,frameloop:m,dpr:g,performance:v,raycaster:y,camera:w,scene:_,size:O,onPointerMissed:(...G)=>F.current==null?void 0:F.current(...G),onCreated:G=>{G.events.connect==null||G.events.connect(o?gBe(o)?o.current:o:I.current),l&&G.setEvents({compute:(X,Q)=>{const oe=X[l+"X"],de=X[l+"Y"];Q.pointer.set(oe/Q.size.width*2-1,-(de/Q.size.height)*2+1),Q.raycaster.setFromCamera(Q.pointer,Q.camera)}}),E==null||E(G)}}),j.current.render(p.jsx(R,{children:p.jsx(Qle,{set:K,children:p.jsx(T.Suspense,{fallback:p.jsx(vBe,{set:V}),children:e??null})})})))}),T.useEffect(()=>{const $=k.current;if($)return()=>oce($)},[]);const U=o?"none":"auto";return p.jsx("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...i},...A,children:p.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:p.jsx("canvas",{ref:k,style:{display:"block"},children:n})})})}),JBe=T.forwardRef(function(e,n){return p.jsx(dce,{children:p.jsx(ZBe,{...e,ref:n})})});function $u(){return $u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$u.apply(null,arguments)}const p_=new J,E5=new J,QBe=new J,h7=new Ve;function e5e(t,e,n){const r=p_.setFromMatrixPosition(t.matrixWorld);r.project(e);const i=n.width/2,s=n.height/2;return[r.x*i+i,-(r.y*s)+s]}function t5e(t,e){const n=p_.setFromMatrixPosition(t.matrixWorld),r=E5.setFromMatrixPosition(e.matrixWorld),i=n.sub(r),s=e.getWorldDirection(QBe);return i.angleTo(s)>Math.PI/2}function n5e(t,e,n,r){const i=p_.setFromMatrixPosition(t.matrixWorld),s=i.clone();s.project(e),h7.set(s.x,s.y),n.setFromCamera(h7,e);const a=n.intersectObjects(r,!0);if(a.length){const o=a[0].distance;return i.distanceTo(n.ray.origin)<o}return!0}function r5e(t,e){if(e instanceof rl)return e.zoom;if(e instanceof Ur){const n=p_.setFromMatrixPosition(t.matrixWorld),r=E5.setFromMatrixPosition(e.matrixWorld),i=e.fov*Math.PI/180,s=n.distanceTo(r);return 1/(2*Math.tan(i/2)*s)}else return 1}function i5e(t,e,n){if(e instanceof Ur||e instanceof rl){const r=p_.setFromMatrixPosition(t.matrixWorld),i=E5.setFromMatrixPosition(e.matrixWorld),s=r.distanceTo(i),a=(n[1]-n[0])/(e.far-e.near),o=n[1]-a*e.far;return Math.round(a*s+o)}}const fj=t=>Math.abs(t)<1e-10?0:t;function fce(t,e,n=""){let r="matrix3d(";for(let i=0;i!==16;i++)r+=fj(e[i]*t.elements[i])+(i!==15?",":")");return n+r}const s5e=(t=>e=>fce(e,t))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),a5e=(t=>(e,n)=>fce(e,t(n),"translate(-50%,-50%)"))(t=>[1/t,1/t,1/t,1,-1/t,-1/t,-1/t,-1,1/t,1/t,1/t,1,1,1,1,1]);function o5e(t){return t&&typeof t=="object"&&"current"in t}const $s=T.forwardRef(({children:t,eps:e=.001,style:n,className:r,prepend:i,center:s,fullscreen:a,portal:o,distanceFactor:l,sprite:c=!1,transform:u=!1,occlude:d,onOcclude:f,castShadow:h,receiveShadow:m,material:g,geometry:v,zIndexRange:y=[16777271,0],calculatePosition:w=e5e,as:_="div",wrapperClass:S,pointerEvents:E="auto",...A},M)=>{const{gl:R,camera:P,scene:O,size:k,raycaster:I,events:F,viewport:L}=Sr(),[V]=T.useState(()=>document.createElement(_)),z=T.useRef(null),K=T.useRef(null),j=T.useRef(0),U=T.useRef([0,0]),$=T.useRef(null),G=T.useRef(null),X=(o==null?void 0:o.current)||F.connected||R.domElement.parentNode,Q=T.useRef(null),oe=T.useRef(!1),de=T.useMemo(()=>d&&d!=="blending"||Array.isArray(d)&&d.length&&o5e(d[0]),[d]);T.useLayoutEffect(()=>{const _e=R.domElement;d&&d==="blending"?(_e.style.zIndex=`${Math.floor(y[0]/2)}`,_e.style.position="absolute",_e.style.pointerEvents="none"):(_e.style.zIndex=null,_e.style.position=null,_e.style.pointerEvents=null)},[d]),T.useLayoutEffect(()=>{if(K.current){const _e=z.current=UC(V);if(O.updateMatrixWorld(),u)V.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ye=w(K.current,P,k);V.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ye[0]}px,${ye[1]}px,0);transform-origin:0 0;`}return X&&(i?X.prepend(V):X.appendChild(V)),()=>{X&&X.removeChild(V),_e.unmount()}}},[X,u]),T.useLayoutEffect(()=>{S&&(V.className=S)},[S]);const ae=T.useMemo(()=>u?{position:"absolute",top:0,left:0,width:k.width,height:k.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:s?"translate3d(-50%,-50%,0)":"none",...a&&{top:-k.height/2,left:-k.width/2,width:k.width,height:k.height},...n},[n,s,a,k,u]),ne=T.useMemo(()=>({position:"absolute",pointerEvents:E}),[E]);T.useLayoutEffect(()=>{if(oe.current=!1,u){var _e;(_e=z.current)==null||_e.render(T.createElement("div",{ref:$,style:ae},T.createElement("div",{ref:G,style:ne},T.createElement("div",{ref:M,className:r,style:n,children:t}))))}else{var ye;(ye=z.current)==null||ye.render(T.createElement("div",{ref:M,style:ae,className:r,children:t}))}});const ve=T.useRef(!0);Tr(_e=>{if(K.current){P.updateMatrixWorld(),K.current.updateWorldMatrix(!0,!1);const ye=u?U.current:w(K.current,P,k);if(u||Math.abs(j.current-P.zoom)>e||Math.abs(U.current[0]-ye[0])>e||Math.abs(U.current[1]-ye[1])>e){const ce=t5e(K.current,P);let De=!1;de&&(Array.isArray(d)?De=d.map(Oe=>Oe.current):d!=="blending"&&(De=[O]));const Ee=ve.current;if(De){const Oe=n5e(K.current,P,I,De);ve.current=Oe&&!ce}else ve.current=!ce;Ee!==ve.current&&(f?f(!ve.current):V.style.display=ve.current?"block":"none");const Z=Math.floor(y[0]/2),Me=d?de?[y[0],Z]:[Z-1,0]:y;if(V.style.zIndex=`${i5e(K.current,P,Me)}`,u){const[Oe,Ce]=[k.width/2,k.height/2],Ne=P.projectionMatrix.elements[5]*Ce,{isOrthographicCamera:ee,top:te,left:me,bottom:W,right:B}=P,re=s5e(P.matrixWorldInverse),xe=ee?`scale(${Ne})translate(${fj(-(B+me)/2)}px,${fj((te+W)/2)}px)`:`translateZ(${Ne}px)`;let Te=K.current.matrixWorld;c&&(Te=P.matrixWorldInverse.clone().transpose().copyPosition(Te).scale(K.current.scale),Te.elements[3]=Te.elements[7]=Te.elements[11]=0,Te.elements[15]=1),V.style.width=k.width+"px",V.style.height=k.height+"px",V.style.perspective=ee?"":`${Ne}px`,$.current&&G.current&&($.current.style.transform=`${xe}${re}translate(${Oe}px,${Ce}px)`,G.current.style.transform=a5e(Te,1/((l||10)/400)))}else{const Oe=l===void 0?1:r5e(K.current,P)*l;V.style.transform=`translate3d(${ye[0]}px,${ye[1]}px,0) scale(${Oe})`}U.current=ye,j.current=P.zoom}}if(!de&&Q.current&&!oe.current)if(u){if($.current){const ye=$.current.children[0];if(ye!=null&&ye.clientWidth&&ye!=null&&ye.clientHeight){const{isOrthographicCamera:ce}=P;if(ce||v)A.scale&&(Array.isArray(A.scale)?A.scale instanceof J?Q.current.scale.copy(A.scale.clone().divideScalar(1)):Q.current.scale.set(1/A.scale[0],1/A.scale[1],1/A.scale[2]):Q.current.scale.setScalar(1/A.scale));else{const De=(l||10)/400,Ee=ye.clientWidth*De,Z=ye.clientHeight*De;Q.current.scale.set(Ee,Z,1)}oe.current=!0}}}else{const ye=V.children[0];if(ye!=null&&ye.clientWidth&&ye!=null&&ye.clientHeight){const ce=1/L.factor,De=ye.clientWidth*ce,Ee=ye.clientHeight*ce;Q.current.scale.set(De,Ee,1),oe.current=!0}Q.current.lookAt(_e.camera.position)}});const ge=T.useMemo(()=>({vertexShader:u?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[u]);return T.createElement("group",$u({},A,{ref:K}),d&&!de&&T.createElement("mesh",{castShadow:h,receiveShadow:m,ref:Q},v||T.createElement("planeGeometry",null),g||T.createElement("shaderMaterial",{side:Ba,vertexShader:ge.vertexShader,fragmentShader:ge.fragmentShader})))});function l5e(t,e="pointer",n="auto",r=document.body){T.useEffect(()=>{if(t)return r.style.cursor=e,()=>void(r.style.cursor=n)},[t])}const p7=t=>{let e;const n=new Set,r=(c,u)=>{const d=typeof c=="function"?c(e):c;if(!Object.is(d,e)){const f=e;e=u??(typeof d!="object"||d===null)?d:Object.assign({},e,d),n.forEach(h=>h(e,f))}},i=()=>e,o={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,o);return o},c5e=t=>t?p7(t):p7,u5e=t=>t;function d5e(t,e=u5e){const n=ie.useSyncExternalStore(t.subscribe,ie.useCallback(()=>e(t.getState()),[t,e]),ie.useCallback(()=>e(t.getInitialState()),[t,e]));return ie.useDebugValue(n),n}const m7=t=>{const e=c5e(t),n=r=>d5e(e,r);return Object.assign(n,e),n},f5e=t=>t?m7(t):m7,h5e=t=>(e,n,r)=>{const i=r.subscribe;return r.subscribe=(a,o,l)=>{let c=a;if(o){const u=(l==null?void 0:l.equalityFn)||Object.is;let d=a(r.getState());c=f=>{const h=a(f);if(!u(d,h)){const m=d;o(d=h,m)}},l!=null&&l.fireImmediately&&o(d,d)}return i(c)},t(e,n,r)},p5e=h5e,hce=T.createContext(null);function m5e({map:t,children:e,onChange:n,domElement:r}){const i=t.map(l=>l.name+l.keys).join("-"),s=T.useMemo(()=>f5e(p5e(()=>t.reduce((l,c)=>({...l,[c.name]:!1}),{}))),[i]),a=T.useMemo(()=>[s.subscribe,s.getState,s],[i]),o=s.setState;return T.useEffect(()=>{const c=t.map(({name:h,keys:m,up:g})=>({keys:m,up:g,fn:v=>{o({[h]:v}),n&&n(h,v,a[1]())}})).reduce((h,{keys:m,fn:g,up:v=!0})=>(m.forEach(y=>h[y]={fn:g,pressed:!1,up:v}),h),{}),u=({key:h,code:m})=>{const g=c[h]||c[m];if(!g)return;const{fn:v,pressed:y,up:w}=g;g.pressed=!0,(w||!y)&&v(!0)},d=({key:h,code:m})=>{const g=c[h]||c[m];if(!g)return;const{fn:v,up:y}=g;g.pressed=!1,y&&v(!1)},f=r||window;return f.addEventListener("keydown",u,{passive:!0}),f.addEventListener("keyup",d,{passive:!0}),()=>{f.removeEventListener("keydown",u),f.removeEventListener("keyup",d)}},[r,i]),T.createElement(hce.Provider,{value:a,children:e})}function g5e(t){const[e,n,r]=T.useContext(hce);return[e,n]}const pce=parseInt(vm.replace(/\D+/g,""));var Xo=Uint8Array,Zd=Uint16Array,hj=Uint32Array,mce=new Xo([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),gce=new Xo([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),v5e=new Xo([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),vce=function(t,e){for(var n=new Zd(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new hj(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return[n,i]},yce=vce(mce,2),xce=yce[0],y5e=yce[1];xce[28]=258,y5e[258]=28;var x5e=vce(gce,0),b5e=x5e[0],pj=new Zd(32768);for(var Br=0;Br<32768;++Br){var _d=(Br&43690)>>>1|(Br&21845)<<1;_d=(_d&52428)>>>2|(_d&13107)<<2,_d=(_d&61680)>>>4|(_d&3855)<<4,pj[Br]=((_d&65280)>>>8|(_d&255)<<8)>>>1}var Bb=function(t,e,n){for(var r=t.length,i=0,s=new Zd(e);i<r;++i)++s[t[i]-1];var a=new Zd(e);for(i=0;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Zd(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],u=e-t[i],d=a[t[i]-1]++<<u,f=d|(1<<u)-1;d<=f;++d)o[pj[d]>>>l]=c}else for(o=new Zd(r),i=0;i<r;++i)t[i]&&(o[i]=pj[a[t[i]-1]++]>>>15-t[i]);return o},m_=new Xo(288);for(var Br=0;Br<144;++Br)m_[Br]=8;for(var Br=144;Br<256;++Br)m_[Br]=9;for(var Br=256;Br<280;++Br)m_[Br]=7;for(var Br=280;Br<288;++Br)m_[Br]=8;var bce=new Xo(32);for(var Br=0;Br<32;++Br)bce[Br]=5;var w5e=Bb(m_,9,1),_5e=Bb(bce,5,1),L3=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},wl=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},j3=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},S5e=function(t){return(t/8|0)+(t&7&&1)},E5e=function(t,e,n){(n==null||n>t.length)&&(n=t.length);var r=new(t instanceof Zd?Zd:t instanceof hj?hj:Xo)(n-e);return r.set(t.subarray(e,n)),r},T5e=function(t,e,n){var r=t.length;if(!r||n&&!n.l&&r<5)return e||new Xo(0);var i=!e||n,s=!n||n.i;n||(n={}),e||(e=new Xo(r*3));var a=function(ae){var ne=e.length;if(ae>ne){var ve=new Xo(Math.max(ne*2,ae));ve.set(e),e=ve}},o=n.f||0,l=n.p||0,c=n.b||0,u=n.l,d=n.d,f=n.m,h=n.n,m=r*8;do{if(!u){n.f=o=wl(t,l,1);var g=wl(t,l+1,3);if(l+=3,g)if(g==1)u=w5e,d=_5e,f=9,h=5;else if(g==2){var _=wl(t,l,31)+257,S=wl(t,l+10,15)+4,E=_+wl(t,l+5,31)+1;l+=14;for(var A=new Xo(E),M=new Xo(19),R=0;R<S;++R)M[v5e[R]]=wl(t,l+R*3,7);l+=S*3;for(var P=L3(M),O=(1<<P)-1,k=Bb(M,P,1),R=0;R<E;){var I=k[wl(t,l,O)];l+=I&15;var v=I>>>4;if(v<16)A[R++]=v;else{var F=0,L=0;for(v==16?(L=3+wl(t,l,3),l+=2,F=A[R-1]):v==17?(L=3+wl(t,l,7),l+=3):v==18&&(L=11+wl(t,l,127),l+=7);L--;)A[R++]=F}}var V=A.subarray(0,_),z=A.subarray(_);f=L3(V),h=L3(z),u=Bb(V,f,1),d=Bb(z,h,1)}else throw"invalid block type";else{var v=S5e(l)+4,y=t[v-4]|t[v-3]<<8,w=v+y;if(w>r){if(s)throw"unexpected EOF";break}i&&a(c+y),e.set(t.subarray(v,w),c),n.b=c+=y,n.p=l=w*8;continue}if(l>m){if(s)throw"unexpected EOF";break}}i&&a(c+131072);for(var K=(1<<f)-1,j=(1<<h)-1,U=l;;U=l){var F=u[j3(t,l)&K],$=F>>>4;if(l+=F&15,l>m){if(s)throw"unexpected EOF";break}if(!F)throw"invalid length/literal";if($<256)e[c++]=$;else if($==256){U=l,u=null;break}else{var G=$-254;if($>264){var R=$-257,X=mce[R];G=wl(t,l,(1<<X)-1)+xce[R],l+=X}var Q=d[j3(t,l)&j],oe=Q>>>4;if(!Q)throw"invalid distance";l+=Q&15;var z=b5e[oe];if(oe>3){var X=gce[oe];z+=j3(t,l)&(1<<X)-1,l+=X}if(l>m){if(s)throw"unexpected EOF";break}i&&a(c+131072);for(var de=c+G;c<de;c+=4)e[c]=e[c-z],e[c+1]=e[c+1-z],e[c+2]=e[c+2-z],e[c+3]=e[c+3-z];c=de}}n.l=u,n.p=U,n.b=c,u&&(o=1,n.m=f,n.d=d,n.n=h)}while(!o);return c==e.length?e:E5e(e,0,c)},A5e=new Xo(0),M5e=function(t){if((t[0]&15)!=8||t[0]>>>4>7||(t[0]<<8|t[1])%31)throw"invalid zlib data";if(t[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function rT(t,e){return T5e((M5e(t),t.subarray(2,-4)),e)}var C5e=typeof TextDecoder<"u"&&new TextDecoder,P5e=0;try{C5e.decode(A5e,{stream:!0}),P5e=1}catch{}const R5e=t=>t&&t.isCubeTexture;class O5e extends Wn{constructor(e,n){var r,i;const s=R5e(e),o=((i=s?(r=e.image[0])==null?void 0:r.width:e.image.width)!=null?i:1024)/4,l=Math.floor(Math.log2(o)),c=Math.pow(2,l),u=3*Math.max(c,16*7),d=4*c,f=[s?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/u}`,`#define CUBEUV_TEXEL_HEIGHT ${1/d}`,`#define CUBEUV_MAX_MIP ${l}.0`],h=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,m=f.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <${pce>=154?"colorspace_fragment":"encodings_fragment"}>
        }
        `,g={map:{value:e},height:{value:(n==null?void 0:n.height)||15},radius:{value:(n==null?void 0:n.radius)||100}},v=new c_(1,16),y=new Vi({uniforms:g,fragmentShader:m,vertexShader:h,side:Ba});super(v,y)}set radius(e){this.material.uniforms.radius.value=e}get radius(){return this.material.uniforms.radius.value}set height(e){this.material.uniforms.height.value=e}get height(){return this.material.uniforms.height.value}}var N5e=Object.defineProperty,I5e=(t,e,n)=>e in t?N5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,k5e=(t,e,n)=>(I5e(t,e+"",n),n);class D5e{constructor(){k5e(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var L5e=Object.defineProperty,j5e=(t,e,n)=>e in t?L5e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tn=(t,e,n)=>(j5e(t,typeof e!="symbol"?e+"":e,n),n);const iT=new Uc,g7=new Ua,F5e=Math.cos(70*(Math.PI/180)),v7=(t,e)=>(t%e+e)%e;let U5e=class extends D5e{constructor(e,n){super(),tn(this,"object"),tn(this,"domElement"),tn(this,"enabled",!0),tn(this,"target",new J),tn(this,"minDistance",0),tn(this,"maxDistance",1/0),tn(this,"minZoom",0),tn(this,"maxZoom",1/0),tn(this,"minPolarAngle",0),tn(this,"maxPolarAngle",Math.PI),tn(this,"minAzimuthAngle",-1/0),tn(this,"maxAzimuthAngle",1/0),tn(this,"enableDamping",!1),tn(this,"dampingFactor",.05),tn(this,"enableZoom",!0),tn(this,"zoomSpeed",1),tn(this,"enableRotate",!0),tn(this,"rotateSpeed",1),tn(this,"enablePan",!0),tn(this,"panSpeed",1),tn(this,"screenSpacePanning",!0),tn(this,"keyPanSpeed",7),tn(this,"zoomToCursor",!1),tn(this,"autoRotate",!1),tn(this,"autoRotateSpeed",2),tn(this,"reverseOrbit",!1),tn(this,"reverseHorizontalOrbit",!1),tn(this,"reverseVerticalOrbit",!1),tn(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),tn(this,"mouseButtons",{LEFT:jh.ROTATE,MIDDLE:jh.DOLLY,RIGHT:jh.PAN}),tn(this,"touches",{ONE:Fh.ROTATE,TWO:Fh.DOLLY_PAN}),tn(this,"target0"),tn(this,"position0"),tn(this,"zoom0"),tn(this,"_domElementKeyEvents",null),tn(this,"getPolarAngle"),tn(this,"getAzimuthalAngle"),tn(this,"setPolarAngle"),tn(this,"setAzimuthalAngle"),tn(this,"getDistance"),tn(this,"getZoomScale"),tn(this,"listenToKeyEvents"),tn(this,"stopListenToKeyEvents"),tn(this,"saveState"),tn(this,"reset"),tn(this,"update"),tn(this,"connect"),tn(this,"dispose"),tn(this,"dollyIn"),tn(this,"dollyOut"),tn(this,"getScale"),tn(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=he=>{let Pe=v7(he,2*Math.PI),Ye=u.phi;Ye<0&&(Ye+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let ue=Math.abs(Pe-Ye);2*Math.PI-ue<ue&&(Pe<Ye?Pe+=2*Math.PI:Ye+=2*Math.PI),d.phi=Pe-Ye,r.update()},this.setAzimuthalAngle=he=>{let Pe=v7(he,2*Math.PI),Ye=u.theta;Ye<0&&(Ye+=2*Math.PI),Pe<0&&(Pe+=2*Math.PI);let ue=Math.abs(Pe-Ye);2*Math.PI-ue<ue&&(Pe<Ye?Pe+=2*Math.PI:Ye+=2*Math.PI),d.theta=Pe-Ye,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=he=>{he.addEventListener("keydown",we),this._domElementKeyEvents=he},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",we),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const he=new J,Pe=new J(0,1,0),Ye=new hr().setFromUnitVectors(e.up,Pe),ue=Ye.clone().invert(),Ae=new J,Ze=new hr,at=2*Math.PI;return function(){const je=r.object.position;Ye.setFromUnitVectors(e.up,Pe),ue.copy(Ye).invert(),he.copy(je).sub(r.target),he.applyQuaternion(Ye),u.setFromVector3(he),r.autoRotate&&l===o.NONE&&L(I()),r.enableDamping?(u.theta+=d.theta*r.dampingFactor,u.phi+=d.phi*r.dampingFactor):(u.theta+=d.theta,u.phi+=d.phi);let $e=r.minAzimuthAngle,rt=r.maxAzimuthAngle;isFinite($e)&&isFinite(rt)&&($e<-Math.PI?$e+=at:$e>Math.PI&&($e-=at),rt<-Math.PI?rt+=at:rt>Math.PI&&(rt-=at),$e<=rt?u.theta=Math.max($e,Math.min(rt,u.theta)):u.theta=u.theta>($e+rt)/2?Math.max($e,u.theta):Math.min(rt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(h,r.dampingFactor):r.target.add(h),r.zoomToCursor&&P||r.object.isOrthographicCamera?u.radius=Q(u.radius):u.radius=Q(u.radius*f),he.setFromSpherical(u),he.applyQuaternion(ue),je.copy(r.target).add(he),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(d.theta*=1-r.dampingFactor,d.phi*=1-r.dampingFactor,h.multiplyScalar(1-r.dampingFactor)):(d.set(0,0,0),h.set(0,0,0));let lt=!1;if(r.zoomToCursor&&P){let Mt=null;if(r.object instanceof Ur&&r.object.isPerspectiveCamera){const ln=he.length();Mt=Q(ln*f);const gn=ln-Mt;r.object.position.addScaledVector(M,gn),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const ln=new J(R.x,R.y,0);ln.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix(),lt=!0;const gn=new J(R.x,R.y,0);gn.unproject(r.object),r.object.position.sub(gn).add(ln),r.object.updateMatrixWorld(),Mt=he.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;Mt!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(Mt).add(r.object.position):(iT.origin.copy(r.object.position),iT.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(iT.direction))<F5e?e.lookAt(r.target):(g7.setFromNormalAndCoplanarPoint(r.object.up,r.target),iT.intersectPlane(g7,r.target))))}else r.object instanceof rl&&r.object.isOrthographicCamera&&(lt=f!==1,lt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/f)),r.object.updateProjectionMatrix()));return f=1,P=!1,lt||Ae.distanceToSquared(r.object.position)>c||8*(1-Ze.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Ae.copy(r.object.position),Ze.copy(r.object.quaternion),lt=!1,!0):!1}})(),this.connect=he=>{r.domElement=he,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",dt),r.domElement.addEventListener("pointerdown",me),r.domElement.addEventListener("pointercancel",B),r.domElement.addEventListener("wheel",Te)},this.dispose=()=>{var he,Pe,Ye,ue,Ae,Ze;r.domElement&&(r.domElement.style.touchAction="auto"),(he=r.domElement)==null||he.removeEventListener("contextmenu",dt),(Pe=r.domElement)==null||Pe.removeEventListener("pointerdown",me),(Ye=r.domElement)==null||Ye.removeEventListener("pointercancel",B),(ue=r.domElement)==null||ue.removeEventListener("wheel",Te),(Ae=r.domElement)==null||Ae.ownerDocument.removeEventListener("pointermove",W),(Ze=r.domElement)==null||Ze.ownerDocument.removeEventListener("pointerup",B),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",we)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new aj,d=new aj;let f=1;const h=new J,m=new Ve,g=new Ve,v=new Ve,y=new Ve,w=new Ve,_=new Ve,S=new Ve,E=new Ve,A=new Ve,M=new J,R=new Ve;let P=!1;const O=[],k={};function I(){return 2*Math.PI/60/60*r.autoRotateSpeed}function F(){return Math.pow(.95,r.zoomSpeed)}function L(he){r.reverseOrbit||r.reverseHorizontalOrbit?d.theta+=he:d.theta-=he}function V(he){r.reverseOrbit||r.reverseVerticalOrbit?d.phi+=he:d.phi-=he}const z=(()=>{const he=new J;return function(Ye,ue){he.setFromMatrixColumn(ue,0),he.multiplyScalar(-Ye),h.add(he)}})(),K=(()=>{const he=new J;return function(Ye,ue){r.screenSpacePanning===!0?he.setFromMatrixColumn(ue,1):(he.setFromMatrixColumn(ue,0),he.crossVectors(r.object.up,he)),he.multiplyScalar(Ye),h.add(he)}})(),j=(()=>{const he=new J;return function(Ye,ue){const Ae=r.domElement;if(Ae&&r.object instanceof Ur&&r.object.isPerspectiveCamera){const Ze=r.object.position;he.copy(Ze).sub(r.target);let at=he.length();at*=Math.tan(r.object.fov/2*Math.PI/180),z(2*Ye*at/Ae.clientHeight,r.object.matrix),K(2*ue*at/Ae.clientHeight,r.object.matrix)}else Ae&&r.object instanceof rl&&r.object.isOrthographicCamera?(z(Ye*(r.object.right-r.object.left)/r.object.zoom/Ae.clientWidth,r.object.matrix),K(ue*(r.object.top-r.object.bottom)/r.object.zoom/Ae.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function U(he){r.object instanceof Ur&&r.object.isPerspectiveCamera||r.object instanceof rl&&r.object.isOrthographicCamera?f=he:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function $(he){U(f/he)}function G(he){U(f*he)}function X(he){if(!r.zoomToCursor||!r.domElement)return;P=!0;const Pe=r.domElement.getBoundingClientRect(),Ye=he.clientX-Pe.left,ue=he.clientY-Pe.top,Ae=Pe.width,Ze=Pe.height;R.x=Ye/Ae*2-1,R.y=-(ue/Ze)*2+1,M.set(R.x,R.y,1).unproject(r.object).sub(r.object.position).normalize()}function Q(he){return Math.max(r.minDistance,Math.min(r.maxDistance,he))}function oe(he){m.set(he.clientX,he.clientY)}function de(he){X(he),S.set(he.clientX,he.clientY)}function ae(he){y.set(he.clientX,he.clientY)}function ne(he){g.set(he.clientX,he.clientY),v.subVectors(g,m).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(L(2*Math.PI*v.x/Pe.clientHeight),V(2*Math.PI*v.y/Pe.clientHeight)),m.copy(g),r.update()}function ve(he){E.set(he.clientX,he.clientY),A.subVectors(E,S),A.y>0?$(F()):A.y<0&&G(F()),S.copy(E),r.update()}function ge(he){w.set(he.clientX,he.clientY),_.subVectors(w,y).multiplyScalar(r.panSpeed),j(_.x,_.y),y.copy(w),r.update()}function _e(he){X(he),he.deltaY<0?G(F()):he.deltaY>0&&$(F()),r.update()}function ye(he){let Pe=!1;switch(he.code){case r.keys.UP:j(0,r.keyPanSpeed),Pe=!0;break;case r.keys.BOTTOM:j(0,-r.keyPanSpeed),Pe=!0;break;case r.keys.LEFT:j(r.keyPanSpeed,0),Pe=!0;break;case r.keys.RIGHT:j(-r.keyPanSpeed,0),Pe=!0;break}Pe&&(he.preventDefault(),r.update())}function ce(){if(O.length==1)m.set(O[0].pageX,O[0].pageY);else{const he=.5*(O[0].pageX+O[1].pageX),Pe=.5*(O[0].pageY+O[1].pageY);m.set(he,Pe)}}function De(){if(O.length==1)y.set(O[0].pageX,O[0].pageY);else{const he=.5*(O[0].pageX+O[1].pageX),Pe=.5*(O[0].pageY+O[1].pageY);y.set(he,Pe)}}function Ee(){const he=O[0].pageX-O[1].pageX,Pe=O[0].pageY-O[1].pageY,Ye=Math.sqrt(he*he+Pe*Pe);S.set(0,Ye)}function Z(){r.enableZoom&&Ee(),r.enablePan&&De()}function Me(){r.enableZoom&&Ee(),r.enableRotate&&ce()}function Oe(he){if(O.length==1)g.set(he.pageX,he.pageY);else{const Ye=nt(he),ue=.5*(he.pageX+Ye.x),Ae=.5*(he.pageY+Ye.y);g.set(ue,Ae)}v.subVectors(g,m).multiplyScalar(r.rotateSpeed);const Pe=r.domElement;Pe&&(L(2*Math.PI*v.x/Pe.clientHeight),V(2*Math.PI*v.y/Pe.clientHeight)),m.copy(g)}function Ce(he){if(O.length==1)w.set(he.pageX,he.pageY);else{const Pe=nt(he),Ye=.5*(he.pageX+Pe.x),ue=.5*(he.pageY+Pe.y);w.set(Ye,ue)}_.subVectors(w,y).multiplyScalar(r.panSpeed),j(_.x,_.y),y.copy(w)}function Ne(he){const Pe=nt(he),Ye=he.pageX-Pe.x,ue=he.pageY-Pe.y,Ae=Math.sqrt(Ye*Ye+ue*ue);E.set(0,Ae),A.set(0,Math.pow(E.y/S.y,r.zoomSpeed)),$(A.y),S.copy(E)}function ee(he){r.enableZoom&&Ne(he),r.enablePan&&Ce(he)}function te(he){r.enableZoom&&Ne(he),r.enableRotate&&Oe(he)}function me(he){var Pe,Ye;r.enabled!==!1&&(O.length===0&&((Pe=r.domElement)==null||Pe.ownerDocument.addEventListener("pointermove",W),(Ye=r.domElement)==null||Ye.ownerDocument.addEventListener("pointerup",B)),pt(he),he.pointerType==="touch"?Ke(he):re(he))}function W(he){r.enabled!==!1&&(he.pointerType==="touch"?Xe(he):xe(he))}function B(he){var Pe,Ye,ue;Le(he),O.length===0&&((Pe=r.domElement)==null||Pe.releasePointerCapture(he.pointerId),(Ye=r.domElement)==null||Ye.ownerDocument.removeEventListener("pointermove",W),(ue=r.domElement)==null||ue.ownerDocument.removeEventListener("pointerup",B)),r.dispatchEvent(a),l=o.NONE}function re(he){let Pe;switch(he.button){case 0:Pe=r.mouseButtons.LEFT;break;case 1:Pe=r.mouseButtons.MIDDLE;break;case 2:Pe=r.mouseButtons.RIGHT;break;default:Pe=-1}switch(Pe){case jh.DOLLY:if(r.enableZoom===!1)return;de(he),l=o.DOLLY;break;case jh.ROTATE:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enablePan===!1)return;ae(he),l=o.PAN}else{if(r.enableRotate===!1)return;oe(he),l=o.ROTATE}break;case jh.PAN:if(he.ctrlKey||he.metaKey||he.shiftKey){if(r.enableRotate===!1)return;oe(he),l=o.ROTATE}else{if(r.enablePan===!1)return;ae(he),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function xe(he){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;ne(he);break;case o.DOLLY:if(r.enableZoom===!1)return;ve(he);break;case o.PAN:if(r.enablePan===!1)return;ge(he);break}}function Te(he){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(he.preventDefault(),r.dispatchEvent(s),_e(he),r.dispatchEvent(a))}function we(he){r.enabled===!1||r.enablePan===!1||ye(he)}function Ke(he){switch(Be(he),O.length){case 1:switch(r.touches.ONE){case Fh.ROTATE:if(r.enableRotate===!1)return;ce(),l=o.TOUCH_ROTATE;break;case Fh.PAN:if(r.enablePan===!1)return;De(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case Fh.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Z(),l=o.TOUCH_DOLLY_PAN;break;case Fh.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;Me(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function Xe(he){switch(Be(he),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;Oe(he),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;Ce(he),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;ee(he),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;te(he),r.update();break;default:l=o.NONE}}function dt(he){r.enabled!==!1&&he.preventDefault()}function pt(he){O.push(he)}function Le(he){delete k[he.pointerId];for(let Pe=0;Pe<O.length;Pe++)if(O[Pe].pointerId==he.pointerId){O.splice(Pe,1);return}}function Be(he){let Pe=k[he.pointerId];Pe===void 0&&(Pe=new Ve,k[he.pointerId]=Pe),Pe.set(he.pageX,he.pageY)}function nt(he){const Pe=he.pointerId===O[0].pointerId?O[1]:O[0];return k[Pe.pointerId]}this.dollyIn=(he=F())=>{G(he),r.update()},this.dollyOut=(he=F())=>{$(he),r.update()},this.getScale=()=>f,this.setScale=he=>{U(he),r.update()},this.getZoomScale=()=>F(),n!==void 0&&this.connect(n),this.update()}};const B5e={uniforms:{tDiffuse:{value:null},h:{value:1/512}},vertexShader:`
      varying vec2 vUv;

      void main() {

        vUv = uv;
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

      }
  `,fragmentShader:`
    uniform sampler2D tDiffuse;
    uniform float h;

    varying vec2 vUv;

    void main() {

    	vec4 sum = vec4( 0.0 );

    	sum += texture2D( tDiffuse, vec2( vUv.x - 4.0 * h, vUv.y ) ) * 0.051;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x - 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 1.0 * h, vUv.y ) ) * 0.1531;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 2.0 * h, vUv.y ) ) * 0.12245;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 3.0 * h, vUv.y ) ) * 0.0918;
    	sum += texture2D( tDiffuse, vec2( vUv.x + 4.0 * h, vUv.y ) ) * 0.051;

    	gl_FragColor = sum;

    }
  `},z5e={uniforms:{tDiffuse:{value:null},v:{value:1/512}},vertexShader:`
    varying vec2 vUv;

    void main() {

      vUv = uv;
      gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
  `,fragmentShader:`

  uniform sampler2D tDiffuse;
  uniform float v;

  varying vec2 vUv;

  void main() {

    vec4 sum = vec4( 0.0 );

    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 4.0 * v ) ) * 0.051;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y - 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y ) ) * 0.1633;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 1.0 * v ) ) * 0.1531;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 2.0 * v ) ) * 0.12245;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 3.0 * v ) ) * 0.0918;
    sum += texture2D( tDiffuse, vec2( vUv.x, vUv.y + 4.0 * v ) ) * 0.051;

    gl_FragColor = sum;

  }
  `};class V5e extends l5{constructor(e){super(e),this.type=hi}parse(e){const a=function(R,P){switch(R){case 1:throw new Error("THREE.RGBELoader: Read Error: "+(P||""));case 2:throw new Error("THREE.RGBELoader: Write Error: "+(P||""));case 3:throw new Error("THREE.RGBELoader: Bad File Format: "+(P||""));default:case 4:throw new Error("THREE.RGBELoader: Memory Error: "+(P||""))}},u=`
`,d=function(R,P,O){P=P||1024;let I=R.pos,F=-1,L=0,V="",z=String.fromCharCode.apply(null,new Uint16Array(R.subarray(I,I+128)));for(;0>(F=z.indexOf(u))&&L<P&&I<R.byteLength;)V+=z,L+=z.length,I+=128,z+=String.fromCharCode.apply(null,new Uint16Array(R.subarray(I,I+128)));return-1<F?(R.pos+=L+F+1,V+z.slice(0,F)):!1},f=function(R){const P=/^#\?(\S+)/,O=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,k=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,I=/^\s*FORMAT=(\S+)\s*$/,F=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,L={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let V,z;for((R.pos>=R.byteLength||!(V=d(R)))&&a(1,"no header found"),(z=V.match(P))||a(3,"bad initial token"),L.valid|=1,L.programtype=z[1],L.string+=V+`
`;V=d(R),V!==!1;){if(L.string+=V+`
`,V.charAt(0)==="#"){L.comments+=V+`
`;continue}if((z=V.match(O))&&(L.gamma=parseFloat(z[1])),(z=V.match(k))&&(L.exposure=parseFloat(z[1])),(z=V.match(I))&&(L.valid|=2,L.format=z[1]),(z=V.match(F))&&(L.valid|=4,L.height=parseInt(z[1],10),L.width=parseInt(z[2],10)),L.valid&2&&L.valid&4)break}return L.valid&2||a(3,"missing format specifier"),L.valid&4||a(3,"missing image size specifier"),L},h=function(R,P,O){const k=P;if(k<8||k>32767||R[0]!==2||R[1]!==2||R[2]&128)return new Uint8Array(R);k!==(R[2]<<8|R[3])&&a(3,"wrong scanline width");const I=new Uint8Array(4*P*O);I.length||a(4,"unable to allocate buffer space");let F=0,L=0;const V=4*k,z=new Uint8Array(4),K=new Uint8Array(V);let j=O;for(;j>0&&L<R.byteLength;){L+4>R.byteLength&&a(1),z[0]=R[L++],z[1]=R[L++],z[2]=R[L++],z[3]=R[L++],(z[0]!=2||z[1]!=2||(z[2]<<8|z[3])!=k)&&a(3,"bad rgbe scanline format");let U=0,$;for(;U<V&&L<R.byteLength;){$=R[L++];const X=$>128;if(X&&($-=128),($===0||U+$>V)&&a(3,"bad scanline data"),X){const Q=R[L++];for(let oe=0;oe<$;oe++)K[U++]=Q}else K.set(R.subarray(L,L+$),U),U+=$,L+=$}const G=k;for(let X=0;X<G;X++){let Q=0;I[F]=K[X+Q],Q+=k,I[F+1]=K[X+Q],Q+=k,I[F+2]=K[X+Q],Q+=k,I[F+3]=K[X+Q],F+=4}j--}return I},m=function(R,P,O,k){const I=R[P+3],F=Math.pow(2,I-128)/255;O[k+0]=R[P+0]*F,O[k+1]=R[P+1]*F,O[k+2]=R[P+2]*F,O[k+3]=1},g=function(R,P,O,k){const I=R[P+3],F=Math.pow(2,I-128)/255;O[k+0]=dp.toHalfFloat(Math.min(R[P+0]*F,65504)),O[k+1]=dp.toHalfFloat(Math.min(R[P+1]*F,65504)),O[k+2]=dp.toHalfFloat(Math.min(R[P+2]*F,65504)),O[k+3]=dp.toHalfFloat(1)},v=new Uint8Array(e);v.pos=0;const y=f(v),w=y.width,_=y.height,S=h(v.subarray(v.pos),w,_);let E,A,M;switch(this.type){case ti:M=S.length/4;const R=new Float32Array(M*4);for(let O=0;O<M;O++)m(S,O*4,R,O*4);E=R,A=ti;break;case hi:M=S.length/4;const P=new Uint16Array(M*4);for(let O=0;O<M;O++)g(S,O*4,P,O*4);E=P,A=hi;break;default:throw new Error("THREE.RGBELoader: Unsupported type: "+this.type)}return{width:w,height:_,data:E,header:y.string,gamma:y.gamma,exposure:y.exposure,type:A}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(a,o){switch(a.type){case ti:case hi:"colorSpace"in a?a.colorSpace="srgb-linear":a.encoding=3e3,a.minFilter=Nn,a.magFilter=Nn,a.generateMipmaps=!1,a.flipY=!0;break}n&&n(a,o)}return super.load(e,s,r,i)}}const Nx=pce>=152;class $5e extends l5{constructor(e){super(e),this.type=hi}parse(e){const P=Math.pow(2.7182818,2.2);function O(q,se){for(var Se=0,Fe=0;Fe<65536;++Fe)(Fe==0||q[Fe>>3]&1<<(Fe&7))&&(se[Se++]=Fe);for(var He=Se-1;Se<65536;)se[Se++]=0;return He}function k(q){for(var se=0;se<16384;se++)q[se]={},q[se].len=0,q[se].lit=0,q[se].p=null}const I={l:0,c:0,lc:0};function F(q,se,Se,Fe,He){for(;Se<q;)se=se<<8|nt(Fe,He),Se+=8;Se-=q,I.l=se>>Se&(1<<q)-1,I.c=se,I.lc=Se}const L=new Array(59);function V(q){for(var se=0;se<=58;++se)L[se]=0;for(var se=0;se<65537;++se)L[q[se]]+=1;for(var Se=0,se=58;se>0;--se){var Fe=Se+L[se]>>1;L[se]=Se,Se=Fe}for(var se=0;se<65537;++se){var He=q[se];He>0&&(q[se]=He|L[He]++<<6)}}function z(q,se,Se,Fe,He,Ge,mt){for(var ct=Se,xt=0,Y=0;He<=Ge;He++){if(ct.value-Se.value>Fe)return!1;F(6,xt,Y,q,ct);var pe=I.l;if(xt=I.c,Y=I.lc,mt[He]=pe,pe==63){if(ct.value-Se.value>Fe)throw"Something wrong with hufUnpackEncTable";F(8,xt,Y,q,ct);var le=I.l+6;if(xt=I.c,Y=I.lc,He+le>Ge+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)mt[He++]=0;He--}else if(pe>=59){var le=pe-59+2;if(He+le>Ge+1)throw"Something wrong with hufUnpackEncTable";for(;le--;)mt[He++]=0;He--}}V(mt)}function K(q){return q&63}function j(q){return q>>6}function U(q,se,Se,Fe){for(;se<=Se;se++){var He=j(q[se]),Ge=K(q[se]);if(He>>Ge)throw"Invalid table entry";if(Ge>14){var mt=Fe[He>>Ge-14];if(mt.len)throw"Invalid table entry";if(mt.lit++,mt.p){var ct=mt.p;mt.p=new Array(mt.lit);for(var xt=0;xt<mt.lit-1;++xt)mt.p[xt]=ct[xt]}else mt.p=new Array(1);mt.p[mt.lit-1]=se}else if(Ge)for(var Y=0,xt=1<<14-Ge;xt>0;xt--){var mt=Fe[(He<<14-Ge)+Y];if(mt.len||mt.p)throw"Invalid table entry";mt.len=Ge,mt.lit=se,Y++}}return!0}const $={c:0,lc:0};function G(q,se,Se,Fe){q=q<<8|nt(Se,Fe),se+=8,$.c=q,$.lc=se}const X={c:0,lc:0};function Q(q,se,Se,Fe,He,Ge,mt,ct,xt,Y){if(q==se){Fe<8&&(G(Se,Fe,He,mt),Se=$.c,Fe=$.lc),Fe-=8;var pe=Se>>Fe,pe=new Uint8Array([pe])[0];if(xt.value+pe>Y)return!1;for(var le=ct[xt.value-1];pe-- >0;)ct[xt.value++]=le}else if(xt.value<Y)ct[xt.value++]=q;else return!1;X.c=Se,X.lc=Fe}function oe(q){return q&65535}function de(q){var se=oe(q);return se>32767?se-65536:se}const ae={a:0,b:0};function ne(q,se){var Se=de(q),Fe=de(se),He=Fe,Ge=Se+(He&1)+(He>>1),mt=Ge,ct=Ge-He;ae.a=mt,ae.b=ct}function ve(q,se){var Se=oe(q),Fe=oe(se),He=Se-(Fe>>1)&65535,Ge=Fe+He-32768&65535;ae.a=Ge,ae.b=He}function ge(q,se,Se,Fe,He,Ge,mt){for(var ct=mt<16384,xt=Se>He?He:Se,Y=1,pe;Y<=xt;)Y<<=1;for(Y>>=1,pe=Y,Y>>=1;Y>=1;){for(var le=0,ke=le+Ge*(He-pe),be=Ge*Y,ze=Ge*pe,et=Fe*Y,st=Fe*pe,ot,yt,ft,ut;le<=ke;le+=ze){for(var Tt=le,Wt=le+Fe*(Se-pe);Tt<=Wt;Tt+=st){var kt=Tt+et,Qt=Tt+be,sn=Qt+et;ct?(ne(q[Tt+se],q[Qt+se]),ot=ae.a,ft=ae.b,ne(q[kt+se],q[sn+se]),yt=ae.a,ut=ae.b,ne(ot,yt),q[Tt+se]=ae.a,q[kt+se]=ae.b,ne(ft,ut),q[Qt+se]=ae.a,q[sn+se]=ae.b):(ve(q[Tt+se],q[Qt+se]),ot=ae.a,ft=ae.b,ve(q[kt+se],q[sn+se]),yt=ae.a,ut=ae.b,ve(ot,yt),q[Tt+se]=ae.a,q[kt+se]=ae.b,ve(ft,ut),q[Qt+se]=ae.a,q[sn+se]=ae.b)}if(Se&Y){var Qt=Tt+be;ct?ne(q[Tt+se],q[Qt+se]):ve(q[Tt+se],q[Qt+se]),ot=ae.a,q[Qt+se]=ae.b,q[Tt+se]=ot}}if(He&Y)for(var Tt=le,Wt=le+Fe*(Se-pe);Tt<=Wt;Tt+=st){var kt=Tt+et;ct?ne(q[Tt+se],q[kt+se]):ve(q[Tt+se],q[kt+se]),ot=ae.a,q[kt+se]=ae.b,q[Tt+se]=ot}pe=Y,Y>>=1}return le}function _e(q,se,Se,Fe,He,Ge,mt,ct,xt,Y){for(var pe=0,le=0,ke=ct,be=Math.trunc(He.value+(Ge+7)/8);He.value<be;)for(G(pe,le,Se,He),pe=$.c,le=$.lc;le>=14;){var ze=pe>>le-14&16383,et=se[ze];if(et.len)le-=et.len,Q(et.lit,mt,pe,le,Se,Fe,He,xt,Y,ke),pe=X.c,le=X.lc;else{if(!et.p)throw"hufDecode issues";var st;for(st=0;st<et.lit;st++){for(var ot=K(q[et.p[st]]);le<ot&&He.value<be;)G(pe,le,Se,He),pe=$.c,le=$.lc;if(le>=ot&&j(q[et.p[st]])==(pe>>le-ot&(1<<ot)-1)){le-=ot,Q(et.p[st],mt,pe,le,Se,Fe,He,xt,Y,ke),pe=X.c,le=X.lc;break}}if(st==et.lit)throw"hufDecode issues"}}var yt=8-Ge&7;for(pe>>=yt,le-=yt;le>0;){var et=se[pe<<14-le&16383];if(et.len)le-=et.len,Q(et.lit,mt,pe,le,Se,Fe,He,xt,Y,ke),pe=X.c,le=X.lc;else throw"hufDecode issues"}return!0}function ye(q,se,Se,Fe,He,Ge){var mt={value:0},ct=Se.value,xt=Be(se,Se),Y=Be(se,Se);Se.value+=4;var pe=Be(se,Se);if(Se.value+=4,xt<0||xt>=65537||Y<0||Y>=65537)throw"Something wrong with HUF_ENCSIZE";var le=new Array(65537),ke=new Array(16384);k(ke);var be=Fe-(Se.value-ct);if(z(q,se,Se,be,xt,Y,le),pe>8*(Fe-(Se.value-ct)))throw"Something wrong with hufUncompress";U(le,xt,Y,ke),_e(le,ke,q,se,Se,pe,Y,Ge,He,mt)}function ce(q,se,Se){for(var Fe=0;Fe<Se;++Fe)se[Fe]=q[se[Fe]]}function De(q){for(var se=1;se<q.length;se++){var Se=q[se-1]+q[se]-128;q[se]=Se}}function Ee(q,se){for(var Se=0,Fe=Math.floor((q.length+1)/2),He=0,Ge=q.length-1;!(He>Ge||(se[He++]=q[Se++],He>Ge));)se[He++]=q[Fe++]}function Z(q){for(var se=q.byteLength,Se=new Array,Fe=0,He=new DataView(q);se>0;){var Ge=He.getInt8(Fe++);if(Ge<0){var mt=-Ge;se-=mt+1;for(var ct=0;ct<mt;ct++)Se.push(He.getUint8(Fe++))}else{var mt=Ge;se-=2;for(var xt=He.getUint8(Fe++),ct=0;ct<mt+1;ct++)Se.push(xt)}}return Se}function Me(q,se,Se,Fe,He,Ge){var kt=new DataView(Ge.buffer),mt=Se[q.idx[0]].width,ct=Se[q.idx[0]].height,xt=3,Y=Math.floor(mt/8),pe=Math.ceil(mt/8),le=Math.ceil(ct/8),ke=mt-(pe-1)*8,be=ct-(le-1)*8,ze={value:0},et=new Array(xt),st=new Array(xt),ot=new Array(xt),yt=new Array(xt),ft=new Array(xt);for(let Dt=0;Dt<xt;++Dt)ft[Dt]=se[q.idx[Dt]],et[Dt]=Dt<1?0:et[Dt-1]+pe*le,st[Dt]=new Float32Array(64),ot[Dt]=new Uint16Array(64),yt[Dt]=new Uint16Array(pe*64);for(let Dt=0;Dt<le;++Dt){var ut=8;Dt==le-1&&(ut=be);var Tt=8;for(let kn=0;kn<pe;++kn){kn==pe-1&&(Tt=ke);for(let Kt=0;Kt<xt;++Kt)ot[Kt].fill(0),ot[Kt][0]=He[et[Kt]++],Oe(ze,Fe,ot[Kt]),Ce(ot[Kt],st[Kt]),Ne(st[Kt]);ee(st);for(let Kt=0;Kt<xt;++Kt)te(st[Kt],yt[Kt],kn*64)}let Hn=0;for(let kn=0;kn<xt;++kn){const Kt=Se[q.idx[kn]].type;for(let er=8*Dt;er<8*Dt+ut;++er){Hn=ft[kn][er];for(let Bn=0;Bn<Y;++Bn){const qn=Bn*64+(er&7)*8;kt.setUint16(Hn+0*2*Kt,yt[kn][qn+0],!0),kt.setUint16(Hn+1*2*Kt,yt[kn][qn+1],!0),kt.setUint16(Hn+2*2*Kt,yt[kn][qn+2],!0),kt.setUint16(Hn+3*2*Kt,yt[kn][qn+3],!0),kt.setUint16(Hn+4*2*Kt,yt[kn][qn+4],!0),kt.setUint16(Hn+5*2*Kt,yt[kn][qn+5],!0),kt.setUint16(Hn+6*2*Kt,yt[kn][qn+6],!0),kt.setUint16(Hn+7*2*Kt,yt[kn][qn+7],!0),Hn+=8*2*Kt}}if(Y!=pe)for(let er=8*Dt;er<8*Dt+ut;++er){const Bn=ft[kn][er]+8*Y*2*Kt,qn=Y*64+(er&7)*8;for(let Ar=0;Ar<Tt;++Ar)kt.setUint16(Bn+Ar*2*Kt,yt[kn][qn+Ar],!0)}}}for(var Wt=new Uint16Array(mt),kt=new DataView(Ge.buffer),Qt=0;Qt<xt;++Qt){Se[q.idx[Qt]].decoded=!0;var sn=Se[q.idx[Qt]].type;if(Se[Qt].type==2)for(var Ct=0;Ct<ct;++Ct){const Dt=ft[Qt][Ct];for(var dn=0;dn<mt;++dn)Wt[dn]=kt.getUint16(Dt+dn*2*sn,!0);for(var dn=0;dn<mt;++dn)kt.setFloat32(Dt+dn*2*sn,Ae(Wt[dn]),!0)}}}function Oe(q,se,Se){for(var Fe,He=1;He<64;)Fe=se[q.value],Fe==65280?He=64:Fe>>8==255?He+=Fe&255:(Se[He]=Fe,He++),q.value++}function Ce(q,se){se[0]=Ae(q[0]),se[1]=Ae(q[1]),se[2]=Ae(q[5]),se[3]=Ae(q[6]),se[4]=Ae(q[14]),se[5]=Ae(q[15]),se[6]=Ae(q[27]),se[7]=Ae(q[28]),se[8]=Ae(q[2]),se[9]=Ae(q[4]),se[10]=Ae(q[7]),se[11]=Ae(q[13]),se[12]=Ae(q[16]),se[13]=Ae(q[26]),se[14]=Ae(q[29]),se[15]=Ae(q[42]),se[16]=Ae(q[3]),se[17]=Ae(q[8]),se[18]=Ae(q[12]),se[19]=Ae(q[17]),se[20]=Ae(q[25]),se[21]=Ae(q[30]),se[22]=Ae(q[41]),se[23]=Ae(q[43]),se[24]=Ae(q[9]),se[25]=Ae(q[11]),se[26]=Ae(q[18]),se[27]=Ae(q[24]),se[28]=Ae(q[31]),se[29]=Ae(q[40]),se[30]=Ae(q[44]),se[31]=Ae(q[53]),se[32]=Ae(q[10]),se[33]=Ae(q[19]),se[34]=Ae(q[23]),se[35]=Ae(q[32]),se[36]=Ae(q[39]),se[37]=Ae(q[45]),se[38]=Ae(q[52]),se[39]=Ae(q[54]),se[40]=Ae(q[20]),se[41]=Ae(q[22]),se[42]=Ae(q[33]),se[43]=Ae(q[38]),se[44]=Ae(q[46]),se[45]=Ae(q[51]),se[46]=Ae(q[55]),se[47]=Ae(q[60]),se[48]=Ae(q[21]),se[49]=Ae(q[34]),se[50]=Ae(q[37]),se[51]=Ae(q[47]),se[52]=Ae(q[50]),se[53]=Ae(q[56]),se[54]=Ae(q[59]),se[55]=Ae(q[61]),se[56]=Ae(q[35]),se[57]=Ae(q[36]),se[58]=Ae(q[48]),se[59]=Ae(q[49]),se[60]=Ae(q[57]),se[61]=Ae(q[58]),se[62]=Ae(q[62]),se[63]=Ae(q[63])}function Ne(q){const se=.5*Math.cos(.7853975),Se=.5*Math.cos(3.14159/16),Fe=.5*Math.cos(3.14159/8),He=.5*Math.cos(3*3.14159/16),Ge=.5*Math.cos(5*3.14159/16),mt=.5*Math.cos(3*3.14159/8),ct=.5*Math.cos(7*3.14159/16);for(var xt=new Array(4),Y=new Array(4),pe=new Array(4),le=new Array(4),ke=0;ke<8;++ke){var be=ke*8;xt[0]=Fe*q[be+2],xt[1]=mt*q[be+2],xt[2]=Fe*q[be+6],xt[3]=mt*q[be+6],Y[0]=Se*q[be+1]+He*q[be+3]+Ge*q[be+5]+ct*q[be+7],Y[1]=He*q[be+1]-ct*q[be+3]-Se*q[be+5]-Ge*q[be+7],Y[2]=Ge*q[be+1]-Se*q[be+3]+ct*q[be+5]+He*q[be+7],Y[3]=ct*q[be+1]-Ge*q[be+3]+He*q[be+5]-Se*q[be+7],pe[0]=se*(q[be+0]+q[be+4]),pe[3]=se*(q[be+0]-q[be+4]),pe[1]=xt[0]+xt[3],pe[2]=xt[1]-xt[2],le[0]=pe[0]+pe[1],le[1]=pe[3]+pe[2],le[2]=pe[3]-pe[2],le[3]=pe[0]-pe[1],q[be+0]=le[0]+Y[0],q[be+1]=le[1]+Y[1],q[be+2]=le[2]+Y[2],q[be+3]=le[3]+Y[3],q[be+4]=le[3]-Y[3],q[be+5]=le[2]-Y[2],q[be+6]=le[1]-Y[1],q[be+7]=le[0]-Y[0]}for(var ze=0;ze<8;++ze)xt[0]=Fe*q[16+ze],xt[1]=mt*q[16+ze],xt[2]=Fe*q[48+ze],xt[3]=mt*q[48+ze],Y[0]=Se*q[8+ze]+He*q[24+ze]+Ge*q[40+ze]+ct*q[56+ze],Y[1]=He*q[8+ze]-ct*q[24+ze]-Se*q[40+ze]-Ge*q[56+ze],Y[2]=Ge*q[8+ze]-Se*q[24+ze]+ct*q[40+ze]+He*q[56+ze],Y[3]=ct*q[8+ze]-Ge*q[24+ze]+He*q[40+ze]-Se*q[56+ze],pe[0]=se*(q[ze]+q[32+ze]),pe[3]=se*(q[ze]-q[32+ze]),pe[1]=xt[0]+xt[3],pe[2]=xt[1]-xt[2],le[0]=pe[0]+pe[1],le[1]=pe[3]+pe[2],le[2]=pe[3]-pe[2],le[3]=pe[0]-pe[1],q[0+ze]=le[0]+Y[0],q[8+ze]=le[1]+Y[1],q[16+ze]=le[2]+Y[2],q[24+ze]=le[3]+Y[3],q[32+ze]=le[3]-Y[3],q[40+ze]=le[2]-Y[2],q[48+ze]=le[1]-Y[1],q[56+ze]=le[0]-Y[0]}function ee(q){for(var se=0;se<64;++se){var Se=q[0][se],Fe=q[1][se],He=q[2][se];q[0][se]=Se+1.5747*He,q[1][se]=Se-.1873*Fe-.4682*He,q[2][se]=Se+1.8556*Fe}}function te(q,se,Se){for(var Fe=0;Fe<64;++Fe)se[Se+Fe]=dp.toHalfFloat(me(q[Fe]))}function me(q){return q<=1?Math.sign(q)*Math.pow(Math.abs(q),2.2):Math.sign(q)*Math.pow(P,Math.abs(q)-1)}function W(q){return new DataView(q.array.buffer,q.offset.value,q.size)}function B(q){var se=q.viewer.buffer.slice(q.offset.value,q.offset.value+q.size),Se=new Uint8Array(Z(se)),Fe=new Uint8Array(Se.length);return De(Se),Ee(Se,Fe),new DataView(Fe.buffer)}function re(q){var se=q.array.slice(q.offset.value,q.offset.value+q.size),Se=rT(se),Fe=new Uint8Array(Se.length);return De(Se),Ee(Se,Fe),new DataView(Fe.buffer)}function xe(q){for(var se=q.viewer,Se={value:q.offset.value},Fe=new Uint16Array(q.width*q.scanlineBlockSize*(q.channels*q.type)),He=new Uint8Array(8192),Ge=0,mt=new Array(q.channels),ct=0;ct<q.channels;ct++)mt[ct]={},mt[ct].start=Ge,mt[ct].end=mt[ct].start,mt[ct].nx=q.width,mt[ct].ny=q.lines,mt[ct].size=q.type,Ge+=mt[ct].nx*mt[ct].ny*mt[ct].size;var xt=Ze(se,Se),Y=Ze(se,Se);if(Y>=8192)throw"Something is wrong with PIZ_COMPRESSION BITMAP_SIZE";if(xt<=Y)for(var ct=0;ct<Y-xt+1;ct++)He[ct+xt]=he(se,Se);var pe=new Uint16Array(65536),le=O(He,pe),ke=Be(se,Se);ye(q.array,se,Se,ke,Fe,Ge);for(var ct=0;ct<q.channels;++ct)for(var be=mt[ct],ze=0;ze<mt[ct].size;++ze)ge(Fe,be.start+ze,be.nx,be.size,be.ny,be.nx*be.size,le);ce(pe,Fe,Ge);for(var et=0,st=new Uint8Array(Fe.buffer.byteLength),ot=0;ot<q.lines;ot++)for(var yt=0;yt<q.channels;yt++){var be=mt[yt],ft=be.nx*be.size,ut=new Uint8Array(Fe.buffer,be.end*2,ft*2);st.set(ut,et),et+=ft*2,be.end+=ft}return new DataView(st.buffer)}function Te(q){var se=q.array.slice(q.offset.value,q.offset.value+q.size),Se=rT(se);const Fe=q.lines*q.channels*q.width,He=q.type==1?new Uint16Array(Fe):new Uint32Array(Fe);let Ge=0,mt=0;const ct=new Array(4);for(let xt=0;xt<q.lines;xt++)for(let Y=0;Y<q.channels;Y++){let pe=0;switch(q.type){case 1:ct[0]=Ge,ct[1]=ct[0]+q.width,Ge=ct[1]+q.width;for(let le=0;le<q.width;++le){const ke=Se[ct[0]++]<<8|Se[ct[1]++];pe+=ke,He[mt]=pe,mt++}break;case 2:ct[0]=Ge,ct[1]=ct[0]+q.width,ct[2]=ct[1]+q.width,Ge=ct[2]+q.width;for(let le=0;le<q.width;++le){const ke=Se[ct[0]++]<<24|Se[ct[1]++]<<16|Se[ct[2]++]<<8;pe+=ke,He[mt]=pe,mt++}break}}return new DataView(He.buffer)}function we(q){var se=q.viewer,Se={value:q.offset.value},Fe=new Uint8Array(q.width*q.lines*(q.channels*q.type*2)),He={version:Pe(se,Se),unknownUncompressedSize:Pe(se,Se),unknownCompressedSize:Pe(se,Se),acCompressedSize:Pe(se,Se),dcCompressedSize:Pe(se,Se),rleCompressedSize:Pe(se,Se),rleUncompressedSize:Pe(se,Se),rleRawSize:Pe(se,Se),totalAcUncompressedCount:Pe(se,Se),totalDcUncompressedCount:Pe(se,Se),acCompression:Pe(se,Se)};if(He.version<2)throw"EXRLoader.parse: "+ii.compression+" version "+He.version+" is unsupported";for(var Ge=new Array,mt=Ze(se,Se)-2;mt>0;){var ct=Ke(se.buffer,Se),xt=he(se,Se),Y=xt>>2&3,pe=(xt>>4)-1,le=new Int8Array([pe])[0],ke=he(se,Se);Ge.push({name:ct,index:le,type:ke,compression:Y}),mt-=ct.length+3}for(var be=ii.channels,ze=new Array(q.channels),et=0;et<q.channels;++et){var st=ze[et]={},ot=be[et];st.name=ot.name,st.compression=0,st.decoded=!1,st.type=ot.pixelType,st.pLinear=ot.pLinear,st.width=q.width,st.height=q.lines}for(var yt={idx:new Array(3)},ft=0;ft<q.channels;++ft)for(var st=ze[ft],et=0;et<Ge.length;++et){var ut=Ge[et];st.name==ut.name&&(st.compression=ut.compression,ut.index>=0&&(yt.idx[ut.index]=ft),st.offset=ft)}if(He.acCompressedSize>0)switch(He.acCompression){case 0:var kt=new Uint16Array(He.totalAcUncompressedCount);ye(q.array,se,Se,He.acCompressedSize,kt,He.totalAcUncompressedCount);break;case 1:var Tt=q.array.slice(Se.value,Se.value+He.totalAcUncompressedCount),Wt=rT(Tt),kt=new Uint16Array(Wt.buffer);Se.value+=He.totalAcUncompressedCount;break}if(He.dcCompressedSize>0){var Qt={array:q.array,offset:Se,size:He.dcCompressedSize},sn=new Uint16Array(re(Qt).buffer);Se.value+=He.dcCompressedSize}if(He.rleRawSize>0){var Tt=q.array.slice(Se.value,Se.value+He.rleCompressedSize),Wt=rT(Tt),Ct=Z(Wt.buffer);Se.value+=He.rleCompressedSize}for(var dn=0,Dt=new Array(ze.length),et=0;et<Dt.length;++et)Dt[et]=new Array;for(var Hn=0;Hn<q.lines;++Hn)for(var kn=0;kn<ze.length;++kn)Dt[kn].push(dn),dn+=ze[kn].width*q.type*2;Me(yt,Dt,ze,kt,sn,Fe);for(var et=0;et<ze.length;++et){var st=ze[et];if(!st.decoded)switch(st.compression){case 2:for(var Kt=0,er=0,Hn=0;Hn<q.lines;++Hn){for(var Bn=Dt[et][Kt],qn=0;qn<st.width;++qn){for(var Ar=0;Ar<2*st.type;++Ar)Fe[Bn++]=Ct[er+Ar*st.width*st.height];er++}Kt++}break;case 1:default:throw"EXRLoader.parse: unsupported channel compression"}}return new DataView(Fe.buffer)}function Ke(q,se){for(var Se=new Uint8Array(q),Fe=0;Se[se.value+Fe]!=0;)Fe+=1;var He=new TextDecoder().decode(Se.slice(se.value,se.value+Fe));return se.value=se.value+Fe+1,He}function Xe(q,se,Se){var Fe=new TextDecoder().decode(new Uint8Array(q).slice(se.value,se.value+Se));return se.value=se.value+Se,Fe}function dt(q,se){var Se=Le(q,se),Fe=Be(q,se);return[Se,Fe]}function pt(q,se){var Se=Be(q,se),Fe=Be(q,se);return[Se,Fe]}function Le(q,se){var Se=q.getInt32(se.value,!0);return se.value=se.value+4,Se}function Be(q,se){var Se=q.getUint32(se.value,!0);return se.value=se.value+4,Se}function nt(q,se){var Se=q[se.value];return se.value=se.value+1,Se}function he(q,se){var Se=q.getUint8(se.value);return se.value=se.value+1,Se}const Pe=function(q,se){let Se;return"getBigInt64"in DataView.prototype?Se=Number(q.getBigInt64(se.value,!0)):Se=q.getUint32(se.value+4,!0)+Number(q.getUint32(se.value,!0)<<32),se.value+=8,Se};function Ye(q,se){var Se=q.getFloat32(se.value,!0);return se.value+=4,Se}function ue(q,se){return dp.toHalfFloat(Ye(q,se))}function Ae(q){var se=(q&31744)>>10,Se=q&1023;return(q>>15?-1:1)*(se?se===31?Se?NaN:1/0:Math.pow(2,se-15)*(1+Se/1024):6103515625e-14*(Se/1024))}function Ze(q,se){var Se=q.getUint16(se.value,!0);return se.value+=2,Se}function at(q,se){return Ae(Ze(q,se))}function qe(q,se,Se,Fe){for(var He=Se.value,Ge=[];Se.value<He+Fe-1;){var mt=Ke(se,Se),ct=Le(q,Se),xt=he(q,Se);Se.value+=3;var Y=Le(q,Se),pe=Le(q,Se);Ge.push({name:mt,pixelType:ct,pLinear:xt,xSampling:Y,ySampling:pe})}return Se.value+=1,Ge}function je(q,se){var Se=Ye(q,se),Fe=Ye(q,se),He=Ye(q,se),Ge=Ye(q,se),mt=Ye(q,se),ct=Ye(q,se),xt=Ye(q,se),Y=Ye(q,se);return{redX:Se,redY:Fe,greenX:He,greenY:Ge,blueX:mt,blueY:ct,whiteX:xt,whiteY:Y}}function $e(q,se){var Se=["NO_COMPRESSION","RLE_COMPRESSION","ZIPS_COMPRESSION","ZIP_COMPRESSION","PIZ_COMPRESSION","PXR24_COMPRESSION","B44_COMPRESSION","B44A_COMPRESSION","DWAA_COMPRESSION","DWAB_COMPRESSION"],Fe=he(q,se);return Se[Fe]}function rt(q,se){var Se=Be(q,se),Fe=Be(q,se),He=Be(q,se),Ge=Be(q,se);return{xMin:Se,yMin:Fe,xMax:He,yMax:Ge}}function lt(q,se){var Se=["INCREASING_Y"],Fe=he(q,se);return Se[Fe]}function Mt(q,se){var Se=Ye(q,se),Fe=Ye(q,se);return[Se,Fe]}function ln(q,se){var Se=Ye(q,se),Fe=Ye(q,se),He=Ye(q,se);return[Se,Fe,He]}function gn(q,se,Se,Fe,He){if(Fe==="string"||Fe==="stringvector"||Fe==="iccProfile")return Xe(se,Se,He);if(Fe==="chlist")return qe(q,se,Se,He);if(Fe==="chromaticities")return je(q,Se);if(Fe==="compression")return $e(q,Se);if(Fe==="box2i")return rt(q,Se);if(Fe==="lineOrder")return lt(q,Se);if(Fe==="float")return Ye(q,Se);if(Fe==="v2f")return Mt(q,Se);if(Fe==="v3f")return ln(q,Se);if(Fe==="int")return Le(q,Se);if(Fe==="rational")return dt(q,Se);if(Fe==="timecode")return pt(q,Se);if(Fe==="preview")return Se.value+=He,"skipped";Se.value+=He}function Zn(q,se,Se){const Fe={};if(q.getUint32(0,!0)!=20000630)throw"THREE.EXRLoader: provided file doesn't appear to be in OpenEXR format.";Fe.version=q.getUint8(4);const He=q.getUint8(5);Fe.spec={singleTile:!!(He&2),longName:!!(He&4),deepFormat:!!(He&8),multiPart:!!(He&16)},Se.value=8;for(var Ge=!0;Ge;){var mt=Ke(se,Se);if(mt==0)Ge=!1;else{var ct=Ke(se,Se),xt=Be(q,Se),Y=gn(q,se,Se,ct,xt);Y===void 0?console.warn(`EXRLoader.parse: skipped unknown header attribute type '${ct}'.`):Fe[mt]=Y}}if(He&-5)throw console.error("EXRHeader:",Fe),"THREE.EXRLoader: provided file is currently unsupported.";return Fe}function ur(q,se,Se,Fe,He){const Ge={size:0,viewer:se,array:Se,offset:Fe,width:q.dataWindow.xMax-q.dataWindow.xMin+1,height:q.dataWindow.yMax-q.dataWindow.yMin+1,channels:q.channels.length,bytesPerLine:null,lines:null,inputSize:null,type:q.channels[0].pixelType,uncompress:null,getter:null,format:null,[Nx?"colorSpace":"encoding"]:null};switch(q.compression){case"NO_COMPRESSION":Ge.lines=1,Ge.uncompress=W;break;case"RLE_COMPRESSION":Ge.lines=1,Ge.uncompress=B;break;case"ZIPS_COMPRESSION":Ge.lines=1,Ge.uncompress=re;break;case"ZIP_COMPRESSION":Ge.lines=16,Ge.uncompress=re;break;case"PIZ_COMPRESSION":Ge.lines=32,Ge.uncompress=xe;break;case"PXR24_COMPRESSION":Ge.lines=16,Ge.uncompress=Te;break;case"DWAA_COMPRESSION":Ge.lines=32,Ge.uncompress=we;break;case"DWAB_COMPRESSION":Ge.lines=256,Ge.uncompress=we;break;default:throw"EXRLoader.parse: "+q.compression+" is unsupported"}if(Ge.scanlineBlockSize=Ge.lines,Ge.type==1)switch(He){case ti:Ge.getter=at,Ge.inputSize=2;break;case hi:Ge.getter=Ze,Ge.inputSize=2;break}else if(Ge.type==2)switch(He){case ti:Ge.getter=Ye,Ge.inputSize=4;break;case hi:Ge.getter=ue,Ge.inputSize=4}else throw"EXRLoader.parse: unsupported pixelType "+Ge.type+" for "+q.compression+".";Ge.blockCount=(q.dataWindow.yMax+1)/Ge.scanlineBlockSize;for(var mt=0;mt<Ge.blockCount;mt++)Pe(se,Fe);Ge.outputChannels=Ge.channels==3?4:Ge.channels;const ct=Ge.width*Ge.height*Ge.outputChannels;switch(He){case ti:Ge.byteArray=new Float32Array(ct),Ge.channels<Ge.outputChannels&&Ge.byteArray.fill(1,0,ct);break;case hi:Ge.byteArray=new Uint16Array(ct),Ge.channels<Ge.outputChannels&&Ge.byteArray.fill(15360,0,ct);break;default:console.error("THREE.EXRLoader: unsupported type: ",He);break}return Ge.bytesPerLine=Ge.width*Ge.inputSize*Ge.channels,Ge.outputChannels==4?Ge.format=Si:Ge.format=t_,Nx?Ge.colorSpace="srgb-linear":Ge.encoding=3e3,Ge}const yr=new DataView(e),Xr=new Uint8Array(e),Pi={value:0},ii=Zn(yr,e,Pi),rn=ur(ii,yr,Xr,Pi,this.type),Ir={value:0},Aa={R:0,G:1,B:2,A:3,Y:0};for(let q=0;q<rn.height/rn.scanlineBlockSize;q++){const se=Be(yr,Pi);rn.size=Be(yr,Pi),rn.lines=se+rn.scanlineBlockSize>rn.height?rn.height-se:rn.scanlineBlockSize;const Fe=rn.size<rn.lines*rn.bytesPerLine?rn.uncompress(rn):W(rn);Pi.value+=rn.size;for(let He=0;He<rn.scanlineBlockSize;He++){const Ge=He+q*rn.scanlineBlockSize;if(Ge>=rn.height)break;for(let mt=0;mt<rn.channels;mt++){const ct=Aa[ii.channels[mt].name];for(let xt=0;xt<rn.width;xt++){Ir.value=(He*(rn.channels*rn.width)+mt*rn.width+xt)*rn.inputSize;const Y=(rn.height-1-Ge)*(rn.width*rn.outputChannels)+xt*rn.outputChannels+ct;rn.byteArray[Y]=rn.getter(Fe,Ir)}}}}return{header:ii,width:rn.width,height:rn.height,data:rn.byteArray,format:rn.format,[Nx?"colorSpace":"encoding"]:rn[Nx?"colorSpace":"encoding"],type:this.type}}setDataType(e){return this.type=e,this}load(e,n,r,i){function s(a,o){Nx?a.colorSpace=o.colorSpace:a.encoding=o.encoding,a.minFilter=Nn,a.magFilter=Nn,a.generateMipmaps=!1,a.flipY=!1,n&&n(a,o)}return super.load(e,s,r,i)}}function H5e(){var t=Object.create(null);function e(i,s){var a=i.id,o=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[a])try{l=l.map(function(f){return f&&f.isWorkerModule&&(e(f,function(h){if(h instanceof Error)throw h}),f=t[f.id].value),f}),c=r("<"+o+">.init",c),u&&(u=r("<"+o+">.getTransferables",u));var d=null;typeof c=="function"?d=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:d,getTransferables:u},s(d)}catch(f){f&&f.noLog||console.error(f),s(f)}}function n(i,s){var a,o=i.id,l=i.args;(!t[o]||typeof t[o].value!="function")&&s(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var c=(a=t[o]).value.apply(a,l);c&&typeof c.then=="function"?c.then(u,function(d){return s(d instanceof Error?d:new Error(""+d))}):u(c)}catch(d){s(d)}function u(d){try{var f=t[o].getTransferables&&t[o].getTransferables(d);(!f||!Array.isArray(f)||!f.length)&&(f=void 0),s(d,f)}catch(h){console.error(h),s(h)}}}function r(i,s){var a=void 0;self.troikaDefine=function(l){return a=l};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,a}self.addEventListener("message",function(i){var s=i.data,a=s.messageId,o=s.action,l=s.data;try{o==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),o==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}function G5e(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var wce=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return wce=function(){return t},t},W5e=0,X5e=0,F3=!1,zb=Object.create(null),Vb=Object.create(null),mj=Object.create(null);function yy(t){if((!t||typeof t.init!="function")&&!F3)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=G5e(t);i==null&&(i="#default");var a="workerModule"+ ++W5e,o=t.name||a,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(F3=!0,u=yy({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+lA(u)+`
)}`}),F3=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],d=arguments.length;d--;)u[d]=arguments[d];if(!wce())return s.apply(void 0,u);if(!l){l=y7(i,"registerModule",c.workerModuleData);var f=function(){l=null,Vb[i].delete(f)};(Vb[i]||(Vb[i]=new Set)).add(f)}return l.then(function(h){var m=h.isCallable;if(m)return y7(i,"callModule",{id:a,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:e,init:lA(n),getTransferables:r&&lA(r)},c.onMainThread=s,c}function q5e(t){Vb[t]&&Vb[t].forEach(function(e){e()}),zb[t]&&(zb[t].terminate(),delete zb[t])}function lA(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function K5e(t){var e=zb[t];if(!e){var n=lA(H5e);e=zb[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,a=mj[s];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete mj[s],a(i)}}return e}function y7(t,e,n){return new Promise(function(r,i){var s=++X5e;mj[s]=function(a){a.success?r(a.result):i(new Error("Error in worker "+e+" call: "+a.error))},K5e(t).postMessage({messageId:s,action:e,data:n})})}function _ce(){var t=function(e){function n(U,$,G,X,Q,oe,de,ae){var ne=1-de;ae.x=ne*ne*U+2*ne*de*G+de*de*Q,ae.y=ne*ne*$+2*ne*de*X+de*de*oe}function r(U,$,G,X,Q,oe,de,ae,ne,ve){var ge=1-ne;ve.x=ge*ge*ge*U+3*ge*ge*ne*G+3*ge*ne*ne*Q+ne*ne*ne*de,ve.y=ge*ge*ge*$+3*ge*ge*ne*X+3*ge*ne*ne*oe+ne*ne*ne*ae}function i(U,$){for(var G=/([MLQCZ])([^MLQCZ]*)/g,X,Q,oe,de,ae;X=G.exec(U);){var ne=X[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(ve){return parseFloat(ve)});switch(X[1]){case"M":de=Q=ne[0],ae=oe=ne[1];break;case"L":(ne[0]!==de||ne[1]!==ae)&&$("L",de,ae,de=ne[0],ae=ne[1]);break;case"Q":{$("Q",de,ae,de=ne[2],ae=ne[3],ne[0],ne[1]);break}case"C":{$("C",de,ae,de=ne[4],ae=ne[5],ne[0],ne[1],ne[2],ne[3]);break}case"Z":(de!==Q||ae!==oe)&&$("L",de,ae,Q,oe);break}}}function s(U,$,G){G===void 0&&(G=16);var X={x:0,y:0};i(U,function(Q,oe,de,ae,ne,ve,ge,_e,ye){switch(Q){case"L":$(oe,de,ae,ne);break;case"Q":{for(var ce=oe,De=de,Ee=1;Ee<G;Ee++)n(oe,de,ve,ge,ae,ne,Ee/(G-1),X),$(ce,De,X.x,X.y),ce=X.x,De=X.y;break}case"C":{for(var Z=oe,Me=de,Oe=1;Oe<G;Oe++)r(oe,de,ve,ge,_e,ye,ae,ne,Oe/(G-1),X),$(Z,Me,X.x,X.y),Z=X.x,Me=X.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(U,$){var G=U.getContext?U.getContext("webgl",c):U,X=l.get(G);if(!X){let ge=function(Z){var Me=oe[Z];if(!Me&&(Me=oe[Z]=G.getExtension(Z),!Me))throw new Error(Z+" not supported");return Me},_e=function(Z,Me){var Oe=G.createShader(Me);return G.shaderSource(Oe,Z),G.compileShader(Oe),Oe},ye=function(Z,Me,Oe,Ce){if(!de[Z]){var Ne={},ee={},te=G.createProgram();G.attachShader(te,_e(Me,G.VERTEX_SHADER)),G.attachShader(te,_e(Oe,G.FRAGMENT_SHADER)),G.linkProgram(te),de[Z]={program:te,transaction:function(W){G.useProgram(te),W({setUniform:function(re,xe){for(var Te=[],we=arguments.length-2;we-- >0;)Te[we]=arguments[we+2];var Ke=ee[xe]||(ee[xe]=G.getUniformLocation(te,xe));G["uniform"+re].apply(G,[Ke].concat(Te))},setAttribute:function(re,xe,Te,we,Ke){var Xe=Ne[re];Xe||(Xe=Ne[re]={buf:G.createBuffer(),loc:G.getAttribLocation(te,re),data:null}),G.bindBuffer(G.ARRAY_BUFFER,Xe.buf),G.vertexAttribPointer(Xe.loc,xe,G.FLOAT,!1,0,0),G.enableVertexAttribArray(Xe.loc),Q?G.vertexAttribDivisor(Xe.loc,we):ge("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Xe.loc,we),Ke!==Xe.data&&(G.bufferData(G.ARRAY_BUFFER,Ke,Te),Xe.data=Ke)}})}}}de[Z].transaction(Ce)},ce=function(Z,Me){ne++;try{G.activeTexture(G.TEXTURE0+ne);var Oe=ae[Z];Oe||(Oe=ae[Z]=G.createTexture(),G.bindTexture(G.TEXTURE_2D,Oe),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MIN_FILTER,G.NEAREST),G.texParameteri(G.TEXTURE_2D,G.TEXTURE_MAG_FILTER,G.NEAREST)),G.bindTexture(G.TEXTURE_2D,Oe),Me(Oe,ne)}finally{ne--}},De=function(Z,Me,Oe){var Ce=G.createFramebuffer();ve.push(Ce),G.bindFramebuffer(G.FRAMEBUFFER,Ce),G.activeTexture(G.TEXTURE0+Me),G.bindTexture(G.TEXTURE_2D,Z),G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_2D,Z,0);try{Oe(Ce)}finally{G.deleteFramebuffer(Ce),G.bindFramebuffer(G.FRAMEBUFFER,ve[--ve.length-1]||null)}},Ee=function(){oe={},de={},ae={},ne=-1,ve.length=0};var Q=typeof WebGL2RenderingContext<"u"&&G instanceof WebGL2RenderingContext,oe={},de={},ae={},ne=-1,ve=[];G.canvas.addEventListener("webglcontextlost",function(Z){Ee(),Z.preventDefault()},!1),l.set(G,X={gl:G,isWebGL2:Q,getExtension:ge,withProgram:ye,withTexture:ce,withTextureFramebuffer:De,handleContextLoss:Ee})}$(X)}function d(U,$,G,X,Q,oe,de,ae){de===void 0&&(de=15),ae===void 0&&(ae=null),u(U,function(ne){var ve=ne.gl,ge=ne.withProgram,_e=ne.withTexture;_e("copy",function(ye,ce){ve.texImage2D(ve.TEXTURE_2D,0,ve.RGBA,Q,oe,0,ve.RGBA,ve.UNSIGNED_BYTE,$),ge("copy",a,o,function(De){var Ee=De.setUniform,Z=De.setAttribute;Z("aUV",2,ve.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Ee("1i","image",ce),ve.bindFramebuffer(ve.FRAMEBUFFER,ae||null),ve.disable(ve.BLEND),ve.colorMask(de&8,de&4,de&2,de&1),ve.viewport(G,X,Q,oe),ve.scissor(G,X,Q,oe),ve.drawArrays(ve.TRIANGLES,0,3)})})})}function f(U,$,G){var X=U.width,Q=U.height;u(U,function(oe){var de=oe.gl,ae=new Uint8Array(X*Q*4);de.readPixels(0,0,X,Q,de.RGBA,de.UNSIGNED_BYTE,ae),U.width=$,U.height=G,d(de,ae,0,0,X,Q)})}var h=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:d,resizeWebGLCanvasWithoutClearing:f});function m(U,$,G,X,Q,oe){oe===void 0&&(oe=1);var de=new Uint8Array(U*$),ae=X[2]-X[0],ne=X[3]-X[1],ve=[];s(G,function(Z,Me,Oe,Ce){ve.push({x1:Z,y1:Me,x2:Oe,y2:Ce,minX:Math.min(Z,Oe),minY:Math.min(Me,Ce),maxX:Math.max(Z,Oe),maxY:Math.max(Me,Ce)})}),ve.sort(function(Z,Me){return Z.maxX-Me.maxX});for(var ge=0;ge<U;ge++)for(var _e=0;_e<$;_e++){var ye=De(X[0]+ae*(ge+.5)/U,X[1]+ne*(_e+.5)/$),ce=Math.pow(1-Math.abs(ye)/Q,oe)/2;ye<0&&(ce=1-ce),ce=Math.max(0,Math.min(255,Math.round(ce*255))),de[_e*U+ge]=ce}return de;function De(Z,Me){for(var Oe=1/0,Ce=1/0,Ne=ve.length;Ne--;){var ee=ve[Ne];if(ee.maxX+Ce<=Z)break;if(Z+Ce>ee.minX&&Me-Ce<ee.maxY&&Me+Ce>ee.minY){var te=y(Z,Me,ee.x1,ee.y1,ee.x2,ee.y2);te<Oe&&(Oe=te,Ce=Math.sqrt(Oe))}}return Ee(Z,Me)&&(Ce=-Ce),Ce}function Ee(Z,Me){for(var Oe=0,Ce=ve.length;Ce--;){var Ne=ve[Ce];if(Ne.maxX<=Z)break;var ee=Ne.y1>Me!=Ne.y2>Me&&Z<(Ne.x2-Ne.x1)*(Me-Ne.y1)/(Ne.y2-Ne.y1)+Ne.x1;ee&&(Oe+=Ne.y1<Ne.y2?1:-1)}return Oe!==0}}function g(U,$,G,X,Q,oe,de,ae,ne,ve){oe===void 0&&(oe=1),ae===void 0&&(ae=0),ne===void 0&&(ne=0),ve===void 0&&(ve=0),v(U,$,G,X,Q,oe,de,null,ae,ne,ve)}function v(U,$,G,X,Q,oe,de,ae,ne,ve,ge){oe===void 0&&(oe=1),ne===void 0&&(ne=0),ve===void 0&&(ve=0),ge===void 0&&(ge=0);for(var _e=m(U,$,G,X,Q,oe),ye=new Uint8Array(_e.length*4),ce=0;ce<_e.length;ce++)ye[ce*4+ge]=_e[ce];d(de,ye,ne,ve,U,$,1<<3-ge,ae)}function y(U,$,G,X,Q,oe){var de=Q-G,ae=oe-X,ne=de*de+ae*ae,ve=ne?Math.max(0,Math.min(1,((U-G)*de+($-X)*ae)/ne)):0,ge=U-(G+ve*de),_e=$-(X+ve*ae);return ge*ge+_e*_e}var w=Object.freeze({__proto__:null,generate:m,generateIntoCanvas:g,generateIntoFramebuffer:v}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",E="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",A=new Float32Array([0,0,2,0,0,2]),M=null,R=!1,P={},O=new WeakMap;function k(U){if(!R&&!V(U))throw new Error("WebGL generation not supported")}function I(U,$,G,X,Q,oe,de){if(oe===void 0&&(oe=1),de===void 0&&(de=null),!de&&(de=M,!de)){var ae=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ae)throw new Error("OffscreenCanvas or DOM canvas not supported");de=M=ae.getContext("webgl",{depth:!1})}k(de);var ne=new Uint8Array(U*$*4);u(de,function(ye){var ce=ye.gl,De=ye.withTexture,Ee=ye.withTextureFramebuffer;De("readable",function(Z,Me){ce.texImage2D(ce.TEXTURE_2D,0,ce.RGBA,U,$,0,ce.RGBA,ce.UNSIGNED_BYTE,null),Ee(Z,Me,function(Oe){L(U,$,G,X,Q,oe,ce,Oe,0,0,0),ce.readPixels(0,0,U,$,ce.RGBA,ce.UNSIGNED_BYTE,ne)})})});for(var ve=new Uint8Array(U*$),ge=0,_e=0;ge<ne.length;ge+=4)ve[_e++]=ne[ge];return ve}function F(U,$,G,X,Q,oe,de,ae,ne,ve){oe===void 0&&(oe=1),ae===void 0&&(ae=0),ne===void 0&&(ne=0),ve===void 0&&(ve=0),L(U,$,G,X,Q,oe,de,null,ae,ne,ve)}function L(U,$,G,X,Q,oe,de,ae,ne,ve,ge){oe===void 0&&(oe=1),ne===void 0&&(ne=0),ve===void 0&&(ve=0),ge===void 0&&(ge=0),k(de);var _e=[];s(G,function(ye,ce,De,Ee){_e.push(ye,ce,De,Ee)}),_e=new Float32Array(_e),u(de,function(ye){var ce=ye.gl,De=ye.isWebGL2,Ee=ye.getExtension,Z=ye.withProgram,Me=ye.withTexture,Oe=ye.withTextureFramebuffer,Ce=ye.handleContextLoss;if(Me("rawDistances",function(Ne,ee){(U!==Ne._lastWidth||$!==Ne._lastHeight)&&ce.texImage2D(ce.TEXTURE_2D,0,ce.RGBA,Ne._lastWidth=U,Ne._lastHeight=$,0,ce.RGBA,ce.UNSIGNED_BYTE,null),Z("main",_,S,function(te){var me=te.setAttribute,W=te.setUniform,B=!De&&Ee("ANGLE_instanced_arrays"),re=!De&&Ee("EXT_blend_minmax");me("aUV",2,ce.STATIC_DRAW,0,A),me("aLineSegment",4,ce.DYNAMIC_DRAW,1,_e),W.apply(void 0,["4f","uGlyphBounds"].concat(X)),W("1f","uMaxDistance",Q),W("1f","uExponent",oe),Oe(Ne,ee,function(xe){ce.enable(ce.BLEND),ce.colorMask(!0,!0,!0,!0),ce.viewport(0,0,U,$),ce.scissor(0,0,U,$),ce.blendFunc(ce.ONE,ce.ONE),ce.blendEquationSeparate(ce.FUNC_ADD,De?ce.MAX:re.MAX_EXT),ce.clear(ce.COLOR_BUFFER_BIT),De?ce.drawArraysInstanced(ce.TRIANGLES,0,3,_e.length/4):B.drawArraysInstancedANGLE(ce.TRIANGLES,0,3,_e.length/4)})}),Z("post",a,E,function(te){te.setAttribute("aUV",2,ce.STATIC_DRAW,0,A),te.setUniform("1i","tex",ee),ce.bindFramebuffer(ce.FRAMEBUFFER,ae),ce.disable(ce.BLEND),ce.colorMask(ge===0,ge===1,ge===2,ge===3),ce.viewport(ne,ve,U,$),ce.scissor(ne,ve,U,$),ce.drawArrays(ce.TRIANGLES,0,3)})}),ce.isContextLost())throw Ce(),new Error("webgl context lost")})}function V(U){var $=!U||U===M?P:U.canvas||U,G=O.get($);if(G===void 0){R=!0;var X=null;try{var Q=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],oe=I(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,U);G=oe&&Q.length===oe.length&&oe.every(function(de,ae){return de===Q[ae]}),G||(X="bad trial run results",console.info(Q,oe))}catch(de){G=!1,X=de.message}X&&console.warn("WebGL SDF generation not supported:",X),R=!1,O.set($,G)}return G}var z=Object.freeze({__proto__:null,generate:I,generateIntoCanvas:F,generateIntoFramebuffer:L,isSupported:V});function K(U,$,G,X,Q,oe){Q===void 0&&(Q=Math.max(X[2]-X[0],X[3]-X[1])/2),oe===void 0&&(oe=1);try{return I.apply(z,arguments)}catch(de){return console.info("WebGL SDF generation failed, falling back to JS",de),m.apply(w,arguments)}}function j(U,$,G,X,Q,oe,de,ae,ne,ve){Q===void 0&&(Q=Math.max(X[2]-X[0],X[3]-X[1])/2),oe===void 0&&(oe=1),ae===void 0&&(ae=0),ne===void 0&&(ne=0),ve===void 0&&(ve=0);try{return F.apply(z,arguments)}catch(ge){return console.info("WebGL SDF generation failed, falling back to JS",ge),g.apply(w,arguments)}}return e.forEachPathCommand=i,e.generate=K,e.generateIntoCanvas=j,e.javascript=w,e.pathToLineSegments=s,e.webgl=z,e.webglUtils=h,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function Y5e(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(Ce,Ne){r[Ce]=1<<Ne+1,i[r[Ce]]=Ce}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function d(){if(!u){u=new Map;var Ce=function(ee){if(n.hasOwnProperty(ee)){var te=0;n[ee].split(",").forEach(function(me){var W=me.split("+"),B=W[0],re=W[1];B=parseInt(B,36),re=re?parseInt(re,36):0,u.set(te+=B,r[ee]);for(var xe=0;xe<re;xe++)u.set(++te,r[ee])})}};for(var Ne in n)Ce(Ne)}}function f(Ce){return d(),u.get(Ce.codePointAt(0))||r.L}function h(Ce){return i[f(Ce)]}var m={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function g(Ce,Ne){var ee=36,te=0,me=new Map,W=Ne&&new Map,B;return Ce.split(",").forEach(function re(xe){if(xe.indexOf("+")!==-1)for(var Te=+xe;Te--;)re(B);else{B=xe;var we=xe.split(">"),Ke=we[0],Xe=we[1];Ke=String.fromCodePoint(te+=parseInt(Ke,ee)),Xe=String.fromCodePoint(te+=parseInt(Xe,ee)),me.set(Ke,Xe),Ne&&W.set(Xe,Ke)}}),{map:me,reverseMap:W}}var v,y,w;function _(){if(!v){var Ce=g(m.pairs,!0),Ne=Ce.map,ee=Ce.reverseMap;v=Ne,y=ee,w=g(m.canonical,!1).map}}function S(Ce){return _(),v.get(Ce)||null}function E(Ce){return _(),y.get(Ce)||null}function A(Ce){return _(),w.get(Ce)||null}var M=r.L,R=r.R,P=r.EN,O=r.ES,k=r.ET,I=r.AN,F=r.CS,L=r.B,V=r.S,z=r.ON,K=r.BN,j=r.NSM,U=r.AL,$=r.LRO,G=r.RLO,X=r.LRE,Q=r.RLE,oe=r.PDF,de=r.LRI,ae=r.RLI,ne=r.FSI,ve=r.PDI;function ge(Ce,Ne){for(var ee=125,te=new Uint32Array(Ce.length),me=0;me<Ce.length;me++)te[me]=f(Ce[me]);var W=new Map;function B(ss,ta){var gi=te[ss];te[ss]=ta,W.set(gi,W.get(gi)-1),gi&o&&W.set(o,W.get(o)-1),W.set(ta,(W.get(ta)||0)+1),ta&o&&W.set(o,(W.get(o)||0)+1)}for(var re=new Uint8Array(Ce.length),xe=new Map,Te=[],we=null,Ke=0;Ke<Ce.length;Ke++)we||Te.push(we={start:Ke,end:Ce.length-1,level:Ne==="rtl"?1:Ne==="ltr"?0:Om(Ke,!1)}),te[Ke]&L&&(we.end=Ke,we=null);for(var Xe=Q|X|G|$|s|ve|oe|L,dt=function(ss){return ss+(ss&1?1:2)},pt=function(ss){return ss+(ss&1?2:1)},Le=0;Le<Te.length;Le++){we=Te[Le];var Be=[{_level:we.level,_override:0,_isolate:0}],nt=void 0,he=0,Pe=0,Ye=0;W.clear();for(var ue=we.start;ue<=we.end;ue++){var Ae=te[ue];if(nt=Be[Be.length-1],W.set(Ae,(W.get(Ae)||0)+1),Ae&o&&W.set(o,(W.get(o)||0)+1),Ae&Xe)if(Ae&(Q|X)){re[ue]=nt._level;var Ze=(Ae===Q?pt:dt)(nt._level);Ze<=ee&&!he&&!Pe?Be.push({_level:Ze,_override:0,_isolate:0}):he||Pe++}else if(Ae&(G|$)){re[ue]=nt._level;var at=(Ae===G?pt:dt)(nt._level);at<=ee&&!he&&!Pe?Be.push({_level:at,_override:Ae&G?R:M,_isolate:0}):he||Pe++}else if(Ae&s){Ae&ne&&(Ae=Om(ue+1,!0)===1?ae:de),re[ue]=nt._level,nt._override&&B(ue,nt._override);var qe=(Ae===ae?pt:dt)(nt._level);qe<=ee&&he===0&&Pe===0?(Ye++,Be.push({_level:qe,_override:0,_isolate:1,_isolInitIndex:ue})):he++}else if(Ae&ve){if(he>0)he--;else if(Ye>0){for(Pe=0;!Be[Be.length-1]._isolate;)Be.pop();var je=Be[Be.length-1]._isolInitIndex;je!=null&&(xe.set(je,ue),xe.set(ue,je)),Be.pop(),Ye--}nt=Be[Be.length-1],re[ue]=nt._level,nt._override&&B(ue,nt._override)}else Ae&oe?(he===0&&(Pe>0?Pe--:!nt._isolate&&Be.length>1&&(Be.pop(),nt=Be[Be.length-1])),re[ue]=nt._level):Ae&L&&(re[ue]=we.level);else re[ue]=nt._level,nt._override&&Ae!==K&&B(ue,nt._override)}for(var $e=[],rt=null,lt=we.start;lt<=we.end;lt++){var Mt=te[lt];if(!(Mt&l)){var ln=re[lt],gn=Mt&s,Zn=Mt===ve;rt&&ln===rt._level?(rt._end=lt,rt._endsWithIsolInit=gn):$e.push(rt={_start:lt,_end:lt,_level:ln,_startsWithPDI:Zn,_endsWithIsolInit:gn})}}for(var ur=[],yr=0;yr<$e.length;yr++){var Xr=$e[yr];if(!Xr._startsWithPDI||Xr._startsWithPDI&&!xe.has(Xr._start)){for(var Pi=[rt=Xr],ii=void 0;rt&&rt._endsWithIsolInit&&(ii=xe.get(rt._end))!=null;)for(var rn=yr+1;rn<$e.length;rn++)if($e[rn]._start===ii){Pi.push(rt=$e[rn]);break}for(var Ir=[],Aa=0;Aa<Pi.length;Aa++)for(var q=Pi[Aa],se=q._start;se<=q._end;se++)Ir.push(se);for(var Se=re[Ir[0]],Fe=we.level,He=Ir[0]-1;He>=0;He--)if(!(te[He]&l)){Fe=re[He];break}var Ge=Ir[Ir.length-1],mt=re[Ge],ct=we.level;if(!(te[Ge]&s)){for(var xt=Ge+1;xt<=we.end;xt++)if(!(te[xt]&l)){ct=re[xt];break}}ur.push({_seqIndices:Ir,_sosType:Math.max(Fe,Se)%2?R:M,_eosType:Math.max(ct,mt)%2?R:M})}}for(var Y=0;Y<ur.length;Y++){var pe=ur[Y],le=pe._seqIndices,ke=pe._sosType,be=pe._eosType,ze=re[le[0]]&1?R:M;if(W.get(j))for(var et=0;et<le.length;et++){var st=le[et];if(te[st]&j){for(var ot=ke,yt=et-1;yt>=0;yt--)if(!(te[le[yt]]&l)){ot=te[le[yt]];break}B(st,ot&(s|ve)?z:ot)}}if(W.get(P))for(var ft=0;ft<le.length;ft++){var ut=le[ft];if(te[ut]&P)for(var Tt=ft-1;Tt>=-1;Tt--){var Wt=Tt===-1?ke:te[le[Tt]];if(Wt&a){Wt===U&&B(ut,I);break}}}if(W.get(U))for(var kt=0;kt<le.length;kt++){var Qt=le[kt];te[Qt]&U&&B(Qt,R)}if(W.get(O)||W.get(F))for(var sn=1;sn<le.length-1;sn++){var Ct=le[sn];if(te[Ct]&(O|F)){for(var dn=0,Dt=0,Hn=sn-1;Hn>=0&&(dn=te[le[Hn]],!!(dn&l));Hn--);for(var kn=sn+1;kn<le.length&&(Dt=te[le[kn]],!!(Dt&l));kn++);dn===Dt&&(te[Ct]===O?dn===P:dn&(P|I))&&B(Ct,dn)}}if(W.get(P))for(var Kt=0;Kt<le.length;Kt++){var er=le[Kt];if(te[er]&P){for(var Bn=Kt-1;Bn>=0&&te[le[Bn]]&(k|l);Bn--)B(le[Bn],P);for(Kt++;Kt<le.length&&te[le[Kt]]&(k|l|P);Kt++)te[le[Kt]]!==P&&B(le[Kt],P)}}if(W.get(k)||W.get(O)||W.get(F))for(var qn=0;qn<le.length;qn++){var Ar=le[qn];if(te[Ar]&(k|O|F)){B(Ar,z);for(var kr=qn-1;kr>=0&&te[le[kr]]&l;kr--)B(le[kr],z);for(var Vr=qn+1;Vr<le.length&&te[le[Vr]]&l;Vr++)B(le[Vr],z)}}if(W.get(P))for(var qa=0,Zs=ke;qa<le.length;qa++){var k_=le[qa],Iy=te[k_];Iy&P?Zs===M&&B(k_,M):Iy&a&&(Zs=Iy)}if(W.get(o)){var Xc=R|P|I,Cm=Xc|M,nc=[];{for(var td=[],rc=0;rc<le.length;rc++)if(te[le[rc]]&o){var zn=Ce[le[rc]],ky=void 0;if(S(zn)!==null)if(td.length<63)td.push({char:zn,seqIndex:rc});else break;else if((ky=E(zn))!==null)for(var qc=td.length-1;qc>=0;qc--){var Pm=td[qc].char;if(Pm===ky||Pm===E(A(zn))||S(A(Pm))===zn){nc.push([td[qc].seqIndex,rc]),td.length=qc;break}}}nc.sort(function(ss,ta){return ss[0]-ta[0]})}for(var Dy=0;Dy<nc.length;Dy++){for(var D_=nc[Dy],qr=D_[0],Zf=D_[1],L_=!1,Js=0,Ly=qr+1;Ly<Zf;Ly++){var Jf=le[Ly];if(te[Jf]&Cm){L_=!0;var Ka=te[Jf]&Xc?R:M;if(Ka===ze){Js=Ka;break}}}if(L_&&!Js){Js=ke;for(var jy=qr-1;jy>=0;jy--){var j_=le[jy];if(te[j_]&Cm){var Ya=te[j_]&Xc?R:M;Ya!==ze?Js=Ya:Js=ze;break}}}if(Js){if(te[le[qr]]=te[le[Zf]]=Js,Js!==ze){for(var Qs=qr+1;Qs<le.length;Qs++)if(!(te[le[Qs]]&l)){f(Ce[le[Qs]])&j&&(te[le[Qs]]=Js);break}}if(Js!==ze){for(var ic=Zf+1;ic<le.length;ic++)if(!(te[le[ic]]&l)){f(Ce[le[ic]])&j&&(te[le[ic]]=Js);break}}}}for(var Co=0;Co<le.length;Co++)if(te[le[Co]]&o){for(var Fy=Co,Uy=Co,Ma=ke,Qf=Co-1;Qf>=0;Qf--)if(te[le[Qf]]&l)Fy=Qf;else{Ma=te[le[Qf]]&Xc?R:M;break}for(var eh=be,th=Co+1;th<le.length;th++)if(te[le[th]]&(o|l))Uy=th;else{eh=te[le[th]]&Xc?R:M;break}for(var ea=Fy;ea<=Uy;ea++)te[le[ea]]=Ma===eh?Ma:ze;Co=Uy}}}for(var is=we.start;is<=we.end;is++){var Rm=re[is],pl=te[is];if(Rm&1?pl&(M|P|I)&&re[is]++:pl&R?re[is]++:pl&(I|P)&&(re[is]+=2),pl&l&&(re[is]=is===0?we.level:re[is-1]),is===we.end||f(Ce[is])&(V|L))for(var nd=is;nd>=0&&f(Ce[nd])&c;nd--)re[nd]=we.level}}return{levels:re,paragraphs:Te};function Om(ss,ta){for(var gi=ss;gi<Ce.length;gi++){var vi=te[gi];if(vi&(R|U))return 1;if(vi&(L|M)||ta&&vi===ve)return 0;if(vi&s){var Za=F_(gi);gi=Za===-1?Ce.length:Za}}return 0}function F_(ss){for(var ta=1,gi=ss+1;gi<Ce.length;gi++){var vi=te[gi];if(vi&L)break;if(vi&ve){if(--ta===0)return gi}else vi&s&&ta++}return-1}}var _e="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ye;function ce(){if(!ye){var Ce=g(_e,!0),Ne=Ce.map,ee=Ce.reverseMap;ee.forEach(function(te,me){Ne.set(me,te)}),ye=Ne}}function De(Ce){return ce(),ye.get(Ce)||null}function Ee(Ce,Ne,ee,te){var me=Ce.length;ee=Math.max(0,ee==null?0:+ee),te=Math.min(me-1,te==null?me-1:+te);for(var W=new Map,B=ee;B<=te;B++)if(Ne[B]&1){var re=De(Ce[B]);re!==null&&W.set(B,re)}return W}function Z(Ce,Ne,ee,te){var me=Ce.length;ee=Math.max(0,ee==null?0:+ee),te=Math.min(me-1,te==null?me-1:+te);var W=[];return Ne.paragraphs.forEach(function(B){var re=Math.max(ee,B.start),xe=Math.min(te,B.end);if(re<xe){for(var Te=Ne.levels.slice(re,xe+1),we=xe;we>=re&&f(Ce[we])&c;we--)Te[we]=B.level;for(var Ke=B.level,Xe=1/0,dt=0;dt<Te.length;dt++){var pt=Te[dt];pt>Ke&&(Ke=pt),pt<Xe&&(Xe=pt|1)}for(var Le=Ke;Le>=Xe;Le--)for(var Be=0;Be<Te.length;Be++)if(Te[Be]>=Le){for(var nt=Be;Be+1<Te.length&&Te[Be+1]>=Le;)Be++;Be>nt&&W.push([nt+re,Be+re])}}}),W}function Me(Ce,Ne,ee,te){var me=Oe(Ce,Ne,ee,te),W=[].concat(Ce);return me.forEach(function(B,re){W[re]=(Ne.levels[B]&1?De(Ce[B]):null)||Ce[B]}),W.join("")}function Oe(Ce,Ne,ee,te){for(var me=Z(Ce,Ne,ee,te),W=[],B=0;B<Ce.length;B++)W[B]=B;return me.forEach(function(re){for(var xe=re[0],Te=re[1],we=W.slice(xe,Te+1),Ke=we.length;Ke--;)W[Te-Ke]=we[Ke]}),W}return e.closingToOpeningBracket=E,e.getBidiCharType=f,e.getBidiCharTypeName=h,e.getCanonicalBracket=A,e.getEmbeddingLevels=ge,e.getMirroredCharacter=De,e.getMirroredCharactersMap=Ee,e.getReorderSegments=Z,e.getReorderedIndices=Oe,e.getReorderedString=Me,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const Sce=/\bvoid\s+main\s*\(\s*\)\s*{/g;function gj(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=Cn[i];return s?gj(s):r}return t.replace(e,n)}const vs=[];for(let t=0;t<256;t++)vs[t]=(t<16?"0":"")+t.toString(16);function Z5e(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(vs[t&255]+vs[t>>8&255]+vs[t>>16&255]+vs[t>>24&255]+"-"+vs[e&255]+vs[e>>8&255]+"-"+vs[e>>16&15|64]+vs[e>>24&255]+"-"+vs[n&63|128]+vs[n>>8&255]+"-"+vs[n>>16&255]+vs[n>>24&255]+vs[r&255]+vs[r>>8&255]+vs[r>>16&255]+vs[r>>24&255]).toUpperCase()}const Ch=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},J5e=Date.now(),x7=new WeakMap,b7=new Map;let Q5e=1e10;function vj(t,e){const n=rze(e);let r=x7.get(t);if(r||x7.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(c,u){t.onBeforeCompile.call(this,c,u);const d=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let f=b7[d];if(!f){const h=eze(this,c,e,n);f=b7[d]=h}c.vertexShader=f.vertexShader,c.fragmentShader=f.fragmentShader,Ch(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-J5e}}),this[i]&&this[i](c)},a=function(){return o(e.chained?t:t.clone())},o=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:Q5e++}),u.uuid=Z5e(),u.uniforms=Ch({},c.uniforms,e.uniforms),u.defines=Ch({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=Ch({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(Ch(this.extensions,c.extensions),Ch(this.defines,c.defines),Ch(this.uniforms,GB.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return o(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=vj(t.isDerivedMaterial?t.getDepthMaterial():new f_({depthPacking:UB}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=vj(t.isDerivedMaterial?t.getDistanceMaterial():new iR,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=a,new a}function eze(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:d,fragmentColorTransform:f,customRewriter:h,timeUniform:m}=r;if(s=s||"",a=a||"",o=o||"",c=c||"",u=u||"",d=d||"",(l||h)&&(e=gj(e)),(f||h)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=gj(n)),h){let g=h({vertexShader:e,fragmentShader:n});e=g.vertexShader,n=g.fragmentShader}if(f){let g=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,v=>(g.push(v),"")),d=`${f}
${g.join(`
`)}
${d}`}if(m){const g=`
uniform float ${m};
`;s=g+s,c=g+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(g,v,y,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,y))?v:`troika_${v}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=w7(e,i,s,a,o),n=w7(n,i,c,u,d),{vertexShader:e,fragmentShader:n}}function w7(t,e,n,r,i){return(r||i||n)&&(t=t.replace(Sce,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function tze(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let nze=0;const _7=new Map;function rze(t){const e=JSON.stringify(t,tze);let n=_7.get(e);return n==null&&_7.set(e,n=++nze),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function ize(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,a=new Uint8Array(i);if(s.readASCII(a,0,4)=="ttcf"){var o=4;s.readUshort(a,o),o+=2,s.readUshort(a,o),o+=2;var l=s.readUint(a,o);o+=4;for(var c=[],u=0;u<l;u++){var d=s.readUint(a,o);o+=4,c.push(e._readFont(a,d))}return c}return[e._readFont(a,0)]},_readFont:function(i,s){var a=e._bin,o=s;a.readFixed(i,s),s+=4;var l=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:o},d={},f=0;f<l;f++){var h=a.readASCII(i,s,4);s+=4,a.readUint(i,s),s+=4;var m=a.readUint(i,s);s+=4;var g=a.readUint(i,s);s+=4,d[h]={offset:m,length:g}}for(f=0;f<c.length;f++){var v=c[f];d[v]&&(u[v.trim()]=e[v.trim()].parse(i,d[v].offset,d[v].length,u))}return u},_tabOffset:function(i,s,a){for(var o=e._bin,l=o.readUshort(i,a+4),c=a+12,u=0;u<l;u++){var d=o.readASCII(i,c,4);c+=4,o.readUint(i,c),c+=4;var f=o.readUint(i,c);if(c+=4,o.readUint(i,c),c+=4,d==s)return f}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,a){for(var o=[],l=0;l<a;l++)o.push(e._bin.readUshort(i,s+2*l));return o},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},readUnicode:function(i,s,a){for(var o="",l=0;l<a;l++){var c=i[s++]<<8|i[s++];o+=String.fromCharCode(c)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,a){var o=e._bin._tdec;return o&&s==0&&a==i.length?o.decode(i):e._bin.readASCII(i,s,a)},readBytes:function(i,s,a){for(var o=[],l=0;l<a;l++)o.push(i[s+l]);return o},readASCIIArray:function(i,s,a){for(var o=[],l=0;l<a;l++)o.push(String.fromCharCode(i[s+l]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,a,o,l){var c=e._bin,u={},d=s;c.readFixed(i,s),s+=4;var f=c.readUshort(i,s);s+=2;var h=c.readUshort(i,s);s+=2;var m=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,d+f),u.featureList=e._lctf.readFeatureList(i,d+h),u.lookupList=e._lctf.readLookupList(i,d+m,l),u},e._lctf.readLookupList=function(i,s,a){var o=e._bin,l=s,c=[],u=o.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=o.readUshort(i,s);s+=2;var h=e._lctf.readLookupTable(i,l+f,a);c.push(h)}return c},e._lctf.readLookupTable=function(i,s,a){var o=e._bin,l=s,c={tabs:[]};c.ltype=o.readUshort(i,s),s+=2,c.flag=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;for(var d=c.ltype,f=0;f<u;f++){var h=o.readUshort(i,s);s+=2;var m=a(i,d,l+h,c);c.tabs.push(m)}return c},e._lctf.numOfOnes=function(i){for(var s=0,a=0;a<32;a++)i>>>a&1&&s++;return s},e._lctf.readClassDef=function(i,s){var a=e._bin,o=[],l=a.readUshort(i,s);if(s+=2,l==1){var c=a.readUshort(i,s);s+=2;var u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++)o.push(c+d),o.push(c+d),o.push(a.readUshort(i,s)),s+=2}if(l==2){var f=a.readUshort(i,s);for(s+=2,d=0;d<f;d++)o.push(a.readUshort(i,s)),s+=2,o.push(a.readUshort(i,s)),s+=2,o.push(a.readUshort(i,s)),s+=2}return o},e._lctf.getInterval=function(i,s){for(var a=0;a<i.length;a+=3){var o=i[a],l=i[a+1];if(i[a+2],o<=s&&s<=l)return a}return-1},e._lctf.readCoverage=function(i,s){var a=e._bin,o={};o.fmt=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);return s+=2,o.fmt==1&&(o.tab=a.readUshorts(i,s,l)),o.fmt==2&&(o.tab=a.readUshorts(i,s,3*l)),o},e._lctf.coverageIndex=function(i,s){var a=i.tab;if(i.fmt==1)return a.indexOf(s);if(i.fmt==2){var o=e._lctf.getInterval(a,s);if(o!=-1)return a[o+2]+(s-a[o])}return-1},e._lctf.readFeatureList=function(i,s){var a=e._bin,o=s,l=[],c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=a.readASCII(i,s,4);s+=4;var f=a.readUshort(i,s);s+=2;var h=e._lctf.readFeatureTable(i,o+f);h.tag=d.trim(),l.push(h)}return l},e._lctf.readFeatureTable=function(i,s){var a=e._bin,o=s,l={},c=a.readUshort(i,s);s+=2,c>0&&(l.featureParams=o+c);var u=a.readUshort(i,s);s+=2,l.tab=[];for(var d=0;d<u;d++)l.tab.push(a.readUshort(i,s+2*d));return l},e._lctf.readScriptList=function(i,s){var a=e._bin,o=s,l={},c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=a.readASCII(i,s,4);s+=4;var f=a.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readScriptTable(i,o+f)}return l},e._lctf.readScriptTable=function(i,s){var a=e._bin,o=s,l={},c=a.readUshort(i,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,o+c));var u=a.readUshort(i,s);s+=2;for(var d=0;d<u;d++){var f=a.readASCII(i,s,4);s+=4;var h=a.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readLangSysTable(i,o+h)}return l},e._lctf.readLangSysTable=function(i,s){var a=e._bin,o={};a.readUshort(i,s),s+=2,o.reqFeature=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);return s+=2,o.features=a.readUshorts(i,s,l),o},e.CFF={},e.CFF.parse=function(i,s,a){var o=e._bin;(i=new Uint8Array(i.buffer,s,a))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(o.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var d=[];s=e.CFF.readIndex(i,s,d);var f=[];for(u=0;u<d.length-1;u++)f.push(e.CFF.readDict(i,s+d[u],s+d[u+1]));s+=d[d.length-1];var h=f[0],m=[];s=e.CFF.readIndex(i,s,m);var g=[];for(u=0;u<m.length-1;u++)g.push(o.readASCII(i,s+m[u],m[u+1]-m[u]));if(s+=m[m.length-1],e.CFF.readSubrs(i,s,h),h.CharStrings){s=h.CharStrings,m=[],s=e.CFF.readIndex(i,s,m);var v=[];for(u=0;u<m.length-1;u++)v.push(o.readBytes(i,s+m[u],m[u+1]-m[u]));h.CharStrings=v}if(h.ROS){s=h.FDArray;var y=[];for(s=e.CFF.readIndex(i,s,y),h.FDArray=[],u=0;u<y.length-1;u++){var w=e.CFF.readDict(i,s+y[u],s+y[u+1]);e.CFF._readFDict(i,w,g),h.FDArray.push(w)}s+=y[y.length-1],s=h.FDSelect,h.FDSelect=[];var _=i[s];if(s++,_!=3)throw _;var S=o.readUshort(i,s);for(s+=2,u=0;u<S+1;u++)h.FDSelect.push(o.readUshort(i,s),i[s+2]),s+=3}return h.Encoding&&(h.Encoding=e.CFF.readEncoding(i,h.Encoding,h.CharStrings.length)),h.charset&&(h.charset=e.CFF.readCharset(i,h.charset,h.CharStrings.length)),e.CFF._readFDict(i,h,g),h},e.CFF._readFDict=function(i,s,a){var o;for(var l in s.Private&&(o=s.Private[1],s.Private=e.CFF.readDict(i,o,o+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,o+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=a[s[l]-426+35])},e.CFF.readSubrs=function(i,s,a){var o=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var d=0;d<l.length-1;d++)a.Subrs.push(o.readBytes(i,s+l[d],l[d+1]-l[d]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var a=0;a<i.charset.length;a++)if(i.charset[a]==s)return a;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,a){e._bin;var o=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)o.push(i[s+u]);return o},e.CFF.readCharset=function(i,s,a){var o=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<a;u++){var d=o.readUshort(i,s);s+=2,l.push(d)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){d=o.readUshort(i,s),s+=2;var f=0;for(c==1?(f=i[s],s++):(f=o.readUshort(i,s),s+=2),u=0;u<=f;u++)l.push(d),d++}}return l},e.CFF.readIndex=function(i,s,a){var o=e._bin,l=o.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)a.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)a.push(o.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)a.push(16777215&o.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,a){var o=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,d=null,f=null;l<=20&&(d=l,u=1),l==12&&(d=100*l+c,u=2),21<=l&&l<=27&&(d=l,u=1),l==28&&(f=o.readShort(i,s+1),u=3),29<=l&&l<=31&&(d=l,u=1),32<=l&&l<=246&&(f=l-139,u=1),247<=l&&l<=250&&(f=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(f=256*-(l-251)-c-108,u=2),l==255&&(f=o.readInt(i,s+1)/65535,u=5),a.val=f??"o"+d,a.size=u},e.CFF.readCharString=function(i,s,a){for(var o=s+a,l=e._bin,c=[];s<o;){var u=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var f=1,h=null,m=null;u<=20&&(h=u,f=1),u==12&&(h=100*u+d,f=2),u!=19&&u!=20||(h=u,f=2),21<=u&&u<=27&&(h=u,f=1),u==28&&(m=l.readShort(i,s+1),f=3),29<=u&&u<=31&&(h=u,f=1),32<=u&&u<=246&&(m=u-139,f=1),247<=u&&u<=250&&(m=256*(u-247)+d+108,f=2),251<=u&&u<=254&&(m=256*-(u-251)-d-108,f=2),u==255&&(m=l.readInt(i,s+1)/65535,f=5),c.push(m??"o"+h),s+=f}return c},e.CFF.readDict=function(i,s,a){for(var o=e._bin,l={},c=[];s<a;){var u=i[s],d=i[s+1];i[s+2],i[s+3],i[s+4];var f=1,h=null,m=null;if(u==28&&(m=o.readShort(i,s+1),f=3),u==29&&(m=o.readInt(i,s+1),f=5),32<=u&&u<=246&&(m=u-139,f=1),247<=u&&u<=250&&(m=256*(u-247)+d+108,f=2),251<=u&&u<=254&&(m=256*-(u-251)-d-108,f=2),u==255)throw m=o.readInt(i,s+1)/65535,f=5,"unknown number";if(u==30){var g=[];for(f=1;;){var v=i[s+f];f++;var y=v>>4,w=15&v;if(y!=15&&g.push(y),w!=15&&g.push(w),w==15)break}for(var _="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],E=0;E<g.length;E++)_+=S[g[E]];m=parseFloat(_)}u<=21&&(h=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],f=1,u==12&&(h=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][d],f=2)),h!=null?(l[h]=c.length==1?c[0]:c,c=[]):c.push(m),s+=f}return l},e.cmap={},e.cmap.parse=function(i,s,a){i=new Uint8Array(i.buffer,s,a),s=0;var o=e._bin,l={};o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var d=0;d<c;d++){var f=o.readUshort(i,s);s+=2;var h=o.readUshort(i,s);s+=2;var m=o.readUint(i,s);s+=4;var g="p"+f+"e"+h,v=u.indexOf(m);if(v==-1){var y;v=l.tables.length,u.push(m);var w=o.readUshort(i,m);w==0?y=e.cmap.parse0(i,m):w==4?y=e.cmap.parse4(i,m):w==6?y=e.cmap.parse6(i,m):w==12?y=e.cmap.parse12(i,m):console.debug("unknown format: "+w,f,h,m),l.tables.push(y)}if(l[g]!=null)throw"multiple tables for one platform+encoding";l[g]=v}return l},e.cmap.parse0=function(i,s){var a=e._bin,o={};o.format=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,o.map=[];for(var c=0;c<l-6;c++)o.map.push(i[s+c]);return o},e.cmap.parse4=function(i,s){var a=e._bin,o=s,l={};l.format=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var d=u/2;l.searchRange=a.readUshort(i,s),s+=2,l.entrySelector=a.readUshort(i,s),s+=2,l.rangeShift=a.readUshort(i,s),s+=2,l.endCount=a.readUshorts(i,s,d),s+=2*d,s+=2,l.startCount=a.readUshorts(i,s,d),s+=2*d,l.idDelta=[];for(var f=0;f<d;f++)l.idDelta.push(a.readShort(i,s)),s+=2;for(l.idRangeOffset=a.readUshorts(i,s,d),s+=2*d,l.glyphIdArray=[];s<o+c;)l.glyphIdArray.push(a.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var a=e._bin,o={};o.format=a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,o.firstCode=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);s+=2,o.glyphIdArray=[];for(var c=0;c<l;c++)o.glyphIdArray.push(a.readUshort(i,s)),s+=2;return o},e.cmap.parse12=function(i,s){var a=e._bin,o={};o.format=a.readUshort(i,s),s+=2,s+=2,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4;var l=a.readUint(i,s);s+=4,o.groups=[];for(var c=0;c<l;c++){var u=s+12*c,d=a.readUint(i,u+0),f=a.readUint(i,u+4),h=a.readUint(i,u+8);o.groups.push([d,f,h])}return o},e.glyf={},e.glyf.parse=function(i,s,a,o){for(var l=[],c=0;c<o.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var a=e._bin,o=i._data,l=e._tabOffset(o,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=a.readShort(o,l),l+=2,c.xMin=a.readShort(o,l),l+=2,c.yMin=a.readShort(o,l),l+=2,c.xMax=a.readShort(o,l),l+=2,c.yMax=a.readShort(o,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(a.readUshort(o,l)),l+=2;var d=a.readUshort(o,l);if(l+=2,o.length-l<d)return null;c.instructions=a.readBytes(o,l,d),l+=d;var f=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<f;u++){var h=o[l];if(l++,c.flags.push(h),(8&h)!=0){var m=o[l];l++;for(var g=0;g<m;g++)c.flags.push(h),u++}}for(c.xs=[],u=0;u<f;u++){var v=(2&c.flags[u])!=0,y=(16&c.flags[u])!=0;v?(c.xs.push(y?o[l]:-o[l]),l++):y?c.xs.push(0):(c.xs.push(a.readShort(o,l)),l+=2)}for(c.ys=[],u=0;u<f;u++)v=(4&c.flags[u])!=0,y=(32&c.flags[u])!=0,v?(c.ys.push(y?o[l]:-o[l]),l++):y?c.ys.push(0):(c.ys.push(a.readShort(o,l)),l+=2);var w=0,_=0;for(u=0;u<f;u++)w+=c.xs[u],_+=c.ys[u],c.xs[u]=w,c.ys[u]=_}else{var S;c.parts=[];do{S=a.readUshort(o,l),l+=2;var E={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(E),E.glyphIndex=a.readUshort(o,l),l+=2,1&S){var A=a.readShort(o,l);l+=2;var M=a.readShort(o,l);l+=2}else A=a.readInt8(o,l),l++,M=a.readInt8(o,l),l++;2&S?(E.m.tx=A,E.m.ty=M):(E.p1=A,E.p2=M),8&S?(E.m.a=E.m.d=a.readF2dot14(o,l),l+=2):64&S?(E.m.a=a.readF2dot14(o,l),l+=2,E.m.d=a.readF2dot14(o,l),l+=2):128&S&&(E.m.a=a.readF2dot14(o,l),l+=2,E.m.b=a.readF2dot14(o,l),l+=2,E.m.c=a.readF2dot14(o,l),l+=2,E.m.d=a.readF2dot14(o,l),l+=2)}while(32&S);if(256&S){var R=a.readUshort(o,l);for(l+=2,c.instr=[],u=0;u<R;u++)c.instr.push(o[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,s,a,o){var l=s;s+=4;var c=e._bin.readUshort(i,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,s,a,o){return e._lctf.parse(i,s,a,o,e.GPOS.subt)},e.GPOS.subt=function(i,s,a,o){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var d=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,d+c)}if(s==1&&u.fmt==1){var f=l.readUshort(i,a);a+=2,f!=0&&(u.pos=e.GPOS.readValueRecord(i,a,f))}else if(s==2&&u.fmt>=1&&u.fmt<=2){f=l.readUshort(i,a),a+=2;var h=l.readUshort(i,a);a+=2;var m=e._lctf.numOfOnes(f),g=e._lctf.numOfOnes(h);if(u.fmt==1){u.pairsets=[];var v=l.readUshort(i,a);a+=2;for(var y=0;y<v;y++){var w=c+l.readUshort(i,a);a+=2;var _=l.readUshort(i,w);w+=2;for(var S=[],E=0;E<_;E++){var A=l.readUshort(i,w);w+=2,f!=0&&(I=e.GPOS.readValueRecord(i,w,f),w+=2*m),h!=0&&(F=e.GPOS.readValueRecord(i,w,h),w+=2*g),S.push({gid2:A,val1:I,val2:F})}u.pairsets.push(S)}}if(u.fmt==2){var M=l.readUshort(i,a);a+=2;var R=l.readUshort(i,a);a+=2;var P=l.readUshort(i,a);a+=2;var O=l.readUshort(i,a);for(a+=2,u.classDef1=e._lctf.readClassDef(i,c+M),u.classDef2=e._lctf.readClassDef(i,c+R),u.matrix=[],y=0;y<P;y++){var k=[];for(E=0;E<O;E++){var I=null,F=null;f!=0&&(I=e.GPOS.readValueRecord(i,a,f),a+=2*m),h!=0&&(F=e.GPOS.readValueRecord(i,a,h),a+=2*g),k.push({val1:I,val2:F})}u.matrix.push(k)}}}else if(s==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else if(s==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else{if(s==9&&u.fmt==1){var L=l.readUshort(i,a);a+=2;var V=l.readUint(i,a);if(a+=4,o.ltype==9)o.ltype=L;else if(o.ltype!=L)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,c+V)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,a){var o=e._bin,l=[];return l.push(1&a?o.readShort(i,s):0),s+=1&a?2:0,l.push(2&a?o.readShort(i,s):0),s+=2&a?2:0,l.push(4&a?o.readShort(i,s):0),s+=4&a?2:0,l.push(8&a?o.readShort(i,s):0),s+=8&a?2:0,l},e.GPOS.readBaseArray=function(i,s,a){var o=e._bin,l=[],c=s,u=o.readUshort(i,s);s+=2;for(var d=0;d<u;d++){for(var f=[],h=0;h<a;h++)f.push(e.GPOS.readAnchorRecord(i,c+o.readUshort(i,s))),s+=2;l.push(f)}return l},e.GPOS.readMarkArray=function(i,s){var a=e._bin,o=[],l=s,c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=e.GPOS.readAnchorRecord(i,a.readUshort(i,s+2)+l);d.markClass=a.readUshort(i,s),o.push(d),s+=4}return o},e.GPOS.readAnchorRecord=function(i,s){var a=e._bin,o={};return o.fmt=a.readUshort(i,s),o.x=a.readShort(i,s+2),o.y=a.readShort(i,s+4),o},e.GSUB={},e.GSUB.parse=function(i,s,a,o){return e._lctf.parse(i,s,a,o,e.GSUB.subt)},e.GSUB.subt=function(i,s,a,o){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var d=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,c+d)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,a),a+=2;else if(u.fmt==2){var f=l.readUshort(i,a);a+=2,u.newg=l.readUshorts(i,a,f),a+=2*u.newg.length}}else if(s==2&&u.fmt==1){f=l.readUshort(i,a),a+=2,u.seqs=[];for(var h=0;h<f;h++){var m=l.readUshort(i,a)+c;a+=2;var g=l.readUshort(i,m);u.seqs.push(l.readUshorts(i,m+2,g))}}else if(s==4)for(u.vals=[],f=l.readUshort(i,a),a+=2,h=0;h<f;h++){var v=l.readUshort(i,a);a+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+v))}else if(s==5&&u.fmt==2){if(u.fmt==2){var y=l.readUshort(i,a);a+=2,u.cDef=e._lctf.readClassDef(i,c+y),u.scset=[];var w=l.readUshort(i,a);for(a+=2,h=0;h<w;h++){var _=l.readUshort(i,a);a+=2,u.scset.push(_==0?null:e.GSUB.readSubClassSet(i,c+_))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(h=0;h<3;h++){f=l.readUshort(i,a),a+=2;for(var S=[],E=0;E<f;E++)S.push(e._lctf.readCoverage(i,c+l.readUshort(i,a+2*E)));a+=2*f,h==0&&(u.backCvg=S),h==1&&(u.inptCvg=S),h==2&&(u.ahedCvg=S)}f=l.readUshort(i,a),a+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,a,f)}}else{if(s==7&&u.fmt==1){var A=l.readUshort(i,a);a+=2;var M=l.readUint(i,a);if(a+=4,o.ltype==9)o.ltype=A;else if(o.ltype!=A)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,c+M)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var a=e._bin.readUshort,o=s,l=[],c=a(i,s);s+=2;for(var u=0;u<c;u++){var d=a(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,o+d))}return l},e.GSUB.readSubClassRule=function(i,s){var a=e._bin.readUshort,o={},l=a(i,s),c=a(i,s+=2);s+=2,o.input=[];for(var u=0;u<l-1;u++)o.input.push(a(i,s)),s+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),o},e.GSUB.readSubstLookupRecords=function(i,s,a){for(var o=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(o(i,s),o(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var a=e._bin,o=s,l=[],c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=a.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,o+d))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var a=e._bin,o={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=a.readUshort(i,s);s+=2,c==1&&u--,o[l[c]]=a.readUshorts(i,s,u),s+=2*o[l[c]].length}return u=a.readUshort(i,s),s+=2,o.subst=a.readUshorts(i,s,2*u),s+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,s){var a=e._bin,o=s,l=[],c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var d=a.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,o+d))}return l},e.GSUB.readLigature=function(i,s){var a=e._bin,o={chain:[]};o.nglyph=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)o.chain.push(a.readUshort(i,s)),s+=2;return o},e.head={},e.head.parse=function(i,s,a){var o=e._bin,l={};return o.readFixed(i,s),s+=4,l.fontRevision=o.readFixed(i,s),s+=4,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4,l.flags=o.readUshort(i,s),s+=2,l.unitsPerEm=o.readUshort(i,s),s+=2,l.created=o.readUint64(i,s),s+=8,l.modified=o.readUint64(i,s),s+=8,l.xMin=o.readShort(i,s),s+=2,l.yMin=o.readShort(i,s),s+=2,l.xMax=o.readShort(i,s),s+=2,l.yMax=o.readShort(i,s),s+=2,l.macStyle=o.readUshort(i,s),s+=2,l.lowestRecPPEM=o.readUshort(i,s),s+=2,l.fontDirectionHint=o.readShort(i,s),s+=2,l.indexToLocFormat=o.readShort(i,s),s+=2,l.glyphDataFormat=o.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,a){var o=e._bin,l={};return o.readFixed(i,s),s+=4,l.ascender=o.readShort(i,s),s+=2,l.descender=o.readShort(i,s),s+=2,l.lineGap=o.readShort(i,s),s+=2,l.advanceWidthMax=o.readUshort(i,s),s+=2,l.minLeftSideBearing=o.readShort(i,s),s+=2,l.minRightSideBearing=o.readShort(i,s),s+=2,l.xMaxExtent=o.readShort(i,s),s+=2,l.caretSlopeRise=o.readShort(i,s),s+=2,l.caretSlopeRun=o.readShort(i,s),s+=2,l.caretOffset=o.readShort(i,s),s+=2,s+=8,l.metricDataFormat=o.readShort(i,s),s+=2,l.numberOfHMetrics=o.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,a,o){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,d=0,f=0;f<o.maxp.numGlyphs;f++)f<o.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,d=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(d);return c},e.kern={},e.kern.parse=function(i,s,a,o){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,a,o);var u=l.readUshort(i,s);s+=2;for(var d={glyph1:[],rval:[]},f=0;f<u;f++){s+=2,a=l.readUshort(i,s),s+=2;var h=l.readUshort(i,s);s+=2;var m=h>>>8;if((m&=15)!=0)throw"unknown kern table format: "+m;s=e.kern.readFormat0(i,s,d)}return d},e.kern.parseV1=function(i,s,a,o){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},d=0;d<c;d++){l.readUint(i,s),s+=4;var f=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var h=f>>>8;if((h&=15)!=0)throw"unknown kern table format: "+h;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,a){var o=e._bin,l=-1,c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var d=o.readUshort(i,s);s+=2;var f=o.readUshort(i,s);s+=2;var h=o.readShort(i,s);s+=2,d!=l&&(a.glyph1.push(d),a.rval.push({glyph2:[],vals:[]}));var m=a.rval[a.rval.length-1];m.glyph2.push(f),m.vals.push(h),l=d}return s},e.loca={},e.loca.parse=function(i,s,a,o){var l=e._bin,c=[],u=o.head.indexToLocFormat,d=o.maxp.numGlyphs+1;if(u==0)for(var f=0;f<d;f++)c.push(l.readUshort(i,s+(f<<1))<<1);if(u==1)for(f=0;f<d;f++)c.push(l.readUint(i,s+(f<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,a){var o=e._bin,l={},c=o.readUint(i,s);return s+=4,l.numGlyphs=o.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=o.readUshort(i,s),s+=2,l.maxContours=o.readUshort(i,s),s+=2,l.maxCompositePoints=o.readUshort(i,s),s+=2,l.maxCompositeContours=o.readUshort(i,s),s+=2,l.maxZones=o.readUshort(i,s),s+=2,l.maxTwilightPoints=o.readUshort(i,s),s+=2,l.maxStorage=o.readUshort(i,s),s+=2,l.maxFunctionDefs=o.readUshort(i,s),s+=2,l.maxInstructionDefs=o.readUshort(i,s),s+=2,l.maxStackElements=o.readUshort(i,s),s+=2,l.maxSizeOfInstructions=o.readUshort(i,s),s+=2,l.maxComponentElements=o.readUshort(i,s),s+=2,l.maxComponentDepth=o.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,a){var o=e._bin,l={};o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s);for(var u,d=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],f=s+=2,h=0;h<c;h++){var m=o.readUshort(i,s);s+=2;var g=o.readUshort(i,s);s+=2;var v=o.readUshort(i,s);s+=2;var y=o.readUshort(i,s);s+=2;var w=o.readUshort(i,s);s+=2;var _=o.readUshort(i,s);s+=2;var S,E=d[y],A=f+12*c+_;if(m==0)S=o.readUnicode(i,A,w/2);else if(m==3&&g==0)S=o.readUnicode(i,A,w/2);else if(g==0)S=o.readASCII(i,A,w);else if(g==1)S=o.readUnicode(i,A,w/2);else if(g==3)S=o.readUnicode(i,A,w/2);else{if(m!=1)throw"unknown encoding "+g+", platformID: "+m;S=o.readASCII(i,A,w),console.debug("reading unknown MAC encoding "+g+" as ASCII")}var M="p"+m+","+v.toString(16);l[M]==null&&(l[M]={}),l[M][E!==void 0?E:y]=S,l[M]._lang=v}for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==1033)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==0)return l[R];for(var R in l)if(l[R].postScriptName!=null&&l[R]._lang==3084)return l[R];for(var R in l)if(l[R].postScriptName!=null)return l[R];for(var R in l){u=R;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,a){var o=e._bin.readUshort(i,s);s+=2;var l={};if(o==0)e["OS/2"].version0(i,s,l);else if(o==1)e["OS/2"].version1(i,s,l);else if(o==2||o==3||o==4)e["OS/2"].version2(i,s,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,a){var o=e._bin;return a.xAvgCharWidth=o.readShort(i,s),s+=2,a.usWeightClass=o.readUshort(i,s),s+=2,a.usWidthClass=o.readUshort(i,s),s+=2,a.fsType=o.readUshort(i,s),s+=2,a.ySubscriptXSize=o.readShort(i,s),s+=2,a.ySubscriptYSize=o.readShort(i,s),s+=2,a.ySubscriptXOffset=o.readShort(i,s),s+=2,a.ySubscriptYOffset=o.readShort(i,s),s+=2,a.ySuperscriptXSize=o.readShort(i,s),s+=2,a.ySuperscriptYSize=o.readShort(i,s),s+=2,a.ySuperscriptXOffset=o.readShort(i,s),s+=2,a.ySuperscriptYOffset=o.readShort(i,s),s+=2,a.yStrikeoutSize=o.readShort(i,s),s+=2,a.yStrikeoutPosition=o.readShort(i,s),s+=2,a.sFamilyClass=o.readShort(i,s),s+=2,a.panose=o.readBytes(i,s,10),s+=10,a.ulUnicodeRange1=o.readUint(i,s),s+=4,a.ulUnicodeRange2=o.readUint(i,s),s+=4,a.ulUnicodeRange3=o.readUint(i,s),s+=4,a.ulUnicodeRange4=o.readUint(i,s),s+=4,a.achVendID=[o.readInt8(i,s),o.readInt8(i,s+1),o.readInt8(i,s+2),o.readInt8(i,s+3)],s+=4,a.fsSelection=o.readUshort(i,s),s+=2,a.usFirstCharIndex=o.readUshort(i,s),s+=2,a.usLastCharIndex=o.readUshort(i,s),s+=2,a.sTypoAscender=o.readShort(i,s),s+=2,a.sTypoDescender=o.readShort(i,s),s+=2,a.sTypoLineGap=o.readShort(i,s),s+=2,a.usWinAscent=o.readUshort(i,s),s+=2,a.usWinDescent=o.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,a){var o=e._bin;return s=e["OS/2"].version0(i,s,a),a.ulCodePageRange1=o.readUint(i,s),s+=4,a.ulCodePageRange2=o.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,a){var o=e._bin;return s=e["OS/2"].version1(i,s,a),a.sxHeight=o.readShort(i,s),s+=2,a.sCapHeight=o.readShort(i,s),s+=2,a.usDefault=o.readUshort(i,s),s+=2,a.usBreak=o.readUshort(i,s),s+=2,a.usMaxContext=o.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,a){var o=e._bin;return s=e["OS/2"].version2(i,s,a),a.usLowerOpticalPointSize=o.readUshort(i,s),s+=2,a.usUpperOpticalPointSize=o.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,a){var o=e._bin,l={};return l.version=o.readFixed(i,s),s+=4,l.italicAngle=o.readFixed(i,s),s+=4,l.underlinePosition=o.readShort(i,s),s+=2,l.underlineThickness=o.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var a=i.cmap,o=-1;if(a.p0e4!=null?o=a.p0e4:a.p3e1!=null?o=a.p3e1:a.p1e0!=null?o=a.p1e0:a.p0e3!=null&&(o=a.p0e3),o==-1)throw"no familiar platform and encoding!";var l=a.tables[o];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var d=l.groups[u];if(d[0]<=s&&s<=d[1])return d[2]+(s-d[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var a={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var o=i.SVG.entries[s];return o==null?a:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[s]=o),o)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var d=0;c.FDSelect[d+2]<=s;)d+=2;u=c.FDArray[c.FDSelect[d+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,a)}else i.glyf&&e.U._drawGlyf(s,i,a);return a},e.U._drawGlyf=function(i,s,a){var o=s.glyf[i];o==null&&(o=s.glyf[i]=e.glyf._parseGlyf(s,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,a):e.U._compoGlyph(o,s,a))},e.U._simpleGlyph=function(i,s){for(var a=0;a<i.noc;a++){for(var o=a==0?0:i.endPts[a-1]+1,l=i.endPts[a],c=o;c<=l;c++){var u=c==o?l:c-1,d=c==l?o:c+1,f=1&i.flags[c],h=1&i.flags[u],m=1&i.flags[d],g=i.xs[c],v=i.ys[c];if(c==o)if(f){if(!h){e.U.P.moveTo(s,g,v);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else h?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+g)/2,(i.ys[u]+v)/2);f?h&&e.U.P.lineTo(s,g,v):m?e.U.P.qcurveTo(s,g,v,i.xs[d],i.ys[d]):e.U.P.qcurveTo(s,g,v,(g+i.xs[d])/2,(v+i.ys[d])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,a){for(var o=0;o<i.parts.length;o++){var l={cmds:[],crds:[]},c=i.parts[o];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,d=0;d<l.crds.length;d+=2){var f=l.crds[d],h=l.crds[d+1];a.crds.push(f*u.a+h*u.b+u.tx),a.crds.push(f*u.c+h*u.d+u.ty)}for(d=0;d<l.cmds.length;d++)a.cmds.push(l.cmds[d])}},e.U._getGlyphClass=function(i,s){var a=e._lctf.getInterval(s,i);return a==-1?0:s[a+2]},e.U._applySubs=function(i,s,a,o){for(var l=i.length-s-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var u,d=a.tabs[c];if(!d.coverage||(u=e._lctf.coverageIndex(d.coverage,i[s]))!=-1){if(a.ltype==1)i[s],d.fmt==1?i[s]=i[s]+d.delta:i[s]=d.newg[u];else if(a.ltype==4)for(var f=d.vals[u],h=0;h<f.length;h++){var m=f[h],g=m.chain.length;if(!(g>l)){for(var v=!0,y=0,w=0;w<g;w++){for(;i[s+y+(1+w)]==-1;)y++;m.chain[w]!=i[s+y+(1+w)]&&(v=!1)}if(v){for(i[s]=m.nglyph,w=0;w<g+y;w++)i[s+w+1]=-1;break}}}else if(a.ltype==5&&d.fmt==2)for(var _=e._lctf.getInterval(d.cDef,i[s]),S=d.cDef[_+2],E=d.scset[S],A=0;A<E.length;A++){var M=E[A],R=M.input;if(!(R.length>l)){for(v=!0,w=0;w<R.length;w++){var P=e._lctf.getInterval(d.cDef,i[s+1+w]);if(_==-1&&d.cDef[P+2]!=R[w]){v=!1;break}}if(v){var O=M.substLookupRecords;for(h=0;h<O.length;h+=2)O[h],O[h+1]}}}else if(a.ltype==6&&d.fmt==3){if(!e.U._glsCovered(i,d.backCvg,s-d.backCvg.length)||!e.U._glsCovered(i,d.inptCvg,s)||!e.U._glsCovered(i,d.ahedCvg,s+d.inptCvg.length))continue;var k=d.lookupRec;for(A=0;A<k.length;A+=2){_=k[A];var I=o[k[A+1]];e.U._applySubs(i,s+_,I,o)}}}}},e.U._glsCovered=function(i,s,a){for(var o=0;o<s.length;o++)if(e._lctf.coverageIndex(s[o],i[a+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,a){for(var o={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var d=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,f=e.U.glyphToPath(i,u),h=0;h<f.crds.length;h+=2)o.crds.push(f.crds[h]+l),o.crds.push(f.crds[h+1]);for(a&&o.cmds.push(a),h=0;h<f.cmds.length;h++)o.cmds.push(f.cmds[h]);a&&o.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,d))}}return o},e.U.P={},e.U.P.moveTo=function(i,s,a){i.cmds.push("M"),i.crds.push(s,a)},e.U.P.lineTo=function(i,s,a){i.cmds.push("L"),i.crds.push(s,a)},e.U.P.curveTo=function(i,s,a,o,l,c,u){i.cmds.push("C"),i.crds.push(s,a,o,l,c,u)},e.U.P.qcurveTo=function(i,s,a,o,l){i.cmds.push("Q"),i.crds.push(s,a,o,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,a,o,l){for(var c=s.stack,u=s.nStems,d=s.haveWidth,f=s.width,h=s.open,m=0,g=s.x,v=s.y,y=0,w=0,_=0,S=0,E=0,A=0,M=0,R=0,P=0,O=0,k={val:0,size:0};m<i.length;){e.CFF.getCharString(i,m,k);var I=k.val;if(m+=k.size,I=="o1"||I=="o18")c.length%2!=0&&!d&&(f=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(I=="o3"||I=="o23")c.length%2!=0&&!d&&(f=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,d=!0;else if(I=="o4")c.length>1&&!d&&(f=c.shift()+o.nominalWidthX,d=!0),h&&e.U.P.closePath(l),v+=c.pop(),e.U.P.moveTo(l,g,v),h=!0;else if(I=="o5")for(;c.length>0;)g+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,g,v);else if(I=="o6"||I=="o7")for(var F=c.length,L=I=="o6",V=0;V<F;V++){var z=c.shift();L?g+=z:v+=z,L=!L,e.U.P.lineTo(l,g,v)}else if(I=="o8"||I=="o24"){F=c.length;for(var K=0;K+6<=F;)y=g+c.shift(),w=v+c.shift(),_=y+c.shift(),S=w+c.shift(),g=_+c.shift(),v=S+c.shift(),e.U.P.curveTo(l,y,w,_,S,g,v),K+=6;I=="o24"&&(g+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,g,v))}else{if(I=="o11")break;if(I=="o1234"||I=="o1235"||I=="o1236"||I=="o1237")I=="o1234"&&(w=v,_=(y=g+c.shift())+c.shift(),O=S=w+c.shift(),A=S,R=v,g=(M=(E=(P=_+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,y,w,_,S,P,O),e.U.P.curveTo(l,E,A,M,R,g,v)),I=="o1235"&&(y=g+c.shift(),w=v+c.shift(),_=y+c.shift(),S=w+c.shift(),P=_+c.shift(),O=S+c.shift(),E=P+c.shift(),A=O+c.shift(),M=E+c.shift(),R=A+c.shift(),g=M+c.shift(),v=R+c.shift(),c.shift(),e.U.P.curveTo(l,y,w,_,S,P,O),e.U.P.curveTo(l,E,A,M,R,g,v)),I=="o1236"&&(y=g+c.shift(),w=v+c.shift(),_=y+c.shift(),O=S=w+c.shift(),A=S,M=(E=(P=_+c.shift())+c.shift())+c.shift(),R=A+c.shift(),g=M+c.shift(),e.U.P.curveTo(l,y,w,_,S,P,O),e.U.P.curveTo(l,E,A,M,R,g,v)),I=="o1237"&&(y=g+c.shift(),w=v+c.shift(),_=y+c.shift(),S=w+c.shift(),P=_+c.shift(),O=S+c.shift(),E=P+c.shift(),A=O+c.shift(),M=E+c.shift(),R=A+c.shift(),Math.abs(M-g)>Math.abs(R-v)?g=M+c.shift():v=R+c.shift(),e.U.P.curveTo(l,y,w,_,S,P,O),e.U.P.curveTo(l,E,A,M,R,g,v));else if(I=="o14"){if(c.length>0&&!d&&(f=c.shift()+a.nominalWidthX,d=!0),c.length==4){var j=c.shift(),U=c.shift(),$=c.shift(),G=c.shift(),X=e.CFF.glyphBySE(a,$),Q=e.CFF.glyphBySE(a,G);e.U._drawCFF(a.CharStrings[X],s,a,o,l),s.x=j,s.y=U,e.U._drawCFF(a.CharStrings[Q],s,a,o,l)}h&&(e.U.P.closePath(l),h=!1)}else if(I=="o19"||I=="o20")c.length%2!=0&&!d&&(f=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,d=!0,m+=u+7>>3;else if(I=="o21")c.length>2&&!d&&(f=c.shift()+o.nominalWidthX,d=!0),v+=c.pop(),g+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,g,v),h=!0;else if(I=="o22")c.length>1&&!d&&(f=c.shift()+o.nominalWidthX,d=!0),g+=c.pop(),h&&e.U.P.closePath(l),e.U.P.moveTo(l,g,v),h=!0;else if(I=="o25"){for(;c.length>6;)g+=c.shift(),v+=c.shift(),e.U.P.lineTo(l,g,v);y=g+c.shift(),w=v+c.shift(),_=y+c.shift(),S=w+c.shift(),g=_+c.shift(),v=S+c.shift(),e.U.P.curveTo(l,y,w,_,S,g,v)}else if(I=="o26")for(c.length%2&&(g+=c.shift());c.length>0;)y=g,w=v+c.shift(),g=_=y+c.shift(),v=(S=w+c.shift())+c.shift(),e.U.P.curveTo(l,y,w,_,S,g,v);else if(I=="o27")for(c.length%2&&(v+=c.shift());c.length>0;)w=v,_=(y=g+c.shift())+c.shift(),S=w+c.shift(),g=_+c.shift(),v=S,e.U.P.curveTo(l,y,w,_,S,g,v);else if(I=="o10"||I=="o29"){var oe=I=="o10"?o:a;if(c.length==0)console.debug("error: empty stack");else{var de=c.pop(),ae=oe.Subrs[de+oe.Bias];s.x=g,s.y=v,s.nStems=u,s.haveWidth=d,s.width=f,s.open=h,e.U._drawCFF(ae,s,a,o,l),g=s.x,v=s.y,u=s.nStems,d=s.haveWidth,f=s.width,h=s.open}}else if(I=="o30"||I=="o31"){var ne=c.length,ve=(K=0,I=="o31");for(K+=ne-(F=-3&ne);K<F;)ve?(w=v,_=(y=g+c.shift())+c.shift(),v=(S=w+c.shift())+c.shift(),F-K==5?(g=_+c.shift(),K++):g=_,ve=!1):(y=g,w=v+c.shift(),_=y+c.shift(),S=w+c.shift(),g=_+c.shift(),F-K==5?(v=S+c.shift(),K++):v=S,ve=!0),e.U.P.curveTo(l,y,w,_,S,g,v),K+=4}else{if((I+"").charAt(0)=="o")throw console.debug("Unknown operation: "+I,i),I;c.push(I)}}}s.x=g,s.y=v,s.nStems=u,s.haveWidth=d,s.width=f,s.open=h};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function sze(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(I,F){for(var L=new n(31),V=0;V<31;++V)L[V]=F+=1<<I[V-1];var z=new r(L[30]);for(V=1;V<30;++V)for(var K=L[V];K<L[V+1];++K)z[K]=K-L[V]<<5|V;return[L,z]},l=o(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var d=o(s,0)[0],f=new n(32768),h=0;h<32768;++h){var m=(43690&h)>>>1|(21845&h)<<1;m=(61680&(m=(52428&m)>>>2|(13107&m)<<2))>>>4|(3855&m)<<4,f[h]=((65280&m)>>>8|(255&m)<<8)>>>1}var g=function(I,F,L){for(var V=I.length,z=0,K=new n(F);z<V;++z)++K[I[z]-1];var j,U=new n(F);for(z=0;z<F;++z)U[z]=U[z-1]+K[z-1]<<1;{j=new n(1<<F);var $=15-F;for(z=0;z<V;++z)if(I[z])for(var G=z<<4|I[z],X=F-I[z],Q=U[I[z]-1]++<<X,oe=Q|(1<<X)-1;Q<=oe;++Q)j[f[Q]>>>$]=G}return j},v=new e(288);for(h=0;h<144;++h)v[h]=8;for(h=144;h<256;++h)v[h]=9;for(h=256;h<280;++h)v[h]=7;for(h=280;h<288;++h)v[h]=8;var y=new e(32);for(h=0;h<32;++h)y[h]=5;var w=g(v,9),_=g(y,5),S=function(I){for(var F=I[0],L=1;L<I.length;++L)I[L]>F&&(F=I[L]);return F},E=function(I,F,L){var V=F/8|0;return(I[V]|I[V+1]<<8)>>(7&F)&L},A=function(I,F){var L=F/8|0;return(I[L]|I[L+1]<<8|I[L+2]<<16)>>(7&F)},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],R=function(I,F,L){var V=new Error(F||M[I]);if(V.code=I,Error.captureStackTrace&&Error.captureStackTrace(V,R),!L)throw V;return V},P=function(I,F,L){var V=I.length;if(!V||L&&!L.l&&V<5)return F||new e(0);var z=!F||L,K=!L||L.i;L||(L={}),F||(F=new e(3*V));var j,U=function(nt){var he=F.length;if(nt>he){var Pe=new e(Math.max(2*he,nt));Pe.set(F),F=Pe}},$=L.f||0,G=L.p||0,X=L.b||0,Q=L.l,oe=L.d,de=L.m,ae=L.n,ne=8*V;do{if(!Q){L.f=$=E(I,G,1);var ve=E(I,G+1,3);if(G+=3,!ve){var ge=I[(ee=((j=G)/8|0)+(7&j&&1)+4)-4]|I[ee-3]<<8,_e=ee+ge;if(_e>V){K&&R(0);break}z&&U(X+ge),F.set(I.subarray(ee,_e),X),L.b=X+=ge,L.p=G=8*_e;continue}if(ve==1)Q=w,oe=_,de=9,ae=5;else if(ve==2){var ye=E(I,G,31)+257,ce=E(I,G+10,15)+4,De=ye+E(I,G+5,31)+1;G+=14;for(var Ee=new e(De),Z=new e(19),Me=0;Me<ce;++Me)Z[a[Me]]=E(I,G+3*Me,7);G+=3*ce;var Oe=S(Z),Ce=(1<<Oe)-1,Ne=g(Z,Oe);for(Me=0;Me<De;){var ee,te=Ne[E(I,G,Ce)];if(G+=15&te,(ee=te>>>4)<16)Ee[Me++]=ee;else{var me=0,W=0;for(ee==16?(W=3+E(I,G,3),G+=2,me=Ee[Me-1]):ee==17?(W=3+E(I,G,7),G+=3):ee==18&&(W=11+E(I,G,127),G+=7);W--;)Ee[Me++]=me}}var B=Ee.subarray(0,ye),re=Ee.subarray(ye);de=S(B),ae=S(re),Q=g(B,de),oe=g(re,ae)}else R(1);if(G>ne){K&&R(0);break}}z&&U(X+131072);for(var xe=(1<<de)-1,Te=(1<<ae)-1,we=G;;we=G){var Ke=(me=Q[A(I,G)&xe])>>>4;if((G+=15&me)>ne){K&&R(0);break}if(me||R(2),Ke<256)F[X++]=Ke;else{if(Ke==256){we=G,Q=null;break}var Xe=Ke-254;if(Ke>264){var dt=i[Me=Ke-257];Xe=E(I,G,(1<<dt)-1)+c[Me],G+=dt}var pt=oe[A(I,G)&Te],Le=pt>>>4;if(pt||R(3),G+=15&pt,re=d[Le],Le>3&&(dt=s[Le],re+=A(I,G)&(1<<dt)-1,G+=dt),G>ne){K&&R(0);break}z&&U(X+131072);for(var Be=X+Xe;X<Be;X+=4)F[X]=F[X-re],F[X+1]=F[X+1-re],F[X+2]=F[X+2-re],F[X+3]=F[X+3-re];X=Be}}L.l=Q,L.p=we,L.b=X,Q&&($=1,L.m=de,L.d=oe,L.n=ae)}while(!$);return X==F.length?F:function(nt,he,Pe){(Pe==null||Pe>nt.length)&&(Pe=nt.length);var Ye=new(nt instanceof n?n:nt instanceof r?r:e)(Pe-he);return Ye.set(nt.subarray(he,Pe)),Ye}(F,0,X)},O=new e(0),k=typeof TextDecoder<"u"&&new TextDecoder;try{k.decode(O,{stream:!0})}catch{}return t.convert_streams=function(I){var F=new DataView(I),L=0;function V(){var ye=F.getUint16(L);return L+=2,ye}function z(){var ye=F.getUint32(L);return L+=4,ye}function K(ye){ge.setUint16(_e,ye),_e+=2}function j(ye){ge.setUint32(_e,ye),_e+=4}for(var U={signature:z(),flavor:z(),length:z(),numTables:V(),reserved:V(),totalSfntSize:z(),majorVersion:V(),minorVersion:V(),metaOffset:z(),metaLength:z(),metaOrigLength:z(),privOffset:z(),privLength:z()},$=0;Math.pow(2,$)<=U.numTables;)$++;$--;for(var G=16*Math.pow(2,$),X=16*U.numTables-G,Q=12,oe=[],de=0;de<U.numTables;de++)oe.push({tag:z(),offset:z(),compLength:z(),origLength:z(),origChecksum:z()}),Q+=16;var ae,ne=new Uint8Array(12+16*oe.length+oe.reduce(function(ye,ce){return ye+ce.origLength+4},0)),ve=ne.buffer,ge=new DataView(ve),_e=0;return j(U.flavor),K(U.numTables),K(G),K($),K(X),oe.forEach(function(ye){j(ye.tag),j(ye.origChecksum),j(Q),j(ye.origLength),ye.outOffset=Q,(Q+=ye.origLength)%4!=0&&(Q+=4-Q%4)}),oe.forEach(function(ye){var ce,De=I.slice(ye.offset,ye.offset+ye.compLength);if(ye.compLength!=ye.origLength){var Ee=new Uint8Array(ye.origLength);ce=new Uint8Array(De,2),P(ce,Ee)}else Ee=new Uint8Array(De);ne.set(Ee,ye.outOffset);var Z=0;(Q=ye.outOffset+ye.origLength)%4!=0&&(Z=4-Q%4),ne.set(new Uint8Array(Z).buffer,ye.outOffset+ye.origLength),ae=Q+Z}),ve.slice(0,ae)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function aze(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,a=4,o=8,l=16,c=32;let u;function d(M){if(!u){const R={R:s,L:i,D:a,C:l,U:c,T:o};u=new Map;for(let P in r){let O=0;r[P].split(",").forEach(k=>{let[I,F]=k.split("+");I=parseInt(I,36),F=F?parseInt(F,36):0,u.set(O+=I,R[P]);for(let L=F;L--;)u.set(++O,R[P])})}}return u.get(M)||c}const f=1,h=2,m=3,g=4,v=[null,"isol","init","fina","medi"];function y(M){const R=new Uint8Array(M.length);let P=c,O=f,k=-1;for(let I=0;I<M.length;I++){const F=M.codePointAt(I);let L=d(F)|0,V=f;L&o||(P&(i|a|l)?L&(s|a|l)?(V=m,(O===f||O===m)&&R[k]++):L&(i|c)&&(O===h||O===g)&&R[k]--:P&(s|c)&&(O===h||O===g)&&R[k]--,O=R[I]=V,P=L,k=I,F>65535&&I++)}return R}function w(M,R){const P=[];for(let k=0;k<R.length;k++){const I=R.codePointAt(k);I>65535&&k++,P.push(t.U.codeToGlyph(M,I))}const O=M.GSUB;if(O){const{lookupList:k,featureList:I}=O;let F;const L=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,V=[];I.forEach(z=>{if(L.test(z.tag))for(let K=0;K<z.tab.length;K++){if(V[z.tab[K]])continue;V[z.tab[K]]=!0;const j=k[z.tab[K]],U=/^(isol|init|fina|medi)$/.test(z.tag);U&&!F&&(F=y(R));for(let $=0;$<P.length;$++)(!F||!U||v[F[$]]===z.tag)&&t.U._applySubs(P,$,j,k)}})}return P}function _(M,R){const P=new Int16Array(R.length*3);let O=0;for(;O<R.length;O++){const L=R[O];if(L===-1)continue;P[O*3+2]=M.hmtx.aWidth[L];const V=M.GPOS;if(V){const z=V.lookupList;for(let K=0;K<z.length;K++){const j=z[K];for(let U=0;U<j.tabs.length;U++){const $=j.tabs[U];if(j.ltype===1){if(t._lctf.coverageIndex($.coverage,L)!==-1&&$.pos){F($.pos,O);break}}else if(j.ltype===2){let G=null,X=k();if(X!==-1){const Q=t._lctf.coverageIndex($.coverage,R[X]);if(Q!==-1){if($.fmt===1){const oe=$.pairsets[Q];for(let de=0;de<oe.length;de++)oe[de].gid2===L&&(G=oe[de])}else if($.fmt===2){const oe=t.U._getGlyphClass(R[X],$.classDef1),de=t.U._getGlyphClass(L,$.classDef2);G=$.matrix[oe][de]}if(G){G.val1&&F(G.val1,X),G.val2&&F(G.val2,O);break}}}}else if(j.ltype===4){const G=t._lctf.coverageIndex($.markCoverage,L);if(G!==-1){const X=k(I),Q=X===-1?-1:t._lctf.coverageIndex($.baseCoverage,R[X]);if(Q!==-1){const oe=$.markArray[G],de=$.baseArray[Q][oe.markClass];P[O*3]=de.x-oe.x+P[X*3]-P[X*3+2],P[O*3+1]=de.y-oe.y+P[X*3+1];break}}}else if(j.ltype===6){const G=t._lctf.coverageIndex($.mark1Coverage,L);if(G!==-1){const X=k();if(X!==-1){const Q=R[X];if(S(M,Q)===3){const oe=t._lctf.coverageIndex($.mark2Coverage,Q);if(oe!==-1){const de=$.mark1Array[G],ae=$.mark2Array[oe][de.markClass];P[O*3]=ae.x-de.x+P[X*3]-P[X*3+2],P[O*3+1]=ae.y-de.y+P[X*3+1];break}}}}}}}}else if(M.kern&&!M.cff){const z=k();if(z!==-1){const K=M.kern.glyph1.indexOf(R[z]);if(K!==-1){const j=M.kern.rval[K].glyph2.indexOf(L);j!==-1&&(P[z*3+2]+=M.kern.rval[K].vals[j])}}}}return P;function k(L){for(let V=O-1;V>=0;V--)if(R[V]!==-1&&(!L||L(R[V])))return V;return-1}function I(L){return S(M,L)===1}function F(L,V){for(let z=0;z<3;z++)P[V*3+z]+=L[z]||0}}function S(M,R){const P=M.GDEF&&M.GDEF.glyphClassDef;return P?t.U._getGlyphClass(R,P):0}function E(...M){for(let R=0;R<M.length;R++)if(typeof M[R]=="number")return M[R]}function A(M){const R=Object.create(null),P=M["OS/2"],O=M.hhea,k=M.head.unitsPerEm,I=E(P&&P.sTypoAscender,O&&O.ascender,k),F={unitsPerEm:k,ascender:I,descender:E(P&&P.sTypoDescender,O&&O.descender,0),capHeight:E(P&&P.sCapHeight,I),xHeight:E(P&&P.sxHeight,I),lineGap:E(P&&P.sTypoLineGap,O&&O.lineGap),supportsCodePoint(L){return t.U.codeToGlyph(M,L)>0},forEachGlyph(L,V,z,K){let j=0;const U=1/F.unitsPerEm*V,$=w(M,L);let G=0;const X=_(M,$);return $.forEach((Q,oe)=>{if(Q!==-1){let de=R[Q];if(!de){const{cmds:ae,crds:ne}=t.U.glyphToPath(M,Q);let ve="",ge=0;for(let Ee=0,Z=ae.length;Ee<Z;Ee++){const Me=n[ae[Ee]];ve+=ae[Ee];for(let Oe=1;Oe<=Me;Oe++)ve+=(Oe>1?",":"")+ne[ge++]}let _e,ye,ce,De;if(ne.length){_e=ye=1/0,ce=De=-1/0;for(let Ee=0,Z=ne.length;Ee<Z;Ee+=2){let Me=ne[Ee],Oe=ne[Ee+1];Me<_e&&(_e=Me),Oe<ye&&(ye=Oe),Me>ce&&(ce=Me),Oe>De&&(De=Oe)}}else _e=ce=ye=De=0;de=R[Q]={index:Q,advanceWidth:M.hmtx.aWidth[Q],xMin:_e,yMin:ye,xMax:ce,yMax:De,path:ve}}K.call(null,de,j+X[oe*3]*U,X[oe*3+1]*U,G),j+=X[oe*3+2]*U,z&&(j+=z*V)}G+=L.codePointAt(G)>65535?2:1}),j}};return F}return function(R){const P=new Uint8Array(R,0,4),O=t._bin.readASCII(P,0,4);if(O==="wOFF")R=e(R);else if(O==="wOF2")throw new Error("woff2 fonts not supported");return A(t.parse(R)[0])}}const oze=yy({name:"Typr Font Parser",dependencies:[ize,sze,aze],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function lze(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(_){var S=_>>5;this.buckets.set(S,(this.buckets.get(S)||0)|1<<(31&_))},e.prototype.has=function(_){var S=this.buckets.get(_>>5);return S!==void 0&&(S&1<<(31&_))!=0},e.prototype.serialize=function(){var _=[];return this.buckets.forEach(function(S,E){_.push((+E).toString(36)+":"+S.toString(36))}),_.join(",")},e.prototype.deserialize=function(_){var S=this;this.buckets.clear(),_.split(",").forEach(function(E){var A=E.split(":");S.buckets.set(parseInt(A[0],36),parseInt(A[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(_){var S=function(A){return A&i}(_).toString(16),E=function(A){return(A&i)+n-1}(_).toString(16);return"codepoint-index/plane"+(_>>16)+"/"+S+"-"+E+".json"}function a(_,S){var E=_&r,A=S.codePointAt(E/6|0);return((A=(A||48)-48)&1<<E%6)!=0}function o(_,S){var E;(E=_,E.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(A){return A.split("-").map(function(M){return parseInt(M.trim(),16)})})).forEach(function(A){var M=A[0],R=A[1];R===void 0&&(R=M),S(M,R)})}function l(_,S){o(_,function(E,A){for(var M=E;M<=A;M++)S(M)})}var c={},u={},d=new WeakMap,f="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function h(_){var S=d.get(_);return S||(S=new e,l(_.ranges,function(E){return S.add(E)}),d.set(_,S)),S}var m,g=new Map;function v(_,S,E){return _[S]?S:_[E]?E:function(A){for(var M in A)return M}(_)}function y(_,S){var E=S;if(!_.includes(E)){E=1/0;for(var A=0;A<_.length;A++)Math.abs(_[A]-S)<Math.abs(E-S)&&(E=_[A])}return E}function w(_){return m||(m=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(S){m.add(S)})),m.has(_)}return t.CodePointSet=e,t.clearCache=function(){c={},u={}},t.getFontsForString=function(_,S){S===void 0&&(S={});var E,A=S.lang;A===void 0&&(A=new RegExp("\\p{Script=Hangul}","u").test(E=_)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(E)?"ja":"en");var M=S.category;M===void 0&&(M="sans-serif");var R=S.style;R===void 0&&(R="normal");var P=S.weight;P===void 0&&(P=400);var O=(S.dataUrl||f).replace(/\/$/g,""),k=new Map,I=new Uint8Array(_.length),F={},L={},V=new Array(_.length),z=new Map,K=!1;function j(G){var X=g.get(G);return X||(X=fetch(O+"/"+G).then(function(Q){if(!Q.ok)throw new Error(Q.statusText);return Q.json().then(function(oe){if(!Array.isArray(oe)||oe[0]!==1)throw new Error("Incorrect schema version; need 1, got "+oe[0]);return oe[1]})}).catch(function(Q){if(O!==f)return K||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+O+'", trying default CDN. '+Q.message),K=!0),O=f,g.delete(G),j(G);throw Q}),g.set(G,X)),X}for(var U=function(G){var X=_.codePointAt(G),Q=s(X);V[G]=Q,c[Q]||z.has(Q)||z.set(Q,j(Q).then(function(oe){c[Q]=oe})),X>65535&&(G++,$=G)},$=0;$<_.length;$++)U($);return Promise.all(z.values()).then(function(){z.clear();for(var G=function(Q){var oe=_.codePointAt(Q),de=null,ae=c[V[Q]],ne=void 0;for(var ve in ae){var ge=L[ve];if(ge===void 0&&(ge=L[ve]=new RegExp(ve).test(A||"en")),ge){for(var _e in ne=ve,ae[ve])if(a(oe,ae[ve][_e])){de=_e;break}break}}if(!de){e:for(var ye in ae)if(ye!==ne){for(var ce in ae[ye])if(a(oe,ae[ye][ce])){de=ce;break e}}}de||(console.debug("No font coverage for U+"+oe.toString(16)),de="latin"),V[Q]=de,u[de]||z.has(de)||z.set(de,j("font-meta/"+de+".json").then(function(De){u[de]=De})),oe>65535&&(Q++,X=Q)},X=0;X<_.length;X++)G(X);return Promise.all(z.values())}).then(function(){for(var G,X=null,Q=0;Q<_.length;Q++){var oe=_.codePointAt(Q);if(X&&(w(oe)||h(X).has(oe)))I[Q]=I[Q-1];else{X=u[V[Q]];var de=F[X.id];if(!de){var ae=X.typeforms,ne=v(ae,M,"sans-serif"),ve=v(ae[ne],R,"normal"),ge=y((G=ae[ne])===null||G===void 0?void 0:G[ve],P);de=F[X.id]=O+"/font-files/"+X.id+"/"+ne+"."+ve+"."+ge+".woff"}var _e=k.get(de);_e==null&&(_e=k.size,k.set(de,_e)),I[Q]=_e}oe>65535&&(Q++,I[Q]=I[Q-1])}return{fontUrls:Array.from(k.keys()),chars:I}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function cze(t,e){const n=Object.create(null),r=Object.create(null);function i(a,o){const l=c=>{console.error(`Failure loading font ${a}`,c)};try{const c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=t(c.response);u.src=a,o(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(a,o){let l=n[a];l?o(l):r[a]?r[a].push(o):(r[a]=[o],i(a,c=>{c.src=a,n[a]=c,r[a].forEach(u=>u(c)),delete r[a]}))}return function(a,o,{lang:l,fonts:c=[],style:u="normal",weight:d="normal",unicodeFontsURL:f}={}){const h=new Uint8Array(a.length),m=[];a.length||w();const g=new Map,v=[];if(u!=="italic"&&(u="normal"),typeof d!="number"&&(d=d==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(S=>!S.lang||S.lang.test(l)).reverse(),c.length){let M=0;(function R(P=0){for(let O=P,k=a.length;O<k;O++){const I=a.codePointAt(O);if(M===1&&m[h[O-1]].supportsCodePoint(I)||O>0&&/\s/.test(a[O]))h[O]=h[O-1],M===2&&(v[v.length-1][1]=O);else for(let F=h[O],L=c.length;F<=L;F++)if(F===L){const V=M===2?v[v.length-1]:v[v.length]=[O,O];V[1]=O,M=2}else{h[O]=F;const{src:V,unicodeRange:z}=c[F];if(!z||_(I,z)){const K=n[V];if(!K){s(V,()=>{R(O)});return}if(K.supportsCodePoint(I)){let j=g.get(K);typeof j!="number"&&(j=m.length,m.push(K),g.set(K,j)),h[O]=j,M=1;break}}}I>65535&&O+1<k&&(h[O+1]=h[O],O++,M===2&&(v[v.length-1][1]=O))}y()})()}else v.push([0,a.length-1]),y();function y(){if(v.length){const S=v.map(E=>a.substring(E[0],E[1]+1)).join(`
`);e.getFontsForString(S,{lang:l||void 0,style:u,weight:d,dataUrl:f}).then(({fontUrls:E,chars:A})=>{const M=m.length;let R=0;v.forEach(O=>{for(let k=0,I=O[1]-O[0];k<=I;k++)h[O[0]+k]=A[R++]+M;R++});let P=0;E.forEach((O,k)=>{s(O,I=>{m[k+M]=I,++P===E.length&&w()})})})}else w()}function w(){o({chars:h,fonts:m})}function _(S,E){for(let A=0;A<E.length;A++){const[M,R=M]=E[A];if(M<=S&&S<=R)return!0}return!1}}}const uze=yy({name:"FontResolver",dependencies:[cze,oze,lze],init(t,e,n){return t(e,n())}});function dze(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:m,lang:g,fonts:v,style:y,weight:w,preResolvedFonts:_,unicodeFontsURL:S},E){const A=({chars:M,fonts:R})=>{let P,O;const k=[];for(let I=0;I<M.length;I++)M[I]!==O?(O=M[I],k.push(P={start:I,end:I,fontObj:R[M[I]]})):P.end=I;E(k)};_?A(_):t(m,A,{lang:g,fonts:v,style:y,weight:w,unicodeFontsURL:S})}function o({text:m="",font:g,lang:v,sdfGlyphSize:y=64,fontSize:w=400,fontWeight:_=1,fontStyle:S="normal",letterSpacing:E=0,lineHeight:A="normal",maxWidth:M=1/0,direction:R,textAlign:P="left",textIndent:O=0,whiteSpace:k="normal",overflowWrap:I="normal",anchorX:F=0,anchorY:L=0,metricsOnly:V=!1,unicodeFontsURL:z,preResolvedFonts:K=null,includeCaretPositions:j=!1,chunkedBoundsSize:U=8192,colorRanges:$=null},G){const X=d(),Q={fontLoad:0,typesetting:0};m.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),m=m.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,E=+E,M=+M,A=A||"normal",O=+O,a({text:m,lang:v,style:S,weight:_,fonts:typeof g=="string"?[{src:g}]:g,unicodeFontsURL:z,preResolvedFonts:K},oe=>{Q.fontLoad=d()-X;const de=isFinite(M);let ae=null,ne=null,ve=null,ge=null,_e=null,ye=null,ce=null,De=null,Ee=0,Z=0,Me=k!=="nowrap";const Oe=new Map,Ce=d();let Ne=O,ee=0,te=new f;const me=[te];oe.forEach(Te=>{const{fontObj:we}=Te,{ascender:Ke,descender:Xe,unitsPerEm:dt,lineGap:pt,capHeight:Le,xHeight:Be}=we;let nt=Oe.get(we);if(!nt){const Ae=w/dt,Ze=A==="normal"?(Ke-Xe+pt)*Ae:A*w,at=(Ze-(Ke-Xe)*Ae)/2,qe=Math.min(Ze,(Ke-Xe)*Ae),je=(Ke+Xe)/2*Ae+qe/2;nt={index:Oe.size,src:we.src,fontObj:we,fontSizeMult:Ae,unitsPerEm:dt,ascender:Ke*Ae,descender:Xe*Ae,capHeight:Le*Ae,xHeight:Be*Ae,lineHeight:Ze,baseline:-at-Ke*Ae,caretTop:je,caretBottom:je-qe},Oe.set(we,nt)}const{fontSizeMult:he}=nt,Pe=m.slice(Te.start,Te.end+1);let Ye,ue;we.forEachGlyph(Pe,w,E,(Ae,Ze,at,qe)=>{Ze+=ee,qe+=Te.start,Ye=Ze,ue=Ae;const je=m.charAt(qe),$e=Ae.advanceWidth*he,rt=te.count;let lt;if("isEmpty"in Ae||(Ae.isWhitespace=!!je&&new RegExp(i).test(je),Ae.canBreakAfter=!!je&&s.test(je),Ae.isEmpty=Ae.xMin===Ae.xMax||Ae.yMin===Ae.yMax||r.test(je)),!Ae.isWhitespace&&!Ae.isEmpty&&Z++,Me&&de&&!Ae.isWhitespace&&Ze+$e+Ne>M&&rt){if(te.glyphAt(rt-1).glyphObj.canBreakAfter)lt=new f,Ne=-Ze;else for(let ln=rt;ln--;)if(ln===0&&I==="break-word"){lt=new f,Ne=-Ze;break}else if(te.glyphAt(ln).glyphObj.canBreakAfter){lt=te.splitAt(ln+1);const gn=lt.glyphAt(0).x;Ne-=gn;for(let Zn=lt.count;Zn--;)lt.glyphAt(Zn).x-=gn;break}lt&&(te.isSoftWrapped=!0,te=lt,me.push(te),Ee=M)}let Mt=te.glyphAt(te.count);Mt.glyphObj=Ae,Mt.x=Ze+Ne,Mt.y=at,Mt.width=$e,Mt.charIndex=qe,Mt.fontData=nt,je===`
`&&(te=new f,me.push(te),Ne=-(Ze+$e+E*w)+O)}),ee=Ye+ue.advanceWidth*he+E*w});let W=0;me.forEach(Te=>{let we=!0;for(let Ke=Te.count;Ke--;){const Xe=Te.glyphAt(Ke);we&&!Xe.glyphObj.isWhitespace&&(Te.width=Xe.x+Xe.width,Te.width>Ee&&(Ee=Te.width),we=!1);let{lineHeight:dt,capHeight:pt,xHeight:Le,baseline:Be}=Xe.fontData;dt>Te.lineHeight&&(Te.lineHeight=dt);const nt=Be-Te.baseline;nt<0&&(Te.baseline+=nt,Te.cap+=nt,Te.ex+=nt),Te.cap=Math.max(Te.cap,Te.baseline+pt),Te.ex=Math.max(Te.ex,Te.baseline+Le)}Te.baseline-=W,Te.cap-=W,Te.ex-=W,W+=Te.lineHeight});let B=0,re=0;if(F&&(typeof F=="number"?B=-F:typeof F=="string"&&(B=-Ee*(F==="left"?0:F==="center"?.5:F==="right"?1:c(F)))),L&&(typeof L=="number"?re=-L:typeof L=="string"&&(re=L==="top"?0:L==="top-baseline"?-me[0].baseline:L==="top-cap"?-me[0].cap:L==="top-ex"?-me[0].ex:L==="middle"?W/2:L==="bottom"?W:L==="bottom-baseline"?-me[me.length-1].baseline:c(L)*W)),!V){const Te=e.getEmbeddingLevels(m,R);ae=new Uint16Array(Z),ne=new Uint8Array(Z),ve=new Float32Array(Z*2),ge={},ce=[1/0,1/0,-1/0,-1/0],De=[],j&&(ye=new Float32Array(m.length*4)),$&&(_e=new Uint8Array(Z*3));let we=0,Ke=-1,Xe=-1,dt,pt;if(me.forEach((Le,Be)=>{let{count:nt,width:he}=Le;if(nt>0){let Pe=0;for(let qe=nt;qe--&&Le.glyphAt(qe).glyphObj.isWhitespace;)Pe++;let Ye=0,ue=0;if(P==="center")Ye=(Ee-he)/2;else if(P==="right")Ye=Ee-he;else if(P==="justify"&&Le.isSoftWrapped){let qe=0;for(let je=nt-Pe;je--;)Le.glyphAt(je).glyphObj.isWhitespace&&qe++;ue=(Ee-he)/qe}if(ue||Ye){let qe=0;for(let je=0;je<nt;je++){let $e=Le.glyphAt(je);const rt=$e.glyphObj;$e.x+=Ye+qe,ue!==0&&rt.isWhitespace&&je<nt-Pe&&(qe+=ue,$e.width+=ue)}}const Ae=e.getReorderSegments(m,Te,Le.glyphAt(0).charIndex,Le.glyphAt(Le.count-1).charIndex);for(let qe=0;qe<Ae.length;qe++){const[je,$e]=Ae[qe];let rt=1/0,lt=-1/0;for(let Mt=0;Mt<nt;Mt++)if(Le.glyphAt(Mt).charIndex>=je){let ln=Mt,gn=Mt;for(;gn<nt;gn++){let Zn=Le.glyphAt(gn);if(Zn.charIndex>$e)break;gn<nt-Pe&&(rt=Math.min(rt,Zn.x),lt=Math.max(lt,Zn.x+Zn.width))}for(let Zn=ln;Zn<gn;Zn++){const ur=Le.glyphAt(Zn);ur.x=lt-(ur.x+ur.width-rt)}break}}let Ze;const at=qe=>Ze=qe;for(let qe=0;qe<nt;qe++){const je=Le.glyphAt(qe);Ze=je.glyphObj;const $e=Ze.index,rt=Te.levels[je.charIndex]&1;if(rt){const lt=e.getMirroredCharacter(m[je.charIndex]);lt&&je.fontData.fontObj.forEachGlyph(lt,0,0,at)}if(j){const{charIndex:lt,fontData:Mt}=je,ln=je.x+B,gn=je.x+je.width+B;ye[lt*4]=rt?gn:ln,ye[lt*4+1]=rt?ln:gn,ye[lt*4+2]=Le.baseline+Mt.caretBottom+re,ye[lt*4+3]=Le.baseline+Mt.caretTop+re;const Zn=lt-Ke;Zn>1&&u(ye,Ke,Zn),Ke=lt}if($){const{charIndex:lt}=je;for(;lt>Xe;)Xe++,$.hasOwnProperty(Xe)&&(pt=$[Xe])}if(!Ze.isWhitespace&&!Ze.isEmpty){const lt=we++,{fontSizeMult:Mt,src:ln,index:gn}=je.fontData,Zn=ge[ln]||(ge[ln]={});Zn[$e]||(Zn[$e]={path:Ze.path,pathBounds:[Ze.xMin,Ze.yMin,Ze.xMax,Ze.yMax]});const ur=je.x+B,yr=je.y+Le.baseline+re;ve[lt*2]=ur,ve[lt*2+1]=yr;const Xr=ur+Ze.xMin*Mt,Pi=yr+Ze.yMin*Mt,ii=ur+Ze.xMax*Mt,rn=yr+Ze.yMax*Mt;Xr<ce[0]&&(ce[0]=Xr),Pi<ce[1]&&(ce[1]=Pi),ii>ce[2]&&(ce[2]=ii),rn>ce[3]&&(ce[3]=rn),lt%U===0&&(dt={start:lt,end:lt,rect:[1/0,1/0,-1/0,-1/0]},De.push(dt)),dt.end++;const Ir=dt.rect;if(Xr<Ir[0]&&(Ir[0]=Xr),Pi<Ir[1]&&(Ir[1]=Pi),ii>Ir[2]&&(Ir[2]=ii),rn>Ir[3]&&(Ir[3]=rn),ae[lt]=$e,ne[lt]=gn,$){const Aa=lt*3;_e[Aa]=pt>>16&255,_e[Aa+1]=pt>>8&255,_e[Aa+2]=pt&255}}}}}),ye){const Le=m.length-Ke;Le>1&&u(ye,Ke,Le)}}const xe=[];Oe.forEach(({index:Te,src:we,unitsPerEm:Ke,ascender:Xe,descender:dt,lineHeight:pt,capHeight:Le,xHeight:Be})=>{xe[Te]={src:we,unitsPerEm:Ke,ascender:Xe,descender:dt,lineHeight:pt,capHeight:Le,xHeight:Be}}),Q.typesetting=d()-Ce,G({glyphIds:ae,glyphFontIndices:ne,glyphPositions:ve,glyphData:ge,fontData:xe,caretPositions:ye,glyphColors:_e,chunkedBounds:De,fontSize:w,topBaseline:re+me[0].baseline,blockBounds:[B,re-W,B+Ee,re],visibleBounds:ce,timings:Q})})}function l(m,g){o({...m,metricsOnly:!0},v=>{const[y,w,_,S]=v.blockBounds;g({width:_-y,height:S-w})})}function c(m){let g=m.match(/^([\d.]+)%$/),v=g?parseFloat(g[1]):NaN;return isNaN(v)?0:v/100}function u(m,g,v){const y=m[g*4],w=m[g*4+1],_=m[g*4+2],S=m[g*4+3],E=(w-y)/v;for(let A=0;A<v;A++){const M=(g+A)*4;m[M]=y+E*A,m[M+1]=y+E*(A+1),m[M+2]=_,m[M+3]=S}}function d(){return(self.performance||Date).now()}function f(){this.data=[]}const h=["glyphObj","x","y","width","charIndex","fontData"];return f.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/h.length)},glyphAt(m){let g=f.flyweight;return g.data=this.data,g.index=m,g},splitAt(m){let g=new f;return g.data=this.data.splice(m*h.length),g}},f.flyweight=h.reduce((m,g,v,y)=>(Object.defineProperty(m,g,{get(){return this.data[this.index*h.length+v]},set(w){this.data[this.index*h.length+v]=w}}),m),{data:null,index:0}),{typeset:o,measure:l}}const Np=()=>(self.performance||Date).now(),fR=_ce();let S7;function fze(t,e,n,r,i,s,a,o,l,c,u=!0){return u?pze(t,e,n,r,i,s,a,o,l,c).then(null,d=>(S7||(console.warn("WebGL SDF generation failed, falling back to JS",d),S7=!0),T7(t,e,n,r,i,s,a,o,l,c))):T7(t,e,n,r,i,s,a,o,l,c)}const cA=[],hze=5;let yj=0;function Ece(){const t=Np();for(;cA.length&&Np()-t<hze;)cA.shift()();yj=cA.length?setTimeout(Ece,0):0}const pze=(...t)=>new Promise((e,n)=>{cA.push(()=>{const r=Np();try{fR.webgl.generateIntoCanvas(...t),e({timing:Np()-r})}catch(i){n(i)}}),yj||(yj=setTimeout(Ece,0))}),mze=4,gze=2e3,E7={};let vze=0;function T7(t,e,n,r,i,s,a,o,l,c){const u="TroikaTextSDFGenerator_JS_"+vze++%mze;let d=E7[u];return d||(d=E7[u]={workerModule:yy({name:u,workerId:u,dependencies:[_ce,Np],init(f,h){const m=f().javascript.generate;return function(...g){const v=h();return{textureData:m(...g),timing:h()-v}}},getTransferables(f){return[f.textureData.buffer]}}),requests:0,idleTimer:null}),d.requests++,clearTimeout(d.idleTimer),d.workerModule(t,e,n,r,i,s).then(({textureData:f,timing:h})=>{const m=Np(),g=new Uint8Array(f.length*4);for(let v=0;v<f.length;v++)g[v*4+c]=f[v];return fR.webglUtils.renderImageData(a,g,o,l,t,e,1<<3-c),h+=Np()-m,--d.requests===0&&(d.idleTimer=setTimeout(()=>{q5e(u)},gze)),{timing:h}})}function yze(t){t._warm||(fR.webgl.isSupported(t),t._warm=!0)}const xze=fR.webglUtils.resizeWebGLCanvasWithoutClearing,kg={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},bze=new Et;function wg(){return(self.performance||Date).now()}const A7=Object.create(null);function Tce(t,e){t=Sze({},t);const n=wg(),{defaultFontURL:r}=kg,i=[];if(r&&i.push({label:"default",src:M7(r)}),t.font&&i.push({label:"user",src:M7(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||kg.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||kg.unicodeFontsURL,t.colorRanges!=null){let h={};for(let m in t.colorRanges)if(t.colorRanges.hasOwnProperty(m)){let g=t.colorRanges[m];typeof g!="number"&&(g=bze.set(g).getHex()),h[m]=g}t.colorRanges=h}Object.freeze(t);const{textureWidth:s,sdfExponent:a}=kg,{sdfGlyphSize:o}=t,l=s/o*4;let c=A7[o];if(!c){const h=document.createElement("canvas");h.width=s,h.height=o*256/l,c=A7[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:h,sdfTexture:new ar(h,void 0,void 0,void 0,Nn,Nn),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,wze(c)}const{sdfTexture:u,sdfCanvas:d}=c;Cce(t).then(h=>{const{glyphIds:m,glyphFontIndices:g,fontData:v,glyphPositions:y,fontSize:w,timings:_}=h,S=[],E=new Float32Array(m.length*4);let A=0,M=0;const R=wg(),P=v.map(L=>{let V=c.glyphsByFont.get(L.src);return V||c.glyphsByFont.set(L.src,V=new Map),V});m.forEach((L,V)=>{const z=g[V],{src:K,unitsPerEm:j}=v[z];let U=P[z].get(L);if(!U){const{path:oe,pathBounds:de}=h.glyphData[K][L],ae=Math.max(de[2]-de[0],de[3]-de[1])/o*(kg.sdfMargin*o+.5),ne=c.glyphCount++,ve=[de[0]-ae,de[1]-ae,de[2]+ae,de[3]+ae];P[z].set(L,U={path:oe,atlasIndex:ne,sdfViewBox:ve}),S.push(U)}const{sdfViewBox:$}=U,G=y[M++],X=y[M++],Q=w/j;E[A++]=G+$[0]*Q,E[A++]=X+$[1]*Q,E[A++]=G+$[2]*Q,E[A++]=X+$[3]*Q,m[V]=U.atlasIndex}),_.quads=(_.quads||0)+(wg()-R);const O=wg();_.sdf={};const k=d.height,I=Math.ceil(c.glyphCount/l),F=Math.pow(2,Math.ceil(Math.log2(I*o)));F>k&&(console.info(`Increasing SDF texture size ${k}->${F}`),xze(d,s,F),u.dispose()),Promise.all(S.map(L=>Ace(L,c,t.gpuAccelerateSDF).then(({timing:V})=>{_.sdf[L.atlasIndex]=V}))).then(()=>{S.length&&!c.contextLost&&(Mce(c),u.needsUpdate=!0),_.sdfTotal=wg()-O,_.total=wg()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:o,sdfExponent:a,glyphBounds:E,glyphAtlasIndices:m,glyphColors:h.glyphColors,caretPositions:h.caretPositions,chunkedBounds:h.chunkedBounds,ascender:h.ascender,descender:h.descender,lineHeight:h.lineHeight,capHeight:h.capHeight,xHeight:h.xHeight,topBaseline:h.topBaseline,blockBounds:h.blockBounds,visibleBounds:h.visibleBounds,timings:h.timings}))})}),Promise.resolve().then(()=>{c.contextLost||yze(d)})}function Ace({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},a){if(s)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=kg,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),d=u%(o/r)*r,f=Math.floor(u/(o/r))*r,h=e%4;return fze(r,r,t,n,c,l,i,d,f,h,a)}function wze(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(Ace(s,t,!0))})}),Promise.all(r).then(()=>{Mce(t),t.sdfTexture.needsUpdate=!0})})}function _ze({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;Tce({font:t,sdfGlyphSize:n,text:i},r)}function Sze(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let sT;function M7(t){return sT||(sT=typeof document>"u"?{}:document.createElement("a")),sT.href=t,sT.href}function Mce(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let a=n.image.data;(!a||a.length!==r*i*4)&&(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,a)}}const Eze=yy({name:"Typesetter",dependencies:[dze,uze,Y5e],init(t,e,n){return t(e,n())}}),Cce=yy({name:"Typesetter",dependencies:[Eze],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});Cce.onMainThread;const C7={};function Tze(t){let e=C7[t];return e||(e=C7[t]=new Mo(1,1,t,t).translate(.5,.5,0)),e}const Aze="aTroikaGlyphBounds",P7="aTroikaGlyphIndex",Mze="aTroikaGlyphColor";class Cze extends p5{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Ti,this.boundingBox=new Qi}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Tze(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(Aze,e,4),this.updateAttributeData(P7,n,1),this.updateAttributeData(Mze,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:a,max:o,sin:l,cos:c}=Math,u=i/2,d=i*2,f=Math.abs(n),h=e[0]/f,m=e[2]/f,g=s((h+u)/d)!==s((m+u)/d)?-f:a(l(h)*f,l(m)*f),v=s((h-u)/d)!==s((m-u)/d)?f:o(l(h)*f,l(m)*f),y=s((h+i)/d)!==s((m+i)/d)?f*2:o(f-c(h)*f,f-c(m)*f);r.min.set(g,e[1],n<0?-y:0),r.max.set(v,e[3],n<0?0:y)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(P7).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new Rf(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const Pze=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,Rze=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,Oze=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,Nze=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function Ize(t){const e=vj(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Ve},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Ln(0,0,0,0)},uTroikaClipRect:{value:new Ln(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Ve},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Et},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new yn},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:Pze,vertexTransform:Rze,fragmentDefs:Oze,fragmentColorTransform:Nze,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(Sce,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const T5=new Ss({color:16777215,side:Ba,transparent:!0}),R7=8421504,O7=new It,aT=new J,U3=new J,Ix=[],kze=new J,B3="+x+y";function N7(t){return Array.isArray(t)?t[0]:t}let Pce=()=>{const t=new Wn(new Mo(1,1),T5);return Pce=()=>t,t},Rce=()=>{const t=new Wn(new Mo(1,1,32,1),T5);return Rce=()=>t,t};const Dze={type:"syncstart"},Lze={type:"synccomplete"},Oce=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],jze=Oce.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Nce=class extends Wn{constructor(){const e=new Cze;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=R7,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=B3,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(Dze),Tce({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(Lze),e&&e()})))}onBeforeRender(e,n,r,i,s,a){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return Ize(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=T5.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return N7(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return N7(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:l}=i;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,d=0,f,h,m,g=0,v=0;if(n){let{outlineWidth:w,outlineOffsetX:_,outlineOffsetY:S,outlineBlur:E,outlineOpacity:A}=this;c=this._parsePercent(w)||0,u=Math.max(0,this._parsePercent(E)||0),f=A,g=this._parsePercent(_)||0,v=this._parsePercent(S)||0}else d=Math.max(0,this._parsePercent(this.strokeWidth)||0),d&&(m=this.strokeColor,r.uTroikaStrokeColor.value.set(m??R7),h=this.strokeOpacity,h==null&&(h=1)),f=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(g,v),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=d,r.uTroikaStrokeOpacity.value=h,r.uTroikaFillOpacity.value=f??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let y=this.clipRect;if(y&&Array.isArray(y)&&y.length===4)r.uTroikaClipRect.value.fromArray(y);else{const w=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-w,l[1]-w,l[2]+w,l[3]+w)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new Et;(s!==o._input||typeof s=="object")&&o.set(o._input=s)}let a=this.orientation||B3;if(a!==e._orientation){let o=r.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==B3&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,d,f]=l;aT.set(0,0,0)[u]=c==="-"?1:-1,U3.set(0,0,0)[f]=d==="-"?-1:1,O7.lookAt(kze,aT.cross(U3),U3),o.setFromMatrix4(O7)}else o.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new Ve){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new Ve){return aT.copy(e),this.localPositionToTextCoords(this.worldToLocal(aT),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,a=i?Rce():Pce(),o=a.geometry,{position:l,uv:c}=o.attributes;for(let u=0;u<c.count;u++){let d=s[0]+c.getX(u)*(s[2]-s[0]);const f=s[1]+c.getY(u)*(s[3]-s[1]);let h=0;i&&(h=i-Math.cos(d/i)*i,d=Math.sin(d/i)*i),l.setXYZ(u,d,f,h)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,Ix.length=0,a.raycast(e,Ix);for(let u=0;u<Ix.length;u++)Ix[u].object=this,n.push(Ix[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,jze.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};Oce.forEach(t=>{const e="_private_"+t;Object.defineProperty(Nce.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new Qi;new Et;const I7=T.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:a,onSync:o,...l},c)=>{const u=Sr(({invalidate:m})=>m),[d]=T.useState(()=>new Nce),[f,h]=T.useMemo(()=>{const m=[];let g="";return T.Children.forEach(s,v=>{typeof v=="string"||typeof v=="number"?g+=v:m.push(v)}),[m,g]},[s]);return w5(()=>new Promise(m=>_ze({font:r,characters:a},m)),["troika-text",r,a]),T.useLayoutEffect(()=>void d.sync(()=>{u(),o&&o(d)})),T.useEffect(()=>()=>d.dispose(),[d]),T.createElement("primitive",$u({object:d,ref:c,font:r,text:h,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),f)}),Fze=()=>parseInt(vm.replace(/\D+/g,"")),Ice=Fze();var Uze=Object.defineProperty,Bze=(t,e,n)=>e in t?Uze(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cr=(t,e,n)=>(Bze(t,typeof e!="symbol"?e+"":e,n),n);function z3(t,e,n,r,i){let s;if(t=t.subarray||t.slice?t:t.buffer,n=n.subarray||n.slice?n:n.buffer,t=e?t.subarray?t.subarray(e,i&&e+i):t.slice(e,i&&e+i):t,n.set)n.set(t,r);else for(s=0;s<t.length;s++)n[s+r]=t[s];return n}function zze(t){return t instanceof Float32Array?t:t instanceof un?t.getAttribute("position").array:t.map(e=>{const n=Array.isArray(e);return e instanceof J?[e.x,e.y,e.z]:e instanceof Ve?[e.x,e.y,0]:n&&e.length===3?[e[0],e[1],e[2]]:n&&e.length===2?[e[0],e[1],0]:e}).flat()}class Vze extends un{constructor(){super(),cr(this,"type","MeshLine"),cr(this,"isMeshLine",!0),cr(this,"positions",[]),cr(this,"previous",[]),cr(this,"next",[]),cr(this,"side",[]),cr(this,"width",[]),cr(this,"indices_array",[]),cr(this,"uvs",[]),cr(this,"counters",[]),cr(this,"widthCallback",null),cr(this,"_attributes"),cr(this,"_points",[]),cr(this,"points"),cr(this,"matrixWorld",new It),Object.defineProperties(this,{points:{enumerable:!0,get(){return this._points},set(e){this.setPoints(e,this.widthCallback)}}})}setMatrixWorld(e){this.matrixWorld=e}setPoints(e,n){if(e=zze(e),this._points=e,this.widthCallback=n??null,this.positions=[],this.counters=[],e.length&&e[0]instanceof J)for(let r=0;r<e.length;r++){const i=e[r],s=r/(e.length-1);this.positions.push(i.x,i.y,i.z),this.positions.push(i.x,i.y,i.z),this.counters.push(s),this.counters.push(s)}else for(let r=0;r<e.length;r+=3){const i=r/(e.length-1);this.positions.push(e[r],e[r+1],e[r+2]),this.positions.push(e[r],e[r+1],e[r+2]),this.counters.push(i),this.counters.push(i)}this.process()}compareV3(e,n){const r=e*6,i=n*6;return this.positions[r]===this.positions[i]&&this.positions[r+1]===this.positions[i+1]&&this.positions[r+2]===this.positions[i+2]}copyV3(e){const n=e*6;return[this.positions[n],this.positions[n+1],this.positions[n+2]]}process(){const e=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];let n,r;this.compareV3(0,e-1)?r=this.copyV3(e-2):r=this.copyV3(0),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);for(let i=0;i<e;i++){if(this.side.push(1),this.side.push(-1),this.widthCallback?n=this.widthCallback(i/(e-1)):n=1,this.width.push(n),this.width.push(n),this.uvs.push(i/(e-1),0),this.uvs.push(i/(e-1),1),i<e-1){r=this.copyV3(i),this.previous.push(r[0],r[1],r[2]),this.previous.push(r[0],r[1],r[2]);const s=i*2;this.indices_array.push(s,s+1,s+2),this.indices_array.push(s+2,s+1,s+3)}i>0&&(r=this.copyV3(i),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]))}this.compareV3(e-1,0)?r=this.copyV3(1):r=this.copyV3(e-1),this.next.push(r[0],r[1],r[2]),this.next.push(r[0],r[1],r[2]),!this._attributes||this._attributes.position.count!==this.counters.length?this._attributes={position:new wn(new Float32Array(this.positions),3),previous:new wn(new Float32Array(this.previous),3),next:new wn(new Float32Array(this.next),3),side:new wn(new Float32Array(this.side),1),width:new wn(new Float32Array(this.width),1),uv:new wn(new Float32Array(this.uvs),2),index:new wn(new Uint16Array(this.indices_array),1),counters:new wn(new Float32Array(this.counters),1)}:(this._attributes.position.copyArray(new Float32Array(this.positions)),this._attributes.position.needsUpdate=!0,this._attributes.previous.copyArray(new Float32Array(this.previous)),this._attributes.previous.needsUpdate=!0,this._attributes.next.copyArray(new Float32Array(this.next)),this._attributes.next.needsUpdate=!0,this._attributes.side.copyArray(new Float32Array(this.side)),this._attributes.side.needsUpdate=!0,this._attributes.width.copyArray(new Float32Array(this.width)),this._attributes.width.needsUpdate=!0,this._attributes.uv.copyArray(new Float32Array(this.uvs)),this._attributes.uv.needsUpdate=!0,this._attributes.index.copyArray(new Uint16Array(this.indices_array)),this._attributes.index.needsUpdate=!0),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setAttribute("position",this._attributes.position),this.setAttribute("previous",this._attributes.previous),this.setAttribute("next",this._attributes.next),this.setAttribute("side",this._attributes.side),this.setAttribute("width",this._attributes.width),this.setAttribute("uv",this._attributes.uv),this.setAttribute("counters",this._attributes.counters),this.setIndex(this._attributes.index),this.computeBoundingSphere(),this.computeBoundingBox()}advance({x:e,y:n,z:r}){const i=this._attributes.position.array,s=this._attributes.previous.array,a=this._attributes.next.array,o=i.length;z3(i,0,s,0,o),z3(i,6,i,0,o-6),i[o-6]=e,i[o-5]=n,i[o-4]=r,i[o-3]=e,i[o-2]=n,i[o-1]=r,z3(i,6,a,0,o-6),a[o-6]=e,a[o-5]=n,a[o-4]=r,a[o-3]=e,a[o-2]=n,a[o-1]=r,this._attributes.position.needsUpdate=!0,this._attributes.previous.needsUpdate=!0,this._attributes.next.needsUpdate=!0}}const $ze=`
  #include <common>
  #include <logdepthbuf_pars_vertex>
  #include <fog_pars_vertex>
  #include <clipping_planes_pars_vertex>

  attribute vec3 previous;
  attribute vec3 next;
  attribute float side;
  attribute float width;
  attribute float counters;
  
  uniform vec2 resolution;
  uniform float lineWidth;
  uniform vec3 color;
  uniform float opacity;
  uniform float sizeAttenuation;
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  vec2 fix(vec4 i, float aspect) {
    vec2 res = i.xy / i.w;
    res.x *= aspect;
    return res;
  }
  
  void main() {
    float aspect = resolution.x / resolution.y;
    vColor = vec4(color, opacity);
    vUV = uv;
    vCounters = counters;
  
    mat4 m = projectionMatrix * modelViewMatrix;
    vec4 finalPosition = m * vec4(position, 1.0) * aspect;
    vec4 prevPos = m * vec4(previous, 1.0);
    vec4 nextPos = m * vec4(next, 1.0);
  
    vec2 currentP = fix(finalPosition, aspect);
    vec2 prevP = fix(prevPos, aspect);
    vec2 nextP = fix(nextPos, aspect);
  
    float w = lineWidth * width;
  
    vec2 dir;
    if (nextP == currentP) dir = normalize(currentP - prevP);
    else if (prevP == currentP) dir = normalize(nextP - currentP);
    else {
      vec2 dir1 = normalize(currentP - prevP);
      vec2 dir2 = normalize(nextP - currentP);
      dir = normalize(dir1 + dir2);
  
      vec2 perp = vec2(-dir1.y, dir1.x);
      vec2 miter = vec2(-dir.y, dir.x);
      //w = clamp(w / dot(miter, perp), 0., 4. * lineWidth * width);
    }
  
    //vec2 normal = (cross(vec3(dir, 0.), vec3(0., 0., 1.))).xy;
    vec4 normal = vec4(-dir.y, dir.x, 0., 1.);
    normal.xy *= .5 * w;
    //normal *= projectionMatrix;
    if (sizeAttenuation == 0.) {
      normal.xy *= finalPosition.w;
      normal.xy /= (vec4(resolution, 0., 1.) * projectionMatrix).xy * aspect;
    }
  
    finalPosition.xy += normal.xy * side;
    gl_Position = finalPosition;
    #include <logdepthbuf_vertex>
    #include <fog_vertex>
    vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
    #include <clipping_planes_vertex>
    #include <fog_vertex>
  }
`,Hze=parseInt(vm.replace(/\D+/g,"")),Gze=Hze>=154?"colorspace_fragment":"encodings_fragment",Wze=`
  #include <fog_pars_fragment>
  #include <logdepthbuf_pars_fragment>
  #include <clipping_planes_pars_fragment>
  
  uniform sampler2D map;
  uniform sampler2D alphaMap;
  uniform float useGradient;
  uniform float useMap;
  uniform float useAlphaMap;
  uniform float useDash;
  uniform float dashArray;
  uniform float dashOffset;
  uniform float dashRatio;
  uniform float visibility;
  uniform float alphaTest;
  uniform vec2 repeat;
  uniform vec3 gradient[2];
  
  varying vec2 vUV;
  varying vec4 vColor;
  varying float vCounters;
  
  void main() {
    #include <logdepthbuf_fragment>
    vec4 diffuseColor = vColor;
    if (useGradient == 1.) diffuseColor = vec4(mix(gradient[0], gradient[1], vCounters), 1.0);
    if (useMap == 1.) diffuseColor *= texture2D(map, vUV * repeat);
    if (useAlphaMap == 1.) diffuseColor.a *= texture2D(alphaMap, vUV * repeat).a;
    if (diffuseColor.a < alphaTest) discard;
    if (useDash == 1.) diffuseColor.a *= ceil(mod(vCounters + dashOffset, dashArray) - (dashArray * dashRatio));
    diffuseColor.a *= step(vCounters, visibility);
    #include <clipping_planes_fragment>
    gl_FragColor = diffuseColor;     
    #include <fog_fragment>
    #include <tonemapping_fragment>
    #include <${Gze}>
  }
`;class Xze extends Vi{constructor(e){super({uniforms:{...At.fog,lineWidth:{value:1},map:{value:null},useMap:{value:0},alphaMap:{value:null},useAlphaMap:{value:0},color:{value:new Et(16777215)},gradient:{value:[new Et(16711680),new Et(65280)]},opacity:{value:1},resolution:{value:new Ve(1,1)},sizeAttenuation:{value:1},dashArray:{value:0},dashOffset:{value:0},dashRatio:{value:.5},useDash:{value:0},useGradient:{value:0},visibility:{value:1},alphaTest:{value:0},repeat:{value:new Ve(1,1)}},vertexShader:$ze,fragmentShader:Wze}),cr(this,"lineWidth"),cr(this,"map"),cr(this,"useMap"),cr(this,"alphaMap"),cr(this,"useAlphaMap"),cr(this,"color"),cr(this,"gradient"),cr(this,"resolution"),cr(this,"sizeAttenuation"),cr(this,"dashArray"),cr(this,"dashOffset"),cr(this,"dashRatio"),cr(this,"useDash"),cr(this,"useGradient"),cr(this,"visibility"),cr(this,"repeat"),this.type="MeshLineMaterial",Object.defineProperties(this,{lineWidth:{enumerable:!0,get(){return this.uniforms.lineWidth.value},set(n){this.uniforms.lineWidth.value=n}},map:{enumerable:!0,get(){return this.uniforms.map.value},set(n){this.uniforms.map.value=n}},useMap:{enumerable:!0,get(){return this.uniforms.useMap.value},set(n){this.uniforms.useMap.value=n}},alphaMap:{enumerable:!0,get(){return this.uniforms.alphaMap.value},set(n){this.uniforms.alphaMap.value=n}},useAlphaMap:{enumerable:!0,get(){return this.uniforms.useAlphaMap.value},set(n){this.uniforms.useAlphaMap.value=n}},color:{enumerable:!0,get(){return this.uniforms.color.value},set(n){this.uniforms.color.value=n}},gradient:{enumerable:!0,get(){return this.uniforms.gradient.value},set(n){this.uniforms.gradient.value=n}},opacity:{enumerable:!0,get(){return this.uniforms.opacity.value},set(n){this.uniforms.opacity.value=n}},resolution:{enumerable:!0,get(){return this.uniforms.resolution.value},set(n){this.uniforms.resolution.value.copy(n)}},sizeAttenuation:{enumerable:!0,get(){return this.uniforms.sizeAttenuation.value},set(n){this.uniforms.sizeAttenuation.value=n}},dashArray:{enumerable:!0,get(){return this.uniforms.dashArray.value},set(n){this.uniforms.dashArray.value=n,this.useDash=n!==0?1:0}},dashOffset:{enumerable:!0,get(){return this.uniforms.dashOffset.value},set(n){this.uniforms.dashOffset.value=n}},dashRatio:{enumerable:!0,get(){return this.uniforms.dashRatio.value},set(n){this.uniforms.dashRatio.value=n}},useDash:{enumerable:!0,get(){return this.uniforms.useDash.value},set(n){this.uniforms.useDash.value=n}},useGradient:{enumerable:!0,get(){return this.uniforms.useGradient.value},set(n){this.uniforms.useGradient.value=n}},visibility:{enumerable:!0,get(){return this.uniforms.visibility.value},set(n){this.uniforms.visibility.value=n}},alphaTest:{enumerable:!0,get(){return this.uniforms.alphaTest.value},set(n){this.uniforms.alphaTest.value=n}},repeat:{enumerable:!0,get(){return this.uniforms.repeat.value},set(n){this.uniforms.repeat.value.copy(n)}}}),this.setValues(e)}copy(e){return super.copy(e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.alphaMap=e.alphaMap,this.useAlphaMap=e.useAlphaMap,this.color.copy(e.color),this.gradient=e.gradient,this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.dashArray=e.dashArray,this.dashOffset=e.dashOffset,this.dashRatio=e.dashRatio,this.useDash=e.useDash,this.useGradient=e.useGradient,this.visibility=e.visibility,this.alphaTest=e.alphaTest,this.repeat.copy(e.repeat),this}}const qze=T.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},u)=>{const d=Sr(A=>A.invalidate),f=Sr(A=>A.camera),h=Sr(A=>A.gl),m=Sr(A=>A.events),g=Sr(A=>A.setEvents),v=Sr(A=>A.set),y=Sr(A=>A.get),w=Sr(A=>A.performance),_=e||f,S=r||m.connected||h.domElement,E=T.useMemo(()=>new U5e(_),[_]);return Tr(()=>{E.enabled&&E.update()},-1),T.useEffect(()=>(s&&E.connect(s===!0?S:s),E.connect(S),()=>void E.dispose()),[s,S,n,E,d]),T.useEffect(()=>{const A=P=>{d(),n&&w.regress(),a&&a(P)},M=P=>{o&&o(P)},R=P=>{l&&l(P)};return E.addEventListener("change",A),E.addEventListener("start",M),E.addEventListener("end",R),()=>{E.removeEventListener("start",M),E.removeEventListener("end",R),E.removeEventListener("change",A)}},[a,o,l,E,d,g]),T.useEffect(()=>{if(t){const A=y().controls;return v({controls:E}),()=>v({controls:A})}},[t,E]),T.createElement("primitive",$u({ref:u,object:E,enableDamping:i},c))}),Kze="modulepreload",Yze=function(t){return"/"+t},k7={},Zze=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=Yze(l),l in k7)return;k7[l]=!0;const c=l.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${u}`))return;const d=document.createElement("link");if(d.rel=c?"stylesheet":Kze,c||(d.as="script"),d.crossOrigin="",d.href=l,o&&d.setAttribute("nonce",o),document.head.appendChild(d),c)return new Promise((f,h)=>{d.addEventListener("load",f),d.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};class Jze extends Vi{constructor(e=new Ve){super({uniforms:{inputBuffer:new Ls(null),depthBuffer:new Ls(null),resolution:new Ls(new Ve),texelSize:new Ls(new Ve),halfTexelSize:new Ls(new Ve),kernel:new Ls(0),scale:new Ls(1),cameraNear:new Ls(0),cameraFar:new Ls(1),minDepthThreshold:new Ls(0),maxDepthThreshold:new Ls(1),depthScale:new Ls(0),depthToBlurRatioBias:new Ls(.25)},fragmentShader:`#include <common>
        #include <dithering_pars_fragment>      
        uniform sampler2D inputBuffer;
        uniform sampler2D depthBuffer;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          float depthFactor = 0.0;
          
          #ifdef USE_DEPTH
            vec4 depth = texture2D(depthBuffer, vUv);
            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
            depthFactor *= depthScale;
            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));
          #endif
          
          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));
          gl_FragColor = sum * 0.25 ;

          #include <dithering_fragment>
          #include <tonemapping_fragment>
          #include <${Ice>=154?"colorspace_fragment":"encodings_fragment"}>
        }`,vertexShader:`uniform vec2 texelSize;
        uniform vec2 halfTexelSize;
        uniform float kernel;
        uniform float scale;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          vec2 uv = position.xy * 0.5 + 0.5;
          vUv = uv;

          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;
          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);
          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);
          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);
          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);

          gl_Position = vec4(position.xy, 1.0, 1.0);
        }`,blending:tl,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(e.x,e.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(e,n){this.uniforms.texelSize.value.set(e,n),this.uniforms.halfTexelSize.value.set(e,n).multiplyScalar(.5)}setResolution(e){this.uniforms.resolution.value.copy(e)}}class Qze{constructor({gl:e,resolution:n,width:r=500,height:i=500,minDepthThreshold:s=0,maxDepthThreshold:a=1,depthScale:o=0,depthToBlurRatioBias:l=.25}){this.renderToScreen=!1,this.renderTargetA=new mi(n,n,{minFilter:Nn,magFilter:Nn,stencilBuffer:!1,depthBuffer:!1,type:hi}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new Jze,this.convolutionMaterial.setTexelSize(1/r,1/i),this.convolutionMaterial.setResolution(new Ve(r,i)),this.scene=new dy,this.camera=new uy,this.convolutionMaterial.uniforms.minDepthThreshold.value=s,this.convolutionMaterial.uniforms.maxDepthThreshold.value=a,this.convolutionMaterial.uniforms.depthScale.value=o,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=l,this.convolutionMaterial.defines.USE_DEPTH=o>0;const c=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),u=new Float32Array([0,0,2,0,0,2]),d=new un;d.setAttribute("position",new wn(c,3)),d.setAttribute("uv",new wn(u,2)),this.screen=new Wn(d,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(e,n,r){const i=this.scene,s=this.camera,a=this.renderTargetA,o=this.renderTargetB;let l=this.convolutionMaterial,c=l.uniforms;c.depthBuffer.value=n.depthTexture;const u=l.kernel;let d=n,f,h,m;for(h=0,m=u.length-1;h<m;++h)f=h&1?o:a,c.kernel.value=u[h],c.inputBuffer.value=d.texture,e.setRenderTarget(f),e.render(i,s),d=f;c.kernel.value=u[h],c.inputBuffer.value=d.texture,e.setRenderTarget(this.renderToScreen?null:r),e.render(i,s)}}let eVe=class extends py{constructor(e={}){super(e),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(e)}onBeforeCompile(e){var n;(n=e.defines)!=null&&n.USE_UV||(e.defines.USE_UV=""),e.uniforms.hasBlur=this._hasBlur,e.uniforms.tDiffuse=this._tDiffuse,e.uniforms.tDepth=this._tDepth,e.uniforms.distortionMap=this._distortionMap,e.uniforms.tDiffuseBlur=this._tDiffuseBlur,e.uniforms.textureMatrix=this._textureMatrix,e.uniforms.mirror=this._mirror,e.uniforms.mixBlur=this._mixBlur,e.uniforms.mixStrength=this._blurStrength,e.uniforms.minDepthThreshold=this._minDepthThreshold,e.uniforms.maxDepthThreshold=this._maxDepthThreshold,e.uniforms.depthScale=this._depthScale,e.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,e.uniforms.distortion=this._distortion,e.uniforms.mixContrast=this._mixContrast,e.vertexShader=`
        uniform mat4 textureMatrix;
        varying vec4 my_vUv;
      ${e.vertexShader}`,e.vertexShader=e.vertexShader.replace("#include <project_vertex>",`#include <project_vertex>
        my_vUv = textureMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`),e.fragmentShader=`
        uniform sampler2D tDiffuse;
        uniform sampler2D tDiffuseBlur;
        uniform sampler2D tDepth;
        uniform sampler2D distortionMap;
        uniform float distortion;
        uniform float cameraNear;
			  uniform float cameraFar;
        uniform bool hasBlur;
        uniform float mixBlur;
        uniform float mirror;
        uniform float mixStrength;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float mixContrast;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec4 my_vUv;
        ${e.fragmentShader}`,e.fragmentShader=e.fragmentShader.replace("#include <emissivemap_fragment>",`#include <emissivemap_fragment>

      float distortionFactor = 0.0;
      #ifdef USE_DISTORTION
        distortionFactor = texture2D(distortionMap, vUv).r * distortion;
      #endif

      vec4 new_vUv = my_vUv;
      new_vUv.x += distortionFactor;
      new_vUv.y += distortionFactor;

      vec4 base = texture2DProj(tDiffuse, new_vUv);
      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);

      vec4 merge = base;

      #ifdef USE_NORMALMAP
        vec2 normal_uv = vec2(0.0);
        vec4 normalColor = texture2D(normalMap, vUv * normalScale);
        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );
        vec3 coord = new_vUv.xyz / new_vUv.w;
        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;
        vec4 base_normal = texture2D(tDiffuse, normal_uv);
        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);
        merge = base_normal;
        blur = blur_normal;
      #endif

      float depthFactor = 0.0001;
      float blurFactor = 0.0;

      #ifdef USE_DEPTH
        vec4 depth = texture2DProj(tDepth, new_vUv);
        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
        depthFactor *= depthScale;
        depthFactor = max(0.0001, min(1.0, depthFactor));

        #ifdef USE_BLUR
          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);
          merge = merge * min(1.0, depthFactor + 0.5);
        #else
          merge = merge * depthFactor;
        #endif

      #endif

      float reflectorRoughnessFactor = roughness;
      #ifdef USE_ROUGHNESSMAP
        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );
        reflectorRoughnessFactor *= reflectorTexelRoughness.g;
      #endif

      #ifdef USE_BLUR
        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);
        merge = mix(merge, blur, blurFactor);
      #endif

      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);
      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;
      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;
      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;

      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);
      `)}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(e){this._tDiffuse.value=e}get tDepth(){return this._tDepth.value}set tDepth(e){this._tDepth.value=e}get distortionMap(){return this._distortionMap.value}set distortionMap(e){this._distortionMap.value=e}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(e){this._tDiffuseBlur.value=e}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(e){this._textureMatrix.value=e}get hasBlur(){return this._hasBlur.value}set hasBlur(e){this._hasBlur.value=e}get mirror(){return this._mirror.value}set mirror(e){this._mirror.value=e}get mixBlur(){return this._mixBlur.value}set mixBlur(e){this._mixBlur.value=e}get mixStrength(){return this._blurStrength.value}set mixStrength(e){this._blurStrength.value=e}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(e){this._minDepthThreshold.value=e}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(e){this._maxDepthThreshold.value=e}get depthScale(){return this._depthScale.value}set depthScale(e){this._depthScale.value=e}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(e){this._depthToBlurRatioBias.value=e}get distortion(){return this._distortion.value}set distortion(e){this._distortion.value=e}get mixContrast(){return this._mixContrast.value}set mixContrast(e){this._mixContrast.value=e}};const tVe=T.forwardRef(({mixBlur:t=0,mixStrength:e=1,resolution:n=256,blur:r=[0,0],minDepthThreshold:i=.9,maxDepthThreshold:s=1,depthScale:a=0,depthToBlurRatioBias:o=.25,mirror:l=0,distortion:c=1,mixContrast:u=1,distortionMap:d,reflectorOffset:f=0,...h},m)=>{cR({MeshReflectorMaterialImpl:eVe});const g=Sr(({gl:Q})=>Q),v=Sr(({camera:Q})=>Q),y=Sr(({scene:Q})=>Q);r=Array.isArray(r)?r:[r,r];const w=r[0]+r[1]>0,_=r[0],S=r[1],E=T.useRef(null);T.useImperativeHandle(m,()=>E.current,[]);const[A]=T.useState(()=>new Ua),[M]=T.useState(()=>new J),[R]=T.useState(()=>new J),[P]=T.useState(()=>new J),[O]=T.useState(()=>new It),[k]=T.useState(()=>new J(0,0,-1)),[I]=T.useState(()=>new Ln),[F]=T.useState(()=>new J),[L]=T.useState(()=>new J),[V]=T.useState(()=>new Ln),[z]=T.useState(()=>new It),[K]=T.useState(()=>new Ur),j=T.useCallback(()=>{var Q;const oe=E.current.parent||((Q=E.current)==null||(Q=Q.__r3f.parent)==null?void 0:Q.object);if(!oe||(R.setFromMatrixPosition(oe.matrixWorld),P.setFromMatrixPosition(v.matrixWorld),O.extractRotation(oe.matrixWorld),M.set(0,0,1),M.applyMatrix4(O),R.addScaledVector(M,f),F.subVectors(R,P),F.dot(M)>0))return;F.reflect(M).negate(),F.add(R),O.extractRotation(v.matrixWorld),k.set(0,0,-1),k.applyMatrix4(O),k.add(P),L.subVectors(R,k),L.reflect(M).negate(),L.add(R),K.position.copy(F),K.up.set(0,1,0),K.up.applyMatrix4(O),K.up.reflect(M),K.lookAt(L),K.far=v.far,K.updateMatrixWorld(),K.projectionMatrix.copy(v.projectionMatrix),z.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),z.multiply(K.projectionMatrix),z.multiply(K.matrixWorldInverse),z.multiply(oe.matrixWorld),A.setFromNormalAndCoplanarPoint(M,R),A.applyMatrix4(K.matrixWorldInverse),I.set(A.normal.x,A.normal.y,A.normal.z,A.constant);const de=K.projectionMatrix;V.x=(Math.sign(I.x)+de.elements[8])/de.elements[0],V.y=(Math.sign(I.y)+de.elements[9])/de.elements[5],V.z=-1,V.w=(1+de.elements[10])/de.elements[14],I.multiplyScalar(2/I.dot(V)),de.elements[2]=I.x,de.elements[6]=I.y,de.elements[10]=I.z+1,de.elements[14]=I.w},[v,f]),[U,$,G,X]=T.useMemo(()=>{const Q={minFilter:Nn,magFilter:Nn,type:hi},oe=new mi(n,n,Q);oe.depthBuffer=!0,oe.depthTexture=new a_(n,n),oe.depthTexture.format=Yp,oe.depthTexture.type=Kp;const de=new mi(n,n,Q),ae=new Qze({gl:g,resolution:n,width:_,height:S,minDepthThreshold:i,maxDepthThreshold:s,depthScale:a,depthToBlurRatioBias:o}),ne={mirror:l,textureMatrix:z,mixBlur:t,tDiffuse:oe.texture,tDepth:oe.depthTexture,tDiffuseBlur:de.texture,hasBlur:w,mixStrength:e,minDepthThreshold:i,maxDepthThreshold:s,depthScale:a,depthToBlurRatioBias:o,distortion:c,distortionMap:d,mixContrast:u,"defines-USE_BLUR":w?"":void 0,"defines-USE_DEPTH":a>0?"":void 0,"defines-USE_DISTORTION":d?"":void 0};return[oe,de,ae,ne]},[g,_,S,z,n,l,w,t,e,i,s,a,o,c,d,u]);return Tr(()=>{var Q;const oe=E.current.parent||((Q=E.current)==null||(Q=Q.__r3f.parent)==null?void 0:Q.object);if(!oe)return;oe.visible=!1;const de=g.xr.enabled,ae=g.shadowMap.autoUpdate;j(),g.xr.enabled=!1,g.shadowMap.autoUpdate=!1,g.setRenderTarget(U),g.state.buffers.depth.setMask(!0),g.autoClear||g.clear(),g.render(y,K),w&&G.render(g,U,$),g.xr.enabled=de,g.shadowMap.autoUpdate=ae,oe.visible=!0,g.setRenderTarget(null)}),T.createElement("meshReflectorMaterialImpl",$u({attach:"material",key:"key"+X["defines-USE_BLUR"]+X["defines-USE_DEPTH"]+X["defines-USE_DISTORTION"],ref:E},X,h))}),V3=T.forwardRef(({children:t,enabled:e=!0,speed:n=1,rotationIntensity:r=1,floatIntensity:i=1,floatingRange:s=[-.1,.1],autoInvalidate:a=!1,...o},l)=>{const c=T.useRef(null);T.useImperativeHandle(l,()=>c.current,[]);const u=T.useRef(Math.random()*1e4);return Tr(d=>{var f,h;if(!e||n===0)return;a&&d.invalidate();const m=u.current+d.clock.elapsedTime;c.current.rotation.x=Math.cos(m/4*n)/8*r,c.current.rotation.y=Math.sin(m/4*n)/8*r,c.current.rotation.z=Math.sin(m/4*n)/20*r;let g=Math.sin(m/4*n)/10;g=r_.mapLinear(g,-.1,.1,(f=s==null?void 0:s[0])!==null&&f!==void 0?f:-.1,(h=s==null?void 0:s[1])!==null&&h!==void 0?h:.1),c.current.position.y=g*i,c.current.updateMatrix()}),T.createElement("group",o,T.createElement("group",{ref:c,matrixAutoUpdate:!1},t))}),kce=(t,e,n)=>{let r;switch(t){case ba:r=new Uint8ClampedArray(e*n*4);break;case hi:r=new Uint16Array(e*n*4);break;case Fc:r=new Uint32Array(e*n*4);break;case PP:r=new Int8Array(e*n*4);break;case RP:r=new Int16Array(e*n*4);break;case e_:r=new Int32Array(e*n*4);break;case ti:r=new Float32Array(e*n*4);break;default:throw new Error("Unsupported data type")}return r};let oT;const nVe=(t,e,n,r)=>{if(oT!==void 0)return oT;const i=new mi(1,1,r);e.setRenderTarget(i);const s=new Wn(new Mo,new Ss({color:16777215}));e.render(s,n),e.setRenderTarget(null);const a=kce(t,i.width,i.height);return e.readRenderTargetPixels(i,0,0,i.width,i.height,a),i.dispose(),s.geometry.dispose(),s.material.dispose(),oT=a[0]!==0,oT};class A5{constructor(e){it(this,"_renderer");it(this,"_rendererIsDisposable",!1);it(this,"_material");it(this,"_scene");it(this,"_camera");it(this,"_quad");it(this,"_renderTarget");it(this,"_width");it(this,"_height");it(this,"_type");it(this,"_colorSpace");it(this,"_supportsReadPixels",!0);it(this,"render",()=>{this._renderer.setRenderTarget(this._renderTarget);try{this._renderer.render(this._scene,this._camera)}catch(e){throw this._renderer.setRenderTarget(null),e}this._renderer.setRenderTarget(null)});var r,i,s,a,o,l,c,u,d,f,h,m,g,v,y,w;this._width=e.width,this._height=e.height,this._type=e.type,this._colorSpace=e.colorSpace;const n={format:Si,depthBuffer:!1,stencilBuffer:!1,type:this._type,colorSpace:this._colorSpace,anisotropy:((r=e.renderTargetOptions)==null?void 0:r.anisotropy)!==void 0?(i=e.renderTargetOptions)==null?void 0:i.anisotropy:1,generateMipmaps:((s=e.renderTargetOptions)==null?void 0:s.generateMipmaps)!==void 0?(a=e.renderTargetOptions)==null?void 0:a.generateMipmaps:!1,magFilter:((o=e.renderTargetOptions)==null?void 0:o.magFilter)!==void 0?(l=e.renderTargetOptions)==null?void 0:l.magFilter:Nn,minFilter:((c=e.renderTargetOptions)==null?void 0:c.minFilter)!==void 0?(u=e.renderTargetOptions)==null?void 0:u.minFilter:Nn,samples:((d=e.renderTargetOptions)==null?void 0:d.samples)!==void 0?(f=e.renderTargetOptions)==null?void 0:f.samples:void 0,wrapS:((h=e.renderTargetOptions)==null?void 0:h.wrapS)!==void 0?(m=e.renderTargetOptions)==null?void 0:m.wrapS:ei,wrapT:((g=e.renderTargetOptions)==null?void 0:g.wrapT)!==void 0?(v=e.renderTargetOptions)==null?void 0:v.wrapT:ei};if(this._material=e.material,e.renderer?this._renderer=e.renderer:(this._renderer=A5.instantiateRenderer(),this._rendererIsDisposable=!0),this._scene=new dy,this._camera=new rl,this._camera.position.set(0,0,10),this._camera.left=-.5,this._camera.right=.5,this._camera.top=.5,this._camera.bottom=-.5,this._camera.updateProjectionMatrix(),!nVe(this._type,this._renderer,this._camera,n)){let _;switch(this._type){case hi:_=this._renderer.extensions.has("EXT_color_buffer_float")?ti:void 0;break}_!==void 0?(console.warn(`This browser does not support reading pixels from ${this._type} RenderTargets, switching to ${ti}`),this._type=_):(this._supportsReadPixels=!1,console.warn("This browser dos not support toArray or toDataTexture, calls to those methods will result in an error thrown"))}this._quad=new Wn(new Mo,this._material),this._quad.geometry.computeBoundingBox(),this._scene.add(this._quad),this._renderTarget=new mi(this.width,this.height,n),this._renderTarget.texture.mapping=((y=e.renderTargetOptions)==null?void 0:y.mapping)!==void 0?(w=e.renderTargetOptions)==null?void 0:w.mapping:Tf}static instantiateRenderer(){const e=new b5;return e.setSize(128,128),e}toArray(){if(!this._supportsReadPixels)throw new Error("Can't read pixels in this browser");const e=kce(this._type,this._width,this._height);return this._renderer.readRenderTargetPixels(this._renderTarget,0,0,this._width,this._height,e),e}toDataTexture(e){const n=new nl(this.toArray(),this.width,this.height,Si,this._type,(e==null?void 0:e.mapping)||Tf,(e==null?void 0:e.wrapS)||ei,(e==null?void 0:e.wrapT)||ei,(e==null?void 0:e.magFilter)||Nn,(e==null?void 0:e.minFilter)||Nn,(e==null?void 0:e.anisotropy)||1,es);return n.generateMipmaps=(e==null?void 0:e.generateMipmaps)!==void 0?e==null?void 0:e.generateMipmaps:!1,n}disposeOnDemandRenderer(){this._renderer.setRenderTarget(null),this._rendererIsDisposable&&(this._renderer.dispose(),this._renderer.forceContextLoss())}dispose(e){this.disposeOnDemandRenderer(),e&&this.renderTarget.dispose(),this.material instanceof Vi&&Object.values(this.material.uniforms).forEach(n=>{n.value instanceof ar&&n.value.dispose()}),Object.values(this.material).forEach(n=>{n instanceof ar&&n.dispose()}),this.material.dispose(),this._quad.geometry.dispose()}get width(){return this._width}set width(e){this._width=e,this._renderTarget.setSize(this._width,this._height)}get height(){return this._height}set height(e){this._height=e,this._renderTarget.setSize(this._width,this._height)}get renderer(){return this._renderer}get renderTarget(){return this._renderTarget}set renderTarget(e){this._renderTarget=e,this._width=e.width,this._height=e.height}get material(){return this._material}get type(){return this._type}get colorSpace(){return this._colorSpace}}class Dce extends Error{}class Lce extends Error{}const kx=(t,e,n)=>{const r=new RegExp(`${e}="([^"]*)"`,"i").exec(t);if(r)return r[1];const i=new RegExp(`<${e}[^>]*>([\\s\\S]*?)</${e}>`,"i").exec(t);if(i){const s=i[1].match(/<rdf:li>([^<]*)<\/rdf:li>/g);return s&&s.length===3?s.map(a=>a.replace(/<\/?rdf:li>/g,"")):i[1].trim()}if(n!==void 0)return n;throw new Error(`Can't find ${e} in gainmap metadata`)},rVe=t=>{let e;typeof TextDecoder<"u"?e=new TextDecoder().decode(t):e=t.toString();let n=e.indexOf("<x:xmpmeta");for(;n!==-1;){const r=e.indexOf("x:xmpmeta>",n),i=e.slice(n,r+10);try{const s=kx(i,"hdrgm:GainMapMin","0"),a=kx(i,"hdrgm:GainMapMax"),o=kx(i,"hdrgm:Gamma","1"),l=kx(i,"hdrgm:OffsetSDR","0.015625"),c=kx(i,"hdrgm:OffsetHDR","0.015625"),u=/hdrgm:HDRCapacityMin="([^"]*)"/.exec(i),d=u?u[1]:"0",f=/hdrgm:HDRCapacityMax="([^"]*)"/.exec(i);if(!f)throw new Error("Incomplete gainmap metadata");const h=f[1];return{gainMapMin:Array.isArray(s)?s.map(m=>parseFloat(m)):[parseFloat(s),parseFloat(s),parseFloat(s)],gainMapMax:Array.isArray(a)?a.map(m=>parseFloat(m)):[parseFloat(a),parseFloat(a),parseFloat(a)],gamma:Array.isArray(o)?o.map(m=>parseFloat(m)):[parseFloat(o),parseFloat(o),parseFloat(o)],offsetSdr:Array.isArray(l)?l.map(m=>parseFloat(m)):[parseFloat(l),parseFloat(l),parseFloat(l)],offsetHdr:Array.isArray(c)?c.map(m=>parseFloat(m)):[parseFloat(c),parseFloat(c),parseFloat(c)],hdrCapacityMin:parseFloat(d),hdrCapacityMax:parseFloat(h)}}catch{}n=e.indexOf("<x:xmpmeta",r)}};class iVe{constructor(e){it(this,"options");this.options={debug:e&&e.debug!==void 0?e.debug:!1,extractFII:e&&e.extractFII!==void 0?e.extractFII:!0,extractNonFII:e&&e.extractNonFII!==void 0?e.extractNonFII:!0}}extract(e){return new Promise((n,r)=>{const i=this.options.debug,s=new DataView(e.buffer);if(s.getUint16(0)!==65496){r(new Error("Not a valid jpeg"));return}const a=s.byteLength;let o=2,l=0,c;for(;o<a;){if(++l>250){r(new Error(`Found no marker after ${l} loops `));return}if(s.getUint8(o)!==255){r(new Error(`Not a valid marker at offset 0x${o.toString(16)}, found: 0x${s.getUint8(o).toString(16)}`));return}if(c=s.getUint8(o+1),i&&console.log(`Marker: ${c.toString(16)}`),c===226){i&&console.log("Found APP2 marker (0xffe2)");const u=o+4;if(s.getUint32(u)===1297106432){const d=u+4;let f;if(s.getUint16(d)===18761)f=!1;else if(s.getUint16(d)===19789)f=!0;else{r(new Error("No valid endianness marker found in TIFF header"));return}if(s.getUint16(d+2,!f)!==42){r(new Error("Not valid TIFF data! (no 0x002A marker)"));return}const h=s.getUint32(d+4,!f);if(h<8){r(new Error("Not valid TIFF data! (First offset less than 8)"));return}const m=d+h,g=s.getUint16(m,!f),v=m+2;let y=0;for(let E=v;E<v+12*g;E+=12)s.getUint16(E,!f)===45057&&(y=s.getUint32(E+8,!f));const _=m+2+g*12+4,S=[];for(let E=_;E<_+y*16;E+=16){const A={MPType:s.getUint32(E,!f),size:s.getUint32(E+4,!f),dataOffset:s.getUint32(E+8,!f),dependantImages:s.getUint32(E+12,!f),start:-1,end:-1,isFII:!1};A.dataOffset?(A.start=d+A.dataOffset,A.isFII=!1):(A.start=0,A.isFII=!0),A.end=A.start+A.size,S.push(A)}if(this.options.extractNonFII&&S.length){const E=new Blob([s]),A=[];for(const M of S){if(M.isFII&&!this.options.extractFII)continue;const R=E.slice(M.start,M.end+1,"image/jpeg");A.push(R)}n(A)}}}o+=2+s.getUint16(o+2)}})}}const sVe=async t=>{const e=rVe(t);if(!e)throw new Lce("Gain map XMP metadata not found");const r=await new iVe({extractFII:!0,extractNonFII:!0}).extract(t);if(r.length!==2)throw new Dce("Gain map recovery image not found");return{sdr:new Uint8Array(await r[0].arrayBuffer()),gainMap:new Uint8Array(await r[1].arrayBuffer()),metadata:e}},D7=t=>new Promise((e,n)=>{const r=document.createElement("img");r.onload=()=>{e(r)},r.onerror=i=>{n(i)},r.src=URL.createObjectURL(t)});class aVe extends Ys{constructor(n,r){super(r);it(this,"_renderer");it(this,"_renderTargetOptions");it(this,"_internalLoadingManager");it(this,"_config");this._config=n,n.renderer&&(this._renderer=n.renderer),this._internalLoadingManager=new sR}setRenderer(n){return this._renderer=n,this}setRenderTargetOptions(n){return this._renderTargetOptions=n,this}prepareQuadRenderer(){this._renderer||console.warn("WARNING: A Renderer was not passed to this Loader constructor or in setRenderer, the result of this Loader will need to be converted to a Data Texture with toDataTexture() before you can use it in your renderer.");const n=this._config.createMaterial({gainMapMax:[1,1,1],gainMapMin:[0,0,0],gamma:[1,1,1],offsetHdr:[1,1,1],offsetSdr:[1,1,1],hdrCapacityMax:1,hdrCapacityMin:0,maxDisplayBoost:1,gainMap:new ar,sdr:new ar});return this._config.createQuadRenderer({width:16,height:16,type:hi,colorSpace:es,material:n,renderer:this._renderer,renderTargetOptions:this._renderTargetOptions})}async processImages(n,r,i){const s=r?new Blob([r],{type:"image/jpeg"}):void 0,a=new Blob([n],{type:"image/jpeg"});let o,l,c=!1;if(typeof createImageBitmap>"u"){const u=await Promise.all([s?D7(s):Promise.resolve(void 0),D7(a)]);l=u[0],o=u[1],c=i==="flipY"}else{const u=await Promise.all([s?createImageBitmap(s,{imageOrientation:i||"flipY"}):Promise.resolve(void 0),createImageBitmap(a,{imageOrientation:i||"flipY"})]);l=u[0],o=u[1]}return{sdrImage:o,gainMapImage:l,needsFlip:c}}createTextures(n,r,i){const s=new ar(r||new ImageData(2,2),Tf,ei,ei,Nn,JL,Si,ba,1,es);s.flipY=i,s.needsUpdate=!0;const a=new ar(n,Tf,ei,ei,Nn,JL,Si,ba,1,wi);return a.flipY=i,a.needsUpdate=!0,{gainMap:s,sdr:a}}updateQuadRenderer(n,r,i,s,a){n.width=r.width,n.height=r.height,n.material.gainMap=i,n.material.sdr=s,n.material.gainMapMin=a.gainMapMin,n.material.gainMapMax=a.gainMapMax,n.material.offsetHdr=a.offsetHdr,n.material.offsetSdr=a.offsetSdr,n.material.gamma=a.gamma,n.material.hdrCapacityMin=a.hdrCapacityMin,n.material.hdrCapacityMax=a.hdrCapacityMax,n.material.maxDisplayBoost=Math.pow(2,a.hdrCapacityMax),n.material.needsUpdate=!0}}const oVe=`
varying vec2 vUv;

void main() {
  vUv = uv;
  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);
}
`,lVe=`
// min half float value
#define HALF_FLOAT_MIN vec3( -65504, -65504, -65504 )
// max half float value
#define HALF_FLOAT_MAX vec3( 65504, 65504, 65504 )

uniform sampler2D sdr;
uniform sampler2D gainMap;
uniform vec3 gamma;
uniform vec3 offsetHdr;
uniform vec3 offsetSdr;
uniform vec3 gainMapMin;
uniform vec3 gainMapMax;
uniform float weightFactor;

varying vec2 vUv;

void main() {
  vec3 rgb = texture2D( sdr, vUv ).rgb;
  vec3 recovery = texture2D( gainMap, vUv ).rgb;
  vec3 logRecovery = pow( recovery, gamma );
  vec3 logBoost = gainMapMin * ( 1.0 - logRecovery ) + gainMapMax * logRecovery;
  vec3 hdrColor = (rgb + offsetSdr) * exp2( logBoost * weightFactor ) - offsetHdr;
  vec3 clampedHdrColor = max( HALF_FLOAT_MIN, min( HALF_FLOAT_MAX, hdrColor ));
  gl_FragColor = vec4( clampedHdrColor , 1.0 );
}
`;class cVe extends Vi{constructor({gamma:n,offsetHdr:r,offsetSdr:i,gainMapMin:s,gainMapMax:a,maxDisplayBoost:o,hdrCapacityMin:l,hdrCapacityMax:c,sdr:u,gainMap:d}){super({name:"GainMapDecoderMaterial",vertexShader:oVe,fragmentShader:lVe,uniforms:{sdr:{value:u},gainMap:{value:d},gamma:{value:new J(1/n[0],1/n[1],1/n[2])},offsetHdr:{value:new J().fromArray(r)},offsetSdr:{value:new J().fromArray(i)},gainMapMin:{value:new J().fromArray(s)},gainMapMax:{value:new J().fromArray(a)},weightFactor:{value:(Math.log2(o)-l)/(c-l)}},blending:tl,depthTest:!1,depthWrite:!1});it(this,"_maxDisplayBoost");it(this,"_hdrCapacityMin");it(this,"_hdrCapacityMax");this._maxDisplayBoost=o,this._hdrCapacityMin=l,this._hdrCapacityMax=c,this.needsUpdate=!0,this.uniformsNeedUpdate=!0}get sdr(){return this.uniforms.sdr.value}set sdr(n){this.uniforms.sdr.value=n}get gainMap(){return this.uniforms.gainMap.value}set gainMap(n){this.uniforms.gainMap.value=n}get offsetHdr(){return this.uniforms.offsetHdr.value.toArray()}set offsetHdr(n){this.uniforms.offsetHdr.value.fromArray(n)}get offsetSdr(){return this.uniforms.offsetSdr.value.toArray()}set offsetSdr(n){this.uniforms.offsetSdr.value.fromArray(n)}get gainMapMin(){return this.uniforms.gainMapMin.value.toArray()}set gainMapMin(n){this.uniforms.gainMapMin.value.fromArray(n)}get gainMapMax(){return this.uniforms.gainMapMax.value.toArray()}set gainMapMax(n){this.uniforms.gainMapMax.value.fromArray(n)}get gamma(){const n=this.uniforms.gamma.value;return[1/n.x,1/n.y,1/n.z]}set gamma(n){const r=this.uniforms.gamma.value;r.x=1/n[0],r.y=1/n[1],r.z=1/n[2]}get hdrCapacityMin(){return this._hdrCapacityMin}set hdrCapacityMin(n){this._hdrCapacityMin=n,this.calculateWeight()}get hdrCapacityMax(){return this._hdrCapacityMax}set hdrCapacityMax(n){this._hdrCapacityMax=n,this.calculateWeight()}get maxDisplayBoost(){return this._maxDisplayBoost}set maxDisplayBoost(n){this._maxDisplayBoost=Math.max(1,Math.min(65504,n)),this.calculateWeight()}calculateWeight(){const n=(Math.log2(this._maxDisplayBoost)-this._hdrCapacityMin)/(this._hdrCapacityMax-this._hdrCapacityMin);this.uniforms.weightFactor.value=Math.max(0,Math.min(1,n))}}class jce extends aVe{constructor(e,n){super({renderer:e,createMaterial:r=>new cVe(r),createQuadRenderer:r=>new A5(r)},n)}async render(e,n,r,i){const{sdrImage:s,gainMapImage:a,needsFlip:o}=await this.processImages(r,i,"flipY"),{gainMap:l,sdr:c}=this.createTextures(s,a,o);this.updateQuadRenderer(e,s,l,c,n),e.render()}}class uVe extends jce{load([e,n,r],i,s,a){const o=this.prepareQuadRenderer();let l,c,u;const d=async()=>{if(l&&c&&u){try{await this.render(o,u,l,c)}catch(P){this.manager.itemError(e),this.manager.itemError(n),this.manager.itemError(r),typeof a=="function"&&a(P),o.disposeOnDemandRenderer();return}typeof i=="function"&&i(o),this.manager.itemEnd(e),this.manager.itemEnd(n),this.manager.itemEnd(r),o.disposeOnDemandRenderer()}};let f=!0,h=0,m=0,g=!0,v=0,y=0,w=!0,_=0,S=0;const E=()=>{if(typeof s=="function"){const P=h+v+_,O=m+y+S,k=f&&g&&w;s(new ProgressEvent("progress",{lengthComputable:k,loaded:O,total:P}))}};this.manager.itemStart(e),this.manager.itemStart(n),this.manager.itemStart(r);const A=new xa(this._internalLoadingManager);A.setResponseType("arraybuffer"),A.setRequestHeader(this.requestHeader),A.setPath(this.path),A.setWithCredentials(this.withCredentials),A.load(e,async P=>{if(typeof P=="string")throw new Error("Invalid sdr buffer");l=P,await d()},P=>{f=P.lengthComputable,m=P.loaded,h=P.total,E()},P=>{this.manager.itemError(e),typeof a=="function"&&a(P)});const M=new xa(this._internalLoadingManager);M.setResponseType("arraybuffer"),M.setRequestHeader(this.requestHeader),M.setPath(this.path),M.setWithCredentials(this.withCredentials),M.load(n,async P=>{if(typeof P=="string")throw new Error("Invalid gainmap buffer");c=P,await d()},P=>{g=P.lengthComputable,y=P.loaded,v=P.total,E()},P=>{this.manager.itemError(n),typeof a=="function"&&a(P)});const R=new xa(this._internalLoadingManager);return R.setRequestHeader(this.requestHeader),R.setPath(this.path),R.setWithCredentials(this.withCredentials),R.load(r,async P=>{if(typeof P!="string")throw new Error("Invalid metadata string");u=JSON.parse(P),await d()},P=>{w=P.lengthComputable,S=P.loaded,_=P.total,E()},P=>{this.manager.itemError(r),typeof a=="function"&&a(P)}),o}}class dVe extends jce{load(e,n,r,i){const s=this.prepareQuadRenderer(),a=new xa(this._internalLoadingManager);return a.setResponseType("arraybuffer"),a.setRequestHeader(this.requestHeader),a.setPath(this.path),a.setWithCredentials(this.withCredentials),this.manager.itemStart(e),a.load(e,async o=>{if(typeof o=="string")throw new Error("Invalid buffer, received [string], was expecting [ArrayBuffer]");const l=new Uint8Array(o);let c,u,d;try{const f=await sVe(l);c=f.sdr,u=f.gainMap,d=f.metadata}catch(f){if(f instanceof Lce||f instanceof Dce)console.warn(`Failure to reconstruct an HDR image from ${e}: Gain map metadata not found in the file, HDRJPGLoader will render the SDR jpeg`),d={gainMapMin:[0,0,0],gainMapMax:[1,1,1],gamma:[1,1,1],hdrCapacityMin:0,hdrCapacityMax:1,offsetHdr:[0,0,0],offsetSdr:[0,0,0]},c=l;else throw f}try{await this.render(s,d,c.buffer,u==null?void 0:u.buffer)}catch(f){this.manager.itemError(e),typeof i=="function"&&i(f),s.disposeOnDemandRenderer();return}typeof n=="function"&&n(s),this.manager.itemEnd(e),s.disposeOnDemandRenderer()},r,o=>{this.manager.itemError(e),typeof i=="function"&&i(o)}),s}}const Xw={apartment:"lebombo_1k.hdr",city:"potsdamer_platz_1k.hdr",dawn:"kiara_1_dawn_1k.hdr",forest:"forest_slope_1k.hdr",lobby:"st_fagans_interior_1k.hdr",night:"dikhololo_night_1k.hdr",park:"rooitou_park_1k.hdr",studio:"studio_small_03_1k.hdr",sunset:"venice_sunset_1k.hdr",warehouse:"empty_warehouse_01_1k.hdr"},Fce="https://raw.githack.com/pmndrs/drei-assets/456060a26bbeb8fdf79326f224b6d99b8bcce736/hdri/",Sv=t=>Array.isArray(t),M5=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"];function hR({files:t=M5,path:e="",preset:n=void 0,colorSpace:r=void 0,extensions:i}={}){n&&(C5(n),t=Xw[n],e=Fce);const s=Sv(t),{extension:a,isCubemap:o}=P5(t),l=R5(a);if(!l)throw new Error("useEnvironment: Unrecognized file extension: "+t);const c=Sr(h=>h.gl);T.useLayoutEffect(()=>{if(a!=="webp"&&a!=="jpg"&&a!=="jpeg")return;function h(){tm.clear(l,s?[t]:t)}c.domElement.addEventListener("webglcontextlost",h,{once:!0})},[t,c.domElement]);const u=tm(l,s?[t]:t,h=>{(a==="webp"||a==="jpg"||a==="jpeg")&&h.setRenderer(c),h.setPath==null||h.setPath(e),i&&i(h)});let d=s?u[0]:u;if(a==="jpg"||a==="jpeg"||a==="webp"){var f;d=(f=d.renderTarget)==null?void 0:f.texture}return d.mapping=o?jc:i0,d.colorSpace=r??(o?"srgb":"srgb-linear"),d}const fVe={files:M5,path:"",preset:void 0,extensions:void 0};hR.preload=t=>{const e={...fVe,...t};let{files:n,path:r=""}=e;const{preset:i,extensions:s}=e;i&&(C5(i),n=Xw[i],r=Fce);const{extension:a}=P5(n);if(a==="webp"||a==="jpg"||a==="jpeg")throw new Error("useEnvironment: Preloading gainmaps is not supported");const o=R5(a);if(!o)throw new Error("useEnvironment: Unrecognized file extension: "+n);tm.preload(o,Sv(n)?[n]:n,l=>{l.setPath==null||l.setPath(r),s&&s(l)})};const hVe={files:M5,preset:void 0};hR.clear=t=>{const e={...hVe,...t};let{files:n}=e;const{preset:r}=e;r&&(C5(r),n=Xw[r]);const{extension:i}=P5(n),s=R5(i);if(!s)throw new Error("useEnvironment: Unrecognized file extension: "+n);tm.clear(s,Sv(n)?[n]:n)};function C5(t){if(!(t in Xw))throw new Error("Preset must be one of: "+Object.keys(Xw).join(", "))}function P5(t){var e;const n=Sv(t)&&t.length===6,r=Sv(t)&&t.length===3&&t.some(a=>a.endsWith("json")),i=Sv(t)?t[0]:t;return{extension:n?"cube":r?"webp":i.startsWith("data:application/exr")?"exr":i.startsWith("data:application/hdr")?"hdr":i.startsWith("data:image/jpeg")?"jpg":(e=i.split(".").pop())==null||(e=e.split("?"))==null||(e=e.shift())==null?void 0:e.toLowerCase(),isCubemap:n,isGainmap:r}}function R5(t){return t==="cube"?Sle:t==="hdr"?V5e:t==="exr"?$5e:t==="jpg"||t==="jpeg"?dVe:t==="webp"?uVe:null}const pVe=t=>t.current&&t.current.isScene,mVe=t=>pVe(t)?t.current:t;function O5(t,e,n,r,i={}){var s,a,o,l;i={backgroundBlurriness:0,backgroundIntensity:1,backgroundRotation:[0,0,0],environmentIntensity:1,environmentRotation:[0,0,0],...i};const c=mVe(e||n),u=c.background,d=c.environment,f={backgroundBlurriness:c.backgroundBlurriness,backgroundIntensity:c.backgroundIntensity,backgroundRotation:(s=(a=c.backgroundRotation)==null||a.clone==null?void 0:a.clone())!==null&&s!==void 0?s:[0,0,0],environmentIntensity:c.environmentIntensity,environmentRotation:(o=(l=c.environmentRotation)==null||l.clone==null?void 0:l.clone())!==null&&o!==void 0?o:[0,0,0]};return t!=="only"&&(c.environment=r),t&&(c.background=r),Nd(c,i),()=>{t!=="only"&&(c.environment=d),t&&(c.background=u),Nd(c,f)}}function N5({scene:t,background:e=!1,map:n,...r}){const i=Sr(s=>s.scene);return T.useLayoutEffect(()=>{if(n)return O5(e,t,i,n,r)}),null}function Uce({background:t=!1,scene:e,blur:n,backgroundBlurriness:r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:a,environmentRotation:o,...l}){const c=hR(l),u=Sr(d=>d.scene);return T.useLayoutEffect(()=>O5(t,e,u,c,{backgroundBlurriness:n??r,backgroundIntensity:i,backgroundRotation:s,environmentIntensity:a,environmentRotation:o})),T.useEffect(()=>()=>{c.dispose()},[c]),null}function gVe({children:t,near:e=.1,far:n=1e3,resolution:r=256,frames:i=1,map:s,background:a=!1,blur:o,backgroundBlurriness:l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f,scene:h,files:m,path:g,preset:v=void 0,extensions:y}){const w=Sr(R=>R.gl),_=Sr(R=>R.scene),S=T.useRef(null),[E]=T.useState(()=>new dy),A=T.useMemo(()=>{const R=new WB(r);return R.texture.type=hi,R},[r]);T.useEffect(()=>()=>{A.dispose()},[A]),T.useLayoutEffect(()=>{if(i===1){const R=w.autoClear;w.autoClear=!0,S.current.update(w,E),w.autoClear=R}return O5(a,h,_,A.texture,{backgroundBlurriness:o??l,backgroundIntensity:c,backgroundRotation:u,environmentIntensity:d,environmentRotation:f})},[t,E,A.texture,h,_,a,i,w]);let M=1;return Tr(()=>{if(i===1/0||M<i){const R=w.autoClear;w.autoClear=!0,S.current.update(w,E),w.autoClear=R,M++}}),T.createElement(T.Fragment,null,dR(T.createElement(T.Fragment,null,t,T.createElement("cubeCamera",{ref:S,args:[e,n,A]}),m||v?T.createElement(Uce,{background:!0,files:m,preset:v,path:g,extensions:y}):s?T.createElement(N5,{background:!0,map:s,extensions:y}):null),E))}function vVe(t){var e,n,r,i;const s=hR(t),a=t.map||s;T.useMemo(()=>cR({GroundProjectedEnvImpl:O5e}),[]),T.useEffect(()=>()=>{s.dispose()},[s]);const o=T.useMemo(()=>[a],[a]),l=(e=t.ground)==null?void 0:e.height,c=(n=t.ground)==null?void 0:n.radius,u=(r=(i=t.ground)==null?void 0:i.scale)!==null&&r!==void 0?r:1e3;return T.createElement(T.Fragment,null,T.createElement(N5,$u({},t,{map:a})),T.createElement("groundProjectedEnvImpl",{args:o,scale:u,height:l,radius:c}))}function yVe(t){return t.ground?T.createElement(vVe,t):t.map?T.createElement(N5,t):t.children?T.createElement(gVe,t):T.createElement(Uce,t)}const xVe=T.forwardRef(({scale:t=10,frames:e=1/0,opacity:n=1,width:r=1,height:i=1,blur:s=1,near:a=0,far:o=10,resolution:l=512,smooth:c=!0,color:u="#000000",depthWrite:d=!1,renderOrder:f,...h},m)=>{const g=T.useRef(null),v=Sr(L=>L.scene),y=Sr(L=>L.gl),w=T.useRef(null);r=r*(Array.isArray(t)?t[0]:t||1),i=i*(Array.isArray(t)?t[1]:t||1);const[_,S,E,A,M,R,P]=T.useMemo(()=>{const L=new mi(l,l),V=new mi(l,l);V.texture.generateMipmaps=L.texture.generateMipmaps=!1;const z=new Mo(r,i).rotateX(Math.PI/2),K=new Wn(z),j=new f_;j.depthTest=j.depthWrite=!1,j.onBeforeCompile=G=>{G.uniforms={...G.uniforms,ucolor:{value:new Et(u)}},G.fragmentShader=G.fragmentShader.replace("void main() {",`uniform vec3 ucolor;
           void main() {
          `),G.fragmentShader=G.fragmentShader.replace("vec4( vec3( 1.0 - fragCoordZ ), opacity );","vec4( ucolor * fragCoordZ * 2.0, ( 1.0 - fragCoordZ ) * 1.0 );")};const U=new Vi(B5e),$=new Vi(z5e);return $.depthTest=U.depthTest=!1,[L,z,j,K,U,$,V]},[l,r,i,t,u]),O=L=>{A.visible=!0,A.material=M,M.uniforms.tDiffuse.value=_.texture,M.uniforms.h.value=L*1/256,y.setRenderTarget(P),y.render(A,w.current),A.material=R,R.uniforms.tDiffuse.value=P.texture,R.uniforms.v.value=L*1/256,y.setRenderTarget(_),y.render(A,w.current),A.visible=!1};let k=0,I,F;return Tr(()=>{w.current&&(e===1/0||k<e)&&(k++,I=v.background,F=v.overrideMaterial,g.current.visible=!1,v.background=null,v.overrideMaterial=E,y.setRenderTarget(_),y.render(v,w.current),O(s),c&&O(s*.4),y.setRenderTarget(null),g.current.visible=!0,v.overrideMaterial=F,v.background=I)}),T.useImperativeHandle(m,()=>g.current,[]),T.createElement("group",$u({"rotation-x":Math.PI/2},h,{ref:g}),T.createElement("mesh",{renderOrder:f,geometry:S,scale:[1,-1,1],rotation:[-Math.PI/2,0,0]},T.createElement("meshBasicMaterial",{transparent:!0,map:_.texture,opacity:n,depthWrite:d})),T.createElement("orthographicCamera",{ref:w,args:[-r/2,r/2,i/2,-i/2,a,o]}))});class bVe extends Vi{constructor(){super({uniforms:{time:{value:0},pixelRatio:{value:1}},vertexShader:`
        uniform float pixelRatio;
        uniform float time;
        attribute float size;  
        attribute float speed;  
        attribute float opacity;
        attribute vec3 noise;
        attribute vec3 color;
        varying vec3 vColor;
        varying float vOpacity;

        void main() {
          vec4 modelPosition = modelMatrix * vec4(position, 1.0);
          modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
          modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
          modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
          vec4 viewPosition = viewMatrix * modelPosition;
          vec4 projectionPostion = projectionMatrix * viewPosition;
          gl_Position = projectionPostion;
          gl_PointSize = size * 25. * pixelRatio;
          gl_PointSize *= (1.0 / - viewPosition.z);
          vColor = color;
          vOpacity = opacity;
        }
      `,fragmentShader:`
        varying vec3 vColor;
        varying float vOpacity;
        void main() {
          float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
          float strength = 0.05 / distanceToCenter - 0.1;
          gl_FragColor = vec4(vColor, strength * vOpacity);
          #include <tonemapping_fragment>
          #include <${Ice>=154?"colorspace_fragment":"encodings_fragment"}>
        }
      `})}get time(){return this.uniforms.time.value}set time(e){this.uniforms.time.value=e}get pixelRatio(){return this.uniforms.pixelRatio.value}set pixelRatio(e){this.uniforms.pixelRatio.value=e}}const Bce=t=>t&&t.constructor===Float32Array,wVe=t=>[t.r,t.g,t.b],zce=t=>t instanceof Ve||t instanceof J||t instanceof Ln,Vce=t=>Array.isArray(t)?t:zce(t)?t.toArray():[t,t,t];function Dx(t,e,n){return T.useMemo(()=>{if(e!==void 0){if(Bce(e))return e;if(e instanceof Et){const r=Array.from({length:t*3},()=>wVe(e)).flat();return Float32Array.from(r)}else if(zce(e)||Array.isArray(e)){const r=Array.from({length:t*3},()=>Vce(e)).flat();return Float32Array.from(r)}return Float32Array.from({length:t},()=>e)}return Float32Array.from({length:t},n)},[e])}const $3=T.forwardRef(({noise:t=1,count:e=100,speed:n=1,opacity:r=1,scale:i=1,size:s,color:a,children:o,...l},c)=>{T.useMemo(()=>cR({SparklesImplMaterial:bVe}),[]);const u=T.useRef(null),d=Sr(_=>_.viewport.dpr),f=Vce(i),h=T.useMemo(()=>Float32Array.from(Array.from({length:e},()=>f.map(r_.randFloatSpread)).flat()),[e,...f]),m=Dx(e,s,Math.random),g=Dx(e,r),v=Dx(e,n),y=Dx(e*3,t),w=Dx(a===void 0?e*3:e,Bce(a)?a:new Et(a),()=>1);return Tr(_=>{u.current&&u.current.material&&(u.current.material.time=_.clock.elapsedTime)}),T.useImperativeHandle(c,()=>u.current,[]),T.createElement("points",$u({key:`particle-${e}-${JSON.stringify(i)}`},l,{ref:u}),T.createElement("bufferGeometry",null,T.createElement("bufferAttribute",{attach:"attributes-position",args:[h,3]}),T.createElement("bufferAttribute",{attach:"attributes-size",args:[m,1]}),T.createElement("bufferAttribute",{attach:"attributes-opacity",args:[g,1]}),T.createElement("bufferAttribute",{attach:"attributes-speed",args:[v,1]}),T.createElement("bufferAttribute",{attach:"attributes-color",args:[w,3]}),T.createElement("bufferAttribute",{attach:"attributes-noise",args:[y,3]})),o||T.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:d,depthWrite:!1}))}),_Ve={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"piiwaqfzdngsltpaqbke",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpaXdhcWZ6ZG5nc2x0cGFxYmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTk0ODQsImV4cCI6MjA3OTU3NTQ4NH0.W82GXZWhbTEXiWU4a3X0w8SkFbs1A88KtVHF9P0HOEE",VITE_SUPABASE_URL:"https://piiwaqfzdngsltpaqbke.supabase.co"},L7=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(_Ve?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},SVe=t=>t?L7(t):L7;var $ce={exports:{}},Hce={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pR=T,EVe=rB;function TVe(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var AVe=typeof Object.is=="function"?Object.is:TVe,MVe=EVe.useSyncExternalStore,CVe=pR.useRef,PVe=pR.useEffect,RVe=pR.useMemo,OVe=pR.useDebugValue;Hce.useSyncExternalStoreWithSelector=function(t,e,n,r,i){var s=CVe(null);if(s.current===null){var a={hasValue:!1,value:null};s.current=a}else a=s.current;s=RVe(function(){function l(h){if(!c){if(c=!0,u=h,h=r(h),i!==void 0&&a.hasValue){var m=a.value;if(i(m,h))return d=m}return d=h}if(m=d,AVe(u,h))return m;var g=r(h);return i!==void 0&&i(m,g)?(u=h,m):(u=h,d=g)}var c=!1,u,d,f=n===void 0?null:n;return[function(){return l(e())},f===null?void 0:function(){return l(f())}]},[e,n,r,i]);var o=MVe(t,s[0],s[1]);return PVe(function(){a.hasValue=!0,a.value=o},[o]),OVe(o),o};$ce.exports=Hce;var NVe=$ce.exports;const Gce=lr(NVe),Wce={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"piiwaqfzdngsltpaqbke",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpaXdhcWZ6ZG5nc2x0cGFxYmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTk0ODQsImV4cCI6MjA3OTU3NTQ4NH0.W82GXZWhbTEXiWU4a3X0w8SkFbs1A88KtVHF9P0HOEE",VITE_SUPABASE_URL:"https://piiwaqfzdngsltpaqbke.supabase.co"},{useDebugValue:IVe}=ie,{useSyncExternalStoreWithSelector:kVe}=Gce;let j7=!1;const DVe=t=>t;function LVe(t,e=DVe,n){(Wce?"production":void 0)!=="production"&&n&&!j7&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),j7=!0);const r=kVe(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return IVe(r),r}const F7=t=>{(Wce?"production":void 0)!=="production"&&typeof t!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof t=="function"?SVe(t):t,n=(r,i)=>LVe(e,r,i);return Object.assign(n,e),n},jVe=t=>t?F7(t):F7;var U7,B7;const z7=typeof window<"u"&&((U7=window.document)!=null&&U7.createElement||((B7=window.navigator)==null?void 0:B7.product)==="ReactNative")?ie.useLayoutEffect:ie.useEffect;function FVe(){const t=jVe(e=>({current:new Array,version:0,set:e}));return{In:({children:e})=>{const n=t(i=>i.set),r=t(i=>i.version);return z7(()=>{n(i=>({version:i.version+1}))},[]),z7(()=>(n(({current:i})=>({current:[...i,e]})),()=>n(({current:i})=>({current:i.filter(s=>s!==e)}))),[e,r]),null},Out:()=>{const e=t(n=>n.current);return ie.createElement(ie.Fragment,null,e)}}}function uA(t,e,n){return Math.max(e,Math.min(n,t))}const UVe=.05,V7=.1;function Xce(t,e,n){const r=e.gamepad;if(r==null)return;const i=n.components;for(const s in i){let a=t[s];a==null&&(t[s]=a={});const{gamepadIndices:o}=i[s];let l=!1,c=!1;if(o.button!=null&&o.button<r.buttons.length){const u=r.buttons[o.button];a.button=uA(u.value,0,1),l||(l=u.pressed||a.button===1),c||(c=u.touched||a.button>UVe)}o.xAxis!=null&&o.xAxis<r.axes.length&&(a.xAxis=uA(r.axes[o.xAxis],-1,1),c||(c=Math.abs(a.xAxis)>V7)),o.yAxis!=null&&o.yAxis<r.axes.length&&(a.yAxis=uA(r.axes[o.yAxis],-1,1),c||(c=Math.abs(a.yAxis)>V7)),a.state=l?"pressed":c?"touched":"default"}}function $7(t,e){if(e===Ooe)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===r2||e===FB){let n=t.getIndex();if(n===null){const a=[],o=t.getAttribute("position");if(o!==void 0){for(let l=0;l<o.count;l++)a.push(l);t.setIndex(a),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const r=n.count-2,i=[];if(e===r2)for(let a=1;a<=r;a++)i.push(n.getX(0)),i.push(n.getX(a)),i.push(n.getX(a+1));else for(let a=0;a<r;a++)a%2===0?(i.push(n.getX(a)),i.push(n.getX(a+1)),i.push(n.getX(a+2))):(i.push(n.getX(a+2)),i.push(n.getX(a+1)),i.push(n.getX(a)));i.length/3!==r&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const s=t.clone();return s.setIndex(i),s.clearGroups(),s}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class qce extends Ys{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new HVe(n)}),this.register(function(n){return new GVe(n)}),this.register(function(n){return new e8e(n)}),this.register(function(n){return new t8e(n)}),this.register(function(n){return new n8e(n)}),this.register(function(n){return new XVe(n)}),this.register(function(n){return new qVe(n)}),this.register(function(n){return new KVe(n)}),this.register(function(n){return new YVe(n)}),this.register(function(n){return new $Ve(n)}),this.register(function(n){return new ZVe(n)}),this.register(function(n){return new WVe(n)}),this.register(function(n){return new QVe(n)}),this.register(function(n){return new JVe(n)}),this.register(function(n){return new zVe(n)}),this.register(function(n){return new r8e(n)}),this.register(function(n){return new i8e(n)})}load(e,n,r,i){const s=this;let a;if(this.resourcePath!=="")a=this.resourcePath;else if(this.path!==""){const c=hf.extractUrlBase(e);a=hf.resolveURL(c,this.path)}else a=hf.extractUrlBase(e);this.manager.itemStart(e);const o=function(c){i?i(c):console.error(c),s.manager.itemError(e),s.manager.itemEnd(e)},l=new xa(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(this.withCredentials),l.load(e,function(c){try{s.parse(c,a,function(u){n(u),s.manager.itemEnd(e)},o)}catch(u){o(u)}},r,o)}setDRACOLoader(e){return this.dracoLoader=e,this}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,r,i){let s;const a={},o={},l=new TextDecoder;if(typeof e=="string")s=JSON.parse(e);else if(e instanceof ArrayBuffer)if(l.decode(new Uint8Array(e,0,4))===Kce){try{a[Gn.KHR_BINARY_GLTF]=new s8e(e)}catch(d){i&&i(d);return}s=JSON.parse(a[Gn.KHR_BINARY_GLTF].content)}else s=JSON.parse(l.decode(e));else s=e;if(s.asset===void 0||s.asset.version[0]<2){i&&i(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new y8e(s,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let u=0;u<this.pluginCallbacks.length;u++){const d=this.pluginCallbacks[u](c);d.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),o[d.name]=d,a[d.name]=!0}if(s.extensionsUsed)for(let u=0;u<s.extensionsUsed.length;++u){const d=s.extensionsUsed[u],f=s.extensionsRequired||[];switch(d){case Gn.KHR_MATERIALS_UNLIT:a[d]=new VVe;break;case Gn.KHR_DRACO_MESH_COMPRESSION:a[d]=new a8e(s,this.dracoLoader);break;case Gn.KHR_TEXTURE_TRANSFORM:a[d]=new o8e;break;case Gn.KHR_MESH_QUANTIZATION:a[d]=new l8e;break;default:f.indexOf(d)>=0&&o[d]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+d+'".')}}c.setExtensions(a),c.setPlugins(o),c.parse(r,i)}parseAsync(e,n){const r=this;return new Promise(function(i,s){r.parse(e,n,i,s)})}}function BVe(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Gn={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class zVe{constructor(e){this.parser=e,this.name=Gn.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let r=0,i=n.length;r<i;r++){const s=n[r];s.extensions&&s.extensions[this.name]&&s.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,s.extensions[this.name].light)}}_loadLight(e){const n=this.parser,r="light:"+e;let i=n.cache.get(r);if(i)return i;const s=n.json,l=((s.extensions&&s.extensions[this.name]||{}).lights||[])[e];let c;const u=new Et(16777215);l.color!==void 0&&u.setRGB(l.color[0],l.color[1],l.color[2],es);const d=l.range!==void 0?l.range:0;switch(l.type){case"directional":c=new h5(u),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new f5(u),c.distance=d;break;case"spot":c=new d5(u),c.distance=d,l.spot=l.spot||{},l.spot.innerConeAngle=l.spot.innerConeAngle!==void 0?l.spot.innerConeAngle:0,l.spot.outerConeAngle=l.spot.outerConeAngle!==void 0?l.spot.outerConeAngle:Math.PI/4,c.angle=l.spot.outerConeAngle,c.penumbra=1-l.spot.innerConeAngle/l.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+l.type)}return c.position.set(0,0,0),fc(c,l),l.intensity!==void 0&&(c.intensity=l.intensity),c.name=n.createUniqueName(l.name||"light_"+e),i=Promise.resolve(c),n.cache.add(r,i),i}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,r=this.parser,s=r.json.nodes[e],o=(s.extensions&&s.extensions[this.name]||{}).light;return o===void 0?null:this._loadLight(o).then(function(l){return r._getNodeRef(n.cache,o,l)})}}class VVe{constructor(){this.name=Gn.KHR_MATERIALS_UNLIT}getMaterialType(){return Ss}extendParams(e,n,r){const i=[];e.color=new Et(1,1,1),e.opacity=1;const s=n.pbrMetallicRoughness;if(s){if(Array.isArray(s.baseColorFactor)){const a=s.baseColorFactor;e.color.setRGB(a[0],a[1],a[2],es),e.opacity=a[3]}s.baseColorTexture!==void 0&&i.push(r.assignTexture(e,"map",s.baseColorTexture,wi))}return Promise.all(i)}}class $Ve{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name].emissiveStrength;return s!==void 0&&(n.emissiveIntensity=s),Promise.resolve()}}class HVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];if(a.clearcoatFactor!==void 0&&(n.clearcoat=a.clearcoatFactor),a.clearcoatTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatMap",a.clearcoatTexture)),a.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=a.clearcoatRoughnessFactor),a.clearcoatRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"clearcoatRoughnessMap",a.clearcoatRoughnessTexture)),a.clearcoatNormalTexture!==void 0&&(s.push(r.assignTexture(n,"clearcoatNormalMap",a.clearcoatNormalTexture)),a.clearcoatNormalTexture.scale!==void 0)){const o=a.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ve(o,o)}return Promise.all(s)}}class GVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_DISPERSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.dispersion=s.dispersion!==void 0?s.dispersion:0,Promise.resolve()}}class WVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.iridescenceFactor!==void 0&&(n.iridescence=a.iridescenceFactor),a.iridescenceTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceMap",a.iridescenceTexture)),a.iridescenceIor!==void 0&&(n.iridescenceIOR=a.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),a.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=a.iridescenceThicknessMinimum),a.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=a.iridescenceThicknessMaximum),a.iridescenceThicknessTexture!==void 0&&s.push(r.assignTexture(n,"iridescenceThicknessMap",a.iridescenceThicknessTexture)),Promise.all(s)}}class XVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_SHEEN}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[];n.sheenColor=new Et(0,0,0),n.sheenRoughness=0,n.sheen=1;const a=i.extensions[this.name];if(a.sheenColorFactor!==void 0){const o=a.sheenColorFactor;n.sheenColor.setRGB(o[0],o[1],o[2],es)}return a.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=a.sheenRoughnessFactor),a.sheenColorTexture!==void 0&&s.push(r.assignTexture(n,"sheenColorMap",a.sheenColorTexture,wi)),a.sheenRoughnessTexture!==void 0&&s.push(r.assignTexture(n,"sheenRoughnessMap",a.sheenRoughnessTexture)),Promise.all(s)}}class qVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.transmissionFactor!==void 0&&(n.transmission=a.transmissionFactor),a.transmissionTexture!==void 0&&s.push(r.assignTexture(n,"transmissionMap",a.transmissionTexture)),Promise.all(s)}}class KVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_VOLUME}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];n.thickness=a.thicknessFactor!==void 0?a.thicknessFactor:0,a.thicknessTexture!==void 0&&s.push(r.assignTexture(n,"thicknessMap",a.thicknessTexture)),n.attenuationDistance=a.attenuationDistance||1/0;const o=a.attenuationColor||[1,1,1];return n.attenuationColor=new Et().setRGB(o[0],o[1],o[2],es),Promise.all(s)}}class YVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_IOR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const i=this.parser.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=i.extensions[this.name];return n.ior=s.ior!==void 0?s.ior:1.5,Promise.resolve()}}class ZVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_SPECULAR}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];n.specularIntensity=a.specularFactor!==void 0?a.specularFactor:1,a.specularTexture!==void 0&&s.push(r.assignTexture(n,"specularIntensityMap",a.specularTexture));const o=a.specularColorFactor||[1,1,1];return n.specularColor=new Et().setRGB(o[0],o[1],o[2],es),a.specularColorTexture!==void 0&&s.push(r.assignTexture(n,"specularColorMap",a.specularColorTexture,wi)),Promise.all(s)}}class JVe{constructor(e){this.parser=e,this.name=Gn.EXT_MATERIALS_BUMP}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return n.bumpScale=a.bumpFactor!==void 0?a.bumpFactor:1,a.bumpTexture!==void 0&&s.push(r.assignTexture(n,"bumpMap",a.bumpTexture)),Promise.all(s)}}class QVe{constructor(e){this.parser=e,this.name=Gn.KHR_MATERIALS_ANISOTROPY}getMaterialType(e){const r=this.parser.json.materials[e];return!r.extensions||!r.extensions[this.name]?null:cl}extendMaterialParams(e,n){const r=this.parser,i=r.json.materials[e];if(!i.extensions||!i.extensions[this.name])return Promise.resolve();const s=[],a=i.extensions[this.name];return a.anisotropyStrength!==void 0&&(n.anisotropy=a.anisotropyStrength),a.anisotropyRotation!==void 0&&(n.anisotropyRotation=a.anisotropyRotation),a.anisotropyTexture!==void 0&&s.push(r.assignTexture(n,"anisotropyMap",a.anisotropyTexture)),Promise.all(s)}}class e8e{constructor(e){this.parser=e,this.name=Gn.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,r=n.json,i=r.textures[e];if(!i.extensions||!i.extensions[this.name])return null;const s=i.extensions[this.name],a=n.options.ktx2Loader;if(!a){if(r.extensionsRequired&&r.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,s.source,a)}}class t8e{constructor(e){this.parser=e,this.name=Gn.EXT_TEXTURE_WEBP}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],o=i.images[a.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return r.loadTextureImage(e,a.source,l)}}class n8e{constructor(e){this.parser=e,this.name=Gn.EXT_TEXTURE_AVIF}loadTexture(e){const n=this.name,r=this.parser,i=r.json,s=i.textures[e];if(!s.extensions||!s.extensions[n])return null;const a=s.extensions[n],o=i.images[a.source];let l=r.textureLoader;if(o.uri){const c=r.options.manager.getHandler(o.uri);c!==null&&(l=c)}return r.loadTextureImage(e,a.source,l)}}class r8e{constructor(e){this.name=Gn.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,r=n.bufferViews[e];if(r.extensions&&r.extensions[this.name]){const i=r.extensions[this.name],s=this.parser.getDependency("buffer",i.buffer),a=this.parser.options.meshoptDecoder;if(!a||!a.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return s.then(function(o){const l=i.byteOffset||0,c=i.byteLength||0,u=i.count,d=i.byteStride,f=new Uint8Array(o,l,c);return a.decodeGltfBufferAsync?a.decodeGltfBufferAsync(u,d,f,i.mode,i.filter).then(function(h){return h.buffer}):a.ready.then(function(){const h=new ArrayBuffer(u*d);return a.decodeGltfBuffer(new Uint8Array(h),u,d,f,i.mode,i.filter),h})})}else return null}}class i8e{constructor(e){this.name=Gn.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,r=n.nodes[e];if(!r.extensions||!r.extensions[this.name]||r.mesh===void 0)return null;const i=n.meshes[r.mesh];for(const c of i.primitives)if(c.mode!==Vo.TRIANGLES&&c.mode!==Vo.TRIANGLE_STRIP&&c.mode!==Vo.TRIANGLE_FAN&&c.mode!==void 0)return null;const a=r.extensions[this.name].attributes,o=[],l={};for(const c in a)o.push(this.parser.getDependency("accessor",a[c]).then(u=>(l[c]=u,l[c])));return o.length<1?null:(o.push(this.parser.createNodeMesh(e)),Promise.all(o).then(c=>{const u=c.pop(),d=u.isGroup?u.children:[u],f=c[0].count,h=[];for(const m of d){const g=new It,v=new J,y=new hr,w=new J(1,1,1),_=new VP(m.geometry,m.material,f);for(let S=0;S<f;S++)l.TRANSLATION&&v.fromBufferAttribute(l.TRANSLATION,S),l.ROTATION&&y.fromBufferAttribute(l.ROTATION,S),l.SCALE&&w.fromBufferAttribute(l.SCALE,S),_.setMatrixAt(S,g.compose(v,y,w));for(const S in l)if(S==="_COLOR_0"){const E=l[S];_.instanceColor=new Rf(E.array,E.itemSize,E.normalized)}else S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&m.geometry.setAttribute(S,l[S]);$n.prototype.copy.call(_,m),this.parser.assignFinalMaterial(_),h.push(_)}return u.isGroup?(u.clear(),u.add(...h),u):h[0]}))}}const Kce="glTF",Lx=12,H7={JSON:1313821514,BIN:5130562};class s8e{constructor(e){this.name=Gn.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,Lx),r=new TextDecoder;if(this.header={magic:r.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==Kce)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const i=this.header.length-Lx,s=new DataView(e,Lx);let a=0;for(;a<i;){const o=s.getUint32(a,!0);a+=4;const l=s.getUint32(a,!0);if(a+=4,l===H7.JSON){const c=new Uint8Array(e,Lx+a,o);this.content=r.decode(c)}else if(l===H7.BIN){const c=Lx+a;this.body=e.slice(c,c+o)}a+=o}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class a8e{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Gn.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const r=this.json,i=this.dracoLoader,s=e.extensions[this.name].bufferView,a=e.extensions[this.name].attributes,o={},l={},c={};for(const u in a){const d=xj[u]||u.toLowerCase();o[d]=a[u]}for(const u in e.attributes){const d=xj[u]||u.toLowerCase();if(a[u]!==void 0){const f=r.accessors[e.attributes[u]],h=Ev[f.componentType];c[d]=h.name,l[d]=f.normalized===!0}}return n.getDependency("bufferView",s).then(function(u){return new Promise(function(d,f){i.decodeDracoFile(u,function(h){for(const m in h.attributes){const g=h.attributes[m],v=l[m];v!==void 0&&(g.normalized=v)}d(h)},o,c,es,f)})})}}class o8e{constructor(){this.name=Gn.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class l8e{constructor(){this.name=Gn.KHR_MESH_QUANTIZATION}}class Yce extends my{constructor(e,n,r,i){super(e,n,r,i)}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i*3+i;for(let a=0;a!==i;a++)n[a]=r[s+a];return n}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=o*2,c=o*3,u=i-n,d=(r-n)/u,f=d*d,h=f*d,m=e*c,g=m-c,v=-2*h+3*f,y=h-f,w=1-v,_=y-f+d;for(let S=0;S!==o;S++){const E=a[g+S+o],A=a[g+S+l]*u,M=a[m+S+o],R=a[m+S]*u;s[S]=w*E+_*A+v*M+y*R}return s}}const c8e=new hr;class u8e extends Yce{interpolate_(e,n,r,i){const s=super.interpolate_(e,n,r,i);return c8e.fromArray(s).normalize().toArray(s),s}}const Vo={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Ev={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},G7={9728:Ji,9729:Nn,9984:CP,9985:wv,9986:lp,9987:Zo},W7={33071:ei,33648:s0,10497:Mf},H3={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},xj={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Sd={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},d8e={CUBICSPLINE:void 0,LINEAR:c0,STEP:l0},G3={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function f8e(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new py({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:Lc})),t.DefaultMaterial}function Ph(t,e,n){for(const r in n.extensions)t[r]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[r]=n.extensions[r])}function fc(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function h8e(t,e,n){let r=!1,i=!1,s=!1;for(let c=0,u=e.length;c<u;c++){const d=e[c];if(d.POSITION!==void 0&&(r=!0),d.NORMAL!==void 0&&(i=!0),d.COLOR_0!==void 0&&(s=!0),r&&i&&s)break}if(!r&&!i&&!s)return Promise.resolve(t);const a=[],o=[],l=[];for(let c=0,u=e.length;c<u;c++){const d=e[c];if(r){const f=d.POSITION!==void 0?n.getDependency("accessor",d.POSITION):t.attributes.position;a.push(f)}if(i){const f=d.NORMAL!==void 0?n.getDependency("accessor",d.NORMAL):t.attributes.normal;o.push(f)}if(s){const f=d.COLOR_0!==void 0?n.getDependency("accessor",d.COLOR_0):t.attributes.color;l.push(f)}}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l)]).then(function(c){const u=c[0],d=c[1],f=c[2];return r&&(t.morphAttributes.position=u),i&&(t.morphAttributes.normal=d),s&&(t.morphAttributes.color=f),t.morphTargetsRelative=!0,t})}function p8e(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,r=e.weights.length;n<r;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let r=0,i=n.length;r<i;r++)t.morphTargetDictionary[n[r]]=r}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function m8e(t){let e;const n=t.extensions&&t.extensions[Gn.KHR_DRACO_MESH_COMPRESSION];if(n?e="draco:"+n.bufferView+":"+n.indices+":"+W3(n.attributes):e=t.indices+":"+W3(t.attributes)+":"+t.mode,t.targets!==void 0)for(let r=0,i=t.targets.length;r<i;r++)e+=":"+W3(t.targets[r]);return e}function W3(t){let e="";const n=Object.keys(t).sort();for(let r=0,i=n.length;r<i;r++)e+=n[r]+":"+t[n[r]]+";";return e}function bj(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function g8e(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":t.search(/\.ktx2($|\?)/i)>0||t.search(/^data\:image\/ktx2/)===0?"image/ktx2":"image/png"}const v8e=new It;class y8e{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new BVe,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let r=!1,i=-1,s=!1,a=-1;if(typeof navigator<"u"){const o=navigator.userAgent;r=/^((?!chrome|android).)*safari/i.test(o)===!0;const l=o.match(/Version\/(\d+)/);i=r&&l?parseInt(l[1],10):-1,s=o.indexOf("Firefox")>-1,a=s?o.match(/Firefox\/([0-9]+)\./)[1]:-1}typeof createImageBitmap>"u"||r&&i<17||s&&a<98?this.textureLoader=new c5(this.options.manager):this.textureLoader=new Rle(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new xa(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const r=this,i=this.json,s=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(a){return a._markDefs&&a._markDefs()}),Promise.all(this._invokeAll(function(a){return a.beforeRoot&&a.beforeRoot()})).then(function(){return Promise.all([r.getDependencies("scene"),r.getDependencies("animation"),r.getDependencies("camera")])}).then(function(a){const o={scene:a[0][i.scene||0],scenes:a[0],animations:a[1],cameras:a[2],asset:i.asset,parser:r,userData:{}};return Ph(s,o,i),fc(o,i),Promise.all(r._invokeAll(function(l){return l.afterRoot&&l.afterRoot(o)})).then(function(){for(const l of o.scenes)l.updateMatrixWorld();e(o)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],r=this.json.meshes||[];for(let i=0,s=n.length;i<s;i++){const a=n[i].joints;for(let o=0,l=a.length;o<l;o++)e[a[o]].isBone=!0}for(let i=0,s=e.length;i<s;i++){const a=e[i];a.mesh!==void 0&&(this._addNodeRef(this.meshCache,a.mesh),a.skin!==void 0&&(r[a.mesh].isSkinnedMesh=!0)),a.camera!==void 0&&this._addNodeRef(this.cameraCache,a.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,r){if(e.refs[n]<=1)return r;const i=r.clone(),s=(a,o)=>{const l=this.associations.get(a);l!=null&&this.associations.set(o,l);for(const[c,u]of a.children.entries())s(u,o.children[c])};return s(r,i),i.name+="_instance_"+e.uses[n]++,i}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let r=0;r<n.length;r++){const i=e(n[r]);if(i)return i}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const r=[];for(let i=0;i<n.length;i++){const s=e(n[i]);s&&r.push(s)}return r}getDependency(e,n){const r=e+":"+n;let i=this.cache.get(r);if(!i){switch(e){case"scene":i=this.loadScene(n);break;case"node":i=this._invokeOne(function(s){return s.loadNode&&s.loadNode(n)});break;case"mesh":i=this._invokeOne(function(s){return s.loadMesh&&s.loadMesh(n)});break;case"accessor":i=this.loadAccessor(n);break;case"bufferView":i=this._invokeOne(function(s){return s.loadBufferView&&s.loadBufferView(n)});break;case"buffer":i=this.loadBuffer(n);break;case"material":i=this._invokeOne(function(s){return s.loadMaterial&&s.loadMaterial(n)});break;case"texture":i=this._invokeOne(function(s){return s.loadTexture&&s.loadTexture(n)});break;case"skin":i=this.loadSkin(n);break;case"animation":i=this._invokeOne(function(s){return s.loadAnimation&&s.loadAnimation(n)});break;case"camera":i=this.loadCamera(n);break;default:if(i=this._invokeOne(function(s){return s!=this&&s.getDependency&&s.getDependency(e,n)}),!i)throw new Error("Unknown type: "+e);break}this.cache.add(r,i)}return i}getDependencies(e){let n=this.cache.get(e);if(!n){const r=this,i=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(i.map(function(s,a){return r.getDependency(e,a)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],r=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Gn.KHR_BINARY_GLTF].body);const i=this.options;return new Promise(function(s,a){r.load(hf.resolveURL(n.uri,i.path),s,void 0,function(){a(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(r){const i=n.byteLength||0,s=n.byteOffset||0;return r.slice(s,s+i)})}loadAccessor(e){const n=this,r=this.json,i=this.json.accessors[e];if(i.bufferView===void 0&&i.sparse===void 0){const a=H3[i.type],o=Ev[i.componentType],l=i.normalized===!0,c=new o(i.count*a);return Promise.resolve(new wn(c,a,l))}const s=[];return i.bufferView!==void 0?s.push(this.getDependency("bufferView",i.bufferView)):s.push(null),i.sparse!==void 0&&(s.push(this.getDependency("bufferView",i.sparse.indices.bufferView)),s.push(this.getDependency("bufferView",i.sparse.values.bufferView))),Promise.all(s).then(function(a){const o=a[0],l=H3[i.type],c=Ev[i.componentType],u=c.BYTES_PER_ELEMENT,d=u*l,f=i.byteOffset||0,h=i.bufferView!==void 0?r.bufferViews[i.bufferView].byteStride:void 0,m=i.normalized===!0;let g,v;if(h&&h!==d){const y=Math.floor(f/h),w="InterleavedBuffer:"+i.bufferView+":"+i.componentType+":"+y+":"+i.count;let _=n.cache.get(w);_||(g=new c(o,y*h,i.count*h/u),_=new s_(g,h/u),n.cache.add(w,_)),v=new Pf(_,l,f%h/u,m)}else o===null?g=new c(i.count*l):g=new c(o,f,i.count*l),v=new wn(g,l,m);if(i.sparse!==void 0){const y=H3.SCALAR,w=Ev[i.sparse.indices.componentType],_=i.sparse.indices.byteOffset||0,S=i.sparse.values.byteOffset||0,E=new w(a[1],_,i.sparse.count*y),A=new c(a[2],S,i.sparse.count*l);o!==null&&(v=new wn(v.array.slice(),v.itemSize,v.normalized)),v.normalized=!1;for(let M=0,R=E.length;M<R;M++){const P=E[M];if(v.setX(P,A[M*l]),l>=2&&v.setY(P,A[M*l+1]),l>=3&&v.setZ(P,A[M*l+2]),l>=4&&v.setW(P,A[M*l+3]),l>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}v.normalized=m}return v})}loadTexture(e){const n=this.json,r=this.options,s=n.textures[e].source,a=n.images[s];let o=this.textureLoader;if(a.uri){const l=r.manager.getHandler(a.uri);l!==null&&(o=l)}return this.loadTextureImage(e,s,o)}loadTextureImage(e,n,r){const i=this,s=this.json,a=s.textures[e],o=s.images[n],l=(o.uri||o.bufferView)+":"+a.sampler;if(this.textureCache[l])return this.textureCache[l];const c=this.loadImageSource(n,r).then(function(u){u.flipY=!1,u.name=a.name||o.name||"",u.name===""&&typeof o.uri=="string"&&o.uri.startsWith("data:image/")===!1&&(u.name=o.uri);const f=(s.samplers||{})[a.sampler]||{};return u.magFilter=G7[f.magFilter]||Nn,u.minFilter=G7[f.minFilter]||Zo,u.wrapS=W7[f.wrapS]||Mf,u.wrapT=W7[f.wrapT]||Mf,u.generateMipmaps=!u.isCompressedTexture&&u.minFilter!==Ji&&u.minFilter!==Nn,i.associations.set(u,{textures:e}),u}).catch(function(){return null});return this.textureCache[l]=c,c}loadImageSource(e,n){const r=this,i=this.json,s=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(d=>d.clone());const a=i.images[e],o=self.URL||self.webkitURL;let l=a.uri||"",c=!1;if(a.bufferView!==void 0)l=r.getDependency("bufferView",a.bufferView).then(function(d){c=!0;const f=new Blob([d],{type:a.mimeType});return l=o.createObjectURL(f),l});else if(a.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const u=Promise.resolve(l).then(function(d){return new Promise(function(f,h){let m=f;n.isImageBitmapLoader===!0&&(m=function(g){const v=new ar(g);v.needsUpdate=!0,f(v)}),n.load(hf.resolveURL(d,s.path),m,void 0,h)})}).then(function(d){return c===!0&&o.revokeObjectURL(l),fc(d,a),d.userData.mimeType=a.mimeType||g8e(a.uri),d}).catch(function(d){throw console.error("THREE.GLTFLoader: Couldn't load texture",l),d});return this.sourceCache[e]=u,u}assignTexture(e,n,r,i){const s=this;return this.getDependency("texture",r.index).then(function(a){if(!a)return null;if(r.texCoord!==void 0&&r.texCoord>0&&(a=a.clone(),a.channel=r.texCoord),s.extensions[Gn.KHR_TEXTURE_TRANSFORM]){const o=r.extensions!==void 0?r.extensions[Gn.KHR_TEXTURE_TRANSFORM]:void 0;if(o){const l=s.associations.get(a);a=s.extensions[Gn.KHR_TEXTURE_TRANSFORM].extendTexture(a,o),s.associations.set(a,l)}}return i!==void 0&&(a.colorSpace=i),e[n]=a,a})}assignFinalMaterial(e){const n=e.geometry;let r=e.material;const i=n.attributes.tangent===void 0,s=n.attributes.color!==void 0,a=n.attributes.normal===void 0;if(e.isPoints){const o="PointsMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new HP,Ai.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,l.sizeAttenuation=!1,this.cache.add(o,l)),r=l}else if(e.isLine){const o="LineBasicMaterial:"+r.uuid;let l=this.cache.get(o);l||(l=new Ks,Ai.prototype.copy.call(l,r),l.color.copy(r.color),l.map=r.map,this.cache.add(o,l)),r=l}if(i||s||a){let o="ClonedMaterial:"+r.uuid+":";i&&(o+="derivative-tangents:"),s&&(o+="vertex-colors:"),a&&(o+="flat-shading:");let l=this.cache.get(o);l||(l=r.clone(),s&&(l.vertexColors=!0),a&&(l.flatShading=!0),i&&(l.normalScale&&(l.normalScale.y*=-1),l.clearcoatNormalScale&&(l.clearcoatNormalScale.y*=-1)),this.cache.add(o,l),this.associations.set(l,this.associations.get(r))),r=l}e.material=r}getMaterialType(){return py}loadMaterial(e){const n=this,r=this.json,i=this.extensions,s=r.materials[e];let a;const o={},l=s.extensions||{},c=[];if(l[Gn.KHR_MATERIALS_UNLIT]){const d=i[Gn.KHR_MATERIALS_UNLIT];a=d.getMaterialType(),c.push(d.extendParams(o,s,n))}else{const d=s.pbrMetallicRoughness||{};if(o.color=new Et(1,1,1),o.opacity=1,Array.isArray(d.baseColorFactor)){const f=d.baseColorFactor;o.color.setRGB(f[0],f[1],f[2],es),o.opacity=f[3]}d.baseColorTexture!==void 0&&c.push(n.assignTexture(o,"map",d.baseColorTexture,wi)),o.metalness=d.metallicFactor!==void 0?d.metallicFactor:1,o.roughness=d.roughnessFactor!==void 0?d.roughnessFactor:1,d.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(o,"metalnessMap",d.metallicRoughnessTexture)),c.push(n.assignTexture(o,"roughnessMap",d.metallicRoughnessTexture))),a=this._invokeOne(function(f){return f.getMaterialType&&f.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(f){return f.extendMaterialParams&&f.extendMaterialParams(e,o)})))}s.doubleSided===!0&&(o.side=Ba);const u=s.alphaMode||G3.OPAQUE;if(u===G3.BLEND?(o.transparent=!0,o.depthWrite=!1):(o.transparent=!1,u===G3.MASK&&(o.alphaTest=s.alphaCutoff!==void 0?s.alphaCutoff:.5)),s.normalTexture!==void 0&&a!==Ss&&(c.push(n.assignTexture(o,"normalMap",s.normalTexture)),o.normalScale=new Ve(1,1),s.normalTexture.scale!==void 0)){const d=s.normalTexture.scale;o.normalScale.set(d,d)}if(s.occlusionTexture!==void 0&&a!==Ss&&(c.push(n.assignTexture(o,"aoMap",s.occlusionTexture)),s.occlusionTexture.strength!==void 0&&(o.aoMapIntensity=s.occlusionTexture.strength)),s.emissiveFactor!==void 0&&a!==Ss){const d=s.emissiveFactor;o.emissive=new Et().setRGB(d[0],d[1],d[2],es)}return s.emissiveTexture!==void 0&&a!==Ss&&c.push(n.assignTexture(o,"emissiveMap",s.emissiveTexture,wi)),Promise.all(c).then(function(){const d=new a(o);return s.name&&(d.name=s.name),fc(d,s),n.associations.set(d,{materials:e}),s.extensions&&Ph(i,d,s),d})}createUniqueName(e){const n=Yn.sanitizeNodeName(e||"");return n in this.nodeNamesUsed?n+"_"+ ++this.nodeNamesUsed[n]:(this.nodeNamesUsed[n]=0,n)}loadGeometries(e){const n=this,r=this.extensions,i=this.primitiveCache;function s(o){return r[Gn.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(o,n).then(function(l){return X7(l,o,n)})}const a=[];for(let o=0,l=e.length;o<l;o++){const c=e[o],u=m8e(c),d=i[u];if(d)a.push(d.promise);else{let f;c.extensions&&c.extensions[Gn.KHR_DRACO_MESH_COMPRESSION]?f=s(c):f=X7(new un,c,n),i[u]={primitive:c,promise:f},a.push(f)}}return Promise.all(a)}loadMesh(e){const n=this,r=this.json,i=this.extensions,s=r.meshes[e],a=s.primitives,o=[];for(let l=0,c=a.length;l<c;l++){const u=a[l].material===void 0?f8e(this.cache):this.getDependency("material",a[l].material);o.push(u)}return o.push(n.loadGeometries(a)),Promise.all(o).then(function(l){const c=l.slice(0,l.length-1),u=l[l.length-1],d=[];for(let h=0,m=u.length;h<m;h++){const g=u[h],v=a[h];let y;const w=c[h];if(v.mode===Vo.TRIANGLES||v.mode===Vo.TRIANGLE_STRIP||v.mode===Vo.TRIANGLE_FAN||v.mode===void 0)y=s.isSkinnedMesh===!0?new qB(g,w):new Wn(g,w),y.isSkinnedMesh===!0&&y.normalizeSkinWeights(),v.mode===Vo.TRIANGLE_STRIP?y.geometry=$7(y.geometry,FB):v.mode===Vo.TRIANGLE_FAN&&(y.geometry=$7(y.geometry,r2));else if(v.mode===Vo.LINES)y=new Jl(g,w);else if(v.mode===Vo.LINE_STRIP)y=new Vu(g,w);else if(v.mode===Vo.LINE_LOOP)y=new YB(g,w);else if(v.mode===Vo.POINTS)y=new ZB(g,w);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+v.mode);Object.keys(y.geometry.morphAttributes).length>0&&p8e(y,s),y.name=n.createUniqueName(s.name||"mesh_"+e),fc(y,s),v.extensions&&Ph(i,y,v),n.assignFinalMaterial(y),d.push(y)}for(let h=0,m=d.length;h<m;h++)n.associations.set(d[h],{meshes:e,primitives:h});if(d.length===1)return s.extensions&&Ph(i,d[0],s),d[0];const f=new Eu;s.extensions&&Ph(i,f,s),n.associations.set(f,{meshes:e});for(let h=0,m=d.length;h<m;h++)f.add(d[h]);return f})}loadCamera(e){let n;const r=this.json.cameras[e],i=r[r.type];if(!i){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return r.type==="perspective"?n=new Ur(r_.radToDeg(i.yfov),i.aspectRatio||1,i.znear||1,i.zfar||2e6):r.type==="orthographic"&&(n=new rl(-i.xmag,i.xmag,i.ymag,-i.ymag,i.znear,i.zfar)),r.name&&(n.name=this.createUniqueName(r.name)),fc(n,r),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],r=[];for(let i=0,s=n.joints.length;i<s;i++)r.push(this._loadNodeShallow(n.joints[i]));return n.inverseBindMatrices!==void 0?r.push(this.getDependency("accessor",n.inverseBindMatrices)):r.push(null),Promise.all(r).then(function(i){const s=i.pop(),a=i,o=[],l=[];for(let c=0,u=a.length;c<u;c++){const d=a[c];if(d){o.push(d);const f=new It;s!==null&&f.fromArray(s.array,c*16),l.push(f)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new KB(o,l)})}loadAnimation(e){const n=this.json,r=this,i=n.animations[e],s=i.name?i.name:"animation_"+e,a=[],o=[],l=[],c=[],u=[];for(let d=0,f=i.channels.length;d<f;d++){const h=i.channels[d],m=i.samplers[h.sampler],g=h.target,v=g.node,y=i.parameters!==void 0?i.parameters[m.input]:m.input,w=i.parameters!==void 0?i.parameters[m.output]:m.output;g.node!==void 0&&(a.push(this.getDependency("node",v)),o.push(this.getDependency("accessor",y)),l.push(this.getDependency("accessor",w)),c.push(m),u.push(g))}return Promise.all([Promise.all(a),Promise.all(o),Promise.all(l),Promise.all(c),Promise.all(u)]).then(function(d){const f=d[0],h=d[1],m=d[2],g=d[3],v=d[4],y=[];for(let _=0,S=f.length;_<S;_++){const E=f[_],A=h[_],M=m[_],R=g[_],P=v[_];if(E===void 0)continue;E.updateMatrix&&E.updateMatrix();const O=r._createAnimationTracks(E,A,M,R,P);if(O)for(let k=0;k<O.length;k++)y.push(O[k])}const w=new m0(s,void 0,y);return fc(w,i),w})}createNodeMesh(e){const n=this.json,r=this,i=n.nodes[e];return i.mesh===void 0?null:r.getDependency("mesh",i.mesh).then(function(s){const a=r._getNodeRef(r.meshCache,i.mesh,s);return i.weights!==void 0&&a.traverse(function(o){if(o.isMesh)for(let l=0,c=i.weights.length;l<c;l++)o.morphTargetInfluences[l]=i.weights[l]}),a})}loadNode(e){const n=this.json,r=this,i=n.nodes[e],s=r._loadNodeShallow(e),a=[],o=i.children||[];for(let c=0,u=o.length;c<u;c++)a.push(r.getDependency("node",o[c]));const l=i.skin===void 0?Promise.resolve(null):r.getDependency("skin",i.skin);return Promise.all([s,Promise.all(a),l]).then(function(c){const u=c[0],d=c[1],f=c[2];f!==null&&u.traverse(function(h){h.isSkinnedMesh&&h.bind(f,v8e)});for(let h=0,m=d.length;h<m;h++)u.add(d[h]);return u})}_loadNodeShallow(e){const n=this.json,r=this.extensions,i=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const s=n.nodes[e],a=s.name?i.createUniqueName(s.name):"",o=[],l=i._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return l&&o.push(l),s.camera!==void 0&&o.push(i.getDependency("camera",s.camera).then(function(c){return i._getNodeRef(i.cameraCache,s.camera,c)})),i._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){o.push(c)}),this.nodeCache[e]=Promise.all(o).then(function(c){let u;if(s.isBone===!0?u=new zP:c.length>1?u=new Eu:c.length===1?u=c[0]:u=new $n,u!==c[0])for(let d=0,f=c.length;d<f;d++)u.add(c[d]);if(s.name&&(u.userData.name=s.name,u.name=a),fc(u,s),s.extensions&&Ph(r,u,s),s.matrix!==void 0){const d=new It;d.fromArray(s.matrix),u.applyMatrix4(d)}else s.translation!==void 0&&u.position.fromArray(s.translation),s.rotation!==void 0&&u.quaternion.fromArray(s.rotation),s.scale!==void 0&&u.scale.fromArray(s.scale);if(!i.associations.has(u))i.associations.set(u,{});else if(s.mesh!==void 0&&i.meshCache.refs[s.mesh]>1){const d=i.associations.get(u);i.associations.set(u,{...d})}return i.associations.get(u).nodes=e,u}),this.nodeCache[e]}loadScene(e){const n=this.extensions,r=this.json.scenes[e],i=this,s=new Eu;r.name&&(s.name=i.createUniqueName(r.name)),fc(s,r),r.extensions&&Ph(n,s,r);const a=r.nodes||[],o=[];for(let l=0,c=a.length;l<c;l++)o.push(i.getDependency("node",a[l]));return Promise.all(o).then(function(l){for(let u=0,d=l.length;u<d;u++)s.add(l[u]);const c=u=>{const d=new Map;for(const[f,h]of i.associations)(f instanceof Ai||f instanceof ar)&&d.set(f,h);return u.traverse(f=>{const h=i.associations.get(f);h!=null&&d.set(f,h)}),d};return i.associations=c(s),s})}_createAnimationTracks(e,n,r,i,s){const a=[],o=e.name?e.name:e.uuid,l=[];Sd[s.path]===Sd.weights?e.traverse(function(f){f.morphTargetInfluences&&l.push(f.name?f.name:f.uuid)}):l.push(o);let c;switch(Sd[s.path]){case Sd.weights:c=Jp;break;case Sd.rotation:c=Qp;break;case Sd.translation:case Sd.scale:c=em;break;default:switch(r.itemSize){case 1:c=Jp;break;case 2:case 3:default:c=em;break}break}const u=i.interpolation!==void 0?d8e[i.interpolation]:c0,d=this._getArrayFromAccessor(r);for(let f=0,h=l.length;f<h;f++){const m=new c(l[f]+"."+Sd[s.path],n.array,d,u);i.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(m),a.push(m)}return a}_getArrayFromAccessor(e){let n=e.array;if(e.normalized){const r=bj(n.constructor),i=new Float32Array(n.length);for(let s=0,a=n.length;s<a;s++)i[s]=n[s]*r;n=i}return n}_createCubicSplineTrackInterpolant(e){e.createInterpolant=function(r){const i=this instanceof Qp?u8e:Yce;return new i(this.times,this.values,this.getValueSize()/3,r)},e.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function x8e(t,e,n){const r=e.attributes,i=new Qi;if(r.POSITION!==void 0){const o=n.json.accessors[r.POSITION],l=o.min,c=o.max;if(l!==void 0&&c!==void 0){if(i.set(new J(l[0],l[1],l[2]),new J(c[0],c[1],c[2])),o.normalized){const u=bj(Ev[o.componentType]);i.min.multiplyScalar(u),i.max.multiplyScalar(u)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const s=e.targets;if(s!==void 0){const o=new J,l=new J;for(let c=0,u=s.length;c<u;c++){const d=s[c];if(d.POSITION!==void 0){const f=n.json.accessors[d.POSITION],h=f.min,m=f.max;if(h!==void 0&&m!==void 0){if(l.setX(Math.max(Math.abs(h[0]),Math.abs(m[0]))),l.setY(Math.max(Math.abs(h[1]),Math.abs(m[1]))),l.setZ(Math.max(Math.abs(h[2]),Math.abs(m[2]))),f.normalized){const g=bj(Ev[f.componentType]);l.multiplyScalar(g)}o.max(l)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}i.expandByVector(o)}t.boundingBox=i;const a=new Ti;i.getCenter(a.center),a.radius=i.min.distanceTo(i.max)/2,t.boundingSphere=a}function X7(t,e,n){const r=e.attributes,i=[];function s(a,o){return n.getDependency("accessor",a).then(function(l){t.setAttribute(o,l)})}for(const a in r){const o=xj[a]||a.toLowerCase();o in t.attributes||i.push(s(r[a],o))}if(e.indices!==void 0&&!t.index){const a=n.getDependency("accessor",e.indices).then(function(o){t.setIndex(o)});i.push(a)}return Kn.workingColorSpace!==es&&"COLOR_0"in r&&console.warn(`THREE.GLTFLoader: Converting vertex colors from "srgb-linear" to "${Kn.workingColorSpace}" not supported.`),fc(t,e),x8e(t,e,n),Promise.all(i).then(function(){return e.targets!==void 0?h8e(t,e.targets,n):t})}function b8e(t){return{data:new Float32Array(t.size*16)}}function w8e(t,e,n,r,i){const s=r.getReferenceSpace();s==null||e==null||e.session.visibilityState==="visible-blurred"||e.session.visibilityState==="hidden"||_8e(e,s,n,t.data)}const X3=new It,q3=new It;function _8e(t,e,n,r){if(!t.fillPoses(n.values(),e,r))return!1;X3.fromArray(r,0),X3.invert();for(let s=0;s<r.length;s+=16)q3.fromArray(r,s),q3.premultiply(X3),q3.toArray(r,s);return!0}function S8e(t){const e=new Map,n=new Map,r=t.clone();return Zce(t,r,function(i,s){e.set(s,i),n.set(i,s)}),r.traverse(function(i){if(!i.isSkinnedMesh)return;const s=i,a=e.get(i),o=a.skeleton.bones;s.skeleton=a.skeleton.clone(),s.bindMatrix.copy(a.bindMatrix),s.skeleton.bones=o.map(function(l){return n.get(l)}),s.bind(s.skeleton,s.bindMatrix)}),r}function Zce(t,e,n){n(t,e);for(let r=0;r<t.children.length;r++)Zce(t.children[r],e.children[r],n)}const E8e="generic-hand";function T8e(t,e){const n=mue,r=E8e;return new URL(`${r}/${t}.glb`,n).href}function A8e({scene:t}){const e=S8e(t),n=e.getObjectByProperty("type","SkinnedMesh");if(n==null)throw new Error("missing SkinnedMesh in loaded XRHand model");return n.frustumCulled=!1,e}function M8e(t,e){t.renderOrder=(e==null?void 0:e.renderOrder)??0,t.traverse(n=>{n instanceof Wn&&n.material instanceof Ai&&(n.material.colorWrite=(e==null?void 0:e.colorWrite)??!0)})}function C8e(t,e,n,r,i){return{id:t,isPrimary:i,type:"hand",inputSource:e,pose:b8e(e.hand),assetPath:T8e(e.handedness),events:r}}function P8e({inputSource:t,pose:e},n,r){w8e(e,n,t.hand,r,t.handedness)}const R8e=["wrist","thumb-metacarpal","thumb-phalanx-proximal","thumb-phalanx-distal","thumb-tip","index-finger-metacarpal","index-finger-phalanx-proximal","index-finger-phalanx-intermediate","index-finger-phalanx-distal","index-finger-tip","middle-finger-metacarpal","middle-finger-phalanx-proximal","middle-finger-phalanx-intermediate","middle-finger-phalanx-distal","middle-finger-tip","ring-finger-metacarpal","ring-finger-phalanx-proximal","ring-finger-phalanx-intermediate","ring-finger-phalanx-distal","ring-finger-tip","pinky-finger-metacarpal","pinky-finger-phalanx-proximal","pinky-finger-phalanx-intermediate","pinky-finger-phalanx-distal","pinky-finger-tip"];function O8e(t,e,n){const r=new Float32Array(t.size*16),i=R8e.map(s=>{const a=e.getObjectByName(s);if(a==null)throw new Error(`missing joint "${s}" in hand model`);return a.matrixAutoUpdate=!1,a});return s=>{const a=typeof n=="function"?n():n;if(s==null||a==null)return;s.fillPoses(t.values(),a,r);const o=i.length;for(let l=0;l<o;l++)i[l].matrix.fromArray(r,l*16)}}function N8e(t){return t!=null&&typeof t=="object"&&"inputSource"in t}function I8e(t,e){const n=r=>e.push(r);return t.addEventListener("selectstart",n),t.addEventListener("selectend",n),t.addEventListener("select",n),t.addEventListener("squeeze",n),t.addEventListener("squeezestart",n),t.addEventListener("squeezeend",n),()=>{t.removeEventListener("selectstart",n),t.removeEventListener("selectend",n),t.removeEventListener("select",n),t.removeEventListener("squeeze",n),t.removeEventListener("squeezestart",n),t.removeEventListener("squeezeend",n)}}let k8e=0;function D8e(t,e){const n=new Map,r=new h$e(e),i=new Map;return(s,a,o)=>{var c;if(o==="remove-all"){for(const u of n.values())u();return a}const l=[...a];for(const{added:u,isPrimary:d,removed:f}of o){if(f!=null)for(const h of f){const m=l.findIndex(({inputSource:g,isPrimary:v})=>v===d&&g===h);m!==-1&&(l.splice(m,1),(c=n.get(h))==null||c(),n.delete(h))}if(u!=null)for(const h of u){const m=[];let g=I8e(s,m);const v=`${h.handedness}-${h.hand?"hand":"nohand"}-${h.targetRayMode}-${h.profiles.join(",")}`;let y;if((y=i.get(v))==null&&i.set(v,y=`${k8e++}`),h.hand!=null)l.push(C8e(y,h,e,m,d));else switch(h.targetRayMode){case"gaze":l.push({id:y,isPrimary:d,type:"gaze",inputSource:h,events:m});break;case"screen":l.push({id:y,isPrimary:d,type:"screenInput",inputSource:h,events:m});break;case"transient-pointer":l.push({id:y,isPrimary:d,type:"transientPointer",inputSource:h,events:m});break;case"tracked-pointer":let w=!1;const _=g;g=()=>{_(),w=!0};const S=p$e(y,h,r,m,d);S instanceof Promise?S.then(E=>!w&&t(E)).catch(console.error):l.push(S);break}n.set(h,g)}}return l}}function L8e(t,e){const n=(r,i)=>{i!=null&&r.visibilityState===i.visibilityState||e(r.visibilityState==="visible")};return n(t.getState()),t.subscribe(n)}class j8e extends Ss{constructor(){super({transparent:!0,toneMapped:!1,depthWrite:!1})}onBeforeCompile(e,n){super.onBeforeCompile(e,n),e.vertexShader=`varying vec2 vLocalPosition;
`+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>",`#include <color_vertex>
        vLocalPosition = position.xy * 2.0;`),e.fragmentShader=`varying vec2 vLocalPosition;
`+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>",`#include <color_fragment>
          float value = max(0.0, 1.0 - sqrt(dot(vLocalPosition, vLocalPosition)));
          diffuseColor.a = diffuseColor.a * value * value;`)}}const F8e=new J(0,0,1),q7=new hr,K3=new J;function U8e(t,e,n,r,i){var l;const s=r.getIntersection();if(s==null||!r.getEnabled()||s.object.isVoidObject===!0||!Jce(t)){e.visible=!1;return}e.visible=!0;const a=typeof i.color=="function"?i.color(r):i.color;Array.isArray(a)?n.color.set(...a):n.color.set(a??"white"),n.opacity=typeof i.opacity=="function"?i.opacity(r):i.opacity??.4,e.position.copy(s.pointOnFace),e.scale.setScalar(i.size??.1);const o=s.normal??((l=s.face)==null?void 0:l.normal);o!=null&&(q7.setFromUnitVectors(F8e,o),s.object.getWorldQuaternion(e.quaternion),e.quaternion.multiply(q7),K3.set(0,0,i.cursorOffset??.01),K3.applyQuaternion(e.quaternion),e.position.add(K3)),e.updateMatrix()}function Jce({visible:t,parent:e}){return t?e==null?!0:Jce(e):!1}class B8e extends Ss{constructor(){super({transparent:!0,toneMapped:!1})}onBeforeCompile(e,n){super.onBeforeCompile(e,n),e.vertexShader=`varying float vFade;
`+e.vertexShader,e.vertexShader=e.vertexShader.replace("#include <color_vertex>",`#include <color_vertex>
            vFade = position.z + 0.5;`),e.fragmentShader=`varying float vFade;
`+e.fragmentShader,e.fragmentShader=e.fragmentShader.replace("#include <color_fragment>",`#include <color_fragment>
              diffuseColor.a *= vFade;`)}}function z8e(t,e,n,r){const i=n.getIntersection();if(!n.getEnabled()||i==null){t.visible=!1;return}t.visible=!0;const s=typeof r.color=="function"?r.color(n):r.color;Array.isArray(s)?e.color.set(...s):e.color.set(s??"white"),e.opacity=typeof r.opacity=="function"?r.opacity(n):r.opacity??.4;const a=Math.min(r.maxLength??1,i.distance);t.position.z=-a/2;const o=r.size??.005;t.scale.set(o,o,a),t.updateMatrix()}function V8e(t,e,n,r,i,s={}){const a=d=>{d.inputSource===n&&t.down(Object.assign(d,{button:s.button??0}))},o=d=>{d.inputSource===n&&t.up(Object.assign(d,{button:s.button??0}))},l=`${r}start`,c=`${r}end`,u=i.length;for(let d=0;d<u;d++){const f=i[d];switch(f.type){case l:a(f);break;case c:o(f);break}}return e.addEventListener(l,a),e.addEventListener(c,o),()=>{e.removeEventListener(l,a),e.removeEventListener(c,o)}}function $8e(t){var e;return t.getButtonsDown().size>0?.6:Qce(((e=t.getIntersection())==null?void 0:e.distance)??1/0,.07,0,.2,.4)}function c2(t){return t.getButtonsDown().size>0?.6:.4}function H8e(t){var e;return Qce(((e=t.getIntersection())==null?void 0:e.distance)??1/0,.1,.03,.2,.6)}function Qce(t,e,n,r,i){return r+Math.max(0,Math.min(1,(t-e)/(n-e)))*(i-r)}function G8e(t,e){return(n,r)=>{if(t===e)return n.identity(),!0;const i=typeof e=="function"?e():e;if(i==null)return!1;const s=r==null?void 0:r.getPose(t,i);return s==null?!1:(n.fromArray(s.transform.matrix),!0)}}function mR(t,e,n,r){r==null||r.copy(t.matrix);const i=eue(t.parent,r);return i??(r!=null&&W8e(t,e,r),n)}function W8e(t,e,n){if(t.updateWorldMatrix(!0,!1),e==null){n.copy(t.matrixWorld);return}e.updateWorldMatrix(!0,!1),n.copy(e.matrixWorld).invert().multiply(t.matrixWorld)}function eue(t,e){if(t!=null)return t.xrSpace!=null?t.xrSpace:(e==null||e.premultiply(t.matrix),eue(t.parent,e))}class X8e{constructor(e){it(this,"nativeEvent");it(this,"NONE",0);it(this,"CAPTURING_PHASE",1);it(this,"AT_TARGET",2);it(this,"BUBBLING_PHASE",3);it(this,"relatedTarget",null);this.nativeEvent=e}get altKey(){return this.getFromNative("altKey",!1)}get button(){return this.getFromNative("button",0)}get buttons(){return this.getFromNative("buttons",0)}get clientX(){return this.getFromNative("clientX",0)}get clientY(){return this.getFromNative("clientY",0)}get ctrlKey(){return this.getFromNative("ctrlKey",!1)}get layerX(){return this.getFromNative("layerX",0)}get layerY(){return this.getFromNative("layerY",0)}get metaKey(){return this.getFromNative("metaKey",!1)}get movementX(){return this.getFromNative("movementX",0)}get movementY(){return this.getFromNative("movementY",0)}get offsetX(){return this.getFromNative("offsetX",0)}get offsetY(){return this.getFromNative("offsetY",0)}get pageX(){return this.getFromNative("pageX",0)}get pageY(){return this.getFromNative("pageY",0)}get screenX(){return this.getFromNative("screenX",0)}get screenY(){return this.getFromNative("screenY",0)}get shiftKey(){return this.getFromNative("shiftKey",!1)}get x(){return this.getFromNative("x",0)}get y(){return this.getFromNative("y",0)}get detail(){return this.getFromNative("detail",0)}get view(){return this.getFromNative("view",null)}get which(){return this.getFromNative("which",0)}get cancelBubble(){return this.getFromNative("cancelBubble",!1)}get composed(){return this.getFromNative("composed",!1)}get eventPhase(){return this.getFromNative("eventPhase",0)}get isTrusted(){return this.getFromNative("isTrusted",!1)}get returnValue(){return this.getFromNative("returnValue",!1)}get timeStamp(){return this.getFromNative("timeStamp",0)}get cancelable(){return this.getFromNative("cancelable",!1)}get defaultPrevented(){return this.getFromNative("defaultPrevented",!1)}getFromNative(e,n){return e in this.nativeEvent?this.nativeEvent[e]:n}}const Y3=new J;let ka=class tue extends X8e{constructor(n,r,i,s,a,o,l=a.object,c=l,u={stopped:!r,stoppedImmediate:!1}){super(i);it(this,"type");it(this,"bubbles");it(this,"internalPointer");it(this,"intersection");it(this,"camera");it(this,"currentObject");it(this,"object");it(this,"propagationState");it(this,"_pointer");it(this,"_ray");it(this,"_intersections",[]);it(this,"_unprojectedPoint");this.type=n,this.bubbles=r,this.internalPointer=s,this.intersection=a,this.camera=o,this.currentObject=l,this.object=c,this.propagationState=u}get pointerId(){return this.internalPointer.id}get pointerType(){return this.internalPointer.type}get pointerState(){return this.internalPointer.state}get distance(){return this.intersection.distance}get distanceToRay(){return this.intersection.distanceToRay}get point(){return this.intersection.point}get index(){return this.intersection.index}get face(){return this.intersection.face}get faceIndex(){return this.intersection.faceIndex}get uv(){return this.intersection.uv}get uv1(){return this.intersection.uv1}get normal(){return this.intersection.normal}get instanceId(){return this.intersection.instanceId}get pointOnLine(){return this.intersection.pointOnLine}get batchId(){return this.intersection.batchId}get pointerPosition(){return this.intersection.pointerPosition}get pointerQuaternion(){return this.intersection.pointerQuaternion}get pointOnFace(){return this.intersection.pointOnFace}get localPoint(){return this.intersection.localPoint}get details(){return this.intersection.details}get target(){return this.object}get currentTarget(){return this.currentObject}get eventObject(){return this.currentObject}get srcElement(){return this.currentObject}get pointer(){return this._pointer==null&&(Y3.copy(this.intersection.point).project(this.camera),this._pointer=new Ve(Y3.x,Y3.y)),this._pointer}get ray(){if(this._ray!=null)return this._ray;switch(this.intersection.details.type){case"screen-ray":case"ray":case"sphere":return this._ray=new Uc(this.intersection.pointerPosition,new J(0,0,-1).applyQuaternion(this.intersection.pointerQuaternion));case"lines":return this._ray=new Uc(this.intersection.details.line.start,this.intersection.details.line.end.clone().sub(this.intersection.details.line.start).normalize())}}get intersections(){return this._intersections==null&&(this._intersections=[{...this.intersection,eventObject:this.currentObject}]),this._intersections}get unprojectedPoint(){if(this._unprojectedPoint==null){const n=this.pointer;this._unprojectedPoint=new J(n.x,n.y,0).unproject(this.camera)}return this._unprojectedPoint}get stopped(){return this.propagationState.stoppedImmediate||this.propagationState.stopped}get stoppedImmediate(){return this.propagationState.stoppedImmediate}get delta(){throw new Error("not supported")}stopPropagation(){this.propagationState.stopped=!0}stopImmediatePropagation(){this.propagationState.stoppedImmediate=!0}retarget(n){return new tue(this.type,this.bubbles,this.nativeEvent,this.internalPointer,this.intersection,this.camera,n,this.target,this.propagationState)}};class u2 extends ka{get deltaX(){return this.nativeEvent.deltaX}get deltaY(){return this.nativeEvent.deltaY}get deltaZ(){return this.nativeEvent.deltaZ}constructor(e,n,r,i,s,a){super("wheel",!0,e,n,r,i,s,a)}retarget(e){return new u2(this.nativeEvent,this.internalPointer,this.intersection,this.camera,e,this.target)}}function Na(t){nue(t,t.currentObject)}function nue(t,e){if(e==null)return;const n=K8e(e,t.type);if(n!=null&&n.length>0){const r=t.retarget(e),i=n.length;for(let s=0;s<i&&!r.stoppedImmediate;s++)n[s](r)}t.stopped||nue(t,e.parent)}const rue={click:"onClick",contextmenu:"onContextMenu",dblclick:"onDoubleClick",pointercancel:"onPointerCancel",pointerdown:"onPointerDown",pointerenter:"onPointerEnter",pointerleave:"onPointerLeave",pointermove:"onPointerMove",pointerout:"onPointerOut",pointerover:"onPointerOver",pointerup:"onPointerUp",wheel:"onWheel"},q8e=Object.keys(rue);function K8e(t,e){var r;if(t._listeners!=null&&e in t._listeners)return t._listeners[e];let n;if(t.isVoidObject&&e==="click"&&((r=t.parent)==null?void 0:r.__r3f)!=null&&(n=t.parent.__r3f.root.getState().onPointerMissed),t.__r3f!=null&&(n=t.__r3f.handlers[rue[e]]),n!=null)return[n]}const Y8e=1e10,Z8e=new hy(Y8e),K7=new Map;function iue(t){let e=K7.get(t);return e==null&&(e=new Wn(Z8e),e.isVoidObject=!0,e.parent=t,e.pointerEventsOrder=-1/0,K7.set(t,e)),e}function gR(t,e,n){var i;const r=e.normal??((i=e.face)==null?void 0:i.normal);return r==null?!1:(t.setFromNormalAndCoplanarPoint(r,e.localPoint),t.applyMatrix4(n),!0)}function J8e(t,e,n){if(e==="none"||e==="listener"&&!t)return!1;if(n==="all")return!0;if(typeof n=="function")return({id:s,type:a,state:o})=>n(s,a,o);let r,i;return"deny"in n?(i=!0,r=n.deny):(i=!1,r=n.allow),Array.isArray(r)?s=>Y7(r.includes(s.type),i):s=>Y7(r===s.type,i)}function Y7(t,e){return e?!t:t}function I5(t,e,n,r=!1,i,s,a){const o=r||Q8e(t,e),l=e.pointerEvents??i,c=l??e.defaultPointerEvents??"listener",u=e.pointerEventsType??s??"all",d=e.pointerEventsOrder??a??0,f=J8e(o,c,u),h=n.length;if(h===1)(f===!0||typeof f=="function"&&f(n[0]))&&Z3(n[0],e,c,u,d);else if(f===!0)for(let v=0;v<h;v++)Z3(n[v],e,c,u,d);else if(typeof f=="function")for(let v=0;v<h;v++){const y=n[v];f(y)&&Z3(y,e,c,u,d)}if(e.children.length===0||e.intersectChildren===!1)return;const m=e.interactableDescendants??e.children,g=m.length;for(let v=0;v<g;v++)I5(t,m[v],n,o,l,u,d)}function Q8e(t,e){var i;if(e.ancestorsHaveListeners||t==="pointer"&&e.ancestorsHavePointerListeners||t==="wheel"&&e.ancestorsHaveWheelListeners||e.__r3f!=null&&((i=e.__r3f)==null?void 0:i.eventCount)>0&&(t==="wheel"&&e.__r3f.handlers.onWheel!=null||t==="pointer"&&Object.keys(e.__r3f.handlers).some(s=>s!="onWheel")))return!0;if(e._listeners==null)return!1;if(t==="wheel"){const s=e._listeners.wheel;return s!=null&&s.length>0}const n=Object.entries(e._listeners),r=n.length;for(let s=0;s<r;s++){const a=n[s];if(a[0]!=="wheel"&&q8e.includes(a[0])&&a[1]!=null&&a[1].length>0)return!0}return!1}function Z3({intersector:t,options:e},n,r,i,s){var a;((a=e.filter)==null?void 0:a.call(e,n,r,i,s))!==!1&&t.executeIntersection(n,s)}function vR(t,e,{customSort:n=e6e}={},r){let i,s,a;const o=t.length;for(let l=0;l<o;l++){const c=t[l];if((r==null?void 0:r(c))===!1)continue;const u=e==null?void 0:e[l];(i==null||n(c,u,i,s)<0)&&(a=l,i=c,s=u)}return a}function e6e(t,e=0,n,r=0){return e!=r?r-e:t.distance-n.distance}const Z7=1e7;function k5(t,e,n,r,i,s=0){const a=e.direction.clone().multiplyScalar(Z7),o=Z7;return{distance:o+s,object:iue(t),point:a,normal:e.origin.clone().sub(a).normalize(),details:n(a,o),pointerPosition:r,pointerQuaternion:i,pointOnFace:a,localPoint:a}}function d2(t,e,n){for(;n>0;)t.push(e),--n}const jx=Symbol("buttonsDownTime"),J3=Symbol("buttonsClickTime");globalThis.pointerEventspointerMap??(globalThis.pointerEventspointerMap=new Map);$n.prototype.setPointerCapture=function(t){var e;(e=D5(t))==null||e.setCapture(this)};$n.prototype.releasePointerCapture=function(t){const e=D5(t);e==null||!e.hasCaptured(this)||e.setCapture(void 0)};$n.prototype.hasPointerCapture=function(t){var e;return((e=D5(t))==null?void 0:e.hasCaptured(this))??!1};function D5(t){var e;return(e=globalThis.pointerEventspointerMap)==null?void 0:e.get(t)}class g_{constructor(e,n,r,i,s,a,o,l,c={}){it(this,"id");it(this,"type");it(this,"state");it(this,"intersector");it(this,"getCamera");it(this,"onMoveCommited");it(this,"parentSetPointerCapture");it(this,"parentReleasePointerCapture");it(this,"options");it(this,"prevIntersection");it(this,"intersection");it(this,"prevEnabled",!0);it(this,"enabled",!0);it(this,"wheelIntersection");it(this,"pointerEntered",[]);it(this,"pointerEnteredHelper",[]);it(this,"pointerCapture");it(this,"buttonsDownTime",new Map);it(this,"buttonsDown",new Set);it(this,"wasMoved",!1);it(this,"onFirstMove",[]);var u;this.id=e,this.type=n,this.state=r,this.intersector=i,this.getCamera=s,this.onMoveCommited=a,this.parentSetPointerCapture=o,this.parentReleasePointerCapture=l,this.options=c,(u=globalThis.pointerEventspointerMap)==null||u.set(e,this)}getPointerCapture(){return this.pointerCapture}hasCaptured(e){var n;return((n=this.pointerCapture)==null?void 0:n.object)===e}setCapture(e){var n,r,i;((n=this.pointerCapture)==null?void 0:n.object)!==e&&(this.pointerCapture!=null&&((r=this.parentReleasePointerCapture)==null||r.call(this),this.pointerCapture=void 0),e!=null&&this.intersection!=null&&(this.pointerCapture={object:e,intersection:this.intersection},(i=this.parentSetPointerCapture)==null||i.call(this)))}getButtonsDown(){return this.buttonsDown}getIntersection(){return this.intersection}getEnabled(){return this.enabled}setEnabled(e,n,r=!0){var i;this.enabled!==e&&(!e&&this.pointerCapture!=null&&((i=this.parentReleasePointerCapture)==null||i.call(this),this.pointerCapture=void 0),this.enabled=e,r&&this.commit(n,!1))}computeIntersection(e,n,r){return this.pointerCapture!=null?this.intersector.intersectPointerCapture(this.pointerCapture,r):(this.intersector.startIntersection(r),I5(e,n,[this]),this.intersector.finalizeIntersection(n))}setIntersection(e){this.intersection=e}commit(e,n){var l;const r=this.getCamera(),i=this.prevEnabled?this.prevIntersection:void 0,s=this.enabled?this.intersection:void 0;i!=null&&i.object!=(s==null?void 0:s.object)&&Na(new ka("pointerout",!0,e,this,i,r));const a=this.pointerEntered;this.pointerEntered=[],this.pointerEnteredHelper.length=0,sue(s==null?void 0:s.object,this.pointerEntered,a,this.pointerEnteredHelper);const o=a.length;for(let c=0;c<o;c++){const u=a[c];Na(new ka("pointerleave",!1,e,this,i,r,u))}s!=null&&(i==null?void 0:i.object)!=s.object&&Na(new ka("pointerover",!0,e,this,s,r));for(let c=this.pointerEnteredHelper.length-1;c>=0;c--){const u=this.pointerEnteredHelper[c];Na(new ka("pointerenter",!1,e,this,s,r,u))}if(n&&s!=null&&Na(new ka("pointermove",!0,e,this,s,r)),this.prevIntersection=this.intersection,this.prevEnabled=this.enabled,!this.wasMoved&&this.intersector.isReady()){this.wasMoved=!0;const c=this.onFirstMove.length;for(let u=0;u<c;u++)this.onFirstMove[u](r);this.onFirstMove.length=0}(l=this.onMoveCommited)==null||l.call(this,this)}move(e,n){this.intersection=this.computeIntersection("pointer",e,n),this.commit(n,!0)}emitMove(e){this.intersection!=null&&Na(new ka("pointermove",!0,e,this,this.intersection,this.getCamera()))}down(e){if(this.buttonsDown.add(e.button),!this.enabled)return;if(!this.wasMoved){this.onFirstMove.push(this.down.bind(this,e));return}if(this.intersection==null)return;Na(new ka("pointerdown",!0,e,this,this.intersection,this.getCamera()));const{object:n}=this.intersection;n[jx]??(n[jx]=new Map),n[jx].set(e.button,e.timeStamp),this.buttonsDownTime.set(e.button,e.timeStamp)}up(e){if(this.buttonsDown.delete(e.button),!this.enabled)return;if(!this.wasMoved){this.onFirstMove.push(this.up.bind(this,e));return}if(this.intersection==null)return;const{clickThesholdMs:n,contextMenuButton:r=2,dblClickThresholdMs:i=500,clickThresholdMs:s=n??300}=this.options;this.pointerCapture=void 0;const a=t6e(this.buttonsDownTime,this.intersection.object[jx],e.button,e.timeStamp,s),o=this.getCamera();if(a&&e.button===r&&Na(new ka("contextmenu",!0,e,this,this.intersection,o)),Na(new ka("pointerup",!0,e,this,this.intersection,o)),!a||e.button===r)return;Na(new ka("click",!0,e,this,this.intersection,o));const{object:l}=this.intersection,c=l[J3]??(l[J3]=new Map),u=c.get(e.button);if(u==null||e.timeStamp-u>i){c.set(e.button,e.timeStamp);return}Na(new ka("dblclick",!0,e,this,this.intersection,o)),c.delete(e.button)}cancel(e){if(this.enabled){if(!this.wasMoved){this.onFirstMove.push(this.cancel.bind(this,e));return}this.intersection!=null&&Na(new ka("pointercancel",!0,e,this,this.intersection,this.getCamera()))}}wheel(e,n,r=!1){if(!this.enabled)return;if(!this.wasMoved&&r){this.onFirstMove.push(this.wheel.bind(this,e,n,r));return}r||(this.wheelIntersection=this.computeIntersection("wheel",e,n));const i=r?this.intersection:this.wheelIntersection;i!=null&&Na(new u2(n,this,i,this.getCamera()))}emitWheel(e,n=!1){if(!this.enabled)return;if(!this.wasMoved&&n){this.onFirstMove.push(this.emitWheel.bind(this,e,n));return}const r=n?this.intersection:this.wheelIntersection;r!=null&&Na(new u2(e,this,r,this.getCamera()))}exit(e){var n;this.wasMoved&&(this.pointerCapture!=null&&((n=this.parentReleasePointerCapture)==null||n.call(this),this.pointerCapture=void 0),this.intersection=void 0,this.commit(e,!1)),this.onFirstMove.length=0,this.wasMoved=!1}}function sue(t,e,n,r){if(t==null)return;const i=n.indexOf(t);i!=-1?n.splice(i,1):r.push(t),e.push(t),sue(t.parent,e,n,r)}function t6e(t,e,n,r,i){if(e==null)return!1;const s=e.get(n);return!(s==null||r-s>i||s!=t.get(n))}function yR(t){return t.transformReady===!1?!1:t.parent==null?(t.matrixWorld.copy(t.matrix),!0):yR(t.parent)?(t.matrixWorld.multiplyMatrices(t.parent.matrixWorld,t.matrix),!0):!1}const Fx=new Vs,Q3=new Vs,J7=new Ve,Q7=new Ve,eX=new Ve,ek=new J,n6e=new It,lT=new J;function v_(t,e,n){lT.copy(e).applyMatrix4(n6e.copy(n.matrixWorld).invert());const r=n.geometry.attributes.uv;if(r==null||!(r instanceof wn))return!1;let i;return r6e(n,(s,a,o)=>{n.getVertexPosition(s,Fx.a),n.getVertexPosition(a,Fx.b),n.getVertexPosition(o,Fx.c);const l=Fx.closestPointToPoint(lT,ek).distanceTo(lT);i!=null&&l>=i||(i=l,Q3.copy(Fx),J7.fromBufferAttribute(r,s),Q7.fromBufferAttribute(r,a),eX.fromBufferAttribute(r,o))}),i==null?!1:(Q3.closestPointToPoint(lT,ek),Q3.getInterpolation(ek,J7,Q7,eX,t),!0)}function r6e(t,e){const n=t.geometry.drawRange;if(t.geometry.index!=null){const a=t.geometry.index,o=Math.max(0,n.start),l=Math.min(a.count,n.start+n.count);for(let c=o;c<l;c+=3)e(a.getX(c),a.getX(c+1),a.getX(c+2));return}const r=t.geometry.attributes.position;if(r==null)return;const i=Math.max(0,n.start),s=Math.min(r.count,n.start+n.count);for(let a=i;a<s;a+=3)e(a,a+1,a+2)}const i6e=new It,tk=new l2,s6e=new J,tX=new Ua,a6e=new Uc,nX=new Ve,rX=[new J(0,0,0),new J(0,0,1)];class o6e{constructor(e,n){it(this,"space");it(this,"options");it(this,"raycasters",[]);it(this,"fromMatrixWorld",new It);it(this,"ready");it(this,"intersects",[]);it(this,"pointerEventsOrders",[]);it(this,"raycasterIndices",[]);this.space=e,this.options=n}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return e==null?this.ready=!1:(this.ready=yR(e),this.ready?(this.fromMatrixWorld.copy(e.matrixWorld),!0):!1)}intersectPointerCapture({intersection:e,object:n}){const r=e.details;if(r.type!="lines")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a lines intersector`);if(!this.prepareTransformation())return e;const i=this.options.linePoints??rX;tk.set(i[r.lineIndex],i[r.lineIndex+1]).applyMatrix4(this.fromMatrixWorld);const s=tk.at(r.distanceOnLine/tk.distance(),new J);e.object.updateWorldMatrix(!0,!1),gR(tX,e,e.object.matrixWorld);const a=a6e.intersectPlane(tX,new J)??s,o=new J,l=new hr;this.fromMatrixWorld.decompose(o,l,s6e);let c=e.uv;return e.object instanceof Wn&&v_(nX,s,e.object)&&(c=nX.clone()),{...e,object:n,uv:c,pointOnFace:a,point:s,pointerPosition:o,pointerQuaternion:l}}startIntersection(){if(!this.prepareTransformation())return;const e=this.options.linePoints??rX,n=e.length-1;for(let r=0;r<n;r++){const i=e[r],s=e[r+1],a=this.raycasters[r]??(this.raycasters[r]=new gy);a.ray.origin.copy(i).applyMatrix4(this.fromMatrixWorld),a.ray.direction.copy(s).applyMatrix4(this.fromMatrixWorld),a.ray.direction.sub(a.ray.origin);const o=a.ray.direction.length();a.ray.direction.divideScalar(o),a.far=o}this.raycasters.length=n}executeIntersection(e,n){if(!this.isReady())return;const r=this.intersects.length,i=this.raycasters.length;for(let s=0;s<i;s++){const a=this.raycasters[s],o=this.intersects.length;e.raycast(a,this.intersects),d2(this.raycasterIndices,s,this.intersects.length-o)}d2(this.pointerEventsOrders,n,this.intersects.length-r)}finalizeIntersection(e){const n=new J().setFromMatrixPosition(this.fromMatrixWorld),r=new hr().setFromRotationMatrix(this.fromMatrixWorld),i=vR(this.intersects,this.pointerEventsOrders,this.options),s=i==null?void 0:this.intersects[i],a=i==null?void 0:this.raycasterIndices[i];if(this.intersects.length=0,this.raycasterIndices.length=0,this.pointerEventsOrders.length=0,s==null||a==null){const c=this.raycasters.length-1,u=this.raycasters.reduce((f,h,m)=>m===c?f:f+h.far,0),d=this.raycasters[c];return k5(e,d.ray,(f,h)=>({line:new l2(d.ray.origin.clone(),f),lineIndex:this.raycasters.length-1,distanceOnLine:h,type:"lines"}),n,r,u)}let o=s.distance;for(let c=0;c<a;c++)o+=this.raycasters[c].far;s.object.updateWorldMatrix(!0,!1);const l=this.raycasters[a];return Object.assign(s,{details:{lineIndex:a,distanceOnLine:s.distance,type:"lines",line:new l2(l.ray.origin.clone(),l.ray.direction.clone().multiplyScalar(l.far).add(l.ray.origin))},distance:o,pointerPosition:n,pointerQuaternion:r,pointOnFace:s.point,localPoint:s.point.clone().applyMatrix4(i6e.copy(s.object.matrixWorld).invert())})}}const wj=new It,_j=new J,l6e=new J(0,0,-1),iX=new Ua,f2=new Ve;class c6e{constructor(e,n){it(this,"space");it(this,"options");it(this,"raycaster",new gy);it(this,"raycasterQuaternion",new hr);it(this,"worldScale",0);it(this,"ready");it(this,"intersects",[]);it(this,"pointerEventsOrders",[]);this.space=e,this.options=n}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){var n;const e=this.space.current;return e==null?this.ready=!1:(this.ready=yR(e),this.ready?(e.matrixWorld.decompose(this.raycaster.ray.origin,this.raycasterQuaternion,_j),this.worldScale=_j.x,this.raycaster.ray.direction.copy(((n=this.options)==null?void 0:n.direction)??l6e).applyQuaternion(this.raycasterQuaternion),!0):!1)}intersectPointerCapture({intersection:e,object:n}){if(e.details.type!="ray")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a ray intersector`);if(!this.prepareTransformation())return e;e.object.updateWorldMatrix(!0,!1),gR(iX,e,e.object.matrixWorld);const{ray:r}=this.raycaster,i=r.intersectPlane(iX,new J)??e.point,s=r.direction.clone().multiplyScalar(e.pointerPosition.distanceTo(e.point)).add(r.origin);let a=e.uv;return e.object instanceof Wn&&v_(f2,s,e.object)&&(a=f2.clone()),{...e,uv:a,object:n,pointOnFace:i,point:s,pointerPosition:r.origin.clone(),pointerQuaternion:this.raycasterQuaternion.clone()}}startIntersection(){this.prepareTransformation()}executeIntersection(e,n){if(!this.isReady())return;const r=this.intersects.length;e.raycast(this.raycaster,this.intersects),d2(this.pointerEventsOrders,n,this.intersects.length-r)}finalizeIntersection(e){const n=this.raycaster.ray.origin.clone(),r=this.raycasterQuaternion.clone();let i;if(this.options.minDistance!=null){const o=this.options.minDistance/this.worldScale;i=l=>l.distance>=o}const s=vR(this.intersects,this.pointerEventsOrders,this.options,i),a=s==null?void 0:this.intersects[s];return this.intersects.length=0,this.pointerEventsOrders.length=0,a==null?k5(e,this.raycaster.ray,()=>({type:"ray"}),n,r):(a.object.updateWorldMatrix(!0,!1),Object.assign(a,{details:{type:"ray"},pointerPosition:n,pointerQuaternion:r,pointOnFace:a.point,localPoint:a.point.clone().applyMatrix4(wj.copy(a.object.matrixWorld).invert())}))}}const u6e=new J;class gbt{constructor(e,n){it(this,"prepareTransformation");it(this,"options");it(this,"raycaster",new gy);it(this,"cameraQuaternion",new hr);it(this,"fromPosition",new J);it(this,"fromQuaternion",new hr);it(this,"coords",new Ve);it(this,"viewPlane",new Ua);it(this,"intersects",[]);it(this,"pointerEventsOrders",[]);this.prepareTransformation=e,this.options=n}isReady(){return!0}intersectPointerCapture({intersection:e,object:n},r){const i=e.details;if(i.type!="screen-ray")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a camera ray intersector`);if(!this.startIntersection(r))return e;this.viewPlane.constant-=i.distanceViewPlane;const s=this.raycaster.ray.intersectPlane(this.viewPlane,new J);if(s==null)return e;e.object.updateWorldMatrix(!0,!1),gR(this.viewPlane,e,e.object.matrixWorld);let a=e.uv;return e.object instanceof Wn&&v_(f2,s,e.object)&&(a=f2.clone()),{...e,details:{...i,direction:this.raycaster.ray.direction.clone(),screenPoint:this.coords.clone()},uv:a,object:n,point:s,pointOnFace:s,pointerPosition:this.raycaster.ray.origin.clone(),pointerQuaternion:this.cameraQuaternion.clone()}}startIntersection(e){const n=this.prepareTransformation(e,this.coords);return n==null?!1:(n.updateWorldMatrix(!0,!1),n.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,_j),this.raycaster.setFromCamera(this.coords,n),this.viewPlane.setFromNormalAndCoplanarPoint(n.getWorldDirection(u6e),this.raycaster.ray.origin),!0)}executeIntersection(e,n){const r=this.intersects.length;e.raycast(this.raycaster,this.intersects),d2(this.pointerEventsOrders,n,this.intersects.length-r)}finalizeIntersection(e){const n=this.fromPosition.clone(),r=this.cameraQuaternion.clone(),i=this.raycaster.ray.direction.clone(),s=vR(this.intersects,this.pointerEventsOrders,this.options),a=s==null?void 0:this.intersects[s];return this.intersects.length=0,this.pointerEventsOrders.length=0,a==null?k5(e,this.raycaster.ray,(o,l)=>({type:"screen-ray",distanceViewPlane:l,screenPoint:this.coords.clone(),direction:i}),n,r):(a.object.updateWorldMatrix(!0,!1),wj.copy(a.object.matrixWorld).invert(),Object.assign(a,{details:{type:"screen-ray",distanceViewPlane:this.viewPlane.distanceToPoint(a.point),screenPoint:this.coords.clone(),direction:i},pointOnFace:a.point,pointerPosition:n,pointerQuaternion:r,localPoint:a.point.clone().applyMatrix4(wj)}))}}const d6e=new J,h2=new Ve;class aue{constructor(e,n,r){it(this,"space");it(this,"getSphereRadius");it(this,"options");it(this,"fromPosition",new J);it(this,"fromQuaternion",new hr);it(this,"collisionSphere",new Ti);it(this,"ready");it(this,"intersects",[]);this.space=e,this.getSphereRadius=n,this.options=r}isReady(){return this.ready??this.prepareTransformation()}prepareTransformation(){const e=this.space.current;return e==null?this.ready=!1:(this.ready=yR(e),this.ready?(e.matrixWorld.decompose(this.fromPosition,this.fromQuaternion,d6e),!0):!1)}intersectPointerCapture({intersection:e,object:n}){if(e.details.type!="sphere")throw new Error(`unable to process a pointer capture of type "${e.details.type}" with a sphere intersector`);if(!this.prepareTransformation())return e;sX.copy(e.point).sub(e.pointerPosition),aX.copy(e.pointerQuaternion).invert().multiply(this.fromQuaternion);const r=sX.clone().applyQuaternion(aX).add(this.fromPosition);e.object.updateWorldMatrix(!0,!1),gR(oX,e,e.object.matrixWorld);const i=oX.projectPoint(this.fromPosition,new J);let s=e.uv;return e.object instanceof Wn&&v_(h2,r,e.object)&&(s=h2.clone()),{details:{type:"sphere"},uv:s,distance:r.distanceTo(i),pointerPosition:this.fromPosition.clone(),pointerQuaternion:this.fromQuaternion.clone(),object:n,point:r,pointOnFace:i,face:e.face,localPoint:e.localPoint}}startIntersection(){this.prepareTransformation()&&(this.collisionSphere.center.copy(this.fromPosition),this.collisionSphere.radius=this.getSphereRadius())}executeIntersection(e){this.isReady()&&f6e(this.collisionSphere,e,this.intersects)}finalizeIntersection(e){const n=this.fromPosition.clone(),r=this.fromQuaternion.clone(),i=vR(this.intersects,void 0,this.options),s=i==null?void 0:this.intersects[i];return this.intersects.length=0,s==null?{details:{type:"sphere"},distance:0,point:n,object:iue(e),pointerPosition:n,pointerQuaternion:r,pointOnFace:n,localPoint:n}:(s.object.updateWorldMatrix(!0,!1),Object.assign(s,{details:{type:"sphere"},pointOnFace:s.point,pointerPosition:this.fromPosition.clone(),pointerQuaternion:this.fromQuaternion.clone(),localPoint:s.point.clone().applyMatrix4(p2.copy(s.object.matrixWorld).invert())}))}}const cT=new It;function f6e(t,e,n){if(e.updateWorldMatrix(!0,!1),e.spherecast!=null){e.spherecast(t,n);return}if(e instanceof VP){e.geometry.boundingSphere==null&&e.geometry.computeBoundingSphere(),e.geometry.boundingBox==null&&e.geometry.computeBoundingBox();for(let i=0;i<e.count;i++){if(e.getMatrixAt(i,cT),cT.premultiply(e.matrixWorld),!lX(t,e,cT))continue;const s=uX(t,e,cT,i);s!=null&&n.push(s)}}if(!(e instanceof Wn)||!lX(t,e,e.matrixWorld))return;p2.copy(e.matrixWorld).invert();const r=uX(t,e,e.matrixWorld);r!=null&&n.push(r)}const sX=new J,aX=new hr,oX=new Ua,Tv=new Ti;function lX(t,{geometry:e},n){return e.boundingSphere==null&&e.computeBoundingSphere(),Tv.copy(e.boundingSphere).applyMatrix4(n),Tv.center.distanceToSquared(t.center)<(t.radius+Tv.radius)**2}const uT=new J,nk=new J,cX=new J,h6e=new J(1e-4,1e-4,1e-4),p2=new It;function uX(t,e,n,r){p2.copy(n).invert(),Tv.copy(t).applyMatrix4(p2);const{geometry:i}=e;i.boundingBox==null&&i.computeBoundingBox(),i.boundingBox.getSize(nk),i.boundingBox.getCenter(cX),i.boundingBox.clampPoint(Tv.center,uT),uT.applyMatrix4(n);const s=uT.distanceToSquared(t.center);if(s>t.radius*t.radius)return;nk.max(h6e);const a=Tv.center.clone().sub(cX);a.divide(nk),p6e(a);const o=uT.clone();let l;return v_(h2,o,e)&&(l=h2.clone()),{distance:Math.sqrt(s),face:{a:0,b:0,c:0,materialIndex:0,normal:a},uv:l,normal:a,point:o,instanceId:r,object:e}}function p6e(t){const e=Math.abs(t.x),n=Math.abs(t.y),r=Math.abs(t.z);if(e>=n&&e>=r){t.set(t.x<0?-1:1,0,0);return}if(n>=e&&n>=r){t.set(0,t.y<0?-1:1,0);return}t.set(0,0,t.z<0?-1:1)}function m6e(t,e,n,r={},i="grab"){return new g_(xR(),i,n,new aue(e,()=>r.radius??.07,r),t,void 0,void 0,void 0,r)}function g6e(t,e,n,r={},i="ray"){return new g_(xR(),i,n,new c6e(e,r),t,void 0,void 0,void 0,r)}function v6e(t,e,n,r={},i="lines"){return new g_(xR(),i,n,new o6e(e,r),t,void 0,void 0,void 0,r)}function y6e(t,e,n,r={},i="touch"){return new g_(xR(),i,n,new aue(e,()=>r.hoverRadius??.1,r),t,x6e(r),void 0,void 0,r)}function x6e(t){let e=!1;return n=>{if(!n.getEnabled())return;const r=n.getIntersection(),i=b6e(r,t.downRadius??.03);if(i===e)return;const s={timeStamp:performance.now(),button:t.button??0};i?n.down(s):n.up(s),e=i}}function b6e(t,e){return t==null?!1:t.distance<=e}let w6e=23412;function xR(){return w6e++}let oue=class Sj{constructor(e){it(this,"enableMultiplePointers");it(this,"pointers",[]);it(this,"isDefaults",[]);it(this,"enabled",!0);it(this,"activePointer");it(this,"nonCapturedPointers",[]);this.enableMultiplePointers=e}register(e,n=!1){return this.pointers.push(e),this.isDefaults.push(n),this.unregister.bind(this,e)}unregister(e){const n=this.pointers.indexOf(e);n!==-1&&(this.isDefaults.splice(n,1),this.pointers.splice(n,1))}startIntersection(e,n){const r=this.pointers.length;let i=!1;for(let s=0;s<r;s++){const a=this.pointers[s];if(a instanceof Sj){a.startIntersection(e,n);continue}const o=a.getPointerCapture();if(o!=null){i=!0,a.setIntersection(a.intersector.intersectPointerCapture(o,n));continue}e.push(a),a.intersector.startIntersection(n)}return i}getIntersection(){var e;return(e=this.activePointer)==null?void 0:e.getIntersection()}getPointerCapture(){var e;return(e=this.activePointer)==null?void 0:e.getPointerCapture()}computeActivePointer(){let e;this.activePointer=void 0;const n=this.pointers.length;for(let r=0;r<n;r++){const i=this.pointers[r];i instanceof Sj&&i.computeActivePointer();const s=i.getIntersection(),a=i.getPointerCapture()!=null?-1/0:s!=null&&s.object.isVoidObject?1/0:(s==null?void 0:s.distance)??1/0,o=this.isDefaults[r];(e==null||o&&a===e||a<e)&&(this.activePointer=i,e=a)}}commit(e,n,r=!0){if(this.enableMultiplePointers){const s=this.pointers.length;for(let a=0;a<s;a++)this.pointers[a].commit(e,n);return}r&&this.computeActivePointer();const i=this.pointers.length;for(let s=0;s<i;s++){const a=this.pointers[s];a.setEnabled(a===this.activePointer,e,!1),a.commit(e,n,!1)}}move(e,n){if(!this.enabled)return;if(this.nonCapturedPointers.length=0,!this.startIntersection(this.nonCapturedPointers,n)||this.enableMultiplePointers){I5("pointer",e,this.nonCapturedPointers);const i=this.nonCapturedPointers.length;for(let s=0;s<i;s++){const a=this.nonCapturedPointers[s];a.setIntersection(a.intersector.finalizeIntersection(e))}}this.commit(n,!0)}setEnabled(e,n){this.enabled=e;const r=this.pointers.length;for(let i=0;i<r;i++){const s=this.pointers[i];s.setEnabled(e&&(this.enableMultiplePointers||s==this.activePointer),n)}}};const _6e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"piiwaqfzdngsltpaqbke",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpaXdhcWZ6ZG5nc2x0cGFxYmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTk0ODQsImV4cCI6MjA3OTU3NTQ4NH0.W82GXZWhbTEXiWU4a3X0w8SkFbs1A88KtVHF9P0HOEE",VITE_SUPABASE_URL:"https://piiwaqfzdngsltpaqbke.supabase.co"},dX=t=>{let e;const n=new Set,r=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const h=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),n.forEach(m=>m(e,h))}},i=()=>e,l={setState:r,getState:i,getInitialState:()=>c,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(_6e?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},c=e=t(r,i,l);return l},S6e=t=>t?dX(t):dX;new J;new J;new J;function E6e(){return navigator.userAgent.includes("Macintosh")&&navigator.xr!=null}function lue(t,e,{anchors:n=!0,handTracking:r=!E6e(),layers:i=!0,meshDetection:s=!0,planeDetection:a=!0,customSessionInit:o,depthSensing:l=!1,hitTest:c=!0,domOverlay:u=!0,bodyTracking:d=!1,bounded:f}={}){if(o!=null)return o;const h=f==null?["local-floor"]:f?["bounded-floor"]:["unbounded","local-floor"],m=[];u instanceof Element&&(u=!0),cu(n,"anchors",h,m),cu(r,"hand-tracking",h,m),cu(i,"layers",h,m),cu(s,"mesh-detection",h,m),cu(a,"plane-detection",h,m),cu(l,"depth-sensing",h,m),cu(u,"dom-overlay",h,m),cu(c,"hit-test",h,m),cu(d,"body-tracking",h,m);const g={requiredFeatures:h,optionalFeatures:m};return e!=null&&(g.domOverlay={root:e}),l&&Object.assign(g,{depthSensing:{usagePreference:["gpu-optimized"],dataFormatPreference:[]}}),g}function cu(t,e,n,r){if(t!==!1){if(t===!0){r.push(e);return}n.push(e)}}function Av(t,e,n){return typeof t=="function"?t:(typeof t=="object"&&(e!=null&&T6e(t,e)?t=t[e]:"default"in t&&(t=t.default)),t===!1?!1:t===!0?n:t??n)}function T6e(t,e){return e in t}const cue={session:void 0,mediaBinding:void 0,originReferenceSpace:void 0,visibilityState:void 0,mode:null,frameRate:void 0,inputSourceStates:[],detectedMeshes:[],detectedPlanes:[],layerEntries:[]};async function fX(t,e,n){var a,o;if(typeof navigator>"u")return!1;const[r,i]=await Promise.all([(a=navigator.xr)==null?void 0:a.isSessionSupported("immersive-vr").catch(l=>(console.error(l),!1)),(o=navigator.xr)==null?void 0:o.isSessionSupported("immersive-ar").catch(l=>(console.error(l),!1))]);if(i||r)return!1;const{emulate:s}=await Zze(async()=>{const{emulate:l}=await import("./emulate-BgtC9tjL.js");return{emulate:l}},[]);return n&&window.alert("emulator started"),t.setState({emulator:s(e)}),!0}const rk=new J,dT=new J;function A6e(t){const e=typeof HTMLElement>"u"?void 0:(t==null?void 0:t.domOverlay)instanceof HTMLElement?t.domOverlay:document.createElement("div"),n=S6e(()=>({...cue,controller:t==null?void 0:t.controller,hand:t==null?void 0:t.hand,gaze:t==null?void 0:t.gaze,screenInput:t==null?void 0:t.screenInput,transientPointer:t==null?void 0:t.transientPointer,domOverlayRoot:e})),r=n.subscribe(({session:h},{session:m})=>{m!=null&&h==null&&d!=null&&fT(d,t,e).catch(console.error)}),i="metaQuest3";let s;if(typeof window<"u"&&i!=!1){const h={hostname:"localhost"};(h===!0||typeof h!="boolean"&&window.location.hostname===h.hostname)&&fX(n,i,!1).then(g=>{!g||d==null||fT(d,t,e)});const m=g=>{g.altKey&&g.metaKey&&g.code==="KeyE"&&fX(n,i,!0).then(v=>{!v||d==null||fT(d,t,e)})};window.addEventListener("keydown",m),s=()=>window.removeEventListener("keydown",m)}let a;if(e!=null){if(e.parentNode==null){const h=g=>{e.style.display=g.session!=null?"block":"none"},m=n.subscribe(h);h(n.getState()),document.body.appendChild(e),a=()=>{e.remove(),m()}}document.body.append(e)}const o=D8e(h=>n.setState({inputSourceStates:[...n.getState().inputSourceStates,h]}),t),l=P6e(n,o),c=C6e(t==null?void 0:t.enterGrantedSession,h=>hT(e,h,t,d)),u=[];let d;const f=()=>{n.setState(l(d.getSession()))};return Object.assign(n,{addLayerEntry(h){n.getState().session!=null&&n.setState({layerEntries:[...n.getState().layerEntries,h]})},removeLayerEntry(h){n.getState().session!=null&&n.setState({layerEntries:n.getState().layerEntries.filter(m=>m!=h)})},requestFrame(){return new Promise(h=>u.push(h))},setWebXRManager(h){if(d===h)return;d==null||d.removeEventListener("sessionstart",f),d=h,d.addEventListener("sessionstart",f);const{foveation:m,bounded:g}={};d.setReferenceSpaceType(g?"bounded-floor":"local-floor"),m!=null&&d.setFoveation(m),fT(d,t,e).catch(console.error)},setFrameRate(h){const{session:m}=n.getState();m!=null&&uue(m,h)},setHand(h,m){if(m==null){n.setState({hand:h});return}const g=n.getState().hand,v={};typeof g=="object"&&Object.assign(v,g),Object.assign(v,{default:Av(g,void 0,{}),[m]:h}),n.setState({hand:v})},setController(h,m){if(m==null){n.setState({controller:h});return}const g=n.getState().controller,v={};typeof g=="object"&&Object.assign(v,g),Object.assign(v,{default:Av(g,void 0,{}),[m]:h}),n.setState({controller:v})},setTransientPointer(h,m){if(m==null){n.setState({transientPointer:h});return}const g=n.getState().transientPointer,v={};typeof g=="object"&&Object.assign(v,g),Object.assign(v,{default:Av(g,void 0,{}),[m]:h}),n.setState({transientPointer:v})},setGaze(h){n.setState({gaze:h})},setScreenInput(h){n.setState({screenInput:h})},destroy(){d==null||d.removeEventListener("sessionstart",f),s==null||s(),a==null||a(),c==null||c(),r(),l(void 0)},enterXR:h=>hT(e,h,t,d),enterAR:()=>hT(e,"immersive-ar",t,d),enterVR:()=>hT(e,"immersive-vr",t,d),onBeforeFrame(h,m,g){let v;const y=(d==null?void 0:d.getReferenceSpace())??void 0,w=n.getState(),_=m.parent??h;if(w.origin!=_&&(v??(v={}),v.origin=_),y!=w.originReferenceSpace&&(v??(v={}),v.originReferenceSpace=y),_.xrSpace=y,w.origin!=_&&w.origin!=null&&(w.origin.xrSpace=void 0),g!=null&&(d!=null&&R6e(n,g,d),w.body!=g.body&&(v??(v={}),v.body=g.body)),v!=null&&n.setState(v),g!=null){const S=u.length;for(let E=0;E<S;E++)u[E](g);u.length=0}},onBeforeRender(){const{session:h,layerEntries:m}=n.getState();if(h==null||d==null)return;const g=d.getCamera();g.aspect=g.projectionMatrix.elements[5]/g.projectionMatrix.elements[0];const v=h==null?void 0:h.renderState.layers;if(v==null)return;g.getWorldPosition(rk),m.sort((_,S)=>{const E=_.renderOrder-S.renderOrder;if(E!==0)return E;_.object3D.getWorldPosition(dT);const A=dT.distanceToSquared(rk);return S.object3D.getWorldPosition(dT),dT.distanceToSquared(rk)-A});let y=!1;const w=m.map(({layer:_},S)=>(_!=v[S]&&(y=!0),_));y&&(w.push(d.getBaseLayer()),h.updateRenderState({layers:w}))}})}async function fT(t,e,n){var a;if(((a=navigator.xr)==null?void 0:a.offerSession)==null)return;let i;i=await navigator.xr.isSessionSupported("immersive-ar")??!1?"immersive-ar":"immersive-vr";const s=await navigator.xr.offerSession(i,lue(i,n,e));due(s,t)}async function uue(t,e){if(e===!1)return;const{supportedFrameRates:n}=t;if(n==null||n.length===0)return;if(typeof e=="function"){const i=e(n);if(i===!1)return;await t.updateTargetFrameRate(i);return}const r=e==="high"?1:e==="mid"?.5:0;await t.updateTargetFrameRate(n[Math.ceil((n.length-1)*r)])}async function hT(t,e,n,r){if(typeof navigator>"u"||navigator.xr==null)return Promise.reject(new Error("WebXR not supported"));if(r==null)return Promise.reject(new Error("not connected to three.js. You either might be missing the <XR> component or the canvas is not yet loaded?"));const i=await navigator.xr.requestSession(e,lue(e,t,n));return await due(i,r),i}async function due(t,e,n){await Promise.all([uue(t,"high"),M6e(e,t)])}async function M6e(t,e,n){t!=null&&(XRWebGLLayer.getNativeFramebufferScaleFactor(e),await(t==null?void 0:t.setSession(e)))}const hX=["immersive-ar","immersive-vr","inline"];function C6e(t=hX,e){var r;if(typeof navigator>"u"||t===!1)return;t===!0&&(t=hX);const n=async()=>{var i;for(const s of t)await((i=navigator.xr)==null?void 0:i.isSessionSupported(s))&&e(s)};return(r=navigator.xr)==null||r.addEventListener("sessiongranted",n),()=>{var i;return(i=navigator.xr)==null?void 0:i.removeEventListener("sessiongranted",n)}}function P6e(t,e,n){let r;return i=>{if(r==null||r(),i==null)return{};const s=[];let a;const o=()=>{a=void 0,t.setState({inputSourceStates:e(i,t.getState().inputSourceStates,s)}),s.length=0},c=((m,g)=>{s.push({isPrimary:m,added:g.added,removed:g.removed}),a==null&&o()}).bind(null,!0);i.addEventListener("inputsourceschange",c);const u=()=>t.setState({frameRate:i.frameRate,visibilityState:i.visibilityState});i.addEventListener("frameratechange",u),i.addEventListener("visibilitychange",u);const d=()=>{r==null||r(),r=void 0,t.setState({emulator:t.getState().emulator,...cue})};i.addEventListener("end",d);const f=[{isPrimary:!0,added:i.inputSources}],h=e(i,[],f);return r=()=>{clearTimeout(a),e(i,t.getState().inputSourceStates,"remove-all"),i.removeEventListener("end",d),i.removeEventListener("frameratechange",u),i.removeEventListener("visibilitychange",u),i.removeEventListener("inputsourceschange",c)},{inputSourceStates:h,frameRate:i.frameRate,visibilityState:i.visibilityState,detectedMeshes:[],detectedPlanes:[],mode:i.environmentBlendMode==="opaque"?"immersive-vr":"immersive-ar",session:i,mediaBinding:typeof XRMediaBinding>"u"?void 0:new XRMediaBinding(i)}}}function R6e(t,e,n){const r=n.getReferenceSpace(),{detectedMeshes:i,detectedPlanes:s,session:a,inputSourceStates:o}=t.getState();if(r==null||a==null)return;const l=pX(s,e.detectedPlanes),c=pX(i,e.detectedMeshes);(s!=l||i!=c)&&t.setState({detectedPlanes:l,detectedMeshes:c});const u=o.length;for(let d=0;d<u;d++){const f=o[d];switch(f.type){case"controller":m$e(f);break;case"hand":P8e(f,e,n);break}}}const O6e=[];function pX(t,e){return e==null?O6e:t!=null&&N6e(e,t)?t:Array.from(e)}function N6e(t,e){if(t.size!=e.length)return!1;for(const n of e)if(!t.has(n))return!1;return!0}new $f;new Mo;async function I6e(t,e=d$e){const{scene:n}=await e.loadAsync(t.assetPath);return n.clone(!0)}function k6e(t,e){t.renderOrder=(e==null?void 0:e.renderOrder)??0,t.traverse(n=>{n instanceof Wn&&n.material instanceof Ai&&(n.material.colorWrite=(e==null?void 0:e.colorWrite)??!0)})}function D6e(t,e,n){const r=[];for(const i in e.components){const s=e.components[i];let a=n[i];a==null&&(n[i]=a={state:"default"}),r.push(...Object.values(s.visualResponses).map(o=>L6e(t,a,o)))}return()=>{const i=r.length;for(let s=0;s<i;s++)r[s]()}}function L6e(t,e,n){const r=t.getObjectByName(n.valueNodeName);if(e.object=r,r==null)return()=>{};if(n.valueNodeProperty==="visibility")return()=>r.visible=n.states.includes(e.state);const i=t.getObjectByName(n.minNodeName),s=t.getObjectByName(n.maxNodeName);return i==null||s==null?()=>{}:()=>{const a=j6e(e,n);r.quaternion.slerpQuaternions(i.quaternion,s.quaternion,a),r.position.lerpVectors(i.position,s.position,a),r.updateMatrix()}}function j6e(t,{componentProperty:e,states:n}){const r=n.includes(t.state);switch(e){case"xAxis":return r?mX(t).x:.5;case"yAxis":return r?mX(t).y:.5;case"button":return r?t.button??0:0;case"state":return r?1:0}}const Ux=new Ve;function mX({xAxis:t=0,yAxis:e=0}){if(Ux.lengthSq()>1){const r=Math.atan2(e,t);Ux.set(Math.cos(r),Math.sin(r))}else Ux.set(t,e);return Ux.multiplyScalar(.5).addScalar(.5),Ux}function gX(t,e){if(e!=null&&e.createdAt!=null&&e.createdAt>=t.lastChangedTime)return e;const n=new un;return n.setIndex(new wn(t.indices,1)),n.setAttribute("position",new wn(t.vertices,3)),Object.assign(n,{creationTime:t.lastChangedTime})}function vX(t,e){return e!=null&&e.createdAt!=null&&e.createdAt>=t.lastChangedTime?e:Object.assign(F6e(t.polygon),{createdAt:t.lastChangedTime})}const Bx=new Dle,pT=new Ve;function F6e(t){if(t.length===0)return new un;const e=new ff,n=t.map(({x:i,z:s})=>new Ve(i,s));Bx.setFromPoints(n),Bx.getSize(pT);for(const i of n)i.sub(Bx.min),i.divide(pT);e.setFromPoints(n);const r=new d_(e);return r.scale(pT.x,pT.y,1),r.translate(Bx.min.x,Bx.min.y,0),r.rotateX(Math.PI/2),r}function m2(t,e=1){if(t!=null)return{x:pp(t.x),y:pp(t.y),z:pp(t.z),w:"w"in t?pp(t.w,e):e}}function pp(t,e=0){return isNaN(t)?e:t}const fue=60/180*Math.PI,U6e=60/180*Math.PI,B6e=-30/180*Math.PI,z6e=30/180*Math.PI;function V6e(t,e,n,r,i,s,a){return t instanceof HTMLVideoElement?$6e(t,e,n,i,s,a):H6e(t,e.origin,n,r,i,s,a)}function $6e(t,e,n,r,{invertStereo:i,layout:s,shape:a="quad"},o={}){var h;const l=mR(r,e.origin,n,y0),c=L5(y0,nm),u={invertStereo:i,layout:s,space:l,transform:c};F5(a,u,o.centralAngle,nm);const d=`create${hue(a)}Layer`,f=(h=e.mediaBinding)==null?void 0:h[d](t,u);if(f!=null)return j5(f,o),f}function H6e(t,e,n,r,i,{shape:s="quad",...a},o={}){var h;const l=mR(i,e,n,y0),c=L5(y0,nm),u={...a,isStatic:!(t instanceof mi),textureType:"texture",viewPixelWidth:a.layout==="stereo-left-right"?t.width/2:t.width,viewPixelHeight:a.layout==="stereo-top-bottom"?t.height/2:t.height,space:l,transform:c};F5(s,u,o.centralAngle,nm);const d=`create${hue(s)}Layer`,f=(h=r.getBinding())==null?void 0:h[d](u);if(f!=null)return j5(f,o),f}const y0=new It,yX=new J,xX=new hr,nm=new J;function L5(t,e=nm){return t.decompose(yX,xX,e),e.x=pp(e.x),e.y=pp(e.y),e.z=pp(e.z),new XRRigidTransform(m2(yX),m2(xX))}function hue(t){return`${t[0].toUpperCase()}${t.slice(1)}`}function j5(t,e={}){if(t.chromaticAberrationCorrection=e.chromaticAberrationCorrection,t.quality=e.quality??"default",t.blendTextureSourceAlpha=e.blendTextureSourceAlpha??!1,t instanceof XRCylinderLayer){t.centralAngle=(e==null?void 0:e.centralAngle)??fue;return}t instanceof XREquirectLayer&&(t.centralHorizontalAngle=(e==null?void 0:e.centralHorizontalAngle)??U6e,t.lowerVerticalAngle=(e==null?void 0:e.lowerVerticalAngle)??B6e,t.upperVerticalAngle=(e==null?void 0:e.upperVerticalAngle)??z6e)}function G6e(t,e,n,r){let i=!1;const s=async()=>{const a=await e.requestFrame();i||X6e(t,n,a,r)};return n.addEventListener("redraw",s),s(),()=>{i=!0,n.removeEventListener("redraw",s)}}function W6e(t){if(t instanceof mi)return t.texture;const e=t instanceof HTMLVideoElement?new JB(t):new ar(t);return e.colorSpace=wi,e.needsUpdate=!0,e}function X6e(t,e,n,r){const i=t.getContext(),s=t.xr.getBinding().getSubImage(e,n);t.state.bindTexture(i.TEXTURE_2D,s.colorTexture),i.pixelStorei(i.UNPACK_FLIP_Y_WEBGL,!0),i.texSubImage2D(i.TEXTURE_2D,0,0,0,r.width,r.height,i.RGBA,i.UNSIGNED_BYTE,r)}function q6e(t,e,n,r){t.originReferenceSpace!=null&&(e.space=mR(r,t.origin,t.originReferenceSpace,y0),e.transform=L5(y0,nm),F5(K6e(e),e,n,nm))}function F5(t,e,n,r){if(t==="cylinder"){const s=(r.x+r.z)/2,a=s*(n??fue);e.radius=s,e.aspectRatio=r.y===0?1:a/r.y}else t==="quad"?(e.width=r.x/2,e.height=r.y/2):e.radius=(r.x+r.y+r.z)/3}function K6e(t){return t instanceof XRCylinderLayer?"cylinder":t instanceof XREquirectLayer?"equirect":"quad"}function pue(t,e,n){return new mi(t*n,e*n,{minFilter:Nn,magFilter:Nn,type:hi,depthTexture:new a_(t,e)})}const zx=new wa(0,0,0,"YXZ"),mT=new hr;function Y6e(t,e,n){t.updateWorldMatrix(!0,!1),t.matrixWorld.decompose(e.position,mT,e.scale),zx.setFromQuaternion(mT),zx.z=0,zx.x=uA(zx.x-10*Math.PI/180,-Math.PI/2,1.1*Math.PI/4),mT.setFromEuler(zx),e.quaternion.slerp(mT,n/100)}function Z6e(t){return t.userData.teleportTarget===!0}function J6e(t={}){return(e,n,r,i)=>!(!Z6e(e)||t.filter!=null&&!t.filter(e,n,r,i))}function Q6e(){return new YP(new J(0,0,0),new J(0,0,-8),new J(0,-20,-15)).getPoints(20)}let e$e=class extends Wn{constructor(n){const r=new Vze,i=new Float32Array(n.length*3);for(let o=0;o<n.length;o++)n[o].toArray(i,o*3);r.setPoints(i);const s=(n.length*3-3)/(n.length*3-1),a=new Xze({lineWidth:.1,resolution:void 0,visibility:s});super(r,a);it(this,"multiplier");it(this,"lineLengths");it(this,"options",{});this.material.transparent=!0,this.multiplier=s,this.material=a,this.lineLengths=n.slice(0,-1).map((o,l)=>o.distanceTo(n[l+1]))}update(n){const r=n.getEnabled(),i=n.getIntersection();if(!r||n.getButtonsDown().size===0||i==null){this.visible=!1;return}if(this.visible=!0,i.details.type!="lines"){this.material.visibility=this.multiplier;return}const{distanceOnLine:s,lineIndex:a}=i.details,o=this.lineLengths[a];this.material.visibility=this.multiplier*(a+s/o)/this.lineLengths.length;const{color:l="white",opacity:c=.4,size:u=.01}=this.options;this.material.lineWidth=u,this.material.opacity=typeof c=="function"?c(n):c;const d=typeof l=="function"?l(n):l;Array.isArray(d)?this.material.color.set(...d):this.material.color.set(d)}};const bX=new It,gT=new J,t$e=new J,wX=new hr;async function n$e(t,e,n,r=["point","plane","mesh"]){var u;typeof n=="string"&&(n=await e.requestReferenceSpace(n));const i=Array.isArray(r)?r:[r];let s,a,o;const l=t.getState();if(n instanceof XRSpace)s={space:n,entityTypes:i},o=l.origin;else{const d=mR(n,l.origin,l.originReferenceSpace,bX);if(d==null)return;bX.decompose(gT,wX,t$e);const f=m2(gT);gT.set(0,0,-1).applyQuaternion(wX);const h=new XRRay(f,m2(gT,0));o=n,s={space:d,offsetRay:h,entityTypes:i},a=d}const c=await((u=e==null?void 0:e.requestHitTestSource)==null?void 0:u.call(e,s));if(c!=null)return{source:c,getWorldMatrix:r$e.bind(null,t,a,o)}}function r$e(t,e,n,r,i){if(e??(e=t.getState().originReferenceSpace),e==null)return!1;const s=i.getPose(e);return s==null?!1:(r.fromArray(s.transform.matrix),n!=null&&(n.updateWorldMatrix(!0,!1),r.premultiply(n.matrixWorld)),!0)}new J(1,1,1);new J(0,0,0);new It;new It;new J;new J;const i$e=2,s$e=2,a$e=45,_X=.5,SX="xr-standard-thumbstick",_g=new J,EX=new hr,o$e=new wa,l$e=new J,c$e=new J;function u$e(){let t=!0;return(e,n,r,i,s={},a={},o="left",...l)=>{var _;const{inputSourceStates:c}=n.getState(),u=o==="left"?"right":"left",d=c.find(S=>TX(S,o)),f=c.find(S=>TX(S,u));if(d==null||f==null)return;const h=d.gamepad[SX],m=(h==null?void 0:h.xAxis)??0,g=(h==null?void 0:h.yAxis)??0,v=((_=f.gamepad[SX])==null?void 0:_.xAxis)??0;let y;a!==!1&&(a===!0&&(a={}),a.type==="smooth"?Math.abs(v)>(a.deadZone??_X)&&(y=(v<0?-1:1)*i*(a.speed??s$e)):Math.abs(v)<(a.deadZone??_X)?t=!0:t&&(t=!1,y=(v>0?-1:1)*r_.degToRad(a.degrees??a$e)));const w=m!=0||g!=0;if(s!==!1&&w){s===!0&&(s={});const{speed:S=i$e}=s;_g.set(m*S,0,g*S),r.matrixWorld.decompose(l$e,EX,c$e),_g.applyQuaternion(EX),y&&_g.applyEuler(o$e.set(0,y,0,"YXZ"))}if(!(!w&&y==null)){if(typeof e=="function"){e(_g,y??0,...l);return}e!=null&&(e.position.x+=_g.x*i,e.position.z+=_g.z*i,e.rotation.y+=y??0)}}}function TX(t,e){return t.type==="controller"&&t.inputSource.handedness===e}const d$e=new qce,mue="https://cdn.jsdelivr.net/npm/@webxr-input-profiles/assets@1.0/dist/profiles/";function Ej(t,...e){let n=t();for(const r of e)n instanceof Promise?n=n.then(r):n=r(n);return n}const f$e="generic-trigger";class h$e{constructor(e){it(this,"baseAssetPath");it(this,"defaultProfileId");it(this,"profilesListCache");it(this,"profileCacheMap",new Map);it(this,"loadAsync",this.load);this.baseAssetPath=(e==null?void 0:e.baseAssetPath)??mue,this.defaultProfileId=(e==null?void 0:e.defaultControllerProfileId)??f$e}load(e,n){return Ej(()=>this.loadProfile(e),r=>{for(const i in r.layouts)if(i.includes(n))return r.layouts[i];throw new Error(`No matching layout for "${n}", in profile ${r.profileId} with layouts ${Object.keys(r.layouts).join(", ")}.`)})}loadProfile(e){return Ej(()=>this.profilesListCache??AX(new URL("profilesList.json",this.baseAssetPath).href).then(n=>this.profilesListCache=n),n=>{const r=e.length;let i;for(let s=0;s<r&&(i=n[e[s]],i==null);s++);if(i??(i=n[this.defaultProfileId]),i==null)throw new Error(`no matching profile found for profiles "${e.join(", ")}" in profile list ${JSON.stringify(n)}`);return this.loadProfileFromPath(i.path)})}loadProfileFromPath(e){const n=this.profileCacheMap.get(e);if(n!=null)return n;const r=new URL(e,this.baseAssetPath).href;return AX(r).then(i=>{for(const s in i.layouts){const a=i.layouts[s];a!=null&&(a.assetPath=new URL(a.assetPath,r).href)}return this.profileCacheMap.set(e,i),i})}}async function AX(t){let e=await fetch(t);return e.ok?e.json():Promise.reject(new Error(e.statusText))}function p$e(t,e,n,r,i){return Ej(()=>n.load(e.profiles,e.handedness),s=>{const a={};return Xce(a,e,s),{id:t,isPrimary:i,events:r,type:"controller",inputSource:e,gamepad:a,layout:s}})}function m$e({gamepad:t,inputSource:e,layout:n}){Xce(t,e,n)}const gue=T.createContext(void 0),Wf=T.createContext(void 0),y_=T.createContext(void 0),U5=T.createContext(void 0),g$e={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_PROJECT_ID:"piiwaqfzdngsltpaqbke",VITE_SUPABASE_PUBLISHABLE_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBpaXdhcWZ6ZG5nc2x0cGFxYmtlIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM5OTk0ODQsImV4cCI6MjA3OTU3NTQ4NH0.W82GXZWhbTEXiWU4a3X0w8SkFbs1A88KtVHF9P0HOEE",VITE_SUPABASE_URL:"https://piiwaqfzdngsltpaqbke.supabase.co"},{useDebugValue:v$e}=ie,{useSyncExternalStoreWithSelector:y$e}=Gce;let MX=!1;const x$e=t=>t;function B5(t,e=x$e,n){(g$e?"production":void 0)!=="production"&&n&&!MX&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),MX=!0);const r=y$e(t.subscribe,t.getState,t.getServerState||t.getInitialState,e,n);return v$e(r),r}function x_(t,e){if(Object.is(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;if(t instanceof Map&&e instanceof Map){if(t.size!==e.size)return!1;for(const[r,i]of t)if(!Object.is(i,e.get(r)))return!1;return!0}if(t instanceof Set&&e instanceof Set){if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0}const n=Object.keys(t);if(n.length!==Object.keys(e).length)return!1;for(const r of n)if(!Object.prototype.hasOwnProperty.call(e,r)||!Object.is(t[r],e[r]))return!1;return!0}T.forwardRef(({id:t,children:e,onPress:n,onRelease:r},i)=>{const s=pf("controller"),[a,o]=T.useState(void 0);if(T.useImperativeHandle(i,()=>a,[a]),b$e(s,t,l=>l==="pressed"?n==null?void 0:n():r==null?void 0:r()),Tr(()=>{var l;return o((l=s.gamepad[t])==null?void 0:l.object)}),a!=null)return dR(e,a)});function b$e(t,e,n){const r=T.useRef(void 0);Tr(()=>{var s;const i=(s=t==null?void 0:t.gamepad[e])==null?void 0:s.state;i!=null&&i!=r.current&&n(i),r.current=i})}const w$e=Symbol("loadXRControllerModel"),_$e=T.forwardRef((t,e)=>{const n=pf("controller"),r=w5(I6e,[n.layout,void 0,w$e]);k6e(r,t),n.object=r,T.useImperativeHandle(e,()=>r,[r]);const i=T.useMemo(()=>D6e(r,n.layout,n.gamepad),[r,n.layout,n.gamepad]);return Tr(i),p.jsx(ec,{space:"grip-space",children:p.jsx("primitive",{object:r})})}),S$e=T.forwardRef((t,e)=>{const n=pf("hand"),r=tm(qce,n.assetPath),i=T.useMemo(()=>A8e(r),[r]);M8e(i,t),n.object=i,T.useImperativeHandle(e,()=>i,[i]);const s=wue(),a=T.useMemo(()=>O8e(n.inputSource.hand,i,s),[n.inputSource,i,s]);return Tr((o,l,c)=>a(c)),p.jsx("primitive",{object:i})});T.forwardRef(({joint:t,children:e},n)=>p.jsx(ec,{ref:n,space:t,children:e}));function vue({children:t}){const e=T.useMemo(()=>new oue(!1),[]);return b_(e),p.jsx(U5.Provider,{value:e,children:t})}function bR(t){for(const e of Object.keys(t))delete t[e]}function E$e(t,e,n,r){const i=T.useMemo(()=>({}),[]);bR(i),Object.assign(i,n);const s=Ku(),a=T.useMemo(()=>m6e(()=>s.getState().camera,t,e,i,r),[s,t,e,i,r]);return b_(a,n==null?void 0:n.makeDefault),a}function T$e(t,e,n,r){const i=T.useMemo(()=>({}),[]);bR(i),Object.assign(i,n);const s=Ku(),a=T.useMemo(()=>g6e(()=>s.getState().camera,t,e,i,r),[s,t,e,i,r]);return b_(a,n==null?void 0:n.makeDefault),a}function A$e(t,e,n,r){const i=T.useMemo(()=>({}),[]);bR(i),Object.assign(i,n);const s=Ku(),a=T.useMemo(()=>v6e(()=>s.getState().camera,t,e,i,r),[s,t,e,i,r]);return b_(a,n==null?void 0:n.makeDefault),a}function M$e(t,e,n,r){const i=T.useMemo(()=>({}),[]);bR(i),Object.assign(i,n);const s=Ku(),a=T.useMemo(()=>y6e(()=>s.getState().camera,t,e,i,r),[s,t,e,i,r]);return b_(a,n==null?void 0:n.makeDefault),a}const C$e=T.forwardRef((t,e)=>{const n=T.useMemo(()=>{const i=t.materialClass??B8e;return new i},[t.materialClass]),r=T.useRef(null);return T.useImperativeHandle(e,()=>r.current,[]),Tr(()=>r.current!=null&&z8e(r.current,n,t.pointer,t)),p.jsx("mesh",{matrixAutoUpdate:!1,renderOrder:t.renderOrder??2,ref:r,material:n,children:p.jsx("boxGeometry",{})})}),wR=T.forwardRef((t,e)=>{const n=T.useMemo(()=>{const a=t.materialClass??j8e;return new a},[t.materialClass]),r=T.useRef(null),i=T.useRef(null);T.useImperativeHandle(e,()=>r.current,[]),Tr(()=>r.current!=null&&i.current!=null&&U8e(i.current,r.current,n,t.pointer,t));const s=Sr(a=>a.scene);return p.jsxs(p.Fragment,{children:[p.jsx("group",{ref:i}),dR(p.jsx("mesh",{renderOrder:t.renderOrder??1,ref:r,matrixAutoUpdate:!1,material:n,children:p.jsx("planeGeometry",{})}),s)]})});function z5(t,e,n,r){const i=Ci(s=>s.session);T.useEffect(()=>{if(i!=null)return V8e(t,i,e,n,r)},[n,e,t,i,r])}function b_(t,e=!1){const n=T.useContext(U5);if(n==null)throw new Error("xr pointers can only be used inside the XR component");T.useEffect(()=>{const r=n.register(t,e);return()=>{r()}},[n,t,e]),T.useEffect(()=>{if(t instanceof g_)return()=>t.exit({timeStamp:performance.now()})},[t])}const P$e=T.forwardRef(({pointer:t,linePoints:e,...n},r)=>{const i=T.useMemo(()=>new e$e(e),[e]);return T.useImperativeHandle(r,()=>i,[i]),i.options=n,Tr(()=>i.update(t)),p.jsx("primitive",{object:i})});function yue(t,e,n){const r=T.useContext(Wf);if(r==null)throw new Error("DefaultXRInputSourceGrabPointer can only be used inside a XRInputSource");const i=T.useRef(null),s=E$e(i,r,n);z5(s,r.inputSource,t,r.events);const a=n.cursorModel;return p.jsx(ec,{ref:i,space:e,children:a!==!1&&p.jsx(wR,{pointer:s,opacity:$8e,..._s(a)})})}const R$e=yue.bind(null,"select","index-finger-tip"),O$e=yue.bind(null,"squeeze","grip-space");function w_(t){const e=pf(),n=T.useRef(null),r=T$e(n,e,t);z5(r,e.inputSource,"select",e.events);const i=t.rayModel,s=t.cursorModel;return p.jsxs(ec,{ref:n,space:"target-ray-space",children:[i!==!1&&p.jsx(C$e,{pointer:r,opacity:c2,..._s(i)}),s!==!1&&p.jsx(wR,{pointer:r,opacity:c2,..._s(s)})]})}function N$e(t){const e=pf("hand"),n=T.useRef(null),r=M$e(n,e,t),i=t.cursorModel;return p.jsx(ec,{ref:n,space:e.inputSource.hand.get("index-finger-tip"),children:i!==!1&&p.jsx(wR,{pointer:r,opacity:H8e,..._s(i)})})}function I$e(t){const e=t.model,n=t.grabPointer,r=t.rayPointer,i=t.teleportPointer??!1;return p.jsxs(p.Fragment,{children:[e!==!1&&p.jsx(T.Suspense,{children:p.jsx(_$e,{..._s(e)})}),p.jsxs(vue,{children:[n!==!1&&p.jsx(O$e,{..._s(n)}),r!==!1&&p.jsx(w_,{makeDefault:!0,minDistance:.2,..._s(r)}),i!==!1&&p.jsx(xue,{..._s(i)})]})]})}function k$e(t){var o;const e=t.model,n=t.grabPointer,r=t.rayPointer,i=t.touchPointer,s=t.teleportPointer??!1,a=r===!1?!1:(o=_s(r))==null?void 0:o.rayModel;return p.jsxs(p.Fragment,{children:[e!==!1&&p.jsx(T.Suspense,{children:p.jsx(S$e,{..._s(e)})}),p.jsxs(vue,{children:[n!==!1&&p.jsx(R$e,{..._s(n)}),i!==!1&&p.jsx(N$e,{..._s(i)}),r!==!1&&p.jsx(w_,{makeDefault:!0,minDistance:.2,..._s(r),rayModel:a===!1?!1:{maxLength:.2,..._s(a)}}),s!==!1&&p.jsx(xue,{..._s(s)})]})]})}function D$e(t){return p.jsx(w_,{...t,rayModel:!1})}function L$e(t){return p.jsx(w_,{...t,rayModel:!1})}function j$e(t){return p.jsx(w_,{...t,cursorModel:!1,rayModel:!1})}function xue(t){const e=T.useContext(Wf);if(e==null)throw new Error("DefaultXRInputSourceRayPointer can only be used inside a XRInputSource");const n=T.useRef(null),r=T.useRef(null),i=T.useMemo(()=>Q6e(),[]),s=A$e(r,e,{...t,linePoints:i,filter:J6e(t)},"teleport");z5(s,e.inputSource,"select",e.events);const a=t.rayModel,o=t.cursorModel,l=Sr(u=>u.scene),c=T.useRef(null);return Tr((u,d)=>{c.current!=null&&(c.current.visible=s.getEnabled()&&s.getButtonsDown().size>0);const f=r.current,h=n.current;f==null||h==null||Y6e(h,f,d*1e3)}),p.jsxs(p.Fragment,{children:[p.jsx(ec,{ref:n,space:"target-ray-space"}),dR(p.jsxs("group",{ref:r,children:[a!==!1&&p.jsx(P$e,{linePoints:i,pointer:s,opacity:c2,..._s(a)}),o!==!1&&p.jsx(wR,{ref:c,pointer:s,opacity:c2,..._s(o)})]}),l)]})}function _s(t){if(t!==!0)return t}function F$e(){return Ci(t=>t.visibilityState)}function U$e(t,e){const n=T.useRef(e);n.current=e;const[r,i]=T.useMemo(()=>{let s;return[a=>{let o=!1;return typeof navigator>"u"||navigator.xr==null?(s=!1,()=>{}):(navigator.xr.isSessionSupported(t).then(l=>{s=l,!o&&a()}).catch(l=>{var c;o||(c=n.current)==null||c.call(n,l)}),()=>o=!0)},()=>s]},[t]);return T.useSyncExternalStore(r,i)}let B$e=0;const CX=new Map;function _R(t){let e=CX.get(t);return e==null&&CX.set(t,e=B$e++),e}function z$e({children:t}){const e=Ci(a=>a.originReferenceSpace),n=Ci(a=>a.origin),r=F$e()==="visible",i=Ku(),s=T.useMemo(()=>Object.assign({},i,{getState(){return{...i.getState(),scene:n}}}),[n,i]);return n==null||e==null?null:p.jsx(p.Fragment,{children:v0.createPortal(p.jsx(uR.Provider,{value:i,children:p.jsxs(y_.Provider,{value:e,children:[p.jsxs("group",{matrixAutoUpdate:!1,visible:r,children:[p.jsx(V$e,{}),p.jsx($$e,{}),p.jsx(H$e,{}),p.jsx(G$e,{}),p.jsx(W$e,{})]}),t]})}),s,null)})}function V$e(){const t=Ci(n=>n.inputSourceStates.filter(r=>r.type==="controller"),x_);let e=Ci(n=>n.controller);return e===!1?null:p.jsx(p.Fragment,{children:t.map(n=>{const r=Av(e,n.inputSource.handedness,{});return r===!1?null:p.jsx(Wf.Provider,{value:n,children:p.jsx(ec,{space:"target-ray-space",children:p.jsx(T.Suspense,{children:typeof r=="function"?p.jsx(r,{}):p.jsx(I$e,{...r})})})},n.id)})})}function $$e(){const t=Ci(n=>n.inputSourceStates.filter(r=>r.type==="hand"),x_),e=Ci(n=>n.hand);return e===!1?null:p.jsx(p.Fragment,{children:t.map(n=>{const r=Av(e,n.inputSource.handedness,{});return r===!1?null:p.jsx(Wf.Provider,{value:n,children:p.jsx(ec,{space:"target-ray-space",children:p.jsx(T.Suspense,{children:typeof r=="function"?p.jsx(r,{}):p.jsx(k$e,{...r})})})},_R(n))})})}function H$e(){const t=Ci(n=>n.inputSourceStates.filter(r=>r.type==="transientPointer"),x_),e=Ci(n=>n.transientPointer);return e===!1?null:p.jsx(p.Fragment,{children:t.map(n=>{const r=Av(e,n.inputSource.handedness,{});return r===!1?null:p.jsx(Wf.Provider,{value:n,children:p.jsx(ec,{space:"target-ray-space",children:p.jsx(T.Suspense,{children:typeof r=="function"?p.jsx(r,{}):p.jsx(D$e,{...r})})})},_R(n))})})}function G$e(){const t=Ci(n=>n.inputSourceStates.filter(r=>r.type==="gaze"),x_),e=Ci(n=>n.gaze);return e===!1?null:p.jsx(p.Fragment,{children:t.map(n=>p.jsx(Wf.Provider,{value:n,children:p.jsx(ec,{space:"target-ray-space",children:p.jsx(T.Suspense,{children:typeof e=="function"?p.jsx(e,{}):p.jsx(L$e,{...bue(e)})})})},_R(n)))})}function W$e(){const t=Ci(n=>n.inputSourceStates.filter(r=>r.type==="screenInput"),x_),e=Ci(n=>n.screenInput);return e===!1?null:p.jsx(p.Fragment,{children:t.map(n=>p.jsx(Wf.Provider,{value:n,children:p.jsx(ec,{space:"target-ray-space",children:p.jsx(T.Suspense,{children:typeof e=="function"?p.jsx(e,{}):p.jsx(j$e,{...bue(e)})})})},_R(n)))})}function bue(t){if(t!==!0)return t}function X$e(t){return A6e(t)}function q$e({children:t,store:e}){e.setWebXRManager(Sr(r=>r.gl.xr));const n=Ku();return T.useEffect(()=>{let r;return e.subscribe((i,s)=>{if(i.session!==s.session){if(i.session!=null){const{camera:a,gl:o}=n.getState();r=a,n.setState({camera:o.xr.getCamera()});return}r!=null&&n.setState({camera:r})}})},[n,e]),Tr((r,i,s)=>e.onBeforeFrame(r.scene,r.camera,s),-1e3),Tr(()=>e.onBeforeRender()),p.jsx(gue.Provider,{value:e,children:p.jsxs(K$e,{children:[p.jsx(z$e,{}),t]})})}function K$e({children:t}){const e=__(),n=T.useMemo(()=>new oue(!0),[]);return T.useEffect(()=>L8e(e,r=>n.setEnabled(r,{timeStamp:performance.now()})),[e,n]),Tr(r=>n.move(r.scene,{timeStamp:performance.now()}),-50),p.jsx(U5.Provider,{value:n,children:t})}function __(){const t=T.useContext(gue);if(t==null)throw new Error("XR features can only be used inside the <XR> component");return t}function Ci(t=n=>n,e){return B5(__(),t,e)}function pf(t){const e=T.useContext(Wf);if(e==null)throw new Error("useXRInputSourceStateContext() can only be used inside the xr store config");if(t!=null&&e.type!=t)throw new Error(`useXRInputSourceStateContext(${t}) can not be used inside a component for input type "${e.type}"`);return e}const ec=T.forwardRef(({space:t,children:e},n)=>{const r=T.useRef(null),i=typeof t=="string"?wue(t):t;T.useImperativeHandle(n,()=>r.current,[]),Z$e(r,i);const s=T.useCallback(a=>{a!=null&&(a.transformReady=!1,a.visible=!1),r.current=a},[]);return p.jsx("group",{xrSpace:i,matrixAutoUpdate:!1,ref:s,children:i&&p.jsx(y_.Provider,{value:i,children:e})})});function wue(t){var i;switch(t){case"grip-space":return pf().inputSource.gripSpace;case"target-ray-space":return pf().inputSource.targetRaySpace;case"wrist":case"thumb-metacarpal":case"thumb-phalanx-proximal":case"thumb-phalanx-distal":case"thumb-tip":case"index-finger-metacarpal":case"index-finger-phalanx-proximal":case"index-finger-phalanx-intermediate":case"index-finger-phalanx-distal":case"index-finger-tip":case"middle-finger-metacarpal":case"middle-finger-phalanx-proximal":case"middle-finger-phalanx-intermediate":case"middle-finger-phalanx-distal":case"middle-finger-tip":case"ring-finger-metacarpal":case"ring-finger-phalanx-proximal":case"ring-finger-phalanx-intermediate":case"ring-finger-phalanx-distal":case"ring-finger-tip":case"pinky-finger-metacarpal":case"pinky-finger-phalanx-proximal":case"pinky-finger-phalanx-intermediate":case"pinky-finger-phalanx-distal":case"pinky-finger-tip":return pf("hand").inputSource.hand.get(t);case"root":case"hips":case"spine-lower":case"spine-middle":case"spine-upper":case"chest":case"neck":case"head":case"left-shoulder":case"left-scapula":case"left-arm-upper":case"left-arm-lower":case"left-hand-wrist-twist":case"right-shoulder":case"right-scapula":case"right-arm-upper":case"right-arm-lower":case"right-hand-wrist-twist":case"left-hand-palm":case"left-hand-wrist":case"left-hand-thumb-metacarpal":case"left-hand-thumb-phalanx-proximal":case"left-hand-thumb-phalanx-distal":case"left-hand-thumb-tip":case"left-hand-index-metacarpal":case"left-hand-index-phalanx-proximal":case"left-hand-index-phalanx-intermediate":case"left-hand-index-phalanx-distal":case"left-hand-index-tip":case"left-hand-middle-metacarpal":case"left-hand-middle-phalanx-proximal":case"left-hand-middle-phalanx-intermediate":case"left-hand-middle-phalanx-distal":case"left-hand-middle-tip":case"left-hand-ring-metacarpal":case"left-hand-ring-phalanx-proximal":case"left-hand-ring-phalanx-intermediate":case"left-hand-ring-phalanx-distal":case"left-hand-ring-tip":case"left-hand-little-metacarpal":case"left-hand-little-phalanx-proximal":case"left-hand-little-phalanx-intermediate":case"left-hand-little-phalanx-distal":case"left-hand-little-tip":case"right-hand-palm":case"right-hand-wrist":case"right-hand-thumb-metacarpal":case"right-hand-thumb-phalanx-proximal":case"right-hand-thumb-phalanx-distal":case"right-hand-thumb-tip":case"right-hand-index-metacarpal":case"right-hand-index-phalanx-proximal":case"right-hand-index-phalanx-intermediate":case"right-hand-index-phalanx-distal":case"right-hand-index-tip":case"right-hand-middle-metacarpal":case"right-hand-middle-phalanx-proximal":case"right-hand-middle-phalanx-intermediate":case"right-hand-middle-phalanx-distal":case"right-hand-middle-tip":case"right-hand-ring-metacarpal":case"right-hand-ring-phalanx-proximal":case"right-hand-ring-phalanx-intermediate":case"right-hand-ring-phalanx-distal":case"right-hand-ring-tip":case"right-hand-little-metacarpal":case"right-hand-little-phalanx-proximal":case"right-hand-little-phalanx-intermediate":case"right-hand-little-phalanx-distal":case"right-hand-little-tip":case"left-upper-leg":case"left-lower-leg":case"left-foot-ankle-twist":case"left-foot-ankle":case"left-foot-subtalar":case"left-foot-transverse":case"left-foot-ball":case"right-upper-leg":case"right-lower-leg":case"right-foot-ankle-twist":case"right-foot-ankle":case"right-foot-subtalar":case"right-foot-transverse":case"right-foot-ball":return(i=Ci(s=>s.body))==null?void 0:i.get(t)}if(t==null){const s=T.useContext(y_);if(s==null)throw new Error("XR objects must be placed inside the XROrigin");return s}const[e,n]=T.useState(void 0),r=Ci(s=>s.session);return T.useEffect(()=>{if(r==null)return;let s=!1;return r.requestReferenceSpace(t).then(a=>{s||n(a)}),()=>void(s=!0)},[r,t]),e}function Y$e(t){const e=T.useContext(y_),n=Ci(r=>e??r.originReferenceSpace);return T.useMemo(()=>t==null||n==null?void 0:G8e(t,n),[t,n])}function Z$e(t,e,n){const r=Y$e(e);Tr((i,s,a)=>{t.current!=null&&(t.current.visible=t.current.transformReady=(r==null?void 0:r(t.current.matrix,a))??!1)},-100)}T.forwardRef(({mesh:t,...e},n)=>{const r=J$e(t);return p.jsx("mesh",{ref:n,geometry:r,...e})});function J$e(t,e=!0){const[n,r]=T.useState(gX(t,void 0));return Tr(()=>r(i=>gX(t,i))),T.useEffect(()=>{if(e)return()=>n.dispose()},[n]),n}T.forwardRef(({plane:t,...e},n)=>{const r=Q$e(t);return p.jsx("mesh",{ref:n,geometry:r,...e})});function Q$e(t,e=!0){const[n,r]=T.useState(vX(t,void 0));return Tr(()=>r(i=>vX(t,i))),T.useEffect(()=>{if(e)return()=>n.dispose()},[n]),n}const eHe=T.forwardRef(({children:t,disabled:e,...n},r)=>{const i=Sr(o=>o.gl.xr.getCamera()),s=T.useRef(null),a=Ci(o=>o.originReferenceSpace);return T.useImperativeHandle(r,()=>s.current,[]),T.useEffect(()=>{const o=s.current;if(!(o==null||e))return o.add(i),()=>void o.remove(i)},[e,i]),p.jsx("group",{ref:s,...n,children:p.jsx(y_.Provider,{value:a,children:t})})});function tHe(t,e,n){const r=T.useRef(void 0);nHe(e,n,T.useCallback(i=>r.current=i,[])),Tr((i,s,a)=>{t==null||a==null||r.current==null||t(a.getHitTestResults(r.current.source),r.current.getWorldMatrix)})}function nHe(t,e,n){const r=__(),i=B5(r,s=>s.session);T.useEffect(()=>{if(i==null)return;let s,a=!1;const o=t instanceof XRSpace||typeof t=="string"?t:t==null?void 0:t.current;if(o!=null)return n$e(r,i,o,e).then(l=>{a||(s=l,n(l))}),()=>{n(void 0),a=!0,s==null||s.source.cancel()}},[i,r,t,e,n])}T.forwardRef(({trackableType:t,onResults:e,space:n,...r},i)=>{const s=T.useRef(null);return T.useImperativeHandle(i,()=>s.current),tHe(e,n??s,t),p.jsx("group",{...r,ref:s})});T.forwardRef((t,e)=>{const n=Ci(s=>s.domOverlayRoot),{In:r,Out:i}=T.useMemo(FVe,[]);return T.useEffect(()=>{if(n==null)return;const s=UC(n);return s.render(p.jsx(i,{})),()=>s.unmount()},[n,i]),p.jsx(r,{children:p.jsx("div",{...t,ref:e})})});T.forwardRef(({src:t,shape:e,colorFormat:n,depthFormat:r,layout:i,mipLevels:s,renderOrder:a=0,blendTextureSourceAlpha:o,centralAngle:l,centralHorizontalAngle:c,chromaticAberrationCorrection:u,lowerVerticalAngle:d,quality:f,upperVerticalAngle:h,invertStereo:m,pixelWidth:g,pixelHeight:v,dpr:y,renderTargetRef:w,layerEntryRef:_,...S},E)=>{const A=T.useRef(null),M=Sr(F=>F.gl),R=__(),P={blendTextureSourceAlpha:o,centralAngle:l,centralHorizontalAngle:c,chromaticAberrationCorrection:u,lowerVerticalAngle:d,quality:f,upperVerticalAngle:h},O=T.useRef(P);O.current=P;const k=T.useRef(a);k.current=a;const I=Ci(F=>F.originReferenceSpace);return T.useEffect(()=>{if(A.current==null||I==null)return;const F=t??(w.current=pue(g,v,y)),L=V6e(F,R.getState(),I,M.xr,A.current,{colorFormat:n,depthFormat:r,invertStereo:m,layout:i,mipLevels:s,shape:e},O.current);if(L==null)return;const V=_.current={layer:L,renderOrder:k.current,object3D:A.current};if(R.addLayerEntry(V),F instanceof HTMLVideoElement||F instanceof mi)return()=>{R.removeLayerEntry(V),L.destroy()};const z=G6e(M,R,L,F);return()=>{R.removeLayerEntry(V),z(),L.destroy()}},[I,n,r,m,_,i,s,v,g,y,w,M,e,t,R]),_.current!=null&&(_.current.renderOrder=a),_.current!=null&&j5(_.current.layer,O.current),Tr(()=>{_.current==null||A.current==null||q6e(R.getState(),_.current.layer,O.current.centralAngle,A.current)}),T.useImperativeHandle(E,()=>A.current,[]),p.jsx("mesh",{...S,renderOrder:-1/0,ref:A,children:p.jsx("meshBasicMaterial",{colorWrite:!1})})});T.forwardRef(({src:t,renderTargetRef:e,dpr:n,renderOrder:r,pixelWidth:i,pixelHeight:s,...a},o)=>{const l=T.useRef(null);return T.useEffect(()=>{if(l.current==null)return;const c=t??(e.current=pue(i,s,n)),u=W6e(c);return l.current.map=u,l.current.needsUpdate=!0,()=>{if(c instanceof mi){c.dispose();return}u.dispose()}},[t,i,s,n,e]),p.jsx("mesh",{ref:o,...a,children:p.jsx("meshBasicMaterial",{ref:l,toneMapped:!1})})});new Ln;new Ln;function rHe(t,e={},n={},r="left"){const i=__(),s=T.useMemo(()=>u$e(),[]);Tr((a,o,l)=>s(typeof t=="function"?t:t.current,i,a.camera,o,e,n,r,o,a,l))}const _ue=T.forwardRef(({store:t,mode:e,onError:n,children:r,...i},s)=>{const a=B5(t,l=>l.session),o=U$e(e,n);return p.jsx("button",{ref:s,...i,onClick:()=>a!=null?a.end():t.enterXR(e).catch(n),children:typeof r=="function"?r(o?a!=null?"entered":"exited":"unsupported"):r})});T.forwardRef((t,e)=>p.jsx(_ue,{ref:e,mode:"immersive-ar",...t}));T.forwardRef((t,e)=>p.jsx(_ue,{ref:e,mode:"immersive-vr",...t}));const iHe={onBlur:"pointerleave",onHover:"pointerenter",onMove:"pointermove",onSelect:{type:"click",filter:t=>t.pointerType==="ray"},onSelectEnd:{type:"pointerup",filter:t=>t.pointerType==="ray"},onSelectStart:{type:"pointerdown",filter:t=>t.pointerType==="ray"},onSqueeze:{type:"click",filter:t=>t.pointerType==="grab"},onSqueezeEnd:{type:"pointerup",filter:t=>t.pointerType==="grab"},onSqueezeStart:{type:"pointerdown",filter:t=>t.pointerType==="grab"}};function uu(t,e,n){const r=T.useRef(n);r.current=n,T.useEffect(()=>{const{current:i}=t;if(i==null)return;const s=iHe[e],a=typeof s=="string"?l=>{var c;return(c=r.current)==null?void 0:c.call(r,{intersection:l,intersections:[l],target:l.pointerState})}:l=>{var c;l instanceof ka&&!s.filter(l)||(c=r.current)==null||c.call(r,{intersection:l,intersections:[l],target:l.pointerState})},o=typeof s=="string"?s:s.type;return i.addEventListener(o,a),()=>i.removeEventListener(o,a)},[t,e])}const sHe=T.forwardRef(({onHover:t,onBlur:e,onSelectStart:n,onSelectEnd:r,onSelect:i,onSqueezeStart:s,onSqueezeEnd:a,onSqueeze:o,onMove:l,children:c},u)=>{const d=T.useRef(null);return T.useImperativeHandle(u,()=>d.current),uu(d,"onHover",t),uu(d,"onBlur",e),uu(d,"onSelectStart",n),uu(d,"onSelectEnd",r),uu(d,"onSelect",i),uu(d,"onSqueezeStart",s),uu(d,"onSqueezeEnd",a),uu(d,"onSqueeze",o),uu(d,"onMove",l),p.jsx("group",{ref:d,children:c})});T.forwardRef(function({onSelectStart:e,onSelectEnd:n,children:r,...i},s){const a=T.useRef(void 0),o=T.useRef(null),l=T.useMemo(()=>new It,[]);return T.useImperativeHandle(s,()=>o.current),Tr(()=>{const c=a.current,u=o.current;!u||!c||(u.applyMatrix4(l),c.updateWorldMatrix(!0,!1),u.applyMatrix4(c.matrixWorld),u.updateMatrixWorld(),l.copy(c.matrixWorld).invert())}),p.jsx(sHe,{ref:o,onSelectStart:c=>{N8e(c.target)&&(c.target.type==="controller"||c.target.type==="hand")&&c.target.object!=null&&(a.current=c.target.object,c.target.object.updateWorldMatrix(!0,!1),l.copy(c.target.object.matrixWorld).invert(),e==null||e(c))},onSelectEnd:c=>{c.target.controller===a.current&&(a.current=void 0),n==null||n(c)},...i,children:r})});const aHe=({active:t,onComplete:e,onProgress:n})=>{const[r,i]=T.useState({fire:!0,leak:!0,valve:!0}),[s,a]=T.useState(!1);l5e(s);const o=l=>{if(!t||!r[l])return;const c={...r,[l]:!1};i(c);let u="";l==="fire"&&(u="Fire extinguished! Good job."),l==="leak"&&(u="Gas leak sealed. Air quality stabilizing."),l==="valve"&&(u="Valve tightened. Pressure normalizing."),n(u),!c.fire&&!c.leak&&!c.valve&&e()};return p.jsxs("group",{position:[0,0,0],children:[p.jsxs("group",{position:[0,0,0],children:[p.jsxs("mesh",{position:[0,1.5,0],castShadow:!0,receiveShadow:!0,children:[p.jsx("cylinderGeometry",{args:[1.2,1.2,3,32]}),p.jsx("meshStandardMaterial",{color:"#475569",metalness:.8,roughness:.2})]}),p.jsxs("mesh",{position:[0,3,0],castShadow:!0,children:[p.jsx("sphereGeometry",{args:[1.2,32,16,0,Math.PI*2,0,Math.PI/2]}),p.jsx("meshStandardMaterial",{color:"#475569",metalness:.8,roughness:.2})]}),p.jsxs("mesh",{position:[0,0,0],castShadow:!0,children:[p.jsx("cylinderGeometry",{args:[1.4,1.4,.2,32]}),p.jsx("meshStandardMaterial",{color:"#334155",metalness:.9,roughness:.1})]}),p.jsxs("mesh",{position:[-1,2,0],rotation:[0,0,Math.PI/2],castShadow:!0,children:[p.jsx("cylinderGeometry",{args:[.15,.15,1,16]}),p.jsx("meshStandardMaterial",{color:"#64748b",metalness:.7,roughness:.3})]}),p.jsxs("mesh",{position:[1,1,0],rotation:[0,0,Math.PI/2],castShadow:!0,children:[p.jsx("cylinderGeometry",{args:[.15,.15,1,16]}),p.jsx("meshStandardMaterial",{color:"#64748b",metalness:.7,roughness:.3})]})]}),r.fire&&p.jsxs("group",{position:[1.2,.2,.5],onClick:()=>o("fire"),onPointerOver:()=>a(!0),onPointerOut:()=>a(!1),children:[p.jsxs("mesh",{children:[p.jsx("sphereGeometry",{args:[.3,16,16]}),p.jsx("meshStandardMaterial",{color:"#ef4444",emissive:"#f97316",emissiveIntensity:3,transparent:!0,opacity:.8})]}),p.jsx($3,{count:50,scale:1.5,size:4,speed:.4,opacity:1,color:"#fbbf24",noise:1}),p.jsx($3,{count:30,scale:1,size:6,speed:.6,opacity:.8,color:"#ef4444",noise:.5}),p.jsx($s,{position:[0,.6,0],center:!0,distanceFactor:6,transform:!0,children:p.jsx("div",{className:"bg-red-950/80 border border-red-500 text-red-200 px-3 py-1 rounded-lg text-sm font-bold animate-pulse whitespace-nowrap backdrop-blur-sm",children:" EXTINGUISH FIRE"})})]}),r.leak&&p.jsxs("group",{position:[-1.4,2,0],onClick:()=>o("leak"),onPointerOver:()=>a(!0),onPointerOut:()=>a(!1),children:[p.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[p.jsx("cylinderGeometry",{args:[.2,.2,.3,16]}),p.jsx("meshStandardMaterial",{color:"#22c55e",transparent:!0,opacity:.4})]}),p.jsx($3,{count:60,scale:[1,2,1],size:3,speed:1,opacity:.6,color:"#86efac",position:[0,.5,0]}),p.jsx($s,{position:[0,.8,0],center:!0,distanceFactor:6,transform:!0,children:p.jsx("div",{className:"bg-green-950/80 border border-green-500 text-green-200 px-3 py-1 rounded-lg text-sm font-bold animate-pulse whitespace-nowrap backdrop-blur-sm",children:" SEAL LEAK"})})]}),r.valve&&p.jsxs("group",{position:[0,1.5,1.3],onClick:()=>o("valve"),onPointerOver:()=>a(!0),onPointerOut:()=>a(!1),children:[p.jsx(oHe,{}),p.jsx($s,{position:[0,.6,0],center:!0,distanceFactor:6,transform:!0,children:p.jsx("div",{className:"bg-yellow-950/80 border border-yellow-500 text-yellow-200 px-3 py-1 rounded-lg text-sm font-bold animate-pulse whitespace-nowrap backdrop-blur-sm",children:" TIGHTEN VALVE"})})]})]})},oHe=()=>{const t=T.useRef(null);return Tr(e=>{t.current&&(t.current.rotation.z=Math.sin(e.clock.elapsedTime*10)*.1)}),p.jsxs("group",{ref:t,rotation:[Math.PI/2,0,0],children:[p.jsxs("mesh",{position:[0,-.2,0],children:[p.jsx("cylinderGeometry",{args:[.1,.1,.4,16]}),p.jsx("meshStandardMaterial",{color:"#94a3b8",metalness:.8})]}),p.jsxs("mesh",{children:[p.jsx("torusGeometry",{args:[.3,.05,16,32]}),p.jsx("meshStandardMaterial",{color:"#eab308",metalness:.6,roughness:.4})]}),p.jsxs("mesh",{rotation:[0,0,Math.PI/2],children:[p.jsx("boxGeometry",{args:[.6,.05,.05]}),p.jsx("meshStandardMaterial",{color:"#eab308",metalness:.6,roughness:.4})]}),p.jsxs("mesh",{children:[p.jsx("boxGeometry",{args:[.6,.05,.05]}),p.jsx("meshStandardMaterial",{color:"#eab308",metalness:.6,roughness:.4})]})]})},vT=({position:t,name:e,onInteract:n})=>{const[r,i]=T.useState(!1),[s,a]=T.useState(!1);return p.jsxs("group",{position:t,children:[p.jsxs("mesh",{position:[0,1.5,0],castShadow:!0,onClick:()=>{a(!s),n(e)},onPointerOver:()=>i(!0),onPointerOut:()=>i(!1),children:[p.jsx("boxGeometry",{args:[1.5,2,.3]}),p.jsx("meshStandardMaterial",{color:s?"#10b981":"#334155",metalness:.8,roughness:.2,emissive:s?"#10b981":"#000000",emissiveIntensity:s?.5:0})]}),p.jsxs("mesh",{position:[0,1.8,.16],children:[p.jsx("planeGeometry",{args:[1.2,.8]}),p.jsx("meshStandardMaterial",{color:"#1a1a2e",emissive:s?"#16213e":"#000000",emissiveIntensity:s?1:0})]}),p.jsxs("mesh",{position:[.6,2.3,.16],children:[p.jsx("sphereGeometry",{args:[.05,16,16]}),p.jsx("meshStandardMaterial",{color:s?"#10b981":"#ef4444",emissive:s?"#10b981":"#ef4444",emissiveIntensity:2})]}),p.jsxs("mesh",{position:[0,.5,0],castShadow:!0,children:[p.jsx("boxGeometry",{args:[1.5,1,.5]}),p.jsx("meshStandardMaterial",{color:"#475569",metalness:.6,roughness:.4})]}),r&&p.jsx($s,{position:[0,2.8,0],center:!0,children:p.jsx("div",{className:"bg-black/80 text-white px-3 py-1 rounded text-sm border border-green-500",children:e})})]})},ik=({position:t,type:e,onGrab:n})=>{const[r,i]=T.useState(!1),s={wrench:"#94a3b8",hammer:"#f59e0b",drill:"#3b82f6"};return p.jsxs("group",{position:t,children:[p.jsxs("mesh",{castShadow:!0,onClick:()=>{i(!r),n(e)},onPointerOver:a=>{a.stopPropagation(),document.body.style.cursor="grab"},onPointerOut:()=>{document.body.style.cursor="auto"},children:[p.jsx("capsuleGeometry",{args:[.05,.4,8,16]}),p.jsx("meshStandardMaterial",{color:s[e],metalness:.9,roughness:.1,emissive:r?s[e]:"#000000",emissiveIntensity:r?.3:0})]}),r&&p.jsx($s,{position:[0,.3,0],center:!0,children:p.jsxs("div",{className:"bg-green-500/20 text-green-200 px-2 py-1 rounded text-xs border border-green-500 animate-pulse",children:["Using ",e]})})]})},lHe=({onTeleport:t,showStructure:e=!0})=>{const n=i=>{if(console.log(`Interacting with: ${i}`),"speechSynthesis"in window){const s=new SpeechSynthesisUtterance(`${i} activated`);window.speechSynthesis.speak(s)}},r=i=>{if(console.log(`Grabbed: ${i}`),"speechSynthesis"in window){const s=new SpeechSynthesisUtterance(`Picked up ${i}`);window.speechSynthesis.speak(s)}};return p.jsxs("group",{children:[p.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.05,0],receiveShadow:!0,onPointerDown:i=>{t&&(i.stopPropagation(),t(i.point))},children:[p.jsx("planeGeometry",{args:[80,80]}),e?p.jsx(tVe,{blur:[400,100],resolution:1024,mixBlur:1,mixStrength:10,roughness:.8,depthScale:1,minDepthThreshold:.4,maxDepthThreshold:1.4,color:"#2d3748",metalness:.2}):p.jsx("shadowMaterial",{transparent:!0,opacity:.4})]}),p.jsxs("group",{position:[0,.01,0],rotation:[-Math.PI/2,0,0],children:[[-10,0,10].map((i,s)=>p.jsxs("mesh",{position:[0,i,0],children:[p.jsx("planeGeometry",{args:[80,.15]}),p.jsx("meshBasicMaterial",{color:"#eab308"})]},`line-h-${s}`)),[-10,0,10].map((i,s)=>p.jsxs("mesh",{position:[i,0,0],children:[p.jsx("planeGeometry",{args:[.15,80]}),p.jsx("meshBasicMaterial",{color:"#eab308"})]},`line-v-${s}`))]}),e&&p.jsxs(p.Fragment,{children:[p.jsxs("group",{children:[p.jsxs("mesh",{position:[0,12,-40],receiveShadow:!0,children:[p.jsx("planeGeometry",{args:[80,24]}),p.jsx("meshStandardMaterial",{color:"#1a202c",metalness:.3,roughness:.7})]}),p.jsxs("mesh",{position:[0,12,40],rotation:[0,Math.PI,0],receiveShadow:!0,children:[p.jsx("planeGeometry",{args:[80,24]}),p.jsx("meshStandardMaterial",{color:"#1a202c",metalness:.3,roughness:.7})]}),p.jsxs("mesh",{position:[-40,12,0],rotation:[0,Math.PI/2,0],receiveShadow:!0,children:[p.jsx("planeGeometry",{args:[80,24]}),p.jsx("meshStandardMaterial",{color:"#1a202c",metalness:.3,roughness:.7})]}),p.jsxs("mesh",{position:[40,12,0],rotation:[0,-Math.PI/2,0],receiveShadow:!0,children:[p.jsx("planeGeometry",{args:[80,24]}),p.jsx("meshStandardMaterial",{color:"#1a202c",metalness:.3,roughness:.7})]})]}),p.jsx("group",{position:[0,22,0],children:[...Array(6)].map((i,s)=>p.jsxs("group",{position:[(s-2.5)*12,0,0],children:[p.jsxs("mesh",{children:[p.jsx("boxGeometry",{args:[10,.3,80]}),p.jsx("meshStandardMaterial",{color:"#334155",metalness:.8,roughness:.3})]}),[-20,-10,0,10,20].map((a,o)=>p.jsxs("mesh",{position:[0,-.5,a],children:[p.jsx("cylinderGeometry",{args:[.5,.5,.2,16]}),p.jsx("meshStandardMaterial",{color:"#ffffff",emissive:"#ffffff",emissiveIntensity:2})]},`light-${o}`))]},`ceiling-${s}`))}),p.jsx("group",{position:[0,3,-39],children:[0,2,4].map((i,s)=>p.jsxs("mesh",{position:[0,i,0],rotation:[0,0,Math.PI/2],castShadow:!0,children:[p.jsx("cylinderGeometry",{args:[.15,.15,80,16]}),p.jsx("meshStandardMaterial",{color:"#71717a",metalness:.9,roughness:.1})]},`pipe-${s}`))})]}),p.jsx(vT,{position:[-15,0,-10],name:"CNC Machine",onInteract:n}),p.jsx(vT,{position:[-15,0,5],name:"Welding Station",onInteract:n}),p.jsx(vT,{position:[15,0,-10],name:"Assembly Robot",onInteract:n}),p.jsx(vT,{position:[15,0,5],name:"Quality Control",onInteract:n}),p.jsxs("group",{position:[-25,0,15],children:[p.jsxs("mesh",{position:[0,.9,0],castShadow:!0,children:[p.jsx("boxGeometry",{args:[4,.1,2]}),p.jsx("meshStandardMaterial",{color:"#6b7280",metalness:.7,roughness:.3})]}),p.jsxs("mesh",{position:[0,.45,0],children:[p.jsx("boxGeometry",{args:[3.8,.9,1.8]}),p.jsx("meshStandardMaterial",{color:"#374151"})]}),p.jsx(ik,{position:[-1.2,1,0],type:"wrench",onGrab:r}),p.jsx(ik,{position:[0,1,.3],type:"hammer",onGrab:r}),p.jsx(ik,{position:[1.2,1,-.2],type:"drill",onGrab:r})]}),p.jsx("group",{position:[25,2,15],children:[0,2.5,5].map((i,s)=>p.jsxs("mesh",{position:[0,0,i],castShadow:!0,receiveShadow:!0,children:[p.jsx("boxGeometry",{args:[3,4,2]}),p.jsx("meshStandardMaterial",{color:s%2===0?"#dc2626":"#2563eb",metalness:.4,roughness:.6})]},`container-${s}`))}),p.jsxs("group",{position:[-38,1.5,-20],children:[p.jsxs("mesh",{castShadow:!0,children:[p.jsx("cylinderGeometry",{args:[.2,.2,1.5,16]}),p.jsx("meshStandardMaterial",{color:"#dc2626",emissive:"#dc2626",emissiveIntensity:.2})]}),p.jsx($s,{position:[0,1,0],center:!0,children:p.jsx("div",{className:"bg-red-500/20 text-red-200 px-2 py-1 rounded text-xs border border-red-500",children:"Fire Extinguisher"})})]}),p.jsxs("group",{position:[-38,1.5,20],children:[p.jsxs("mesh",{castShadow:!0,children:[p.jsx("boxGeometry",{args:[.5,.5,.2]}),p.jsx("meshStandardMaterial",{color:"#ffffff"})]}),p.jsxs("mesh",{position:[0,0,.11],children:[p.jsx("planeGeometry",{args:[.3,.05]}),p.jsx("meshStandardMaterial",{color:"#dc2626"})]}),p.jsxs("mesh",{position:[0,0,.11],children:[p.jsx("planeGeometry",{args:[.05,.3]}),p.jsx("meshStandardMaterial",{color:"#dc2626"})]}),p.jsx($s,{position:[0,.5,0],center:!0,children:p.jsx("div",{className:"bg-white/20 text-white px-2 py-1 rounded text-xs border border-white",children:"First Aid"})})]}),[[10,0,-20],[-10,0,20]].map((i,s)=>p.jsxs("group",{position:i,children:[p.jsxs("mesh",{position:[0,1.5,0],castShadow:!0,children:[p.jsx("boxGeometry",{args:[.05,2,1.5]}),p.jsx("meshStandardMaterial",{color:"#eab308"})]}),p.jsx($s,{position:[0,1.5,0],center:!0,children:p.jsxs("div",{className:"bg-yellow-500/90 text-black px-3 py-2 rounded font-bold text-sm border-2 border-black",children:[" CAUTION",p.jsx("br",{}),"Safety First"]})})]},`sign-${s}`))]})},cHe=({onEnterVR:t,onEnterAR:e,onClose:n})=>p.jsx("div",{className:"absolute inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-md p-4",children:p.jsxs(Jt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative w-full max-w-4xl",children:[p.jsx(St,{variant:"ghost",size:"icon",className:"absolute -top-12 right-0 text-white/50 hover:text-white hover:bg-white/10 rounded-full",onClick:n,children:p.jsx(Y0,{className:"w-6 h-6"})}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[p.jsxs("div",{className:"group relative overflow-hidden rounded-3xl bg-gradient-to-b from-[#1a1b26] to-[#0f1016] border border-white/10 p-8 hover:border-purple-500/50 transition-all duration-500 hover:shadow-[0_0_50px_-12px_rgba(168,85,247,0.5)]",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1622979135225-d2ba269fb1bd?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-10 group-hover:opacity-20 transition-opacity duration-500 mix-blend-overlay"}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center h-full justify-between min-h-[320px]",children:[p.jsx("div",{className:"mt-4 p-6 rounded-full bg-purple-500/10 border border-purple-500/20 mb-6 group-hover:scale-110 group-hover:bg-purple-500/20 transition-all duration-500",children:p.jsx(Dxe,{className:"w-16 h-16 text-purple-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-white mb-3 tracking-tight",children:"Virtual Reality"}),p.jsx("p",{className:"text-white/60 mb-8 text-lg leading-relaxed",children:"Immerse yourself in a fully digital training hangar. Best for Oculus/Meta Quest & HTC Vive."})]}),p.jsx(St,{onClick:t,className:"w-full h-14 text-lg font-semibold bg-purple-600 hover:bg-purple-500 text-white border-0 shadow-lg shadow-purple-900/20 rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Enter VR Experience"})]})]}),p.jsxs("div",{className:"group relative overflow-hidden rounded-3xl bg-gradient-to-b from-[#1a1b26] to-[#0f1016] border border-white/10 p-8 hover:border-emerald-500/50 transition-all duration-500 hover:shadow-[0_0_50px_-12px_rgba(16,185,129,0.5)]",children:[p.jsx("div",{className:"absolute inset-0 bg-[url('https://images.unsplash.com/photo-1550745165-9bc0b252726f?q=80&w=1000&auto=format&fit=crop')] bg-cover bg-center opacity-10 group-hover:opacity-20 transition-opacity duration-500 mix-blend-overlay"}),p.jsxs("div",{className:"relative z-10 flex flex-col items-center text-center h-full justify-between min-h-[320px]",children:[p.jsx("div",{className:"mt-4 p-6 rounded-full bg-emerald-500/10 border border-emerald-500/20 mb-6 group-hover:scale-110 group-hover:bg-emerald-500/20 transition-all duration-500",children:p.jsx(Qxe,{className:"w-16 h-16 text-emerald-400"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"text-3xl font-bold text-white mb-3 tracking-tight",children:"Mixed Reality"}),p.jsx("p",{className:"text-white/60 mb-8 text-lg leading-relaxed",children:"Overlay the training module into your physical room. Best for Mobile AR & HoloLens."})]}),p.jsx(St,{onClick:e,className:"w-full h-14 text-lg font-semibold bg-emerald-600 hover:bg-emerald-500 text-white border-0 shadow-lg shadow-emerald-900/20 rounded-xl transition-all hover:scale-[1.02] active:scale-[0.98]",children:"Enter AR Experience"})]})]})]}),p.jsx("div",{className:"mt-8 text-center",children:p.jsxs("p",{className:"text-white/30 text-sm",children:["Don't have a headset? ",p.jsx("button",{onClick:n,className:"text-white/50 hover:text-white underline underline-offset-4",children:"Continue in 3D Mode"})]})})]})}),uHe=({onPhotoSelected:t})=>{const[e,n]=T.useState(!1),[r,i]=T.useState(null),s=l=>{if(l&&l.type.startsWith("image/")){const c=new FileReader;c.onload=u=>{var f;const d=(f=u.target)==null?void 0:f.result;i(d),t(d)},c.readAsDataURL(l)}},a=l=>{l.preventDefault(),n(!1);const c=l.dataTransfer.files[0];s(c)},o=l=>{var u;const c=(u=l.target.files)==null?void 0:u[0];c&&s(c)};return p.jsx("div",{className:"absolute top-32 right-8 z-20 w-80",children:p.jsxs("div",{className:"bg-black/80 backdrop-blur-md border border-white/20 rounded-lg p-4",children:[p.jsxs("h3",{className:"text-white font-semibold mb-3 flex items-center gap-2",children:[p.jsx(np,{className:"w-4 h-4"}),"Upload Your Space Photo"]}),r?p.jsxs("div",{className:"relative",children:[p.jsx("img",{src:r,alt:"Preview",className:"w-full h-40 object-cover rounded-lg"}),p.jsx(St,{size:"icon",variant:"destructive",className:"absolute top-2 right-2 w-6 h-6",onClick:()=>{i(null),t("")},children:p.jsx(Y0,{className:"w-4 h-4"})}),p.jsx("p",{className:"text-green-400 text-xs mt-2 text-center",children:" Photo loaded! Your VR space is ready."})]}):p.jsxs("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors cursor-pointer ${e?"border-primary bg-primary/10":"border-white/20 hover:border-primary/50"}`,onDragOver:l=>{l.preventDefault(),n(!0)},onDragLeave:()=>n(!1),onDrop:a,onClick:()=>{var l;return(l=document.getElementById("photo-upload"))==null?void 0:l.click()},children:[p.jsx(np,{className:"w-12 h-12 text-white/50 mx-auto mb-3"}),p.jsx("p",{className:"text-white/70 text-sm mb-2",children:"Drop your photo here or click to browse"}),p.jsx("p",{className:"text-white/40 text-xs",children:"Supports: JPG, PNG (360 panorama recommended)"}),p.jsx("input",{id:"photo-upload",type:"file",accept:"image/*",className:"hidden",onChange:o})]}),p.jsxs("div",{className:"mt-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded text-xs text-blue-200",children:[p.jsx("strong",{children:"Tip:"})," For best results, use a 360 panorama photo of your industrial space. Regular photos will work too!"]})]})})},dHe=({position:t,type:e,name:n,onInteract:r})=>{const[i,s]=T.useState(!1),[a,o]=T.useState(!1),l=()=>{switch(e){case"machine":return p.jsxs("group",{children:[p.jsxs("mesh",{position:[0,1,0],castShadow:!0,receiveShadow:!0,children:[p.jsx("boxGeometry",{args:[2,2,1.5]}),p.jsx("meshStandardMaterial",{color:i?"#10b981":"#334155",metalness:.8,roughness:.3,emissive:i?"#10b981":"#000000",emissiveIntensity:i?.5:0})]}),p.jsxs("mesh",{position:[0,1.8,.76],children:[p.jsx("planeGeometry",{args:[1.5,1]}),p.jsx("meshStandardMaterial",{color:"#0a0a0a",emissive:i?"#3b82f6":"#000000",emissiveIntensity:i?.8:0})]}),p.jsxs("mesh",{position:[.8,2.3,.76],children:[p.jsx("sphereGeometry",{args:[.08,16,16]}),p.jsx("meshStandardMaterial",{color:i?"#10b981":"#ef4444",emissive:i?"#10b981":"#ef4444",emissiveIntensity:3})]})]});case"control_panel":return p.jsxs("group",{children:[p.jsxs("mesh",{castShadow:!0,children:[p.jsx("boxGeometry",{args:[1.2,1.8,.3]}),p.jsx("meshStandardMaterial",{color:"#475569",metalness:.7,roughness:.2})]}),p.jsxs("mesh",{position:[0,.3,.16],children:[p.jsx("planeGeometry",{args:[1,1.2]}),p.jsx("meshStandardMaterial",{color:"#1e293b",emissive:i?"#3b82f6":"#000000",emissiveIntensity:i?1:0})]}),[[-.3,-.6],[0,-.6],[.3,-.6]].map(([c,u],d)=>p.jsxs("mesh",{position:[c,u,.16],children:[p.jsx("cylinderGeometry",{args:[.08,.08,.05,16]}),p.jsx("meshStandardMaterial",{color:i&&d===1?"#10b981":"#dc2626",emissive:i&&d===1?"#10b981":"#dc2626",emissiveIntensity:1})]},d))]});case"tool":return p.jsx("group",{children:p.jsxs("mesh",{castShadow:!0,rotation:[0,0,Math.PI/6],children:[p.jsx("capsuleGeometry",{args:[.08,.6,8,16]}),p.jsx("meshStandardMaterial",{color:"#94a3b8",metalness:.9,roughness:.1,emissive:i?"#3b82f6":"#000000",emissiveIntensity:i?.5:0})]})});case"equipment":return p.jsxs("group",{children:[p.jsxs("mesh",{position:[0,.8,0],castShadow:!0,receiveShadow:!0,children:[p.jsx("cylinderGeometry",{args:[.6,.8,1.6,32]}),p.jsx("meshStandardMaterial",{color:"#64748b",metalness:.7,roughness:.3})]}),p.jsxs("mesh",{position:[0,1.8,0],children:[p.jsx("sphereGeometry",{args:[.4,32,32]}),p.jsx("meshStandardMaterial",{color:i?"#10b981":"#475569",metalness:.8,roughness:.2,emissive:i?"#10b981":"#000000",emissiveIntensity:i?.7:0})]})]});case"door":return p.jsxs("group",{children:[p.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[p.jsx("boxGeometry",{args:[2,3,.2]}),p.jsx("meshStandardMaterial",{color:"#334155",metalness:.6,roughness:.4})]}),p.jsxs("mesh",{position:[.7,0,.15],rotation:[0,0,Math.PI/2],children:[p.jsx("capsuleGeometry",{args:[.04,.3,8,16]}),p.jsx("meshStandardMaterial",{color:"#94a3b8",metalness:.9,roughness:.1})]}),p.jsxs("mesh",{position:[0,1,.11],children:[p.jsx("planeGeometry",{args:[.8,1.2]}),p.jsx("meshStandardMaterial",{color:"#1e3a8a",transparent:!0,opacity:.3,emissive:i?"#3b82f6":"#000000",emissiveIntensity:i?.5:0})]})]})}};return p.jsxs("group",{position:t,children:[p.jsx("group",{onClick:c=>{c.stopPropagation(),s(!i),r(n)},onPointerOver:c=>{c.stopPropagation(),o(!0),document.body.style.cursor="pointer"},onPointerOut:()=>{o(!1),document.body.style.cursor="auto"},children:l()}),a&&p.jsx($s,{position:[0,e==="machine"?3:e==="door"?3.5:1.5,0],center:!0,children:p.jsxs("div",{className:"bg-black/90 text-white px-4 py-2 rounded-lg text-sm border border-primary shadow-lg pointer-events-none",children:[p.jsx("div",{className:"font-semibold",children:n}),p.jsx("div",{className:"text-xs text-white/60 mt-1",children:i?" Active":"Click to activate"})]})}),i&&p.jsx($s,{position:[0,e==="machine"?2.5:1,0],center:!0,children:p.jsx("div",{className:"bg-green-500/20 text-green-200 px-3 py-1 rounded text-xs border border-green-500 animate-pulse pointer-events-none",children:"RUNNING"})})]})},fHe=({photoUrl:t,onTeleport:e})=>{const[n,r]=T.useState([]),i=a=>{r(o=>o.includes(a)?("speechSynthesis"in window&&window.speechSynthesis.speak(new SpeechSynthesisUtterance(`${a} deactivated`)),o.filter(l=>l!==a)):("speechSynthesis"in window&&window.speechSynthesis.speak(new SpeechSynthesisUtterance(`${a} activated`)),[...o,a]))},s=[{position:[-8,0,8],type:"machine",name:"CNC Lathe",onInteract:i},{position:[8,0,8],type:"machine",name:"Milling Machine",onInteract:i},{position:[-15,1.5,0],type:"control_panel",name:"Main Control",onInteract:i},{position:[15,1.5,0],type:"control_panel",name:"Safety System",onInteract:i},{position:[0,0,12],type:"equipment",name:"Air Compressor",onInteract:i},{position:[-10,0,-8],type:"equipment",name:"Hydraulic Press",onInteract:i},{position:[10,0,-8],type:"equipment",name:"Welding Station",onInteract:i},{position:[-12,.9,12],type:"tool",name:"Wrench Set",onInteract:i},{position:[-10,.9,12],type:"tool",name:"Drill",onInteract:i},{position:[10,.9,12],type:"tool",name:"Scanner",onInteract:i},{position:[12,.9,12],type:"tool",name:"Caliper",onInteract:i},{position:[0,1.5,-18],type:"door",name:"Emergency Exit",onInteract:i}];return p.jsxs("group",{children:[p.jsxs("mesh",{scale:[-1,1,1],children:[p.jsx("sphereGeometry",{args:[500,60,40]}),p.jsx("meshBasicMaterial",{side:Gs,children:p.jsx("primitive",{attach:"map",object:new c5().load(t)})})]}),p.jsxs("mesh",{rotation:[-Math.PI/2,0,0],position:[0,-.05,0],receiveShadow:!0,onPointerDown:a=>{e&&(a.stopPropagation(),e(a.point))},children:[p.jsx("planeGeometry",{args:[60,60]}),p.jsx("meshStandardMaterial",{color:"#1e293b",roughness:.8,metalness:.2,transparent:!0,opacity:.3})]}),p.jsx("group",{position:[0,.01,0],rotation:[-Math.PI/2,0,0],children:[-15,-10,-5,0,5,10,15].map((a,o)=>p.jsxs("group",{children:[p.jsxs("mesh",{position:[a,0,0],children:[p.jsx("planeGeometry",{args:[.1,60]}),p.jsx("meshBasicMaterial",{color:"#eab308",transparent:!0,opacity:.4})]}),p.jsxs("mesh",{position:[0,a,0],children:[p.jsx("planeGeometry",{args:[60,.1]}),p.jsx("meshBasicMaterial",{color:"#eab308",transparent:!0,opacity:.4})]})]},o))}),s.map((a,o)=>p.jsx(dHe,{...a},o)),p.jsxs("group",{position:[-11,.9,12],children:[p.jsxs("mesh",{castShadow:!0,children:[p.jsx("boxGeometry",{args:[5,.1,2]}),p.jsx("meshStandardMaterial",{color:"#6b7280",metalness:.6,roughness:.4})]}),p.jsxs("mesh",{position:[0,-.45,0],children:[p.jsx("boxGeometry",{args:[4.8,.9,1.8]}),p.jsx("meshStandardMaterial",{color:"#374151"})]})]}),p.jsxs("group",{position:[11,.9,12],children:[p.jsxs("mesh",{castShadow:!0,children:[p.jsx("boxGeometry",{args:[5,.1,2]}),p.jsx("meshStandardMaterial",{color:"#6b7280",metalness:.6,roughness:.4})]}),p.jsxs("mesh",{position:[0,-.45,0],children:[p.jsx("boxGeometry",{args:[4.8,.9,1.8]}),p.jsx("meshStandardMaterial",{color:"#374151"})]})]}),p.jsx("pointLight",{position:[0,8,0],intensity:.5,castShadow:!0}),p.jsx("pointLight",{position:[-10,6,10],intensity:.3,color:"#3b82f6"}),p.jsx("pointLight",{position:[10,6,10],intensity:.3,color:"#10b981"}),p.jsx("spotLight",{position:[0,10,-10],angle:.5,penumbra:.5,intensity:.8,castShadow:!0,"shadow-mapSize":[2048,2048]}),p.jsx($s,{position:[0,3,-17],center:!0,children:p.jsxs("div",{className:"bg-black/90 backdrop-blur-md border border-white/20 text-white px-6 py-3 rounded-lg",children:[p.jsx("div",{className:"text-sm font-semibold mb-2",children:"Interactive Objects"}),p.jsxs("div",{className:"text-xs text-white/60",children:[n.length," / ",s.length," activated"]}),p.jsx("div",{className:"w-48 h-2 bg-white/10 rounded-full mt-2 overflow-hidden",children:p.jsx("div",{className:"h-full bg-gradient-to-r from-primary to-green-500 transition-all duration-500",style:{width:`${n.length/s.length*100}%`}})})]})})]})},hHe=({originRef:t})=>(rHe(t,{speed:2},{type:"smooth",speed:2},"left"),null),sk=X$e(),pHe=[{name:"forward",keys:["ArrowUp","w","W"]},{name:"backward",keys:["ArrowDown","s","S"]},{name:"left",keys:["ArrowLeft","a","A"]},{name:"right",keys:["ArrowRight","d","D"]}],sa={en:{welcome:"Welcome to NextVerse! Select a module to start training.",start:"Module 1 Started: Assembly Basics. Task: Click the RED Cube first.",correct_red:"Correct! Now click the GREEN Sphere.",correct_green:"Excellent. Finally, click the BLUE Cone.",complete:"Module Complete! Great job assembling the sequence.",reset:"Select a module to continue training.",incorrect:"Incorrect object! Listen to the instructions.",module1:"Assembly Basics",module2:"Safety Inspection",mod2_start:"Module 2 Started: Safety Inspection. Find and fix 3 hazards on the tank!",mod2_complete:"All hazards neutralized! The facility is safe.",enter_vr:"Enter VR",enter_ar:"Enter AR/MR",mode_3d:"3D Room",mode_photo:"360 Photo"},fr:{welcome:"Bienvenue sur NextVerse ! Slectionnez un module pour commencer.",start:"Module 1 dmarr : Bases. Tche : Cliquez sur le Cube ROUGE.",correct_red:"Correct ! Maintenant, cliquez sur la Sphre VERTE.",correct_green:"Excellent. Enfin, cliquez sur le Cne BLEU.",complete:"Module termin ! Excellent travail.",reset:"Slectionnez un module pour continuer.",incorrect:"Objet incorrect ! coutez les instructions.",module1:"Bases d'Assemblage",module2:"Inspection Scurit",mod2_start:"Module 2 : Inspection de scurit. Trouvez et rparez 3 dangers !",mod2_complete:"Tous les dangers neutraliss ! L'installation est sre.",enter_vr:"Mode VR",enter_ar:"Mode AR/MR",mode_3d:"Salle 3D",mode_photo:"Photo 360"},ar:{welcome:"   NextVerse!    .",start:"  1: . :     .",correct_red:"!     .",correct_green:".     .",complete:" !  .",reset:"   .",incorrect:"  !   .",module1:" ",module2:" ",mod2_start:" 2:  .   3  !",mod2_complete:"   !  .",enter_vr:" VR",enter_ar:" AR/MR",mode_3d:" 3D",mode_photo:" 360"}},mHe=({controlsRef:t})=>{const{camera:e}=Sr(),[,n]=g5e(),{mode:r}=Ci();return Tr((i,s)=>{if(r!=null)return;const{forward:a,backward:o,left:l,right:c}=n(),u=5*s;if(!a&&!o&&!l&&!c)return;const d=new J,f=new J(0,0,0),h=new J(0,0,0);a&&f.set(0,0,-1),o&&f.set(0,0,1),l&&h.set(-1,0,0),c&&h.set(1,0,0),d.subVectors(f,h).normalize().multiplyScalar(u).applyEuler(e.rotation),d.y=0,e.position.add(d),t.current&&t.current.target.add(d)}),null},gHe=()=>{const[t,e]=T.useState("none"),[n,r]=T.useState(0),[i,s]=T.useState("en"),[a,o]=T.useState(sa.en.welcome),[l,c]=T.useState(!0),[u,d]=T.useState("3d"),[f,h]=T.useState(""),m=T.useRef(null),g=T.useRef(null);T.useEffect(()=>{t==="none"&&n===0&&o(sa[i].welcome)},[i,t,n]);const v=(M,R)=>{if("speechSynthesis"in window){window.speechSynthesis.cancel();const P=new SpeechSynthesisUtterance(M),O={en:"en-US",fr:"fr-FR",ar:"ar-SA"};P.lang=O[R];const I=window.speechSynthesis.getVoices().find(F=>F.lang.startsWith(O[R]));I&&(P.voice=I),window.speechSynthesis.speak(P)}},y=()=>{if(t==="none"){e("module1"),r(1);const M=sa[i].start;o(M),v(M,i)}},w=M=>{if(t!=="module1")return;let R="";n===1&&M==="red"?(r(2),R=sa[i].correct_red):n===2&&M==="green"?(r(3),R=sa[i].correct_green):n===3&&M==="blue"?(r(4),R=sa[i].complete,setTimeout(()=>{e("none"),r(0);const P=sa[i].reset;o(P),v(P,i)},4e3)):R=sa[i].incorrect,R&&(o(R),v(R,i))},_=()=>{if(t==="none"){e("module2");const M=sa[i].mod2_start;o(M),v(M,i)}},S=M=>{o(M),v(M,i)},E=()=>{const M=sa[i].mod2_complete;o(M),v(M,i),setTimeout(()=>{e("none");const R=sa[i].reset;o(R),v(R,i)},4e3)},A=M=>{g.current&&g.current.position.set(M.x,M.y,M.z)};return p.jsx(m5e,{map:pHe,children:p.jsxs("div",{className:"h-screen w-full bg-black relative",children:[l&&p.jsx(cHe,{onEnterVR:()=>{sk.enterVR(),c(!1)},onEnterAR:()=>{sk.enterAR(),c(!1)},onClose:()=>c(!1)}),p.jsx("div",{className:"absolute bottom-24 left-8 z-20 text-white/50 text-xs pointer-events-none",children:p.jsxs("p",{className:"flex items-center gap-2",children:[p.jsx(kxe,{className:"w-3 h-3"})," WASD to Move  Click Floor to Teleport (VR)"]})}),!l&&p.jsx("div",{className:"absolute bottom-8 left-8 z-20",children:p.jsxs(St,{onClick:()=>c(!0),className:"bg-white/10 hover:bg-white/20 backdrop-blur-md border border-white/20 text-white",children:[p.jsx(Xxe,{className:"mr-2 h-4 w-4"}),"XR Options"]})}),p.jsxs("div",{className:"absolute top-8 left-8 z-20 flex gap-2",children:[p.jsxs(St,{variant:u==="3d"?"default":"secondary",size:"sm",onClick:()=>d("3d"),className:"gap-2",children:[p.jsx(lf,{className:"w-4 h-4"}),sa[i].mode_3d]}),p.jsxs(St,{variant:u==="photo"?"default":"secondary",size:"sm",onClick:()=>d("photo"),className:"gap-2",children:[p.jsx(XT,{className:"w-4 h-4"}),sa[i].mode_photo]})]}),u==="photo"&&p.jsx(uHe,{onPhotoSelected:h}),p.jsx("div",{className:"absolute top-20 right-8 z-20 flex flex-col gap-2",children:["en","fr","ar"].map(M=>p.jsx(St,{variant:i===M?"default":"secondary",size:"sm",onClick:()=>s(M),className:"w-12 uppercase",children:M},M))}),p.jsx(JBe,{shadows:!0,camera:{position:[0,1.7,6],fov:60},gl:{antialias:!0,alpha:!1},style:{background:"#0f172a"},children:p.jsxs(q$e,{store:sk,children:[p.jsx(eHe,{ref:g,position:[0,0,0]}),p.jsx(hHe,{originRef:g}),p.jsxs(T.Suspense,{fallback:p.jsx($s,{center:!0,children:p.jsx("div",{className:"text-white text-xl",children:"Loading VR Environment..."})}),children:[p.jsx("ambientLight",{intensity:.2}),p.jsx("pointLight",{position:[0,10,0],intensity:.5,castShadow:!0}),u==="3d"?p.jsxs(p.Fragment,{children:[p.jsx(yVe,{files:"/empty_warehouse_01_4k.hdr",background:!0,ground:{height:2,radius:130,scale:100}}),p.jsx(lHe,{onTeleport:A,showStructure:!1})]}):p.jsx(p.Fragment,{children:p.jsx(fHe,{photoUrl:f||"/realistic_hangar.png",onTeleport:A})}),p.jsx(xVe,{resolution:1024,scale:50,blur:2,opacity:.5,far:10,color:"#000000"}),p.jsx(qze,{ref:m,enableZoom:!0,maxPolarAngle:Math.PI/2}),p.jsx(mHe,{controlsRef:m}),p.jsx(V3,{speed:2,rotationIntensity:.5,floatIntensity:.5,children:p.jsxs("group",{position:[0,1.5,-2],children:[p.jsxs("mesh",{children:[p.jsx("sphereGeometry",{args:[.4,32,32]}),p.jsx("meshStandardMaterial",{color:t!=="none"?"#10b981":"#4f46e5",metalness:.8,roughness:.2})]}),p.jsxs("mesh",{position:[0,0,.35],children:[p.jsx("circleGeometry",{args:[.15,32]}),p.jsx("meshBasicMaterial",{color:"#00ffcc",toneMapped:!1})]}),p.jsxs("mesh",{rotation:[Math.PI/2,0,0],children:[p.jsx("torusGeometry",{args:[.6,.02,16,100]}),p.jsx("meshStandardMaterial",{color:"#818cf8",emissive:"#4f46e5",toneMapped:!1})]}),p.jsx($s,{position:[0,1.2,0],center:!0,transform:!0,children:p.jsx("div",{className:"bg-black/80 backdrop-blur-md border border-primary/50 text-white px-4 py-2 rounded-xl text-center min-w-[200px]",dir:i==="ar"?"rtl":"ltr",children:p.jsx("p",{className:"text-sm font-medium",children:a})})})]})}),t==="none"&&p.jsxs("group",{children:[p.jsxs("group",{position:[-2,.5,0],onClick:y,onPointerOver:()=>document.body.style.cursor="pointer",onPointerOut:()=>document.body.style.cursor="auto",children:[p.jsx(V3,{speed:1.5,rotationIntensity:1,floatIntensity:.2,children:p.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[p.jsx("boxGeometry",{args:[1,1,1]}),p.jsx("meshStandardMaterial",{color:"#ec4899",metalness:.5,roughness:.2})]})}),p.jsx(I7,{position:[0,1,0],fontSize:.2,color:"white",anchorX:"center",children:sa[i].module1})]}),p.jsxs("group",{position:[2,.5,0],onClick:_,onPointerOver:()=>document.body.style.cursor="pointer",onPointerOut:()=>document.body.style.cursor="auto",children:[p.jsx(V3,{speed:1.5,rotationIntensity:1,floatIntensity:.2,children:p.jsxs("mesh",{castShadow:!0,receiveShadow:!0,children:[p.jsx("octahedronGeometry",{args:[.7]}),p.jsx("meshStandardMaterial",{color:"#f59e0b",metalness:.5,roughness:.2})]})}),p.jsx(I7,{position:[0,1,0],fontSize:.2,color:"white",anchorX:"center",children:sa[i].module2})]})]}),t==="module1"&&p.jsxs("group",{position:[0,.5,1],children:[p.jsxs("mesh",{position:[-1.5,0,0],onClick:()=>w("red"),onPointerOver:()=>document.body.style.cursor="pointer",onPointerOut:()=>document.body.style.cursor="auto",visible:n>=1,castShadow:!0,receiveShadow:!0,children:[p.jsx("boxGeometry",{args:[.6,.6,.6]}),p.jsx("meshStandardMaterial",{color:n>1?"#333":"#ef4444"}),n===1&&p.jsx($s,{position:[0,.8,0],center:!0,transform:!0,children:p.jsx("div",{className:"bg-red-500/20 text-red-200 px-2 py-1 rounded text-xs border border-red-500 animate-bounce",children:"Click Me"})})]}),p.jsxs("mesh",{position:[0,0,0],onClick:()=>w("green"),onPointerOver:()=>document.body.style.cursor="pointer",onPointerOut:()=>document.body.style.cursor="auto",visible:n>=1,castShadow:!0,receiveShadow:!0,children:[p.jsx("sphereGeometry",{args:[.4,32,32]}),p.jsx("meshStandardMaterial",{color:n>2?"#333":"#10b981"}),n===2&&p.jsx($s,{position:[0,.8,0],center:!0,transform:!0,children:p.jsx("div",{className:"bg-green-500/20 text-green-200 px-2 py-1 rounded text-xs border border-green-500 animate-bounce",children:"Click Me"})})]}),p.jsxs("mesh",{position:[1.5,0,0],onClick:()=>w("blue"),onPointerOver:()=>document.body.style.cursor="pointer",onPointerOut:()=>document.body.style.cursor="auto",visible:n>=1,castShadow:!0,receiveShadow:!0,children:[p.jsx("coneGeometry",{args:[.4,.8,32]}),p.jsx("meshStandardMaterial",{color:n>3?"#333":"#3b82f6"}),n===3&&p.jsx($s,{position:[0,.8,0],center:!0,transform:!0,children:p.jsx("div",{className:"bg-blue-500/20 text-blue-200 px-2 py-1 rounded text-xs border border-blue-500 animate-bounce",children:"Click Me"})})]})]}),t==="module2"&&p.jsx(aHe,{active:!0,onComplete:E,onProgress:S})]})]})})]})})},vHe=()=>{const t=tP(),[e,n]=T.useState(!1);return p.jsxs("div",{className:"relative w-full h-screen bg-black overflow-hidden",children:[p.jsxs("div",{className:"absolute top-0 left-0 w-full p-6 z-10 flex justify-between items-start pointer-events-none",children:[p.jsxs(St,{variant:"outline",onClick:()=>t("/"),className:"bg-black/40 backdrop-blur-md border-white/20 text-white hover:bg-white/10 pointer-events-auto",children:[p.jsx($C,{className:"mr-2 h-4 w-4"}),"Exit Simulation"]}),p.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/20 px-4 py-2 rounded-full text-white/80 text-sm font-medium",children:[p.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full inline-block mr-2 animate-pulse"}),"Connected to NextVerse Cloud"]})]}),p.jsxs("div",{className:"absolute bottom-8 left-1/2 -translate-x-1/2 z-10 flex gap-4 pointer-events-auto",children:[p.jsx(St,{variant:e?"default":"secondary",size:"lg",className:`rounded-full h-14 w-14 p-0 ${e?"bg-red-500 hover:bg-red-600":"bg-white/10 hover:bg-white/20 text-white backdrop-blur-md"}`,onClick:()=>n(!e),children:p.jsx(Wxe,{className:"h-6 w-6"})}),p.jsx(St,{variant:"secondary",size:"lg",className:"rounded-full h-14 w-14 p-0 bg-white/10 hover:bg-white/20 text-white backdrop-blur-md",children:p.jsx(Fxe,{className:"h-6 w-6"})})]}),p.jsx("div",{className:"absolute bottom-8 right-8 z-10 max-w-xs pointer-events-none",children:p.jsxs("div",{className:"bg-black/40 backdrop-blur-md border border-white/20 p-4 rounded-xl text-white",children:[p.jsx("h4",{className:"font-semibold mb-1",children:"Navigation"}),p.jsxs("p",{className:"text-xs text-white/70",children:[" Left Click + Drag to Rotate",p.jsx("br",{})," Scroll to Zoom",p.jsx("br",{})," Right Click to Pan"]})]})}),p.jsx(gHe,{})]})};var V5="Progress",$5=100,[yHe,ybt]=Xs(V5),[xHe,bHe]=yHe(V5),Sue=T.forwardRef((t,e)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=wHe,...a}=t;(i||i===0)&&!PX(i)&&console.error(_He(`${i}`,"Progress"));const o=PX(i)?i:$5;r!==null&&!RX(r,o)&&console.error(SHe(`${r}`,"Progress"));const l=RX(r,o)?r:null,c=g2(l)?s(l,o):void 0;return p.jsx(xHe,{scope:n,value:l,max:o,children:p.jsx(Lt.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":g2(l)?l:void 0,"aria-valuetext":c,role:"progressbar","data-state":Aue(l,o),"data-value":l??void 0,"data-max":o,...a,ref:e})})});Sue.displayName=V5;var Eue="ProgressIndicator",Tue=T.forwardRef((t,e)=>{const{__scopeProgress:n,...r}=t,i=bHe(Eue,n);return p.jsx(Lt.div,{"data-state":Aue(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:e})});Tue.displayName=Eue;function wHe(t,e){return`${Math.round(t/e*100)}%`}function Aue(t,e){return t==null?"indeterminate":t===e?"complete":"loading"}function g2(t){return typeof t=="number"}function PX(t){return g2(t)&&!isNaN(t)&&t>0}function RX(t,e){return g2(t)&&!isNaN(t)&&t<=e&&t>=0}function _He(t,e){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${e}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${$5}\`.`}function SHe(t,e){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${e}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${$5} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Mue=Sue,EHe=Tue;const SR=T.forwardRef(({className:t,value:e,...n},r)=>p.jsx(Mue,{ref:r,className:ht("relative h-4 w-full overflow-hidden rounded-full bg-secondary",t),...n,children:p.jsx(EHe,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(e||0)}%)`}})}));SR.displayName=Mue.displayName;var THe=Array.isArray,Xa=THe,AHe=typeof ES=="object"&&ES&&ES.Object===Object&&ES,Cue=AHe,MHe=Cue,CHe=typeof self=="object"&&self&&self.Object===Object&&self,PHe=MHe||CHe||Function("return this")(),Hc=PHe,RHe=Hc,OHe=RHe.Symbol,S_=OHe,OX=S_,Pue=Object.prototype,NHe=Pue.hasOwnProperty,IHe=Pue.toString,Vx=OX?OX.toStringTag:void 0;function kHe(t){var e=NHe.call(t,Vx),n=t[Vx];try{t[Vx]=void 0;var r=!0}catch{}var i=IHe.call(t);return r&&(e?t[Vx]=n:delete t[Vx]),i}var DHe=kHe,LHe=Object.prototype,jHe=LHe.toString;function FHe(t){return jHe.call(t)}var UHe=FHe,NX=S_,BHe=DHe,zHe=UHe,VHe="[object Null]",$He="[object Undefined]",IX=NX?NX.toStringTag:void 0;function HHe(t){return t==null?t===void 0?$He:VHe:IX&&IX in Object(t)?BHe(t):zHe(t)}var Yu=HHe;function GHe(t){return t!=null&&typeof t=="object"}var Zu=GHe,WHe=Yu,XHe=Zu,qHe="[object Symbol]";function KHe(t){return typeof t=="symbol"||XHe(t)&&WHe(t)==qHe}var xy=KHe,YHe=Xa,ZHe=xy,JHe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,QHe=/^\w*$/;function eGe(t,e){if(YHe(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||ZHe(t)?!0:QHe.test(t)||!JHe.test(t)||e!=null&&t in Object(e)}var H5=eGe;function tGe(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Xf=tGe;const by=lr(Xf);var nGe=Yu,rGe=Xf,iGe="[object AsyncFunction]",sGe="[object Function]",aGe="[object GeneratorFunction]",oGe="[object Proxy]";function lGe(t){if(!rGe(t))return!1;var e=nGe(t);return e==sGe||e==aGe||e==iGe||e==oGe}var G5=lGe;const pn=lr(G5);var cGe=Hc,uGe=cGe["__core-js_shared__"],dGe=uGe,ak=dGe,kX=function(){var t=/[^.]+$/.exec(ak&&ak.keys&&ak.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function fGe(t){return!!kX&&kX in t}var hGe=fGe,pGe=Function.prototype,mGe=pGe.toString;function gGe(t){if(t!=null){try{return mGe.call(t)}catch{}try{return t+""}catch{}}return""}var Rue=gGe,vGe=G5,yGe=hGe,xGe=Xf,bGe=Rue,wGe=/[\\^$.*+?()[\]{}|]/g,_Ge=/^\[object .+?Constructor\]$/,SGe=Function.prototype,EGe=Object.prototype,TGe=SGe.toString,AGe=EGe.hasOwnProperty,MGe=RegExp("^"+TGe.call(AGe).replace(wGe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function CGe(t){if(!xGe(t)||yGe(t))return!1;var e=vGe(t)?MGe:_Ge;return e.test(bGe(t))}var PGe=CGe;function RGe(t,e){return t==null?void 0:t[e]}var OGe=RGe,NGe=PGe,IGe=OGe;function kGe(t,e){var n=IGe(t,e);return NGe(n)?n:void 0}var wm=kGe,DGe=wm,LGe=DGe(Object,"create"),ER=LGe,DX=ER;function jGe(){this.__data__=DX?DX(null):{},this.size=0}var FGe=jGe;function UGe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var BGe=UGe,zGe=ER,VGe="__lodash_hash_undefined__",$Ge=Object.prototype,HGe=$Ge.hasOwnProperty;function GGe(t){var e=this.__data__;if(zGe){var n=e[t];return n===VGe?void 0:n}return HGe.call(e,t)?e[t]:void 0}var WGe=GGe,XGe=ER,qGe=Object.prototype,KGe=qGe.hasOwnProperty;function YGe(t){var e=this.__data__;return XGe?e[t]!==void 0:KGe.call(e,t)}var ZGe=YGe,JGe=ER,QGe="__lodash_hash_undefined__";function eWe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=JGe&&e===void 0?QGe:e,this}var tWe=eWe,nWe=FGe,rWe=BGe,iWe=WGe,sWe=ZGe,aWe=tWe;function wy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}wy.prototype.clear=nWe;wy.prototype.delete=rWe;wy.prototype.get=iWe;wy.prototype.has=sWe;wy.prototype.set=aWe;var oWe=wy;function lWe(){this.__data__=[],this.size=0}var cWe=lWe;function uWe(t,e){return t===e||t!==t&&e!==e}var W5=uWe,dWe=W5;function fWe(t,e){for(var n=t.length;n--;)if(dWe(t[n][0],e))return n;return-1}var TR=fWe,hWe=TR,pWe=Array.prototype,mWe=pWe.splice;function gWe(t){var e=this.__data__,n=hWe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():mWe.call(e,n,1),--this.size,!0}var vWe=gWe,yWe=TR;function xWe(t){var e=this.__data__,n=yWe(e,t);return n<0?void 0:e[n][1]}var bWe=xWe,wWe=TR;function _We(t){return wWe(this.__data__,t)>-1}var SWe=_We,EWe=TR;function TWe(t,e){var n=this.__data__,r=EWe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var AWe=TWe,MWe=cWe,CWe=vWe,PWe=bWe,RWe=SWe,OWe=AWe;function _y(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}_y.prototype.clear=MWe;_y.prototype.delete=CWe;_y.prototype.get=PWe;_y.prototype.has=RWe;_y.prototype.set=OWe;var AR=_y,NWe=wm,IWe=Hc,kWe=NWe(IWe,"Map"),X5=kWe,LX=oWe,DWe=AR,LWe=X5;function jWe(){this.size=0,this.__data__={hash:new LX,map:new(LWe||DWe),string:new LX}}var FWe=jWe;function UWe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var BWe=UWe,zWe=BWe;function VWe(t,e){var n=t.__data__;return zWe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var MR=VWe,$We=MR;function HWe(t){var e=$We(this,t).delete(t);return this.size-=e?1:0,e}var GWe=HWe,WWe=MR;function XWe(t){return WWe(this,t).get(t)}var qWe=XWe,KWe=MR;function YWe(t){return KWe(this,t).has(t)}var ZWe=YWe,JWe=MR;function QWe(t,e){var n=JWe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var e9e=QWe,t9e=FWe,n9e=GWe,r9e=qWe,i9e=ZWe,s9e=e9e;function Sy(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Sy.prototype.clear=t9e;Sy.prototype.delete=n9e;Sy.prototype.get=r9e;Sy.prototype.has=i9e;Sy.prototype.set=s9e;var q5=Sy,Oue=q5,a9e="Expected a function";function K5(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(a9e);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(K5.Cache||Oue),n}K5.Cache=Oue;var Nue=K5;const o9e=lr(Nue);var l9e=Nue,c9e=500;function u9e(t){var e=l9e(t,function(r){return n.size===c9e&&n.clear(),r}),n=e.cache;return e}var d9e=u9e,f9e=d9e,h9e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,p9e=/\\(\\)?/g,m9e=f9e(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(h9e,function(n,r,i,s){e.push(i?s.replace(p9e,"$1"):r||n)}),e}),g9e=m9e;function v9e(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var Y5=v9e,jX=S_,y9e=Y5,x9e=Xa,b9e=xy,w9e=1/0,FX=jX?jX.prototype:void 0,UX=FX?FX.toString:void 0;function Iue(t){if(typeof t=="string")return t;if(x9e(t))return y9e(t,Iue)+"";if(b9e(t))return UX?UX.call(t):"";var e=t+"";return e=="0"&&1/t==-w9e?"-0":e}var _9e=Iue,S9e=_9e;function E9e(t){return t==null?"":S9e(t)}var kue=E9e,T9e=Xa,A9e=H5,M9e=g9e,C9e=kue;function P9e(t,e){return T9e(t)?t:A9e(t,e)?[t]:M9e(C9e(t))}var Due=P9e,R9e=xy,O9e=1/0;function N9e(t){if(typeof t=="string"||R9e(t))return t;var e=t+"";return e=="0"&&1/t==-O9e?"-0":e}var CR=N9e,I9e=Due,k9e=CR;function D9e(t,e){e=I9e(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[k9e(e[n++])];return n&&n==r?t:void 0}var Z5=D9e,L9e=Z5;function j9e(t,e,n){var r=t==null?void 0:L9e(t,e);return r===void 0?n:r}var Lue=j9e;const wo=lr(Lue);function F9e(t){return t==null}var U9e=F9e;const Sn=lr(U9e);var B9e=Yu,z9e=Xa,V9e=Zu,$9e="[object String]";function H9e(t){return typeof t=="string"||!z9e(t)&&V9e(t)&&B9e(t)==$9e}var G9e=H9e;const rm=lr(G9e);var jue={exports:{}},vr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J5=Symbol.for("react.element"),Q5=Symbol.for("react.portal"),PR=Symbol.for("react.fragment"),RR=Symbol.for("react.strict_mode"),OR=Symbol.for("react.profiler"),NR=Symbol.for("react.provider"),IR=Symbol.for("react.context"),W9e=Symbol.for("react.server_context"),kR=Symbol.for("react.forward_ref"),DR=Symbol.for("react.suspense"),LR=Symbol.for("react.suspense_list"),jR=Symbol.for("react.memo"),FR=Symbol.for("react.lazy"),X9e=Symbol.for("react.offscreen"),Fue;Fue=Symbol.for("react.module.reference");function dl(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case J5:switch(t=t.type,t){case PR:case OR:case RR:case DR:case LR:return t;default:switch(t=t&&t.$$typeof,t){case W9e:case IR:case kR:case FR:case jR:case NR:return t;default:return e}}case Q5:return e}}}vr.ContextConsumer=IR;vr.ContextProvider=NR;vr.Element=J5;vr.ForwardRef=kR;vr.Fragment=PR;vr.Lazy=FR;vr.Memo=jR;vr.Portal=Q5;vr.Profiler=OR;vr.StrictMode=RR;vr.Suspense=DR;vr.SuspenseList=LR;vr.isAsyncMode=function(){return!1};vr.isConcurrentMode=function(){return!1};vr.isContextConsumer=function(t){return dl(t)===IR};vr.isContextProvider=function(t){return dl(t)===NR};vr.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===J5};vr.isForwardRef=function(t){return dl(t)===kR};vr.isFragment=function(t){return dl(t)===PR};vr.isLazy=function(t){return dl(t)===FR};vr.isMemo=function(t){return dl(t)===jR};vr.isPortal=function(t){return dl(t)===Q5};vr.isProfiler=function(t){return dl(t)===OR};vr.isStrictMode=function(t){return dl(t)===RR};vr.isSuspense=function(t){return dl(t)===DR};vr.isSuspenseList=function(t){return dl(t)===LR};vr.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===PR||t===OR||t===RR||t===DR||t===LR||t===X9e||typeof t=="object"&&t!==null&&(t.$$typeof===FR||t.$$typeof===jR||t.$$typeof===NR||t.$$typeof===IR||t.$$typeof===kR||t.$$typeof===Fue||t.getModuleId!==void 0)};vr.typeOf=dl;jue.exports=vr;var q9e=jue.exports,K9e=Yu,Y9e=Zu,Z9e="[object Number]";function J9e(t){return typeof t=="number"||Y9e(t)&&K9e(t)==Z9e}var Uue=J9e;const Q9e=lr(Uue);var e7e=Uue;function t7e(t){return e7e(t)&&t!=+t}var n7e=t7e;const E_=lr(n7e);var ma=function(e){return e===0?0:e>0?1:-1},mp=function(e){return rm(e)&&e.indexOf("%")===e.length-1},_t=function(e){return Q9e(e)&&!E_(e)},r7e=function(e){return Sn(e)},Zi=function(e){return _t(e)||rm(e)},i7e=0,Ey=function(e){var n=++i7e;return"".concat(e||"").concat(n)},ga=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!_t(e)&&!rm(e))return r;var s;if(mp(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return E_(s)&&(s=r),i&&s>n&&(s=n),s},Ud=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},s7e=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},fo=function(e,n){return _t(e)&&_t(n)?function(r){return e+r*(n-e)}:function(){return n}};function v2(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):wo(r,e))===n})}var a7e=function(e,n){return _t(e)&&_t(n)?e-n:rm(e)&&rm(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Mv(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function Tj(t){"@babel/helpers - typeof";return Tj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tj(t)}var o7e=["viewBox","children"],l7e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],BX=["points","pathLength"],ok={svg:o7e,polygon:BX,polyline:BX},ez=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],y2=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(T.isValidElement(e)&&(r=e.props),!by(r))return null;var i={};return Object.keys(r).forEach(function(s){ez.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},c7e=function(e,n,r){return function(i){return e(n,r,i),null}},im=function(e,n,r){if(!by(e)||Tj(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];ez.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=c7e(a,n,r))}),i},u7e=["children"],d7e=["children"];function zX(t,e){if(t==null)return{};var n=f7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function f7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Aj(t){"@babel/helpers - typeof";return Aj=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Aj(t)}var VX={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Ru=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},$X=null,lk=null,tz=function t(e){if(e===$X&&Array.isArray(lk))return lk;var n=[];return T.Children.forEach(e,function(r){Sn(r)||(q9e.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),lk=n,$X=e,n};function _o(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Ru(i)}):r=[Ru(e)],tz(t).forEach(function(i){var s=wo(i,"type.displayName")||wo(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function lo(t,e){var n=_o(t,e);return n&&n[0]}var HX=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!_t(r)||r<=0||!_t(i)||i<=0)},h7e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],p7e=function(e){return e&&e.type&&rm(e.type)&&h7e.indexOf(e.type)>=0},m7e=function(e){return e&&Aj(e)==="object"&&"clipDot"in e},g7e=function(e,n,r,i){var s,a=(s=ok==null?void 0:ok[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!pn(e)&&(i&&a.includes(n)||l7e.includes(n))||r&&ez.includes(n)},nn=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(T.isValidElement(e)&&(i=e.props),!by(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;g7e((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},Mj=function t(e,n){if(e===n)return!0;var r=T.Children.count(e);if(r!==T.Children.count(n))return!1;if(r===0)return!0;if(r===1)return GX(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!GX(s,a))return!1}return!0},GX=function(e,n){if(Sn(e)&&Sn(n))return!0;if(!Sn(e)&&!Sn(n)){var r=e.props||{},i=r.children,s=zX(r,u7e),a=n.props||{},o=a.children,l=zX(a,d7e);return i&&o?Mv(s,l)&&Mj(i,o):!i&&!o?Mv(s,l):!1}return!1},WX=function(e,n){var r=[],i={};return tz(e).forEach(function(s,a){if(p7e(s))r.push(s);else if(s){var o=Ru(s.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var d=c(s,o,a);r.push(d),i[o]=!0}}}),r},v7e=function(e){var n=e&&e.type;return n&&VX[n]?VX[n]:null},y7e=function(e,n){return tz(n).indexOf(e)},x7e=["children","width","height","viewBox","className","style","title","desc"];function Cj(){return Cj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cj.apply(this,arguments)}function b7e(t,e){if(t==null)return{};var n=w7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Pj(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=b7e(t,x7e),u=i||{width:n,height:r,x:0,y:0},d=Mn("recharts-surface",s);return ie.createElement("svg",Cj({},nn(c,!0,"svg"),{className:d,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ie.createElement("title",null,o),ie.createElement("desc",null,l),e)}var _7e=["children","className"];function Rj(){return Rj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rj.apply(this,arguments)}function S7e(t,e){if(t==null)return{};var n=E7e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function E7e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var sr=ie.forwardRef(function(t,e){var n=t.children,r=t.className,i=S7e(t,_7e),s=Mn("recharts-layer",r);return ie.createElement("g",Rj({className:s},nn(i,!0),{ref:e}),n)}),Gl=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function T7e(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var A7e=T7e,M7e=A7e;function C7e(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:M7e(t,e,n)}var P7e=C7e,R7e="\\ud800-\\udfff",O7e="\\u0300-\\u036f",N7e="\\ufe20-\\ufe2f",I7e="\\u20d0-\\u20ff",k7e=O7e+N7e+I7e,D7e="\\ufe0e\\ufe0f",L7e="\\u200d",j7e=RegExp("["+L7e+R7e+k7e+D7e+"]");function F7e(t){return j7e.test(t)}var Bue=F7e;function U7e(t){return t.split("")}var B7e=U7e,zue="\\ud800-\\udfff",z7e="\\u0300-\\u036f",V7e="\\ufe20-\\ufe2f",$7e="\\u20d0-\\u20ff",H7e=z7e+V7e+$7e,G7e="\\ufe0e\\ufe0f",W7e="["+zue+"]",Oj="["+H7e+"]",Nj="\\ud83c[\\udffb-\\udfff]",X7e="(?:"+Oj+"|"+Nj+")",Vue="[^"+zue+"]",$ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Hue="[\\ud800-\\udbff][\\udc00-\\udfff]",q7e="\\u200d",Gue=X7e+"?",Wue="["+G7e+"]?",K7e="(?:"+q7e+"(?:"+[Vue,$ue,Hue].join("|")+")"+Wue+Gue+")*",Y7e=Wue+Gue+K7e,Z7e="(?:"+[Vue+Oj+"?",Oj,$ue,Hue,W7e].join("|")+")",J7e=RegExp(Nj+"(?="+Nj+")|"+Z7e+Y7e,"g");function Q7e(t){return t.match(J7e)||[]}var eXe=Q7e,tXe=B7e,nXe=Bue,rXe=eXe;function iXe(t){return nXe(t)?rXe(t):tXe(t)}var sXe=iXe,aXe=P7e,oXe=Bue,lXe=sXe,cXe=kue;function uXe(t){return function(e){e=cXe(e);var n=oXe(e)?lXe(e):void 0,r=n?n[0]:e.charAt(0),i=n?aXe(n,1).join(""):e.slice(1);return r[t]()+i}}var dXe=uXe,fXe=dXe,hXe=fXe("toUpperCase"),pXe=hXe;const UR=lr(pXe);function Pr(t){return function(){return t}}const Xue=Math.cos,x2=Math.sin,tc=Math.sqrt,b2=Math.PI,BR=2*b2,Ij=Math.PI,kj=2*Ij,Bh=1e-6,mXe=kj-Bh;function que(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function gXe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return que;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class vXe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?que:gXe(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,d=o-n,f=u*u+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(f>Bh)if(!(Math.abs(d*l-c*u)>Bh)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,m=i-o,g=l*l+c*c,v=h*h+m*m,y=Math.sqrt(g),w=Math.sqrt(f),_=s*Math.tan((Ij-Math.acos((g+f-v)/(2*y*w)))/2),S=_/w,E=_/y;Math.abs(S-1)>Bh&&this._append`L${e+S*u},${n+S*d}`,this._append`A${s},${s},0,0,${+(d*h>u*m)},${this._x1=e+E*l},${this._y1=n+E*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,d=1^a,f=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>Bh||Math.abs(this._y1-u)>Bh)&&this._append`L${c},${u}`,r&&(f<0&&(f=f%kj+kj),f>mXe?this._append`A${r},${r},0,1,${d},${e-o},${n-l}A${r},${r},0,1,${d},${this._x1=c},${this._y1=u}`:f>Bh&&this._append`A${r},${r},0,${+(f>=Ij)},${d},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function nz(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new vXe(e)}function rz(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Kue(t){this._context=t}Kue.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function zR(t){return new Kue(t)}function Yue(t){return t[0]}function Zue(t){return t[1]}function Jue(t,e){var n=Pr(!0),r=null,i=zR,s=null,a=nz(o);t=typeof t=="function"?t:t===void 0?Yue:Pr(t),e=typeof e=="function"?e:e===void 0?Zue:Pr(e);function o(l){var c,u=(l=rz(l)).length,d,f=!1,h;for(r==null&&(s=i(h=a())),c=0;c<=u;++c)!(c<u&&n(d=l[c],c,l))===f&&((f=!f)?s.lineStart():s.lineEnd()),f&&s.point(+t(d,c,l),+e(d,c,l));if(h)return s=null,h+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pr(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pr(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Pr(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function yT(t,e,n){var r=null,i=Pr(!0),s=null,a=zR,o=null,l=nz(c);t=typeof t=="function"?t:t===void 0?Yue:Pr(+t),e=typeof e=="function"?e:Pr(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?Zue:Pr(+n);function c(d){var f,h,m,g=(d=rz(d)).length,v,y=!1,w,_=new Array(g),S=new Array(g);for(s==null&&(o=a(w=l())),f=0;f<=g;++f){if(!(f<g&&i(v=d[f],f,d))===y)if(y=!y)h=f,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),m=f-1;m>=h;--m)o.point(_[m],S[m]);o.lineEnd(),o.areaEnd()}y&&(_[f]=+t(v,f,d),S[f]=+e(v,f,d),o.point(r?+r(v,f,d):_[f],n?+n(v,f,d):S[f]))}if(w)return o=null,w+""||null}function u(){return Jue().defined(i).curve(a).context(s)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:Pr(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:Pr(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:Pr(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:Pr(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:Pr(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:Pr(+d),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:Pr(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,s!=null&&(o=a(s)),c):a},c.context=function(d){return arguments.length?(d==null?s=o=null:o=a(s=d),c):s},c}class Que{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function yXe(t){return new Que(t,!0)}function xXe(t){return new Que(t,!1)}const iz={draw(t,e){const n=tc(e/b2);t.moveTo(n,0),t.arc(0,0,n,0,BR)}},bXe={draw(t,e){const n=tc(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},ede=tc(1/3),wXe=ede*2,_Xe={draw(t,e){const n=tc(e/wXe),r=n*ede;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},SXe={draw(t,e){const n=tc(e),r=-n/2;t.rect(r,r,n,n)}},EXe=.8908130915292852,tde=x2(b2/10)/x2(7*b2/10),TXe=x2(BR/10)*tde,AXe=-Xue(BR/10)*tde,MXe={draw(t,e){const n=tc(e*EXe),r=TXe*n,i=AXe*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=BR*s/5,o=Xue(a),l=x2(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},ck=tc(3),CXe={draw(t,e){const n=-tc(e/(ck*3));t.moveTo(0,n*2),t.lineTo(-ck*n,-n),t.lineTo(ck*n,-n),t.closePath()}},Fo=-.5,Uo=tc(3)/2,Dj=1/tc(12),PXe=(Dj/2+1)*3,RXe={draw(t,e){const n=tc(e/PXe),r=n/2,i=n*Dj,s=r,a=n*Dj+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Fo*r-Uo*i,Uo*r+Fo*i),t.lineTo(Fo*s-Uo*a,Uo*s+Fo*a),t.lineTo(Fo*o-Uo*l,Uo*o+Fo*l),t.lineTo(Fo*r+Uo*i,Fo*i-Uo*r),t.lineTo(Fo*s+Uo*a,Fo*a-Uo*s),t.lineTo(Fo*o+Uo*l,Fo*l-Uo*o),t.closePath()}};function OXe(t,e){let n=null,r=nz(i);t=typeof t=="function"?t:Pr(t||iz),e=typeof e=="function"?e:Pr(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Pr(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Pr(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function w2(){}function _2(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function nde(t){this._context=t}nde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:_2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:_2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function NXe(t){return new nde(t)}function rde(t){this._context=t}rde.prototype={areaStart:w2,areaEnd:w2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:_2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function IXe(t){return new rde(t)}function ide(t){this._context=t}ide.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:_2(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kXe(t){return new ide(t)}function sde(t){this._context=t}sde.prototype={areaStart:w2,areaEnd:w2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function DXe(t){return new sde(t)}function XX(t){return t<0?-1:1}function qX(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(XX(s)+XX(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function KX(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function uk(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function S2(t){this._context=t}S2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:uk(this,this._t0,KX(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,uk(this,KX(this,n=qX(this,t,e)),n);break;default:uk(this,this._t0,n=qX(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function ade(t){this._context=new ode(t)}(ade.prototype=Object.create(S2.prototype)).point=function(t,e){S2.prototype.point.call(this,e,t)};function ode(t){this._context=t}ode.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function LXe(t){return new S2(t)}function jXe(t){return new ade(t)}function lde(t){this._context=t}lde.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=YX(t),i=YX(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function YX(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function FXe(t){return new lde(t)}function VR(t,e){this._context=t,this._t=e}VR.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function UXe(t){return new VR(t,.5)}function BXe(t){return new VR(t,0)}function zXe(t){return new VR(t,1)}function x0(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Lj(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function VXe(t,e){return t[e]}function $Xe(t){const e=[];return e.key=t,e}function HXe(){var t=Pr([]),e=Lj,n=x0,r=VXe;function i(s){var a=Array.from(t.apply(this,arguments),$Xe),o,l=a.length,c=-1,u;for(const d of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(d,a[o].key,c,s)]).data=d;for(o=0,u=rz(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Pr(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Pr(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?Lj:typeof s=="function"?s:Pr(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??x0,i):n},i}function GXe(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}x0(t,e)}}function WXe(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}x0(t,e)}}function XXe(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],d=u[r][1]||0,f=u[r-1][1]||0,h=(d-f)/2,m=0;m<o;++m){var g=t[e[m]],v=g[r][1]||0,y=g[r-1][1]||0;h+=v-y}l+=d,c+=h*d}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,x0(t,e)}}function qw(t){"@babel/helpers - typeof";return qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qw(t)}var qXe=["type","size","sizeType"];function jj(){return jj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jj.apply(this,arguments)}function ZX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function JX(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZX(Object(n),!0).forEach(function(r){KXe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KXe(t,e,n){return e=YXe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function YXe(t){var e=ZXe(t,"string");return qw(e)=="symbol"?e:e+""}function ZXe(t,e){if(qw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JXe(t,e){if(t==null)return{};var n=QXe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function QXe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var cde={symbolCircle:iz,symbolCross:bXe,symbolDiamond:_Xe,symbolSquare:SXe,symbolStar:MXe,symbolTriangle:CXe,symbolWye:RXe},eqe=Math.PI/180,tqe=function(e){var n="symbol".concat(UR(e));return cde[n]||iz},nqe=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*eqe;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},rqe=function(e,n){cde["symbol".concat(UR(e))]=n},sz=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=JXe(e,qXe),c=JX(JX({},l),{},{type:r,size:s,sizeType:o}),u=function(){var v=tqe(r),y=OXe().type(v).size(nqe(s,o,r));return y()},d=c.className,f=c.cx,h=c.cy,m=nn(c,!0);return f===+f&&h===+h&&s===+s?ie.createElement("path",jj({},m,{className:Mn("recharts-symbols",d),transform:"translate(".concat(f,", ").concat(h,")"),d:u()})):null};sz.registerSymbol=rqe;function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function Fj(){return Fj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fj.apply(this,arguments)}function QX(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function iqe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?QX(Object(n),!0).forEach(function(r){Kw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):QX(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function sqe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aqe(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dde(r.key),r)}}function oqe(t,e,n){return e&&aqe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function lqe(t,e,n){return e=E2(e),cqe(t,ude()?Reflect.construct(e,n||[],E2(t).constructor):e.apply(t,n))}function cqe(t,e){if(e&&(b0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uqe(t)}function uqe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ude(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ude=function(){return!!t})()}function E2(t){return E2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},E2(t)}function dqe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Uj(t,e)}function Uj(t,e){return Uj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Uj(t,e)}function Kw(t,e,n){return e=dde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dde(t){var e=fqe(t,"string");return b0(e)=="symbol"?e:e+""}function fqe(t,e){if(b0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bo=32,az=function(t){function e(){return sqe(this,e),lqe(this,e,arguments)}return dqe(e,t),oqe(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Bo/2,a=Bo/6,o=Bo/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ie.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Bo,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ie.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Bo,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ie.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Bo/8,"h").concat(Bo,"v").concat(Bo*3/4,"h").concat(-Bo,"z"),className:"recharts-legend-icon"});if(ie.isValidElement(r.legendIcon)){var c=iqe({},r);return delete c.legendIcon,ie.cloneElement(r.legendIcon,c)}return ie.createElement(sz,{fill:l,cx:s,cy:s,size:Bo,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Bo,height:Bo},d={display:o==="horizontal"?"inline-block":"block",marginRight:10},f={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(h,m){var g=h.formatter||l,v=Mn(Kw(Kw({"recharts-legend-item":!0},"legend-item-".concat(m),!0),"inactive",h.inactive));if(h.type==="none")return null;var y=pn(h.value)?null:h.value;Gl(!pn(h.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=h.inactive?c:h.color;return ie.createElement("li",Fj({className:v,style:d,key:"legend-item-".concat(m)},im(r.props,h,m)),ie.createElement(Pj,{width:a,height:a,viewBox:u,style:f},r.renderIcon(h)),ie.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},g?g(y,h,m):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return ie.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(T.PureComponent);Kw(az,"displayName","Legend");Kw(az,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var hqe=AR;function pqe(){this.__data__=new hqe,this.size=0}var mqe=pqe;function gqe(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var vqe=gqe;function yqe(t){return this.__data__.get(t)}var xqe=yqe;function bqe(t){return this.__data__.has(t)}var wqe=bqe,_qe=AR,Sqe=X5,Eqe=q5,Tqe=200;function Aqe(t,e){var n=this.__data__;if(n instanceof _qe){var r=n.__data__;if(!Sqe||r.length<Tqe-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new Eqe(r)}return n.set(t,e),this.size=n.size,this}var Mqe=Aqe,Cqe=AR,Pqe=mqe,Rqe=vqe,Oqe=xqe,Nqe=wqe,Iqe=Mqe;function Ty(t){var e=this.__data__=new Cqe(t);this.size=e.size}Ty.prototype.clear=Pqe;Ty.prototype.delete=Rqe;Ty.prototype.get=Oqe;Ty.prototype.has=Nqe;Ty.prototype.set=Iqe;var fde=Ty,kqe="__lodash_hash_undefined__";function Dqe(t){return this.__data__.set(t,kqe),this}var Lqe=Dqe;function jqe(t){return this.__data__.has(t)}var Fqe=jqe,Uqe=q5,Bqe=Lqe,zqe=Fqe;function T2(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Uqe;++e<n;)this.add(t[e])}T2.prototype.add=T2.prototype.push=Bqe;T2.prototype.has=zqe;var hde=T2;function Vqe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var pde=Vqe;function $qe(t,e){return t.has(e)}var mde=$qe,Hqe=hde,Gqe=pde,Wqe=mde,Xqe=1,qqe=2;function Kqe(t,e,n,r,i,s){var a=n&Xqe,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var d=-1,f=!0,h=n&qqe?new Hqe:void 0;for(s.set(t,e),s.set(e,t);++d<o;){var m=t[d],g=e[d];if(r)var v=a?r(g,m,d,e,t,s):r(m,g,d,t,e,s);if(v!==void 0){if(v)continue;f=!1;break}if(h){if(!Gqe(e,function(y,w){if(!Wqe(h,w)&&(m===y||i(m,y,n,r,s)))return h.push(w)})){f=!1;break}}else if(!(m===g||i(m,g,n,r,s))){f=!1;break}}return s.delete(t),s.delete(e),f}var gde=Kqe,Yqe=Hc,Zqe=Yqe.Uint8Array,Jqe=Zqe;function Qqe(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var eKe=Qqe;function tKe(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var oz=tKe,eq=S_,tq=Jqe,nKe=W5,rKe=gde,iKe=eKe,sKe=oz,aKe=1,oKe=2,lKe="[object Boolean]",cKe="[object Date]",uKe="[object Error]",dKe="[object Map]",fKe="[object Number]",hKe="[object RegExp]",pKe="[object Set]",mKe="[object String]",gKe="[object Symbol]",vKe="[object ArrayBuffer]",yKe="[object DataView]",nq=eq?eq.prototype:void 0,dk=nq?nq.valueOf:void 0;function xKe(t,e,n,r,i,s,a){switch(n){case yKe:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case vKe:return!(t.byteLength!=e.byteLength||!s(new tq(t),new tq(e)));case lKe:case cKe:case fKe:return nKe(+t,+e);case uKe:return t.name==e.name&&t.message==e.message;case hKe:case mKe:return t==e+"";case dKe:var o=iKe;case pKe:var l=r&aKe;if(o||(o=sKe),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=oKe,a.set(t,e);var u=rKe(o(t),o(e),r,i,s,a);return a.delete(t),u;case gKe:if(dk)return dk.call(t)==dk.call(e)}return!1}var bKe=xKe;function wKe(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var vde=wKe,_Ke=vde,SKe=Xa;function EKe(t,e,n){var r=e(t);return SKe(t)?r:_Ke(r,n(t))}var TKe=EKe;function AKe(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var MKe=AKe;function CKe(){return[]}var PKe=CKe,RKe=MKe,OKe=PKe,NKe=Object.prototype,IKe=NKe.propertyIsEnumerable,rq=Object.getOwnPropertySymbols,kKe=rq?function(t){return t==null?[]:(t=Object(t),RKe(rq(t),function(e){return IKe.call(t,e)}))}:OKe,DKe=kKe;function LKe(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var jKe=LKe,FKe=Yu,UKe=Zu,BKe="[object Arguments]";function zKe(t){return UKe(t)&&FKe(t)==BKe}var VKe=zKe,iq=VKe,$Ke=Zu,yde=Object.prototype,HKe=yde.hasOwnProperty,GKe=yde.propertyIsEnumerable,WKe=iq(function(){return arguments}())?iq:function(t){return $Ke(t)&&HKe.call(t,"callee")&&!GKe.call(t,"callee")},lz=WKe,A2={exports:{}};function XKe(){return!1}var qKe=XKe;A2.exports;(function(t,e){var n=Hc,r=qKe,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(A2,A2.exports);var xde=A2.exports,KKe=9007199254740991,YKe=/^(?:0|[1-9]\d*)$/;function ZKe(t,e){var n=typeof t;return e=e??KKe,!!e&&(n=="number"||n!="symbol"&&YKe.test(t))&&t>-1&&t%1==0&&t<e}var cz=ZKe,JKe=9007199254740991;function QKe(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=JKe}var uz=QKe,eYe=Yu,tYe=uz,nYe=Zu,rYe="[object Arguments]",iYe="[object Array]",sYe="[object Boolean]",aYe="[object Date]",oYe="[object Error]",lYe="[object Function]",cYe="[object Map]",uYe="[object Number]",dYe="[object Object]",fYe="[object RegExp]",hYe="[object Set]",pYe="[object String]",mYe="[object WeakMap]",gYe="[object ArrayBuffer]",vYe="[object DataView]",yYe="[object Float32Array]",xYe="[object Float64Array]",bYe="[object Int8Array]",wYe="[object Int16Array]",_Ye="[object Int32Array]",SYe="[object Uint8Array]",EYe="[object Uint8ClampedArray]",TYe="[object Uint16Array]",AYe="[object Uint32Array]",jr={};jr[yYe]=jr[xYe]=jr[bYe]=jr[wYe]=jr[_Ye]=jr[SYe]=jr[EYe]=jr[TYe]=jr[AYe]=!0;jr[rYe]=jr[iYe]=jr[gYe]=jr[sYe]=jr[vYe]=jr[aYe]=jr[oYe]=jr[lYe]=jr[cYe]=jr[uYe]=jr[dYe]=jr[fYe]=jr[hYe]=jr[pYe]=jr[mYe]=!1;function MYe(t){return nYe(t)&&tYe(t.length)&&!!jr[eYe(t)]}var CYe=MYe;function PYe(t){return function(e){return t(e)}}var bde=PYe,M2={exports:{}};M2.exports;(function(t,e){var n=Cue,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(M2,M2.exports);var RYe=M2.exports,OYe=CYe,NYe=bde,sq=RYe,aq=sq&&sq.isTypedArray,IYe=aq?NYe(aq):OYe,wde=IYe,kYe=jKe,DYe=lz,LYe=Xa,jYe=xde,FYe=cz,UYe=wde,BYe=Object.prototype,zYe=BYe.hasOwnProperty;function VYe(t,e){var n=LYe(t),r=!n&&DYe(t),i=!n&&!r&&jYe(t),s=!n&&!r&&!i&&UYe(t),a=n||r||i||s,o=a?kYe(t.length,String):[],l=o.length;for(var c in t)(e||zYe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||FYe(c,l)))&&o.push(c);return o}var $Ye=VYe,HYe=Object.prototype;function GYe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||HYe;return t===n}var WYe=GYe;function XYe(t,e){return function(n){return t(e(n))}}var _de=XYe,qYe=_de,KYe=qYe(Object.keys,Object),YYe=KYe,ZYe=WYe,JYe=YYe,QYe=Object.prototype,eZe=QYe.hasOwnProperty;function tZe(t){if(!ZYe(t))return JYe(t);var e=[];for(var n in Object(t))eZe.call(t,n)&&n!="constructor"&&e.push(n);return e}var nZe=tZe,rZe=G5,iZe=uz;function sZe(t){return t!=null&&iZe(t.length)&&!rZe(t)}var T_=sZe,aZe=$Ye,oZe=nZe,lZe=T_;function cZe(t){return lZe(t)?aZe(t):oZe(t)}var $R=cZe,uZe=TKe,dZe=DKe,fZe=$R;function hZe(t){return uZe(t,fZe,dZe)}var pZe=hZe,oq=pZe,mZe=1,gZe=Object.prototype,vZe=gZe.hasOwnProperty;function yZe(t,e,n,r,i,s){var a=n&mZe,o=oq(t),l=o.length,c=oq(e),u=c.length;if(l!=u&&!a)return!1;for(var d=l;d--;){var f=o[d];if(!(a?f in e:vZe.call(e,f)))return!1}var h=s.get(t),m=s.get(e);if(h&&m)return h==e&&m==t;var g=!0;s.set(t,e),s.set(e,t);for(var v=a;++d<l;){f=o[d];var y=t[f],w=e[f];if(r)var _=a?r(w,y,f,e,t,s):r(y,w,f,t,e,s);if(!(_===void 0?y===w||i(y,w,n,r,s):_)){g=!1;break}v||(v=f=="constructor")}if(g&&!v){var S=t.constructor,E=e.constructor;S!=E&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof E=="function"&&E instanceof E)&&(g=!1)}return s.delete(t),s.delete(e),g}var xZe=yZe,bZe=wm,wZe=Hc,_Ze=bZe(wZe,"DataView"),SZe=_Ze,EZe=wm,TZe=Hc,AZe=EZe(TZe,"Promise"),MZe=AZe,CZe=wm,PZe=Hc,RZe=CZe(PZe,"Set"),Sde=RZe,OZe=wm,NZe=Hc,IZe=OZe(NZe,"WeakMap"),kZe=IZe,Bj=SZe,zj=X5,Vj=MZe,$j=Sde,Hj=kZe,Ede=Yu,Ay=Rue,lq="[object Map]",DZe="[object Object]",cq="[object Promise]",uq="[object Set]",dq="[object WeakMap]",fq="[object DataView]",LZe=Ay(Bj),jZe=Ay(zj),FZe=Ay(Vj),UZe=Ay($j),BZe=Ay(Hj),zh=Ede;(Bj&&zh(new Bj(new ArrayBuffer(1)))!=fq||zj&&zh(new zj)!=lq||Vj&&zh(Vj.resolve())!=cq||$j&&zh(new $j)!=uq||Hj&&zh(new Hj)!=dq)&&(zh=function(t){var e=Ede(t),n=e==DZe?t.constructor:void 0,r=n?Ay(n):"";if(r)switch(r){case LZe:return fq;case jZe:return lq;case FZe:return cq;case UZe:return uq;case BZe:return dq}return e});var zZe=zh,fk=fde,VZe=gde,$Ze=bKe,HZe=xZe,hq=zZe,pq=Xa,mq=xde,GZe=wde,WZe=1,gq="[object Arguments]",vq="[object Array]",xT="[object Object]",XZe=Object.prototype,yq=XZe.hasOwnProperty;function qZe(t,e,n,r,i,s){var a=pq(t),o=pq(e),l=a?vq:hq(t),c=o?vq:hq(e);l=l==gq?xT:l,c=c==gq?xT:c;var u=l==xT,d=c==xT,f=l==c;if(f&&mq(t)){if(!mq(e))return!1;a=!0,u=!1}if(f&&!u)return s||(s=new fk),a||GZe(t)?VZe(t,e,n,r,i,s):$Ze(t,e,l,n,r,i,s);if(!(n&WZe)){var h=u&&yq.call(t,"__wrapped__"),m=d&&yq.call(e,"__wrapped__");if(h||m){var g=h?t.value():t,v=m?e.value():e;return s||(s=new fk),i(g,v,n,r,s)}}return f?(s||(s=new fk),HZe(t,e,n,r,i,s)):!1}var KZe=qZe,YZe=KZe,xq=Zu;function Tde(t,e,n,r,i){return t===e?!0:t==null||e==null||!xq(t)&&!xq(e)?t!==t&&e!==e:YZe(t,e,n,r,Tde,i)}var dz=Tde,ZZe=fde,JZe=dz,QZe=1,eJe=2;function tJe(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var d=new ZZe;if(r)var f=r(c,u,l,t,e,d);if(!(f===void 0?JZe(u,c,QZe|eJe,r,d):f))return!1}}return!0}var nJe=tJe,rJe=Xf;function iJe(t){return t===t&&!rJe(t)}var Ade=iJe,sJe=Ade,aJe=$R;function oJe(t){for(var e=aJe(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,sJe(i)]}return e}var lJe=oJe;function cJe(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var Mde=cJe,uJe=nJe,dJe=lJe,fJe=Mde;function hJe(t){var e=dJe(t);return e.length==1&&e[0][2]?fJe(e[0][0],e[0][1]):function(n){return n===t||uJe(n,t,e)}}var pJe=hJe;function mJe(t,e){return t!=null&&e in Object(t)}var gJe=mJe,vJe=Due,yJe=lz,xJe=Xa,bJe=cz,wJe=uz,_Je=CR;function SJe(t,e,n){e=vJe(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=_Je(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&wJe(i)&&bJe(a,i)&&(xJe(t)||yJe(t)))}var EJe=SJe,TJe=gJe,AJe=EJe;function MJe(t,e){return t!=null&&AJe(t,e,TJe)}var CJe=MJe,PJe=dz,RJe=Lue,OJe=CJe,NJe=H5,IJe=Ade,kJe=Mde,DJe=CR,LJe=1,jJe=2;function FJe(t,e){return NJe(t)&&IJe(e)?kJe(DJe(t),e):function(n){var r=RJe(n,t);return r===void 0&&r===e?OJe(n,t):PJe(e,r,LJe|jJe)}}var UJe=FJe;function BJe(t){return t}var My=BJe;function zJe(t){return function(e){return e==null?void 0:e[t]}}var VJe=zJe,$Je=Z5;function HJe(t){return function(e){return $Je(e,t)}}var GJe=HJe,WJe=VJe,XJe=GJe,qJe=H5,KJe=CR;function YJe(t){return qJe(t)?WJe(KJe(t)):XJe(t)}var ZJe=YJe,JJe=pJe,QJe=UJe,eQe=My,tQe=Xa,nQe=ZJe;function rQe(t){return typeof t=="function"?t:t==null?eQe:typeof t=="object"?tQe(t)?QJe(t[0],t[1]):JJe(t):nQe(t)}var Gc=rQe;function iQe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var Cde=iQe;function sQe(t){return t!==t}var aQe=sQe;function oQe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var lQe=oQe,cQe=Cde,uQe=aQe,dQe=lQe;function fQe(t,e,n){return e===e?dQe(t,e,n):cQe(t,uQe,n)}var hQe=fQe,pQe=hQe;function mQe(t,e){var n=t==null?0:t.length;return!!n&&pQe(t,e,0)>-1}var gQe=mQe;function vQe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var yQe=vQe;function xQe(){}var bQe=xQe,hk=Sde,wQe=bQe,_Qe=oz,SQe=1/0,EQe=hk&&1/_Qe(new hk([,-0]))[1]==SQe?function(t){return new hk(t)}:wQe,TQe=EQe,AQe=hde,MQe=gQe,CQe=yQe,PQe=mde,RQe=TQe,OQe=oz,NQe=200;function IQe(t,e,n){var r=-1,i=MQe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=CQe;else if(s>=NQe){var c=e?null:RQe(t);if(c)return OQe(c);a=!1,i=PQe,l=new AQe}else l=e?[]:o;e:for(;++r<s;){var u=t[r],d=e?e(u):u;if(u=n||u!==0?u:0,a&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;e&&l.push(d),o.push(u)}else i(l,d,n)||(l!==o&&l.push(d),o.push(u))}return o}var kQe=IQe,DQe=Gc,LQe=kQe;function jQe(t,e){return t&&t.length?LQe(t,DQe(e)):[]}var FQe=jQe;const bq=lr(FQe);function Pde(t,e,n){return e===!0?bq(t,n):pn(e)?bq(t,e):t}function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}var UQe=["ref"];function wq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function du(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(n),!0).forEach(function(r){HR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function BQe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _q(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ode(r.key),r)}}function zQe(t,e,n){return e&&_q(t.prototype,e),n&&_q(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function VQe(t,e,n){return e=C2(e),$Qe(t,Rde()?Reflect.construct(e,n||[],C2(t).constructor):e.apply(t,n))}function $Qe(t,e){if(e&&(w0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HQe(t)}function HQe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Rde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Rde=function(){return!!t})()}function C2(t){return C2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},C2(t)}function GQe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Gj(t,e)}function Gj(t,e){return Gj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Gj(t,e)}function HR(t,e,n){return e=Ode(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ode(t){var e=WQe(t,"string");return w0(e)=="symbol"?e:e+""}function WQe(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XQe(t,e){if(t==null)return{};var n=qQe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function qQe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function KQe(t){return t.value}function YQe(t,e){if(ie.isValidElement(t))return ie.cloneElement(t,e);if(typeof t=="function")return ie.createElement(t,e);e.ref;var n=XQe(e,UQe);return ie.createElement(az,n)}var Sq=1,Cv=function(t){function e(){var n;BQe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=VQe(this,e,[].concat(i)),HR(n,"lastBoundingBox",{width:-1,height:-1}),n}return GQe(e,t),zQe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>Sq||Math.abs(i.height-this.lastBoundingBox.height)>Sq)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?du({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,d,f;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var h=this.getBBoxSnapshot();d={left:((c||0)-h.width)/2}}else d=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var m=this.getBBoxSnapshot();f={top:((u||0)-m.height)/2}}else f=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return du(du({},d),f)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,d=du(du({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ie.createElement("div",{className:"recharts-legend-wrapper",style:d,ref:function(h){r.wrapperNode=h}},YQe(s,du(du({},this.props),{},{payload:Pde(u,c,KQe)})))}}],[{key:"getWithHeight",value:function(r,i){var s=du(du({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&_t(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(T.PureComponent);HR(Cv,"displayName","Legend");HR(Cv,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var Eq=S_,ZQe=lz,JQe=Xa,Tq=Eq?Eq.isConcatSpreadable:void 0;function QQe(t){return JQe(t)||ZQe(t)||!!(Tq&&t&&t[Tq])}var eet=QQe,tet=vde,net=eet;function Nde(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=net),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?Nde(o,e-1,n,r,i):tet(i,o):r||(i[i.length]=o)}return i}var Ide=Nde;function ret(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var iet=ret,set=iet,aet=set(),oet=aet,cet=oet,uet=$R;function det(t,e){return t&&cet(t,e,uet)}var kde=det,fet=T_;function het(t,e){return function(n,r){if(n==null)return n;if(!fet(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var pet=het,met=kde,get=pet,vet=get(met),fz=vet,yet=fz,xet=T_;function bet(t,e){var n=-1,r=xet(t)?Array(t.length):[];return yet(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var Dde=bet;function wet(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var _et=wet,Aq=xy;function Eet(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=Aq(t),a=e!==void 0,o=e===null,l=e===e,c=Aq(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var Tet=Eet,Aet=Tet;function Met(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=Aet(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var Cet=Met,pk=Y5,Pet=Z5,Ret=Gc,Oet=Dde,Net=_et,Iet=bde,ket=Cet,Det=My,Let=Xa;function jet(t,e,n){e.length?e=pk(e,function(s){return Let(s)?function(a){return Pet(a,s.length===1?s[0]:s)}:s}):e=[Det];var r=-1;e=pk(e,Iet(Ret));var i=Oet(t,function(s,a,o){var l=pk(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return Net(i,function(s,a){return ket(s,a,n)})}var Fet=jet;function Uet(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var Bet=Uet,zet=Bet,Mq=Math.max;function Vet(t,e,n){return e=Mq(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=Mq(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),zet(t,this,o)}}var $et=Vet;function Het(t){return function(){return t}}var Get=Het,Wet=wm,Xet=function(){try{var t=Wet(Object,"defineProperty");return t({},"",{}),t}catch{}}(),Lde=Xet,qet=Get,Cq=Lde,Ket=My,Yet=Cq?function(t,e){return Cq(t,"toString",{configurable:!0,enumerable:!1,value:qet(e),writable:!0})}:Ket,Zet=Yet,Jet=800,Qet=16,ett=Date.now;function ttt(t){var e=0,n=0;return function(){var r=ett(),i=Qet-(r-n);if(n=r,i>0){if(++e>=Jet)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var ntt=ttt,rtt=Zet,itt=ntt,stt=itt(rtt),att=stt,ott=My,ltt=$et,ctt=att;function utt(t,e){return ctt(ltt(t,e,ott),t+"")}var dtt=utt,ftt=W5,htt=T_,ptt=cz,mtt=Xf;function gtt(t,e,n){if(!mtt(n))return!1;var r=typeof e;return(r=="number"?htt(n)&&ptt(e,n.length):r=="string"&&e in n)?ftt(n[e],t):!1}var GR=gtt,vtt=Ide,ytt=Fet,xtt=dtt,Pq=GR,btt=xtt(function(t,e){if(t==null)return[];var n=e.length;return n>1&&Pq(t,e[0],e[1])?e=[]:n>2&&Pq(e[0],e[1],e[2])&&(e=[e[0]]),ytt(t,vtt(e,1),[])}),wtt=btt;const hz=lr(wtt);function Yw(t){"@babel/helpers - typeof";return Yw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yw(t)}function Wj(){return Wj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Wj.apply(this,arguments)}function _tt(t,e){return Att(t)||Ttt(t,e)||Ett(t,e)||Stt()}function Stt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ett(t,e){if(t){if(typeof t=="string")return Rq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Rq(t,e)}}function Rq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ttt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Att(t){if(Array.isArray(t))return t}function Oq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Oq(Object(n),!0).forEach(function(r){Mtt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Oq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mtt(t,e,n){return e=Ctt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ctt(t){var e=Ptt(t,"string");return Yw(e)=="symbol"?e:e+""}function Ptt(t,e){if(Yw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Yw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rtt(t){return Array.isArray(t)&&Zi(t[0])&&Zi(t[1])?t.join(" ~ "):t}var Ott=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,d=e.formatter,f=e.itemSorter,h=e.wrapperClassName,m=e.labelClassName,g=e.label,v=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var I={padding:0,margin:0},F=(f?hz(u,f):u).map(function(L,V){if(L.type==="none")return null;var z=mk({display:"block",paddingTop:4,paddingBottom:4,color:L.color||"#000"},o),K=L.formatter||d||Rtt,j=L.value,U=L.name,$=j,G=U;if(K&&$!=null&&G!=null){var X=K(j,U,L,V,u);if(Array.isArray(X)){var Q=_tt(X,2);$=Q[0],G=Q[1]}else $=X}return ie.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(V),style:z},Zi(G)?ie.createElement("span",{className:"recharts-tooltip-item-name"},G):null,Zi(G)?ie.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ie.createElement("span",{className:"recharts-tooltip-item-value"},$),ie.createElement("span",{className:"recharts-tooltip-item-unit"},L.unit||""))});return ie.createElement("ul",{className:"recharts-tooltip-item-list",style:I},F)}return null},S=mk({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),E=mk({margin:0},c),A=!Sn(g),M=A?g:"",R=Mn("recharts-default-tooltip",h),P=Mn("recharts-tooltip-label",m);A&&v&&u!==void 0&&u!==null&&(M=v(g,u));var O=w?{role:"status","aria-live":"assertive"}:{};return ie.createElement("div",Wj({className:R,style:S},O),ie.createElement("p",{className:P,style:E},ie.isValidElement(M)?M:"".concat(M)),_())};function Zw(t){"@babel/helpers - typeof";return Zw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zw(t)}function bT(t,e,n){return e=Ntt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ntt(t){var e=Itt(t,"string");return Zw(e)=="symbol"?e:e+""}function Itt(t,e){if(Zw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Zw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $x="recharts-tooltip-wrapper",ktt={visibility:"hidden"};function Dtt(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return Mn($x,bT(bT(bT(bT({},"".concat($x,"-right"),_t(n)&&e&&_t(e.x)&&n>=e.x),"".concat($x,"-left"),_t(n)&&e&&_t(e.x)&&n<e.x),"".concat($x,"-bottom"),_t(r)&&e&&_t(e.y)&&r>=e.y),"".concat($x,"-top"),_t(r)&&e&&_t(e.y)&&r<e.y))}function Nq(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&_t(s[r]))return s[r];var u=n[r]-o-i,d=n[r]+i;if(e[r])return a[r]?u:d;if(a[r]){var f=u,h=l[r];return f<h?Math.max(d,l[r]):Math.max(u,l[r])}var m=d+o,g=l[r]+c;return m>g?Math.max(u,l[r]):Math.max(d,l[r])}function Ltt(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function jtt(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,d;return a.height>0&&a.width>0&&n?(u=Nq({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),d=Nq({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Ltt({translateX:u,translateY:d,useTranslate3d:o})):c=ktt,{cssProperties:c,cssClasses:Dtt({translateX:u,translateY:d,coordinate:n})}}function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function Iq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Iq(Object(n),!0).forEach(function(r){qj(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Iq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ftt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Utt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Fde(r.key),r)}}function Btt(t,e,n){return e&&Utt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ztt(t,e,n){return e=P2(e),Vtt(t,jde()?Reflect.construct(e,n||[],P2(t).constructor):e.apply(t,n))}function Vtt(t,e){if(e&&(_0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $tt(t)}function $tt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function jde(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(jde=function(){return!!t})()}function P2(t){return P2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},P2(t)}function Htt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Xj(t,e)}function Xj(t,e){return Xj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Xj(t,e)}function qj(t,e,n){return e=Fde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fde(t){var e=Gtt(t,"string");return _0(e)=="symbol"?e:e+""}function Gtt(t,e){if(_0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dq=1,Wtt=function(t){function e(){var n;Ftt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=ztt(this,e,[].concat(i)),qj(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),qj(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return Htt(e,t),Btt(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>Dq||Math.abs(r.height-this.state.lastBoundingBox.height)>Dq)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,d=i.hasPayload,f=i.isAnimationActive,h=i.offset,m=i.position,g=i.reverseDirection,v=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=jtt({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:h,position:m,reverseDirection:g,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:y}),S=_.cssClasses,E=_.cssProperties,A=kq(kq({transition:f&&s?"transform ".concat(o,"ms ").concat(l):void 0},E),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&d?"visible":"hidden",position:"absolute",top:0,left:0},w);return ie.createElement("div",{tabIndex:-1,className:S,style:A,ref:function(R){r.wrapperNode=R}},c)}}])}(T.PureComponent),Xtt=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Nc={isSsr:Xtt(),get:function(e){return Nc[e]},set:function(e,n){if(typeof e=="string")Nc[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){Nc[i]=e[i]})}}};function S0(t){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S0(t)}function Lq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function jq(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Lq(Object(n),!0).forEach(function(r){pz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Lq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function qtt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ktt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Bde(r.key),r)}}function Ytt(t,e,n){return e&&Ktt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ztt(t,e,n){return e=R2(e),Jtt(t,Ude()?Reflect.construct(e,n||[],R2(t).constructor):e.apply(t,n))}function Jtt(t,e){if(e&&(S0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qtt(t)}function Qtt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ude(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ude=function(){return!!t})()}function R2(t){return R2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},R2(t)}function ent(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&Kj(t,e)}function Kj(t,e){return Kj=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},Kj(t,e)}function pz(t,e,n){return e=Bde(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Bde(t){var e=tnt(t,"string");return S0(e)=="symbol"?e:e+""}function tnt(t,e){if(S0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(S0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nnt(t){return t.dataKey}function rnt(t,e){return ie.isValidElement(t)?ie.cloneElement(t,e):typeof t=="function"?ie.createElement(t,e):ie.createElement(Ott,e)}var co=function(t){function e(){return qtt(this,e),Ztt(this,e,arguments)}return ent(e,t),Ytt(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,d=i.filterNull,f=i.isAnimationActive,h=i.offset,m=i.payload,g=i.payloadUniqBy,v=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,E=m??[];d&&E.length&&(E=Pde(m.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),g,nnt));var A=E.length>0;return ie.createElement(Wtt,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:f,active:s,coordinate:u,hasPayload:A,offset:h,position:v,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:S},rnt(c,jq(jq({},this.props),{},{payload:E})))}}])}(T.PureComponent);pz(co,"displayName","Tooltip");pz(co,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Nc.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var int=Hc,snt=function(){return int.Date.now()},ant=snt,ont=/\s/;function lnt(t){for(var e=t.length;e--&&ont.test(t.charAt(e)););return e}var cnt=lnt,unt=cnt,dnt=/^\s+/;function fnt(t){return t&&t.slice(0,unt(t)+1).replace(dnt,"")}var hnt=fnt,pnt=hnt,Fq=Xf,mnt=xy,Uq=NaN,gnt=/^[-+]0x[0-9a-f]+$/i,vnt=/^0b[01]+$/i,ynt=/^0o[0-7]+$/i,xnt=parseInt;function bnt(t){if(typeof t=="number")return t;if(mnt(t))return Uq;if(Fq(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Fq(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=pnt(t);var n=vnt.test(t);return n||ynt.test(t)?xnt(t.slice(2),n?2:8):gnt.test(t)?Uq:+t}var zde=bnt,wnt=Xf,gk=ant,Bq=zde,_nt="Expected a function",Snt=Math.max,Ent=Math.min;function Tnt(t,e,n){var r,i,s,a,o,l,c=0,u=!1,d=!1,f=!0;if(typeof t!="function")throw new TypeError(_nt);e=Bq(e)||0,wnt(n)&&(u=!!n.leading,d="maxWait"in n,s=d?Snt(Bq(n.maxWait)||0,e):s,f="trailing"in n?!!n.trailing:f);function h(A){var M=r,R=i;return r=i=void 0,c=A,a=t.apply(R,M),a}function m(A){return c=A,o=setTimeout(y,e),u?h(A):a}function g(A){var M=A-l,R=A-c,P=e-M;return d?Ent(P,s-R):P}function v(A){var M=A-l,R=A-c;return l===void 0||M>=e||M<0||d&&R>=s}function y(){var A=gk();if(v(A))return w(A);o=setTimeout(y,g(A))}function w(A){return o=void 0,f&&r?h(A):(r=i=void 0,a)}function _(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?a:w(gk())}function E(){var A=gk(),M=v(A);if(r=arguments,i=this,l=A,M){if(o===void 0)return m(l);if(d)return clearTimeout(o),o=setTimeout(y,e),h(l)}return o===void 0&&(o=setTimeout(y,e)),a}return E.cancel=_,E.flush=S,E}var Ant=Tnt,Mnt=Ant,Cnt=Xf,Pnt="Expected a function";function Rnt(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(Pnt);return Cnt(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Mnt(t,e,{leading:r,maxWait:e,trailing:i})}var Ont=Rnt;const Vde=lr(Ont);function Jw(t){"@babel/helpers - typeof";return Jw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jw(t)}function zq(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?zq(Object(n),!0).forEach(function(r){Nnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):zq(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Nnt(t,e,n){return e=Int(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Int(t){var e=knt(t,"string");return Jw(e)=="symbol"?e:e+""}function knt(t,e){if(Jw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Jw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Dnt(t,e){return Unt(t)||Fnt(t,e)||jnt(t,e)||Lnt()}function Lnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jnt(t,e){if(t){if(typeof t=="string")return Vq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vq(t,e)}}function Vq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fnt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Unt(t){if(Array.isArray(t))return t}var dA=T.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,d=t.minHeight,f=t.maxHeight,h=t.children,m=t.debounce,g=m===void 0?0:m,v=t.id,y=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,E=T.useRef(null),A=T.useRef();A.current=w,T.useImperativeHandle(e,function(){return Object.defineProperty(E.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),E.current},configurable:!0})});var M=T.useState({containerWidth:i.width,containerHeight:i.height}),R=Dnt(M,2),P=R[0],O=R[1],k=T.useCallback(function(F,L){O(function(V){var z=Math.round(F),K=Math.round(L);return V.containerWidth===z&&V.containerHeight===K?V:{containerWidth:z,containerHeight:K}})},[]);T.useEffect(function(){var F=function(U){var $,G=U[0].contentRect,X=G.width,Q=G.height;k(X,Q),($=A.current)===null||$===void 0||$.call(A,X,Q)};g>0&&(F=Vde(F,g,{trailing:!0,leading:!1}));var L=new ResizeObserver(F),V=E.current.getBoundingClientRect(),z=V.width,K=V.height;return k(z,K),L.observe(E.current),function(){L.disconnect()}},[k,g]);var I=T.useMemo(function(){var F=P.containerWidth,L=P.containerHeight;if(F<0||L<0)return null;Gl(mp(a)||mp(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),Gl(!n||n>0,"The aspect(%s) must be greater than zero.",n);var V=mp(a)?F:a,z=mp(l)?L:l;n&&n>0&&(V?z=V/n:z&&(V=z*n),f&&z>f&&(z=f)),Gl(V>0||z>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,z,a,l,u,d,n);var K=!Array.isArray(h)&&Ru(h.type).endsWith("Chart");return ie.Children.map(h,function(j){return ie.isValidElement(j)?T.cloneElement(j,wT({width:V,height:z},K?{style:wT({height:"100%",width:"100%",maxHeight:z,maxWidth:V},j.props.style)}:{})):j})},[n,h,l,f,d,u,P,a]);return ie.createElement("div",{id:v?"".concat(v):void 0,className:Mn("recharts-responsive-container",y),style:wT(wT({},S),{},{width:a,height:l,minWidth:u,minHeight:d,maxHeight:f}),ref:E},I)}),WR=function(e){return null};WR.displayName="Cell";function Qw(t){"@babel/helpers - typeof";return Qw=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qw(t)}function $q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Yj(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(n),!0).forEach(function(r){Bnt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$q(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Bnt(t,e,n){return e=znt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function znt(t){var e=Vnt(t,"string");return Qw(e)=="symbol"?e:e+""}function Vnt(t,e){if(Qw(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Qw(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Sg={widthCache:{},cacheCount:0},$nt=2e3,Hnt={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Hq="recharts_measurement_span";function Gnt(t){var e=Yj({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var $b=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Nc.isSsr)return{width:0,height:0};var r=Gnt(n),i=JSON.stringify({text:e,copyStyle:r});if(Sg.widthCache[i])return Sg.widthCache[i];try{var s=document.getElementById(Hq);s||(s=document.createElement("span"),s.setAttribute("id",Hq),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=Yj(Yj({},Hnt),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return Sg.widthCache[i]=l,++Sg.cacheCount>$nt&&(Sg.cacheCount=0,Sg.widthCache={}),l}catch{return{width:0,height:0}}},Wnt=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function e1(t){"@babel/helpers - typeof";return e1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},e1(t)}function O2(t,e){return Ynt(t)||Knt(t,e)||qnt(t,e)||Xnt()}function Xnt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function qnt(t,e){if(t){if(typeof t=="string")return Gq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Gq(t,e)}}function Gq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Knt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Ynt(t){if(Array.isArray(t))return t}function Znt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Wq(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qnt(r.key),r)}}function Jnt(t,e,n){return e&&Wq(t.prototype,e),n&&Wq(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Qnt(t){var e=ert(t,"string");return e1(e)=="symbol"?e:e+""}function ert(t,e){if(e1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(e1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Xq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,qq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,trt=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,nrt=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,$de={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},rrt=Object.keys($de),sv="NaN";function irt(t,e){return t*$de[e]}var _T=function(){function t(e,n){Znt(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!trt.test(n)&&(this.num=NaN,this.unit=""),rrt.includes(n)&&(this.num=irt(e,n),this.unit="px")}return Jnt(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=nrt.exec(n))!==null&&r!==void 0?r:[],s=O2(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function Hde(t){if(t.includes(sv))return sv;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=Xq.exec(e))!==null&&n!==void 0?n:[],i=O2(r,4),s=i[1],a=i[2],o=i[3],l=_T.parse(s??""),c=_T.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return sv;e=e.replace(Xq,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,f=(d=qq.exec(e))!==null&&d!==void 0?d:[],h=O2(f,4),m=h[1],g=h[2],v=h[3],y=_T.parse(m??""),w=_T.parse(v??""),_=g==="+"?y.add(w):y.subtract(w);if(_.isNaN())return sv;e=e.replace(qq,_.toString())}return e}var Kq=/\(([^()]*)\)/;function srt(t){for(var e=t;e.includes("(");){var n=Kq.exec(e),r=O2(n,2),i=r[1];e=e.replace(Kq,Hde(i))}return e}function art(t){var e=t.replace(/\s+/g,"");return e=srt(e),e=Hde(e),e}function ort(t){try{return art(t)}catch{return sv}}function vk(t){var e=ort(t.slice(5,-1));return e===sv?"":e}var lrt=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],crt=["dx","dy","angle","className","breakAll"];function Zj(){return Zj=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zj.apply(this,arguments)}function Yq(t,e){if(t==null)return{};var n=urt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function urt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Zq(t,e){return prt(t)||hrt(t,e)||frt(t,e)||drt()}function drt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function frt(t,e){if(t){if(typeof t=="string")return Jq(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Jq(t,e)}}function Jq(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function hrt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function prt(t){if(Array.isArray(t))return t}var Gde=/[ \f\n\r\t\v\u2028\u2029]+/,Wde=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Sn(n)||(r?s=n.toString().split(""):s=n.toString().split(Gde));var a=s.map(function(l){return{word:l,width:$b(l,i).width}}),o=r?0:$b("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},mrt=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=_t(a),d=o,f=function(){var V=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return V.reduce(function(z,K){var j=K.word,U=K.width,$=z[z.length-1];if($&&(i==null||s||$.width+U+r<Number(i)))$.words.push(j),$.width+=U+r;else{var G={words:[j],width:U};z.push(G)}return z},[])},h=f(n),m=function(V){return V.reduce(function(z,K){return z.width>K.width?z:K})};if(!u)return h;for(var g="",v=function(V){var z=d.slice(0,V),K=Wde({breakAll:c,style:l,children:z+g}).wordsWithComputedWidth,j=f(K),U=j.length>a||m(j).width>Number(i);return[U,j]},y=0,w=d.length-1,_=0,S;y<=w&&_<=d.length-1;){var E=Math.floor((y+w)/2),A=E-1,M=v(A),R=Zq(M,2),P=R[0],O=R[1],k=v(E),I=Zq(k,1),F=I[0];if(!P&&!F&&(y=E+1),P&&F&&(w=E-1),!P&&F){S=O;break}_++}return S||h},Qq=function(e){var n=Sn(e)?[]:e.toString().split(Gde);return[{words:n}]},grt=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!Nc.isSsr){var l,c,u=Wde({breakAll:a,children:i,style:s});if(u){var d=u.wordsWithComputedWidth,f=u.spaceWidth;l=d,c=f}else return Qq(i);return mrt({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return Qq(i)},eK="#808080",sm=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,d=u===void 0?!1:u,f=e.textAnchor,h=f===void 0?"start":f,m=e.verticalAnchor,g=m===void 0?"end":m,v=e.fill,y=v===void 0?eK:v,w=Yq(e,lrt),_=T.useMemo(function(){return grt({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:d,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,d,w.style,w.width]),S=w.dx,E=w.dy,A=w.angle,M=w.className,R=w.breakAll,P=Yq(w,crt);if(!Zi(r)||!Zi(s))return null;var O=r+(_t(S)?S:0),k=s+(_t(E)?E:0),I;switch(g){case"start":I=vk("calc(".concat(c,")"));break;case"middle":I=vk("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:I=vk("calc(".concat(_.length-1," * -").concat(o,")"));break}var F=[];if(d){var L=_[0].width,V=w.width;F.push("scale(".concat((_t(V)?V/L:1)/L,")"))}return A&&F.push("rotate(".concat(A,", ").concat(O,", ").concat(k,")")),F.length&&(P.transform=F.join(" ")),ie.createElement("text",Zj({},nn(P,!0),{x:O,y:k,className:Mn("recharts-text",M),textAnchor:h,fill:y.includes("url")?eK:y}),_.map(function(z,K){var j=z.words.join(R?"":" ");return ie.createElement("tspan",{x:O,dy:K===0?I:o,key:"".concat(j,"-").concat(K)},j)}))};function mf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function vrt(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function mz(t){let e,n,r;t.length!==2?(e=mf,n=(o,l)=>mf(t(o),l),r=(o,l)=>t(o)-l):(e=t===mf||t===vrt?t:yrt,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<0?c=d+1:u=d}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const d=c+u>>>1;n(o[d],l)<=0?c=d+1:u=d}while(c<u)}return c}function a(o,l,c=0,u=o.length){const d=i(o,l,c,u-1);return d>c&&r(o[d-1],l)>-r(o[d],l)?d-1:d}return{left:i,center:a,right:s}}function yrt(){return 0}function Xde(t){return t===null?NaN:+t}function*xrt(t,e){for(let n of t)n!=null&&(n=+n)>=n&&(yield n)}const brt=mz(mf),A_=brt.right;mz(Xde).center;class tK extends Map{constructor(e,n=Srt){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(nK(this,e))}has(e){return super.has(nK(this,e))}set(e,n){return super.set(wrt(this,e),n)}delete(e){return super.delete(_rt(this,e))}}function nK({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function wrt({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function _rt({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Srt(t){return t!==null&&typeof t=="object"?t.valueOf():t}function Ert(t=mf){if(t===mf)return qde;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function qde(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const Trt=Math.sqrt(50),Art=Math.sqrt(10),Mrt=Math.sqrt(2);function N2(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=Trt?10:s>=Art?5:s>=Mrt?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?N2(t,e,n*2):[o,l,c]}function Jj(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?N2(e,t,n):N2(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function Qj(t,e,n){return e=+e,t=+t,n=+n,N2(t,e,n)[2]}function eF(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?Qj(e,t,n):Qj(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function rK(t,e){let n;for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function iK(t,e){let n;for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function Kde(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?qde:Ert(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),d=.5*Math.exp(2*u/3),f=.5*Math.sqrt(u*d*(l-d)/l)*(c-l/2<0?-1:1),h=Math.max(n,Math.floor(e-c*d/l+f)),m=Math.min(r,Math.floor(e+(l-c)*d/l+f));Kde(t,e,h,m,i)}const s=t[e];let a=n,o=r;for(Hx(t,n,e),i(t[r],s)>0&&Hx(t,n,r);a<o;){for(Hx(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?Hx(t,n,o):(++o,Hx(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function Hx(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Crt(t,e,n){if(t=Float64Array.from(xrt(t)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return iK(t);if(e>=1)return rK(t);var r,i=(r-1)*e,s=Math.floor(i),a=rK(Kde(t,s).subarray(0,s+1)),o=iK(t.subarray(s+1));return a+(o-a)*(i-s)}}function Prt(t,e,n=Xde){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Rrt(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function fl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Ju(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const tF=Symbol("implicit");function gz(){var t=new tK,e=[],n=[],r=tF;function i(s){let a=t.get(s);if(a===void 0){if(r!==tF)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new tK;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return gz(e,n).unknown(r)},fl.apply(i,arguments),i}function t1(){var t=gz().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function d(){var f=e().length,h=i<r,m=h?i:r,g=h?r:i;s=(g-m)/Math.max(1,f-l+c*2),o&&(s=Math.floor(s)),m+=(g-m-s*(f-l))*u,a=s*(1-l),o&&(m=Math.round(m),a=Math.round(a));var v=Rrt(f).map(function(y){return m+s*y});return n(h?v.reverse():v)}return t.domain=function(f){return arguments.length?(e(f),d()):e()},t.range=function(f){return arguments.length?([r,i]=f,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(f){return[r,i]=f,r=+r,i=+i,o=!0,d()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(f){return arguments.length?(o=!!f,d()):o},t.padding=function(f){return arguments.length?(l=Math.min(1,c=+f),d()):l},t.paddingInner=function(f){return arguments.length?(l=Math.min(1,f),d()):l},t.paddingOuter=function(f){return arguments.length?(c=+f,d()):c},t.align=function(f){return arguments.length?(u=Math.max(0,Math.min(1,f)),d()):u},t.copy=function(){return t1(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},fl.apply(d(),arguments)}function Yde(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Yde(e())},t}function Hb(){return Yde(t1.apply(null,arguments).paddingInner(1))}function vz(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function Zde(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function M_(){}var n1=.7,I2=1/n1,Pv="\\s*([+-]?\\d+)\\s*",r1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Ic="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ort=/^#([0-9a-f]{3,8})$/,Nrt=new RegExp(`^rgb\\(${Pv},${Pv},${Pv}\\)$`),Irt=new RegExp(`^rgb\\(${Ic},${Ic},${Ic}\\)$`),krt=new RegExp(`^rgba\\(${Pv},${Pv},${Pv},${r1}\\)$`),Drt=new RegExp(`^rgba\\(${Ic},${Ic},${Ic},${r1}\\)$`),Lrt=new RegExp(`^hsl\\(${r1},${Ic},${Ic}\\)$`),jrt=new RegExp(`^hsla\\(${r1},${Ic},${Ic},${r1}\\)$`),sK={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};vz(M_,i1,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:aK,formatHex:aK,formatHex8:Frt,formatHsl:Urt,formatRgb:oK,toString:oK});function aK(){return this.rgb().formatHex()}function Frt(){return this.rgb().formatHex8()}function Urt(){return Jde(this).formatHsl()}function oK(){return this.rgb().formatRgb()}function i1(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ort.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?lK(e):n===3?new $a(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?ST(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?ST(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Nrt.exec(t))?new $a(e[1],e[2],e[3],1):(e=Irt.exec(t))?new $a(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=krt.exec(t))?ST(e[1],e[2],e[3],e[4]):(e=Drt.exec(t))?ST(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Lrt.exec(t))?dK(e[1],e[2]/100,e[3]/100,1):(e=jrt.exec(t))?dK(e[1],e[2]/100,e[3]/100,e[4]):sK.hasOwnProperty(t)?lK(sK[t]):t==="transparent"?new $a(NaN,NaN,NaN,0):null}function lK(t){return new $a(t>>16&255,t>>8&255,t&255,1)}function ST(t,e,n,r){return r<=0&&(t=e=n=NaN),new $a(t,e,n,r)}function Brt(t){return t instanceof M_||(t=i1(t)),t?(t=t.rgb(),new $a(t.r,t.g,t.b,t.opacity)):new $a}function nF(t,e,n,r){return arguments.length===1?Brt(t):new $a(t,e,n,r??1)}function $a(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}vz($a,nF,Zde(M_,{brighter(t){return t=t==null?I2:Math.pow(I2,t),new $a(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?n1:Math.pow(n1,t),new $a(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new $a(Ip(this.r),Ip(this.g),Ip(this.b),k2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cK,formatHex:cK,formatHex8:zrt,formatRgb:uK,toString:uK}));function cK(){return`#${gp(this.r)}${gp(this.g)}${gp(this.b)}`}function zrt(){return`#${gp(this.r)}${gp(this.g)}${gp(this.b)}${gp((isNaN(this.opacity)?1:this.opacity)*255)}`}function uK(){const t=k2(this.opacity);return`${t===1?"rgb(":"rgba("}${Ip(this.r)}, ${Ip(this.g)}, ${Ip(this.b)}${t===1?")":`, ${t})`}`}function k2(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ip(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function gp(t){return t=Ip(t),(t<16?"0":"")+t.toString(16)}function dK(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Bl(t,e,n,r)}function Jde(t){if(t instanceof Bl)return new Bl(t.h,t.s,t.l,t.opacity);if(t instanceof M_||(t=i1(t)),!t)return new Bl;if(t instanceof Bl)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Bl(a,o,l,t.opacity)}function Vrt(t,e,n,r){return arguments.length===1?Jde(t):new Bl(t,e,n,r??1)}function Bl(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}vz(Bl,Vrt,Zde(M_,{brighter(t){return t=t==null?I2:Math.pow(I2,t),new Bl(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?n1:Math.pow(n1,t),new Bl(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new $a(yk(t>=240?t-240:t+120,i,r),yk(t,i,r),yk(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Bl(fK(this.h),ET(this.s),ET(this.l),k2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=k2(this.opacity);return`${t===1?"hsl(":"hsla("}${fK(this.h)}, ${ET(this.s)*100}%, ${ET(this.l)*100}%${t===1?")":`, ${t})`}`}}));function fK(t){return t=(t||0)%360,t<0?t+360:t}function ET(t){return Math.max(0,Math.min(1,t||0))}function yk(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const yz=t=>()=>t;function $rt(t,e){return function(n){return t+n*e}}function Hrt(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Grt(t){return(t=+t)==1?Qde:function(e,n){return n-e?Hrt(e,n,t):yz(isNaN(e)?n:e)}}function Qde(t,e){var n=e-t;return n?$rt(t,n):yz(isNaN(t)?e:t)}const hK=function t(e){var n=Grt(e);function r(i,s){var a=n((i=nF(i)).r,(s=nF(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=Qde(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function Wrt(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function Xrt(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function qrt(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Cy(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function Krt(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function D2(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Yrt(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=Cy(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var rF=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,xk=new RegExp(rF.source,"g");function Zrt(t){return function(){return t}}function Jrt(t){return function(e){return t(e)+""}}function Qrt(t,e){var n=rF.lastIndex=xk.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=rF.exec(t))&&(i=xk.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:D2(r,i)})),n=xk.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Jrt(l[0].x):Zrt(e):(e=l.length,function(c){for(var u=0,d;u<e;++u)o[(d=l[u]).i]=d.x(c);return o.join("")})}function Cy(t,e){var n=typeof e,r;return e==null||n==="boolean"?yz(e):(n==="number"?D2:n==="string"?(r=i1(e))?(e=r,hK):Qrt:e instanceof i1?hK:e instanceof Date?Krt:Xrt(e)?Wrt:Array.isArray(e)?qrt:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Yrt:D2)(t,e)}function xz(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function eit(t,e){e===void 0&&(e=t,t=Cy);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function tit(t){return function(){return t}}function L2(t){return+t}var pK=[0,1];function va(t){return t}function iF(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:tit(isNaN(e)?NaN:.5)}function nit(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function rit(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=iF(i,r),s=n(a,s)):(r=iF(r,i),s=n(s,a)),function(o){return s(r(o))}}function iit(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=iF(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=A_(t,o,1,r)-1;return s[l](i[l](o))}}function C_(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function XR(){var t=pK,e=pK,n=Cy,r,i,s,a=va,o,l,c;function u(){var f=Math.min(t.length,e.length);return a!==va&&(a=nit(t[0],t[f-1])),o=f>2?iit:rit,l=c=null,d}function d(f){return f==null||isNaN(f=+f)?s:(l||(l=o(t.map(r),e,n)))(r(a(f)))}return d.invert=function(f){return a(i((c||(c=o(e,t.map(r),D2)))(f)))},d.domain=function(f){return arguments.length?(t=Array.from(f,L2),u()):t.slice()},d.range=function(f){return arguments.length?(e=Array.from(f),u()):e.slice()},d.rangeRound=function(f){return e=Array.from(f),n=xz,u()},d.clamp=function(f){return arguments.length?(a=f?!0:va,u()):a!==va},d.interpolate=function(f){return arguments.length?(n=f,u()):n},d.unknown=function(f){return arguments.length?(s=f,d):s},function(f,h){return r=f,i=h,u()}}function bz(){return XR()(va,va)}function sit(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function j2(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function E0(t){return t=j2(Math.abs(t)),t?t[1]:NaN}function ait(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function oit(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var lit=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function s1(t){if(!(e=lit.exec(t)))throw new Error("invalid format: "+t);var e;return new wz({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}s1.prototype=wz.prototype;function wz(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}wz.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function cit(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var efe;function uit(t,e){var n=j2(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(efe=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+j2(t,Math.max(0,e+s-1))[0]}function mK(t,e){var n=j2(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const gK={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:sit,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>mK(t*100,e),r:mK,s:uit,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function vK(t){return t}var yK=Array.prototype.map,xK=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function dit(t){var e=t.grouping===void 0||t.thousands===void 0?vK:ait(yK.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?vK:oit(yK.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(d){d=s1(d);var f=d.fill,h=d.align,m=d.sign,g=d.symbol,v=d.zero,y=d.width,w=d.comma,_=d.precision,S=d.trim,E=d.type;E==="n"?(w=!0,E="g"):gK[E]||(_===void 0&&(_=12),S=!0,E="g"),(v||f==="0"&&h==="=")&&(v=!0,f="0",h="=");var A=g==="$"?n:g==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",M=g==="$"?r:/[%p]/.test(E)?a:"",R=gK[E],P=/[defgprs%]/.test(E);_=_===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function O(k){var I=A,F=M,L,V,z;if(E==="c")F=R(k)+F,k="";else{k=+k;var K=k<0||1/k<0;if(k=isNaN(k)?l:R(Math.abs(k),_),S&&(k=cit(k)),K&&+k==0&&m!=="+"&&(K=!1),I=(K?m==="("?m:o:m==="-"||m==="("?"":m)+I,F=(E==="s"?xK[8+efe/3]:"")+F+(K&&m==="("?")":""),P){for(L=-1,V=k.length;++L<V;)if(z=k.charCodeAt(L),48>z||z>57){F=(z===46?i+k.slice(L+1):k.slice(L))+F,k=k.slice(0,L);break}}}w&&!v&&(k=e(k,1/0));var j=I.length+k.length+F.length,U=j<y?new Array(y-j+1).join(f):"";switch(w&&v&&(k=e(U+k,U.length?y-F.length:1/0),U=""),h){case"<":k=I+k+F+U;break;case"=":k=I+U+k+F;break;case"^":k=U.slice(0,j=U.length>>1)+I+k+F+U.slice(j);break;default:k=U+I+k+F;break}return s(k)}return O.toString=function(){return d+""},O}function u(d,f){var h=c((d=s1(d),d.type="f",d)),m=Math.max(-8,Math.min(8,Math.floor(E0(f)/3)))*3,g=Math.pow(10,-m),v=xK[8+m/3];return function(y){return h(g*y)+v}}return{format:c,formatPrefix:u}}var TT,_z,tfe;fit({thousands:",",grouping:[3],currency:["$",""]});function fit(t){return TT=dit(t),_z=TT.format,tfe=TT.formatPrefix,TT}function hit(t){return Math.max(0,-E0(Math.abs(t)))}function pit(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(E0(e)/3)))*3-E0(Math.abs(t)))}function mit(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,E0(e)-E0(t))+1}function nfe(t,e,n,r){var i=eF(t,e,n),s;switch(r=s1(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=pit(i,a))&&(r.precision=s),tfe(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=mit(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=hit(i))&&(r.precision=s-(r.type==="%")*2);break}}return _z(r)}function qf(t){var e=t.domain;return t.ticks=function(n){var r=e();return Jj(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return nfe(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=Qj(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function F2(){var t=bz();return t.copy=function(){return C_(t,F2())},fl.apply(t,arguments),qf(t)}function rfe(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,L2),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return rfe(t).unknown(e)},t=arguments.length?Array.from(t,L2):[0,1],qf(n)}function ife(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function bK(t){return Math.log(t)}function wK(t){return Math.exp(t)}function git(t){return-Math.log(-t)}function vit(t){return-Math.exp(-t)}function yit(t){return isFinite(t)?+("1e"+t):t<0?0:t}function xit(t){return t===10?yit:t===Math.E?Math.exp:e=>Math.pow(t,e)}function bit(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function _K(t){return(e,n)=>-t(-e,n)}function Sz(t){const e=t(bK,wK),n=e.domain;let r=10,i,s;function a(){return i=bit(r),s=xit(r),n()[0]<0?(i=_K(i),s=_K(s),t(git,vit)):t(bK,wK),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const d=u<c;d&&([c,u]=[u,c]);let f=i(c),h=i(u),m,g;const v=o==null?10:+o;let y=[];if(!(r%1)&&h-f<v){if(f=Math.floor(f),h=Math.ceil(h),c>0){for(;f<=h;++f)for(m=1;m<r;++m)if(g=f<0?m/s(-f):m*s(f),!(g<c)){if(g>u)break;y.push(g)}}else for(;f<=h;++f)for(m=r-1;m>=1;--m)if(g=f>0?m/s(-f):m*s(f),!(g<c)){if(g>u)break;y.push(g)}y.length*2<v&&(y=Jj(c,u,v))}else y=Jj(f,h,Math.min(h-f,v)).map(s);return d?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=s1(l)).precision==null&&(l.trim=!0),l=_z(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let d=u/s(Math.round(i(u)));return d*r<r-.5&&(d*=r),d<=c?l(u):""}},e.nice=()=>n(ife(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function sfe(){const t=Sz(XR()).domain([1,10]);return t.copy=()=>C_(t,sfe()).base(t.base()),fl.apply(t,arguments),t}function SK(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function EK(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function Ez(t){var e=1,n=t(SK(e),EK(e));return n.constant=function(r){return arguments.length?t(SK(e=+r),EK(e)):e},qf(n)}function afe(){var t=Ez(XR());return t.copy=function(){return C_(t,afe()).constant(t.constant())},fl.apply(t,arguments)}function TK(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function wit(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function _it(t){return t<0?-t*t:t*t}function Tz(t){var e=t(va,va),n=1;function r(){return n===1?t(va,va):n===.5?t(wit,_it):t(TK(n),TK(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},qf(e)}function Az(){var t=Tz(XR());return t.copy=function(){return C_(t,Az()).exponent(t.exponent())},fl.apply(t,arguments),t}function Sit(){return Az.apply(null,arguments).exponent(.5)}function AK(t){return Math.sign(t)*t*t}function Eit(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function ofe(){var t=bz(),e=[0,1],n=!1,r;function i(s){var a=Eit(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(AK(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,L2)).map(AK)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return ofe(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},fl.apply(i,arguments),qf(i)}function lfe(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=Prt(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[A_(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(mf),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return lfe().domain(t).range(e).unknown(r)},fl.apply(s,arguments)}function cfe(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[A_(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return cfe().domain([t,e]).range(i).unknown(s)},fl.apply(qf(a),arguments)}function ufe(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[A_(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return ufe().domain(t).range(e).unknown(n)},fl.apply(i,arguments)}const bk=new Date,wk=new Date;function rs(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>rs(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(bk.setTime(+s),wk.setTime(+a),t(bk),t(wk),Math.floor(n(bk,wk))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const U2=rs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);U2.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?rs(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):U2);U2.range;const Tu=1e3,Jo=Tu*60,Au=Jo*60,Hu=Au*24,Mz=Hu*7,MK=Hu*30,_k=Hu*365,vp=rs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Tu)},(t,e)=>(e-t)/Tu,t=>t.getUTCSeconds());vp.range;const Cz=rs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tu)},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getMinutes());Cz.range;const Pz=rs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Jo)},(t,e)=>(e-t)/Jo,t=>t.getUTCMinutes());Pz.range;const Rz=rs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Tu-t.getMinutes()*Jo)},(t,e)=>{t.setTime(+t+e*Au)},(t,e)=>(e-t)/Au,t=>t.getHours());Rz.range;const Oz=rs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Au)},(t,e)=>(e-t)/Au,t=>t.getUTCHours());Oz.range;const P_=rs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Jo)/Hu,t=>t.getDate()-1);P_.range;const qR=rs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hu,t=>t.getUTCDate()-1);qR.range;const dfe=rs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Hu,t=>Math.floor(t/Hu));dfe.range;function _m(t){return rs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Jo)/Mz)}const KR=_m(0),B2=_m(1),Tit=_m(2),Ait=_m(3),T0=_m(4),Mit=_m(5),Cit=_m(6);KR.range;B2.range;Tit.range;Ait.range;T0.range;Mit.range;Cit.range;function Sm(t){return rs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/Mz)}const YR=Sm(0),z2=Sm(1),Pit=Sm(2),Rit=Sm(3),A0=Sm(4),Oit=Sm(5),Nit=Sm(6);YR.range;z2.range;Pit.range;Rit.range;A0.range;Oit.range;Nit.range;const Nz=rs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Nz.range;const Iz=rs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());Iz.range;const Gu=rs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Gu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Gu.range;const Wu=rs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Wu.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:rs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Wu.range;function ffe(t,e,n,r,i,s){const a=[[vp,1,Tu],[vp,5,5*Tu],[vp,15,15*Tu],[vp,30,30*Tu],[s,1,Jo],[s,5,5*Jo],[s,15,15*Jo],[s,30,30*Jo],[i,1,Au],[i,3,3*Au],[i,6,6*Au],[i,12,12*Au],[r,1,Hu],[r,2,2*Hu],[n,1,Mz],[e,1,MK],[e,3,3*MK],[t,1,_k]];function o(c,u,d){const f=u<c;f&&([c,u]=[u,c]);const h=d&&typeof d.range=="function"?d:l(c,u,d),m=h?h.range(c,+u+1):[];return f?m.reverse():m}function l(c,u,d){const f=Math.abs(u-c)/d,h=mz(([,,v])=>v).right(a,f);if(h===a.length)return t.every(eF(c/_k,u/_k,d));if(h===0)return U2.every(Math.max(eF(c,u,d),1));const[m,g]=a[f/a[h-1][2]<a[h][2]/f?h-1:h];return m.every(g)}return[o,l]}const[Iit,kit]=ffe(Wu,Iz,YR,dfe,Oz,Pz),[Dit,Lit]=ffe(Gu,Nz,KR,P_,Rz,Cz);function Sk(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Ek(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Gx(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function jit(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=Wx(i),u=Xx(i),d=Wx(s),f=Xx(s),h=Wx(a),m=Xx(a),g=Wx(o),v=Xx(o),y=Wx(l),w=Xx(l),_={a:K,A:j,b:U,B:$,c:null,d:IK,e:IK,f:ast,g:gst,G:yst,H:rst,I:ist,j:sst,L:hfe,m:ost,M:lst,p:G,q:X,Q:LK,s:jK,S:cst,u:ust,U:dst,V:fst,w:hst,W:pst,x:null,X:null,y:mst,Y:vst,Z:xst,"%":DK},S={a:Q,A:oe,b:de,B:ae,c:null,d:kK,e:kK,f:Sst,g:Ist,G:Dst,H:bst,I:wst,j:_st,L:mfe,m:Est,M:Tst,p:ne,q:ve,Q:LK,s:jK,S:Ast,u:Mst,U:Cst,V:Pst,w:Rst,W:Ost,x:null,X:null,y:Nst,Y:kst,Z:Lst,"%":DK},E={a:O,A:k,b:I,B:F,c:L,d:OK,e:OK,f:Qit,g:RK,G:PK,H:NK,I:NK,j:Kit,L:Jit,m:qit,M:Yit,p:P,q:Xit,Q:tst,s:nst,S:Zit,u:Vit,U:$it,V:Hit,w:zit,W:Git,x:V,X:z,y:RK,Y:PK,Z:Wit,"%":est};_.x=A(n,_),_.X=A(r,_),_.c=A(e,_),S.x=A(n,S),S.X=A(r,S),S.c=A(e,S);function A(ge,_e){return function(ye){var ce=[],De=-1,Ee=0,Z=ge.length,Me,Oe,Ce;for(ye instanceof Date||(ye=new Date(+ye));++De<Z;)ge.charCodeAt(De)===37&&(ce.push(ge.slice(Ee,De)),(Oe=CK[Me=ge.charAt(++De)])!=null?Me=ge.charAt(++De):Oe=Me==="e"?" ":"0",(Ce=_e[Me])&&(Me=Ce(ye,Oe)),ce.push(Me),Ee=De+1);return ce.push(ge.slice(Ee,De)),ce.join("")}}function M(ge,_e){return function(ye){var ce=Gx(1900,void 0,1),De=R(ce,ge,ye+="",0),Ee,Z;if(De!=ye.length)return null;if("Q"in ce)return new Date(ce.Q);if("s"in ce)return new Date(ce.s*1e3+("L"in ce?ce.L:0));if(_e&&!("Z"in ce)&&(ce.Z=0),"p"in ce&&(ce.H=ce.H%12+ce.p*12),ce.m===void 0&&(ce.m="q"in ce?ce.q:0),"V"in ce){if(ce.V<1||ce.V>53)return null;"w"in ce||(ce.w=1),"Z"in ce?(Ee=Ek(Gx(ce.y,0,1)),Z=Ee.getUTCDay(),Ee=Z>4||Z===0?z2.ceil(Ee):z2(Ee),Ee=qR.offset(Ee,(ce.V-1)*7),ce.y=Ee.getUTCFullYear(),ce.m=Ee.getUTCMonth(),ce.d=Ee.getUTCDate()+(ce.w+6)%7):(Ee=Sk(Gx(ce.y,0,1)),Z=Ee.getDay(),Ee=Z>4||Z===0?B2.ceil(Ee):B2(Ee),Ee=P_.offset(Ee,(ce.V-1)*7),ce.y=Ee.getFullYear(),ce.m=Ee.getMonth(),ce.d=Ee.getDate()+(ce.w+6)%7)}else("W"in ce||"U"in ce)&&("w"in ce||(ce.w="u"in ce?ce.u%7:"W"in ce?1:0),Z="Z"in ce?Ek(Gx(ce.y,0,1)).getUTCDay():Sk(Gx(ce.y,0,1)).getDay(),ce.m=0,ce.d="W"in ce?(ce.w+6)%7+ce.W*7-(Z+5)%7:ce.w+ce.U*7-(Z+6)%7);return"Z"in ce?(ce.H+=ce.Z/100|0,ce.M+=ce.Z%100,Ek(ce)):Sk(ce)}}function R(ge,_e,ye,ce){for(var De=0,Ee=_e.length,Z=ye.length,Me,Oe;De<Ee;){if(ce>=Z)return-1;if(Me=_e.charCodeAt(De++),Me===37){if(Me=_e.charAt(De++),Oe=E[Me in CK?_e.charAt(De++):Me],!Oe||(ce=Oe(ge,ye,ce))<0)return-1}else if(Me!=ye.charCodeAt(ce++))return-1}return ce}function P(ge,_e,ye){var ce=c.exec(_e.slice(ye));return ce?(ge.p=u.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function O(ge,_e,ye){var ce=h.exec(_e.slice(ye));return ce?(ge.w=m.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function k(ge,_e,ye){var ce=d.exec(_e.slice(ye));return ce?(ge.w=f.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function I(ge,_e,ye){var ce=y.exec(_e.slice(ye));return ce?(ge.m=w.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function F(ge,_e,ye){var ce=g.exec(_e.slice(ye));return ce?(ge.m=v.get(ce[0].toLowerCase()),ye+ce[0].length):-1}function L(ge,_e,ye){return R(ge,e,_e,ye)}function V(ge,_e,ye){return R(ge,n,_e,ye)}function z(ge,_e,ye){return R(ge,r,_e,ye)}function K(ge){return a[ge.getDay()]}function j(ge){return s[ge.getDay()]}function U(ge){return l[ge.getMonth()]}function $(ge){return o[ge.getMonth()]}function G(ge){return i[+(ge.getHours()>=12)]}function X(ge){return 1+~~(ge.getMonth()/3)}function Q(ge){return a[ge.getUTCDay()]}function oe(ge){return s[ge.getUTCDay()]}function de(ge){return l[ge.getUTCMonth()]}function ae(ge){return o[ge.getUTCMonth()]}function ne(ge){return i[+(ge.getUTCHours()>=12)]}function ve(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var _e=A(ge+="",_);return _e.toString=function(){return ge},_e},parse:function(ge){var _e=M(ge+="",!1);return _e.toString=function(){return ge},_e},utcFormat:function(ge){var _e=A(ge+="",S);return _e.toString=function(){return ge},_e},utcParse:function(ge){var _e=M(ge+="",!0);return _e.toString=function(){return ge},_e}}}var CK={"-":"",_:" ",0:"0"},ms=/^\s*\d+/,Fit=/^%/,Uit=/[\\^$*+?|[\]().{}]/g;function or(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Bit(t){return t.replace(Uit,"\\$&")}function Wx(t){return new RegExp("^(?:"+t.map(Bit).join("|")+")","i")}function Xx(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function zit(t,e,n){var r=ms.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Vit(t,e,n){var r=ms.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function $it(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Hit(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function Git(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function PK(t,e,n){var r=ms.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function RK(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Wit(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Xit(t,e,n){var r=ms.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function qit(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function OK(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Kit(t,e,n){var r=ms.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function NK(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Yit(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function Zit(t,e,n){var r=ms.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Jit(t,e,n){var r=ms.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Qit(t,e,n){var r=ms.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function est(t,e,n){var r=Fit.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function tst(t,e,n){var r=ms.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function nst(t,e,n){var r=ms.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function IK(t,e){return or(t.getDate(),e,2)}function rst(t,e){return or(t.getHours(),e,2)}function ist(t,e){return or(t.getHours()%12||12,e,2)}function sst(t,e){return or(1+P_.count(Gu(t),t),e,3)}function hfe(t,e){return or(t.getMilliseconds(),e,3)}function ast(t,e){return hfe(t,e)+"000"}function ost(t,e){return or(t.getMonth()+1,e,2)}function lst(t,e){return or(t.getMinutes(),e,2)}function cst(t,e){return or(t.getSeconds(),e,2)}function ust(t){var e=t.getDay();return e===0?7:e}function dst(t,e){return or(KR.count(Gu(t)-1,t),e,2)}function pfe(t){var e=t.getDay();return e>=4||e===0?T0(t):T0.ceil(t)}function fst(t,e){return t=pfe(t),or(T0.count(Gu(t),t)+(Gu(t).getDay()===4),e,2)}function hst(t){return t.getDay()}function pst(t,e){return or(B2.count(Gu(t)-1,t),e,2)}function mst(t,e){return or(t.getFullYear()%100,e,2)}function gst(t,e){return t=pfe(t),or(t.getFullYear()%100,e,2)}function vst(t,e){return or(t.getFullYear()%1e4,e,4)}function yst(t,e){var n=t.getDay();return t=n>=4||n===0?T0(t):T0.ceil(t),or(t.getFullYear()%1e4,e,4)}function xst(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+or(e/60|0,"0",2)+or(e%60,"0",2)}function kK(t,e){return or(t.getUTCDate(),e,2)}function bst(t,e){return or(t.getUTCHours(),e,2)}function wst(t,e){return or(t.getUTCHours()%12||12,e,2)}function _st(t,e){return or(1+qR.count(Wu(t),t),e,3)}function mfe(t,e){return or(t.getUTCMilliseconds(),e,3)}function Sst(t,e){return mfe(t,e)+"000"}function Est(t,e){return or(t.getUTCMonth()+1,e,2)}function Tst(t,e){return or(t.getUTCMinutes(),e,2)}function Ast(t,e){return or(t.getUTCSeconds(),e,2)}function Mst(t){var e=t.getUTCDay();return e===0?7:e}function Cst(t,e){return or(YR.count(Wu(t)-1,t),e,2)}function gfe(t){var e=t.getUTCDay();return e>=4||e===0?A0(t):A0.ceil(t)}function Pst(t,e){return t=gfe(t),or(A0.count(Wu(t),t)+(Wu(t).getUTCDay()===4),e,2)}function Rst(t){return t.getUTCDay()}function Ost(t,e){return or(z2.count(Wu(t)-1,t),e,2)}function Nst(t,e){return or(t.getUTCFullYear()%100,e,2)}function Ist(t,e){return t=gfe(t),or(t.getUTCFullYear()%100,e,2)}function kst(t,e){return or(t.getUTCFullYear()%1e4,e,4)}function Dst(t,e){var n=t.getUTCDay();return t=n>=4||n===0?A0(t):A0.ceil(t),or(t.getUTCFullYear()%1e4,e,4)}function Lst(){return"+0000"}function DK(){return"%"}function LK(t){return+t}function jK(t){return Math.floor(+t/1e3)}var Eg,vfe,yfe;jst({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function jst(t){return Eg=jit(t),vfe=Eg.format,Eg.parse,yfe=Eg.utcFormat,Eg.utcParse,Eg}function Fst(t){return new Date(t)}function Ust(t){return t instanceof Date?+t:+new Date(+t)}function kz(t,e,n,r,i,s,a,o,l,c){var u=bz(),d=u.invert,f=u.domain,h=c(".%L"),m=c(":%S"),g=c("%I:%M"),v=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),S=c("%Y");function E(A){return(l(A)<A?h:o(A)<A?m:a(A)<A?g:s(A)<A?v:r(A)<A?i(A)<A?y:w:n(A)<A?_:S)(A)}return u.invert=function(A){return new Date(d(A))},u.domain=function(A){return arguments.length?f(Array.from(A,Ust)):f().map(Fst)},u.ticks=function(A){var M=f();return t(M[0],M[M.length-1],A??10)},u.tickFormat=function(A,M){return M==null?E:c(M)},u.nice=function(A){var M=f();return(!A||typeof A.range!="function")&&(A=e(M[0],M[M.length-1],A??10)),A?f(ife(M,A)):u},u.copy=function(){return C_(u,kz(t,e,n,r,i,s,a,o,l,c))},u}function Bst(){return fl.apply(kz(Dit,Lit,Gu,Nz,KR,P_,Rz,Cz,vp,vfe).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function zst(){return fl.apply(kz(Iit,kit,Wu,Iz,YR,qR,Oz,Pz,vp,yfe).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ZR(){var t=0,e=1,n,r,i,s,a=va,o=!1,l;function c(d){return d==null||isNaN(d=+d)?l:a(i===0?.5:(d=(s(d)-n)*i,o?Math.max(0,Math.min(1,d)):d))}c.domain=function(d){return arguments.length?([t,e]=d,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(d){return arguments.length?(o=!!d,c):o},c.interpolator=function(d){return arguments.length?(a=d,c):a};function u(d){return function(f){var h,m;return arguments.length?([h,m]=f,a=d(h,m),c):[a(0),a(1)]}}return c.range=u(Cy),c.rangeRound=u(xz),c.unknown=function(d){return arguments.length?(l=d,c):l},function(d){return s=d,n=d(t),r=d(e),i=n===r?0:1/(r-n),c}}function Kf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function xfe(){var t=qf(ZR()(va));return t.copy=function(){return Kf(t,xfe())},Ju.apply(t,arguments)}function bfe(){var t=Sz(ZR()).domain([1,10]);return t.copy=function(){return Kf(t,bfe()).base(t.base())},Ju.apply(t,arguments)}function wfe(){var t=Ez(ZR());return t.copy=function(){return Kf(t,wfe()).constant(t.constant())},Ju.apply(t,arguments)}function Dz(){var t=Tz(ZR());return t.copy=function(){return Kf(t,Dz()).exponent(t.exponent())},Ju.apply(t,arguments)}function Vst(){return Dz.apply(null,arguments).exponent(.5)}function _fe(){var t=[],e=va;function n(r){if(r!=null&&!isNaN(r=+r))return e((A_(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(mf),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Crt(t,s/r))},n.copy=function(){return _fe(e).domain(t)},Ju.apply(n,arguments)}function JR(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=va,u,d=!1,f;function h(g){return isNaN(g=+g)?f:(g=.5+((g=+u(g))-s)*(r*g<r*s?o:l),c(d?Math.max(0,Math.min(1,g)):g))}h.domain=function(g){return arguments.length?([t,e,n]=g,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,h):[t,e,n]},h.clamp=function(g){return arguments.length?(d=!!g,h):d},h.interpolator=function(g){return arguments.length?(c=g,h):c};function m(g){return function(v){var y,w,_;return arguments.length?([y,w,_]=v,c=eit(g,[y,w,_]),h):[c(0),c(.5),c(1)]}}return h.range=m(Cy),h.rangeRound=m(xz),h.unknown=function(g){return arguments.length?(f=g,h):f},function(g){return u=g,i=g(t),s=g(e),a=g(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,h}}function Sfe(){var t=qf(JR()(va));return t.copy=function(){return Kf(t,Sfe())},Ju.apply(t,arguments)}function Efe(){var t=Sz(JR()).domain([.1,1,10]);return t.copy=function(){return Kf(t,Efe()).base(t.base())},Ju.apply(t,arguments)}function Tfe(){var t=Ez(JR());return t.copy=function(){return Kf(t,Tfe()).constant(t.constant())},Ju.apply(t,arguments)}function Lz(){var t=Tz(JR());return t.copy=function(){return Kf(t,Lz()).exponent(t.exponent())},Ju.apply(t,arguments)}function $st(){return Lz.apply(null,arguments).exponent(.5)}const FK=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t1,scaleDiverging:Sfe,scaleDivergingLog:Efe,scaleDivergingPow:Lz,scaleDivergingSqrt:$st,scaleDivergingSymlog:Tfe,scaleIdentity:rfe,scaleImplicit:tF,scaleLinear:F2,scaleLog:sfe,scaleOrdinal:gz,scalePoint:Hb,scalePow:Az,scaleQuantile:lfe,scaleQuantize:cfe,scaleRadial:ofe,scaleSequential:xfe,scaleSequentialLog:bfe,scaleSequentialPow:Dz,scaleSequentialQuantile:_fe,scaleSequentialSqrt:Vst,scaleSequentialSymlog:wfe,scaleSqrt:Sit,scaleSymlog:afe,scaleThreshold:ufe,scaleTime:Bst,scaleUtc:zst,tickFormat:nfe},Symbol.toStringTag,{value:"Module"}));var Hst=xy;function Gst(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!Hst(a):n(a,o)))var o=a,l=s}return l}var QR=Gst;function Wst(t,e){return t>e}var Afe=Wst,Xst=QR,qst=Afe,Kst=My;function Yst(t){return t&&t.length?Xst(t,Kst,qst):void 0}var Zst=Yst;const eO=lr(Zst);function Jst(t,e){return t<e}var Mfe=Jst,Qst=QR,eat=Mfe,tat=My;function nat(t){return t&&t.length?Qst(t,tat,eat):void 0}var rat=nat;const tO=lr(rat);var iat=Y5,sat=Gc,aat=Dde,oat=Xa;function lat(t,e){var n=oat(t)?iat:aat;return n(t,sat(e))}var cat=lat,uat=Ide,dat=cat;function fat(t,e){return uat(dat(t,e),1)}var hat=fat;const pat=lr(hat);var mat=dz;function gat(t,e){return mat(t,e)}var vat=gat;const R_=lr(vat);var Py=1e9,yat={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},Fz,Wr=!0,ol="[DecimalError] ",kp=ol+"Invalid argument: ",jz=ol+"Exponent out of range: ",Ry=Math.floor,Vh=Math.pow,xat=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,mo,ds=1e7,Fr=7,Cfe=9007199254740991,V2=Ry(Cfe/Fr),Ut={};Ut.absoluteValue=Ut.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Ut.comparedTo=Ut.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};Ut.decimalPlaces=Ut.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Fr;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};Ut.dividedBy=Ut.div=function(t){return Ou(this,new this.constructor(t))};Ut.dividedToIntegerBy=Ut.idiv=function(t){var e=this,n=e.constructor;return Er(Ou(e,new n(t),0,1),n.precision)};Ut.equals=Ut.eq=function(t){return!this.cmp(t)};Ut.exponent=function(){return zi(this)};Ut.greaterThan=Ut.gt=function(t){return this.cmp(t)>0};Ut.greaterThanOrEqualTo=Ut.gte=function(t){return this.cmp(t)>=0};Ut.isInteger=Ut.isint=function(){return this.e>this.d.length-2};Ut.isNegative=Ut.isneg=function(){return this.s<0};Ut.isPositive=Ut.ispos=function(){return this.s>0};Ut.isZero=function(){return this.s===0};Ut.lessThan=Ut.lt=function(t){return this.cmp(t)<0};Ut.lessThanOrEqualTo=Ut.lte=function(t){return this.cmp(t)<1};Ut.logarithm=Ut.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(mo))throw Error(ol+"NaN");if(n.s<1)throw Error(ol+(n.s?"NaN":"-Infinity"));return n.eq(mo)?new r(0):(Wr=!1,e=Ou(a1(n,s),a1(t,s),s),Wr=!0,Er(e,i))};Ut.minus=Ut.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ofe(e,t):Pfe(e,(t.s=-t.s,t))};Ut.modulo=Ut.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ol+"NaN");return n.s?(Wr=!1,e=Ou(n,t,0,1).times(t),Wr=!0,n.minus(e)):Er(new r(n),i)};Ut.naturalExponential=Ut.exp=function(){return Rfe(this)};Ut.naturalLogarithm=Ut.ln=function(){return a1(this)};Ut.negated=Ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Ut.plus=Ut.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Pfe(e,t):Ofe(e,(t.s=-t.s,t))};Ut.precision=Ut.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(kp+t);if(e=zi(i)+1,r=i.d.length-1,n=r*Fr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};Ut.squareRoot=Ut.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ol+"NaN")}for(t=zi(o),Wr=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Ec(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Ry((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(Ou(o,s,a+2)).times(.5),Ec(s.d).slice(0,a)===(e=Ec(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Er(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Wr=!0,Er(r,n)};Ut.times=Ut.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,d=u.constructor,f=u.d,h=(t=new d(t)).d;if(!u.s||!t.s)return new d(0);for(t.s*=u.s,n=u.e+t.e,l=f.length,c=h.length,l<c&&(s=f,f=h,h=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+h[r]*f[i-r-1]+e,s[i--]=o%ds|0,e=o/ds|0;s[i]=(s[i]+e)%ds|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Wr?Er(t,d.precision):t};Ut.toDecimalPlaces=Ut.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(Bc(t,0,Py),e===void 0?e=r.rounding:Bc(e,0,8),Er(n,t+zi(n)+1,e))};Ut.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=am(r,!0):(Bc(t,0,Py),e===void 0?e=i.rounding:Bc(e,0,8),r=Er(new i(r),t+1,e),n=am(r,!0,t+1)),n};Ut.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?am(i):(Bc(t,0,Py),e===void 0?e=s.rounding:Bc(e,0,8),r=Er(new s(i),t+zi(i)+1,e),n=am(r.abs(),!1,t+zi(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Ut.toInteger=Ut.toint=function(){var t=this,e=t.constructor;return Er(new e(t),zi(t)+1,e.rounding)};Ut.toNumber=function(){return+this};Ut.toPower=Ut.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(mo);if(o=new l(o),!o.s){if(t.s<1)throw Error(ol+"Infinity");return o}if(o.eq(mo))return o;if(r=l.precision,t.eq(mo))return Er(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=Cfe){for(i=new l(mo),e=Math.ceil(r/Fr+4),Wr=!1;n%2&&(i=i.times(o),BK(i.d,e)),n=Ry(n/2),n!==0;)o=o.times(o),BK(o.d,e);return Wr=!0,t.s<0?new l(mo).div(i):Er(i,r)}}else if(s<0)throw Error(ol+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Wr=!1,i=t.times(a1(o,r+c)),Wr=!0,i=Rfe(i),i.s=s,i};Ut.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=zi(i),r=am(i,n<=s.toExpNeg||n>=s.toExpPos)):(Bc(t,1,Py),e===void 0?e=s.rounding:Bc(e,0,8),i=Er(new s(i),t,e),n=zi(i),r=am(i,t<=n||n<=s.toExpNeg,t)),r};Ut.toSignificantDigits=Ut.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(Bc(t,1,Py),e===void 0?e=r.rounding:Bc(e,0,8)),Er(new r(n),t,e)};Ut.toString=Ut.valueOf=Ut.val=Ut.toJSON=Ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=zi(t),n=t.constructor;return am(t,e<=n.toExpNeg||e>=n.toExpPos)};function Pfe(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,d=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Wr?Er(e,d):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(d/Fr),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/ds|0,l[s]%=ds;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Wr?Er(e,d):e}function Bc(t,e,n){if(t!==~~t||t<e||t>n)throw Error(kp+t)}function Ec(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Fr-r.length,n&&(s+=Id(n)),s+=r;a=t[e],r=a+"",n=Fr-r.length,n&&(s+=Id(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var Ou=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%ds|0,a=s/ds|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*ds+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,d,f,h,m,g,v,y,w,_,S,E,A,M,R,P=r.constructor,O=r.s==i.s?1:-1,k=r.d,I=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(ol+"Division by zero");for(l=r.e-i.e,M=I.length,E=k.length,h=new P(O),m=h.d=[],c=0;I[c]==(k[c]||0);)++c;if(I[c]>(k[c]||0)&&--l,s==null?w=s=P.precision:a?w=s+(zi(r)-zi(i))+1:w=s,w<0)return new P(0);if(w=w/Fr+2|0,c=0,M==1)for(u=0,I=I[0],w++;(c<E||u)&&w--;c++)_=u*ds+(k[c]||0),m[c]=_/I|0,u=_%I|0;else{for(u=ds/(I[0]+1)|0,u>1&&(I=t(I,u),k=t(k,u),M=I.length,E=k.length),S=M,g=k.slice(0,M),v=g.length;v<M;)g[v++]=0;R=I.slice(),R.unshift(0),A=I[0],I[1]>=ds/2&&++A;do u=0,o=e(I,g,M,v),o<0?(y=g[0],M!=v&&(y=y*ds+(g[1]||0)),u=y/A|0,u>1?(u>=ds&&(u=ds-1),d=t(I,u),f=d.length,v=g.length,o=e(d,g,f,v),o==1&&(u--,n(d,M<f?R:I,f))):(u==0&&(o=u=1),d=I.slice()),f=d.length,f<v&&d.unshift(0),n(g,d,v),o==-1&&(v=g.length,o=e(I,g,M,v),o<1&&(u++,n(g,M<v?R:I,v))),v=g.length):o===0&&(u++,g=[0]),m[c++]=u,o&&g[0]?g[v++]=k[S]||0:(g=[k[S]],v=1);while((S++<E||g[0]!==void 0)&&w--)}return m[0]||m.shift(),h.e=l,Er(h,a?s+zi(h)+1:s)}}();function Rfe(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,d=u.precision;if(zi(t)>16)throw Error(jz+zi(t));if(!t.s)return new u(mo);for(e==null?(Wr=!1,o=d):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(Vh(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(mo),u.precision=o;;){if(i=Er(i.times(t),o),n=n.times(++l),a=s.plus(Ou(i,n,o)),Ec(a.d).slice(0,o)===Ec(s.d).slice(0,o)){for(;c--;)s=Er(s.times(s),o);return u.precision=d,e==null?(Wr=!0,Er(s,d)):s}s=a}}function zi(t){for(var e=t.e*Fr,n=t.d[0];n>=10;n/=10)e++;return e}function Tk(t,e,n){if(e>t.LN10.sd())throw Wr=!0,n&&(t.precision=n),Error(ol+"LN10 precision limit exceeded");return Er(new t(t.LN10),e)}function Id(t){for(var e="";t--;)e+="0";return e}function a1(t,e){var n,r,i,s,a,o,l,c,u,d=1,f=10,h=t,m=h.d,g=h.constructor,v=g.precision;if(h.s<1)throw Error(ol+(h.s?"NaN":"-Infinity"));if(h.eq(mo))return new g(0);if(e==null?(Wr=!1,c=v):c=e,h.eq(10))return e==null&&(Wr=!0),Tk(g,c);if(c+=f,g.precision=c,n=Ec(m),r=n.charAt(0),s=zi(h),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)h=h.times(t),n=Ec(h.d),r=n.charAt(0),d++;s=zi(h),r>1?(h=new g("0."+n),s++):h=new g(r+"."+n.slice(1))}else return l=Tk(g,c+2,v).times(s+""),h=a1(new g(r+"."+n.slice(1)),c-f).plus(l),g.precision=v,e==null?(Wr=!0,Er(h,v)):h;for(o=a=h=Ou(h.minus(mo),h.plus(mo),c),u=Er(h.times(h),c),i=3;;){if(a=Er(a.times(u),c),l=o.plus(Ou(a,new g(i),c)),Ec(l.d).slice(0,c)===Ec(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(Tk(g,c+2,v).times(s+""))),o=Ou(o,new g(d),c),g.precision=v,e==null?(Wr=!0,Er(o,v)):o;o=l,i+=2}}function UK(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=Ry(n/Fr),t.d=[],r=(n+1)%Fr,n<0&&(r+=Fr),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Fr;r<i;)t.d.push(+e.slice(r,r+=Fr));e=e.slice(r),r=Fr-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Wr&&(t.e>V2||t.e<-V2))throw Error(jz+n)}else t.s=0,t.e=0,t.d=[0];return t}function Er(t,e,n){var r,i,s,a,o,l,c,u,d=t.d;for(a=1,s=d[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Fr,i=e,c=d[u=0];else{if(u=Math.ceil((r+1)/Fr),s=d.length,u>=s)return t;for(c=s=d[u],a=1;s>=10;s/=10)a++;r%=Fr,i=r-Fr+a}if(n!==void 0&&(s=Vh(10,a-i-1),o=c/s%10|0,l=e<0||d[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/Vh(10,a-i):0:d[u-1])%10&1||n==(t.s<0?8:7))),e<1||!d[0])return l?(s=zi(t),d.length=1,e=e-s-1,d[0]=Vh(10,(Fr-e%Fr)%Fr),t.e=Ry(-e/Fr)||0):(d.length=1,d[0]=t.e=t.s=0),t;if(r==0?(d.length=u,s=1,u--):(d.length=u+1,s=Vh(10,Fr-r),d[u]=i>0?(c/Vh(10,a-i)%Vh(10,i)|0)*s:0),l)for(;;)if(u==0){(d[0]+=s)==ds&&(d[0]=1,++t.e);break}else{if(d[u]+=s,d[u]!=ds)break;d[u--]=0,s=1}for(r=d.length;d[--r]===0;)d.pop();if(Wr&&(t.e>V2||t.e<-V2))throw Error(jz+zi(t));return t}function Ofe(t,e){var n,r,i,s,a,o,l,c,u,d,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new f(t),Wr?Er(e,h):e;if(l=t.d,d=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=d.length):(n=d,r=c,o=l.length),i=Math.max(Math.ceil(h/Fr),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=d.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=d[i]){u=l[i]<d[i];break}a=0}for(u&&(n=l,l=d,d=n,e.s=-e.s),o=l.length,i=d.length-o;i>0;--i)l[o++]=0;for(i=d.length;i>a;){if(l[--i]<d[i]){for(s=i;s&&l[--s]===0;)l[s]=ds-1;--l[s],l[i]+=ds}l[i]-=d[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Wr?Er(e,h):e):new f(0)}function am(t,e,n){var r,i=zi(t),s=Ec(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+Id(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Id(-i-1)+s,n&&(r=n-a)>0&&(s+=Id(r))):i>=a?(s+=Id(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+Id(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=Id(r))),t.s<0?"-"+s:s}function BK(t,e){if(t.length>e)return t.length=e,!0}function Nfe(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(kp+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return UK(a,s.toString())}else if(typeof s!="string")throw Error(kp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,xat.test(s))UK(a,s);else throw Error(kp+s)}if(i.prototype=Ut,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Nfe,i.config=i.set=bat,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function bat(t){if(!t||typeof t!="object")throw Error(ol+"Object expected");var e,n,r,i=["precision",1,Py,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(Ry(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(kp+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(kp+n+": "+r);return this}var Fz=Nfe(yat);mo=new Fz(1);const xr=Fz;function wat(t){return Tat(t)||Eat(t)||Sat(t)||_at()}function _at(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sat(t,e){if(t){if(typeof t=="string")return sF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return sF(t,e)}}function Eat(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function Tat(t){if(Array.isArray(t))return sF(t)}function sF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Aat=function(e){return e},Ife={"@@functional/placeholder":!0},kfe=function(e){return e===Ife},zK=function(e){return function n(){return arguments.length===0||arguments.length===1&&kfe(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},Mat=function t(e,n){return e===1?n:zK(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==Ife}).length;return a>=e?n.apply(void 0,i):t(e-a,zK(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(d){return kfe(d)?l.shift():d});return n.apply(void 0,wat(u).concat(l))}))})},nO=function(e){return Mat(e.length,e)},aF=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},Cat=nO(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),Pat=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return Aat;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},oF=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Dfe=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function Rat(t){var e;return t===0?e=1:e=Math.floor(new xr(t).abs().log(10).toNumber())+1,e}function Oat(t,e,n){for(var r=new xr(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var Nat=nO(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),Iat=nO(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),kat=nO(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const rO={rangeStep:Oat,getDigitCount:Rat,interpolateNumber:Nat,uninterpolateNumber:Iat,uninterpolateTruncation:kat};function lF(t){return jat(t)||Lat(t)||Lfe(t)||Dat()}function Dat(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lat(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jat(t){if(Array.isArray(t))return cF(t)}function o1(t,e){return Bat(t)||Uat(t,e)||Lfe(t,e)||Fat()}function Fat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lfe(t,e){if(t){if(typeof t=="string")return cF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return cF(t,e)}}function cF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uat(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function Bat(t){if(Array.isArray(t))return t}function jfe(t){var e=o1(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function Ffe(t,e,n){if(t.lte(0))return new xr(0);var r=rO.getDigitCount(t.toNumber()),i=new xr(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new xr(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new xr(Math.ceil(l))}function zat(t,e,n){var r=1,i=new xr(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new xr(10).pow(rO.getDigitCount(t)-1),i=new xr(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new xr(Math.floor(t)))}else t===0?i=new xr(Math.floor((e-1)/2)):n||(i=new xr(Math.floor(t)));var a=Math.floor((e-1)/2),o=Pat(Cat(function(l){return i.add(new xr(l-a).mul(r)).toNumber()}),aF);return o(0,e)}function Ufe(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new xr(0),tickMin:new xr(0),tickMax:new xr(0)};var s=Ffe(new xr(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new xr(0):(a=new xr(t).add(e).div(2),a=a.sub(new xr(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new xr(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?Ufe(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new xr(o).mul(s)),tickMax:a.add(new xr(l).mul(s))})}function Vat(t){var e=o1(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=jfe([n,r]),l=o1(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var d=u===1/0?[c].concat(lF(aF(0,i-1).map(function(){return 1/0}))):[].concat(lF(aF(0,i-1).map(function(){return-1/0})),[u]);return n>r?oF(d):d}if(c===u)return zat(c,i,s);var f=Ufe(c,u,a,s),h=f.step,m=f.tickMin,g=f.tickMax,v=rO.rangeStep(m,g.add(new xr(.1).mul(h)),h);return n>r?oF(v):v}function $at(t,e){var n=o1(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=jfe([r,i]),o=o1(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),d=Ffe(new xr(c).sub(l).div(u-1),s,0),f=[].concat(lF(rO.rangeStep(new xr(l),new xr(c).sub(new xr(.99).mul(d)),d)),[c]);return r>i?oF(f):f}var Hat=Dfe(Vat),Gat=Dfe($at),Wat="Invariant failed";function om(t,e){throw new Error(Wat)}var Xat=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function $2(){return $2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},$2.apply(this,arguments)}function qat(t,e){return Jat(t)||Zat(t,e)||Yat(t,e)||Kat()}function Kat(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yat(t,e){if(t){if(typeof t=="string")return VK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VK(t,e)}}function VK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Zat(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Jat(t){if(Array.isArray(t))return t}function Qat(t,e){if(t==null)return{};var n=eot(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function eot(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tot(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function not(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Vfe(r.key),r)}}function rot(t,e,n){return e&&not(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function iot(t,e,n){return e=H2(e),sot(t,Bfe()?Reflect.construct(e,n||[],H2(t).constructor):e.apply(t,n))}function sot(t,e){if(e&&(M0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aot(t)}function aot(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bfe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Bfe=function(){return!!t})()}function H2(t){return H2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},H2(t)}function oot(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uF(t,e)}function uF(t,e){return uF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uF(t,e)}function zfe(t,e,n){return e=Vfe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vfe(t){var e=lot(t,"string");return M0(e)=="symbol"?e:e+""}function lot(t,e){if(M0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(M0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var O_=function(t){function e(){return tot(this,e),iot(this,e,arguments)}return oot(e,t),rot(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,d=r.yAxis,f=Qat(r,Xat),h=nn(f,!1);this.props.direction==="x"&&u.type!=="number"&&om();var m=l.map(function(g){var v=c(g,o),y=v.x,w=v.y,_=v.value,S=v.errorVal;if(!S)return null;var E=[],A,M;if(Array.isArray(S)){var R=qat(S,2);A=R[0],M=R[1]}else A=M=S;if(s==="vertical"){var P=u.scale,O=w+i,k=O+a,I=O-a,F=P(_-A),L=P(_+M);E.push({x1:L,y1:k,x2:L,y2:I}),E.push({x1:F,y1:O,x2:L,y2:O}),E.push({x1:F,y1:k,x2:F,y2:I})}else if(s==="horizontal"){var V=d.scale,z=y+i,K=z-a,j=z+a,U=V(_-A),$=V(_+M);E.push({x1:K,y1:$,x2:j,y2:$}),E.push({x1:z,y1:U,x2:z,y2:$}),E.push({x1:K,y1:U,x2:j,y2:U})}return ie.createElement(sr,$2({className:"recharts-errorBar",key:"bar-".concat(E.map(function(G){return"".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))},h),E.map(function(G){return ie.createElement("line",$2({},G,{key:"line-".concat(G.x1,"-").concat(G.x2,"-").concat(G.y1,"-").concat(G.y2)}))}))});return ie.createElement(sr,{className:"recharts-errorBars"},m)}}])}(ie.Component);zfe(O_,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});zfe(O_,"displayName","ErrorBar");function l1(t){"@babel/helpers - typeof";return l1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l1(t)}function $K(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Rh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?$K(Object(n),!0).forEach(function(r){cot(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$K(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cot(t,e,n){return e=uot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function uot(t){var e=dot(t,"string");return l1(e)=="symbol"?e:e+""}function dot(t,e){if(l1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(l1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $fe=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=lo(n,Cv);if(!a)return null;var o=Cv.defaultProps,l=o!==void 0?Rh(Rh({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(u,d){var f=d.item,h=d.props,m=h.sectors||h.data||[];return u.concat(m.map(function(g){return{type:a.props.iconType||f.props.legendType,value:g.name,color:g.fill,payload:g}}))},[]):c=(r||[]).map(function(u){var d=u.item,f=d.type.defaultProps,h=f!==void 0?Rh(Rh({},f),d.props):{},m=h.dataKey,g=h.name,v=h.legendType,y=h.hide;return{inactive:y,dataKey:m,type:l.iconType||v||"square",color:Uz(d),value:g||m,payload:h}}),Rh(Rh(Rh({},l),Cv.getWithHeight(a,i)),{},{payload:c,item:a})};function c1(t){"@babel/helpers - typeof";return c1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c1(t)}function HK(t){return mot(t)||pot(t)||hot(t)||fot()}function fot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hot(t,e){if(t){if(typeof t=="string")return dF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dF(t,e)}}function pot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function mot(t){if(Array.isArray(t))return dF(t)}function dF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function GK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function di(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GK(Object(n),!0).forEach(function(r){Rv(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rv(t,e,n){return e=got(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function got(t){var e=vot(t,"string");return c1(e)=="symbol"?e:e+""}function vot(t,e){if(c1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(c1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qi(t,e,n){return Sn(t)||Sn(e)?n:Zi(e)?wo(t,e,n):pn(e)?e(t):n}function Gb(t,e,n,r){var i=pat(t,function(o){return qi(o,e)});if(n==="number"){var s=i.filter(function(o){return _t(o)||parseFloat(o)});return s.length?[tO(s),eO(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Sn(o)}):i;return a.map(function(o){return Zi(o)||o instanceof Date?o:""})}var yot=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,d=i[c].coordinate,f=c>=o-1?i[0].coordinate:i[c+1].coordinate,h=void 0;if(ma(d-u)!==ma(f-d)){var m=[];if(ma(f-d)===ma(l[1]-l[0])){h=f;var g=d+l[1]-l[0];m[0]=Math.min(g,(g+u)/2),m[1]=Math.max(g,(g+u)/2)}else{h=u;var v=f+l[1]-l[0];m[0]=Math.min(d,(v+d)/2),m[1]=Math.max(d,(v+d)/2)}var y=[Math.min(d,(h+d)/2),Math.max(d,(h+d)/2)];if(e>y[0]&&e<=y[1]||e>=m[0]&&e<=m[1]){a=i[c].index;break}}else{var w=Math.min(u,f),_=Math.max(u,f);if(e>(w+d)/2&&e<=(_+d)/2){a=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},Uz=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?di(di({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},xot=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,d=Object.keys(u),f=0,h=d.length;f<h;f++){var m=u[d[f]],g=m.items,v=m.cateAxisId,y=g.filter(function(M){return Ru(M.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?di(di({},w),y[0].props):y[0].props,S=_.barSize,E=_[v];a[E]||(a[E]=[]);var A=Sn(S)?n:S;a[E].push({item:y[0],stackList:y.slice(1),barSize:Sn(A)?void 0:ga(A,r,0)})}}return a},bot=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=ga(n,i,0,!0),u,d=[];if(a[0].barSize===+a[0].barSize){var f=!1,h=i/l,m=a.reduce(function(S,E){return S+E.barSize||0},0);m+=(l-1)*c,m>=i&&(m-=(l-1)*c,c=0),m>=i&&h>0&&(f=!0,h*=.9,m=l*h);var g=(i-m)/2>>0,v={offset:g-c,size:0};u=a.reduce(function(S,E){var A={item:E.item,position:{offset:v.offset+v.size+c,size:f?h:E.barSize}},M=[].concat(HK(S),[A]);return v=M[M.length-1].position,E.stackList&&E.stackList.length&&E.stackList.forEach(function(R){M.push({item:R,position:v})}),M},d)}else{var y=ga(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=a.reduce(function(S,E,A){var M=[].concat(HK(S),[{item:E.item,position:{offset:y+(w+c)*A+(w-_)/2,size:_}}]);return E.stackList&&E.stackList.length&&E.stackList.forEach(function(R){M.push({item:R,position:M[M.length-1].position})}),M},d)}return u},wot=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=$fe({children:s,legendWidth:l});if(c){var u=i||{},d=u.width,f=u.height,h=c.align,m=c.verticalAlign,g=c.layout;if((g==="vertical"||g==="horizontal"&&m==="middle")&&h!=="center"&&_t(e[h]))return di(di({},e),{},Rv({},h,e[h]+(d||0)));if((g==="horizontal"||g==="vertical"&&h==="center")&&m!=="middle"&&_t(e[m]))return di(di({},e),{},Rv({},m,e[m]+(f||0)))}return e},_ot=function(e,n,r){return Sn(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},Hfe=function(e,n,r,i,s){var a=n.props.children,o=_o(a,O_).filter(function(c){return _ot(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var d=qi(u,r);if(Sn(d))return c;var f=Array.isArray(d)?[tO(d),eO(d)]:[d,d],h=l.reduce(function(m,g){var v=qi(u,g,0),y=f[0]-Math.abs(Array.isArray(v)?v[0]:v),w=f[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(y,m[0]),Math.max(w,m[1])]},[1/0,-1/0]);return[Math.min(h[0],c[0]),Math.max(h[1],c[1])]},[1/0,-1/0])}return null},Sot=function(e,n,r,i,s){var a=n.map(function(o){return Hfe(e,o,r,s,i)}).filter(function(o){return!Sn(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},Gfe=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&Hfe(e,l,c,i)||Gb(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,d=c.length;u<d;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},Wfe=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},Xfe=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},Mu=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ma(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(d){var f=s?s.indexOf(d):d;return{coordinate:i(f)+c,value:d,offset:c}});return u.filter(function(d){return!E_(d.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(d,f){return{coordinate:i(d)+c,value:d,index:f,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(d){return{coordinate:i(d)+c,value:d,offset:c}}):i.domain().map(function(d,f){return{coordinate:i(d)+c,value:s?s[d]:d,index:f,offset:c}})},Ak=new WeakMap,AT=function(e,n){if(typeof n!="function")return e;Ak.has(e)||Ak.set(e,new WeakMap);var r=Ak.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},qfe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:t1(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:F2(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:Hb(),realScaleType:"point"}:s==="category"?{scale:t1(),realScaleType:"band"}:{scale:F2(),realScaleType:"linear"};if(rm(i)){var l="scale".concat(UR(i));return{scale:(FK[l]||Hb)(),realScaleType:FK[l]?l:"point"}}return pn(i)?{scale:i}:{scale:Hb(),realScaleType:"point"}},WK=1e-4,Kfe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-WK,a=Math.max(i[0],i[1])+WK,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},Eot=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},Tot=function(e,n){if(!n||n.length!==2||!_t(n[0])||!_t(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!_t(e[0])||e[0]<r)&&(s[0]=r),(!_t(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},Aot=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=E_(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},Mot=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=E_(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},Cot={sign:Aot,expand:GXe,none:x0,silhouette:WXe,wiggle:XXe,positive:Mot},Pot=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=Cot[r],a=HXe().keys(i).value(function(o,l){return+qi(o,l,0)}).order(Lj).offset(s);return a(e)},Rot=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(d,f){var h,m=(h=f.type)!==null&&h!==void 0&&h.defaultProps?di(di({},f.type.defaultProps),f.props):f.props,g=m.stackId,v=m.hide;if(v)return d;var y=m[r],w=d[y]||{hasStack:!1,stackGroups:{}};if(Zi(g)){var _=w.stackGroups[g]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(f),w.hasStack=!0,w.stackGroups[g]=_}else w.stackGroups[Ey("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[f]};return di(di({},d),{},Rv({},y,w))},l),u={};return Object.keys(c).reduce(function(d,f){var h=c[f];if(h.hasStack){var m={};h.stackGroups=Object.keys(h.stackGroups).reduce(function(g,v){var y=h.stackGroups[v];return di(di({},g),{},Rv({},v,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:Pot(e,y.items,s)}))},m)}return di(di({},d),{},Rv({},f,h))},u)},Yfe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=Hat(c,s,o);return e.domain([tO(u),eO(u)]),{niceTicks:u}}if(s&&i==="number"){var d=e.domain(),f=Gat(d,s,o);return{niceTicks:f}}return null};function XK(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Sn(i[e.dataKey])){var o=v2(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=qi(i,Sn(a)?e.dataKey:a);return Sn(l)?null:e.scale(l)}var qK=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=qi(a,n.dataKey,n.domain[o]);return Sn(l)?null:n.scale(l)-s/2+i},Oot=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},Not=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?di(di({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Zi(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},Iot=function(e){return e.reduce(function(n,r){return[tO(r.concat([n[0]]).filter(_t)),eO(r.concat([n[1]]).filter(_t))]},[1/0,-1/0])},Zfe=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var d=Iot(u.slice(n,r+1));return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},KK=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,YK=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,fF=function(e,n,r){if(pn(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(_t(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(KK.test(e[0])){var s=+KK.exec(e[0])[1];i[0]=n[0]-s}else pn(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(_t(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(YK.test(e[1])){var a=+YK.exec(e[1])[1];i[1]=n[1]+a}else pn(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},G2=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=hz(n,function(d){return d.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},ZK=function(e,n,r){return!e||!e.length||R_(e,wo(r,"type.defaultProps.domain"))?n:e},Jfe=function(e,n){var r=e.type.defaultProps?di(di({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return di(di({},nn(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:Uz(e),value:qi(n,i),type:l,payload:n,chartType:c,hide:u})};function u1(t){"@babel/helpers - typeof";return u1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u1(t)}function JK(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mu(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JK(Object(n),!0).forEach(function(r){Qfe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JK(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Qfe(t,e,n){return e=kot(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function kot(t){var e=Dot(t,"string");return u1(e)=="symbol"?e:e+""}function Dot(t,e){if(u1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(u1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Lot(t,e){return Bot(t)||Uot(t,e)||Fot(t,e)||jot()}function jot(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Fot(t,e){if(t){if(typeof t=="string")return QK(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return QK(t,e)}}function QK(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Uot(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Bot(t){if(Array.isArray(t))return t}var W2=Math.PI/180,zot=function(e){return e*180/Math.PI},Nr=function(e,n,r,i){return{x:e+Math.cos(-W2*i)*r,y:n+Math.sin(-W2*i)*r}},ehe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},Vot=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.startAngle,c=e.endAngle,u=ga(e.cx,a,a/2),d=ga(e.cy,o,o/2),f=ehe(a,o,r),h=ga(e.innerRadius,f,0),m=ga(e.outerRadius,f,f*.8),g=Object.keys(n);return g.reduce(function(v,y){var w=n[y],_=w.domain,S=w.reversed,E;if(Sn(w.range))i==="angleAxis"?E=[l,c]:i==="radiusAxis"&&(E=[h,m]),S&&(E=[E[1],E[0]]);else{E=w.range;var A=E,M=Lot(A,2);l=M[0],c=M[1]}var R=qfe(w,s),P=R.realScaleType,O=R.scale;O.domain(_).range(E),Kfe(O);var k=Yfe(O,mu(mu({},w),{},{realScaleType:P})),I=mu(mu(mu({},w),k),{},{range:E,radius:m,realScaleType:P,scale:O,cx:u,cy:d,innerRadius:h,outerRadius:m,startAngle:l,endAngle:c});return mu(mu({},v),{},Qfe({},y,I))},{})},$ot=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},Hot=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=$ot({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:zot(c),angleInRadian:c}},Got=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},Wot=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},eY=function(e,n){var r=e.x,i=e.y,s=Hot({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=Got(n),d=u.startAngle,f=u.endAngle,h=o,m;if(d<=f){for(;h>f;)h-=360;for(;h<d;)h+=360;m=h>=d&&h<=f}else{for(;h>d;)h-=360;for(;h<f;)h+=360;m=h>=f&&h<=d}return m?mu(mu({},n),{},{radius:a,angle:Wot(h,n)}):null},the=function(e){return!T.isValidElement(e)&&!pn(e)&&typeof e!="boolean"?e.className:""};function d1(t){"@babel/helpers - typeof";return d1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d1(t)}var Xot=["offset"];function qot(t){return Jot(t)||Zot(t)||Yot(t)||Kot()}function Kot(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yot(t,e){if(t){if(typeof t=="string")return hF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hF(t,e)}}function Zot(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jot(t){if(Array.isArray(t))return hF(t)}function hF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Qot(t,e){if(t==null)return{};var n=elt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function elt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function tY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Gi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?tY(Object(n),!0).forEach(function(r){tlt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):tY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function tlt(t,e,n){return e=nlt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nlt(t){var e=rlt(t,"string");return d1(e)=="symbol"?e:e+""}function rlt(t,e){if(d1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(d1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f1(){return f1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f1.apply(this,arguments)}var ilt=function(e){var n=e.value,r=e.formatter,i=Sn(e.children)?n:e.children;return pn(r)?r(i):i},slt=function(e,n){var r=ma(n-e),i=Math.min(Math.abs(n-e),360);return r*i},alt=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,d=l.innerRadius,f=l.outerRadius,h=l.startAngle,m=l.endAngle,g=l.clockWise,v=(d+f)/2,y=slt(h,m),w=y>=0?1:-1,_,S;i==="insideStart"?(_=h+w*a,S=g):i==="insideEnd"?(_=m-w*a,S=!g):i==="end"&&(_=m+w*a,S=g),S=y<=0?S:!S;var E=Nr(c,u,v,_),A=Nr(c,u,v,_+(S?1:-1)*359),M="M".concat(E.x,",").concat(E.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(S?0:1,`,
    `).concat(A.x,",").concat(A.y),R=Sn(e.id)?Ey("recharts-radial-line-"):e.id;return ie.createElement("text",f1({},r,{dominantBaseline:"central",className:Mn("recharts-radial-bar-label",o)}),ie.createElement("defs",null,ie.createElement("path",{id:R,d:M})),ie.createElement("textPath",{xlinkHref:"#".concat(R)},n))},olt=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,d=s.endAngle,f=(u+d)/2;if(i==="outside"){var h=Nr(a,o,c+r,f),m=h.x,g=h.y;return{x:m,y:g,textAnchor:m>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var v=(l+c)/2,y=Nr(a,o,v,f),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},llt=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,u=a.height,d=u>=0?1:-1,f=d*i,h=d>0?"end":"start",m=d>0?"start":"end",g=c>=0?1:-1,v=g*i,y=g>0?"end":"start",w=g>0?"start":"end";if(s==="top"){var _={x:o+c/2,y:l-d*i,textAnchor:"middle",verticalAnchor:h};return Gi(Gi({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var S={x:o+c/2,y:l+u+f,textAnchor:"middle",verticalAnchor:m};return Gi(Gi({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var E={x:o-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Gi(Gi({},E),r?{width:Math.max(E.x-r.x,0),height:u}:{})}if(s==="right"){var A={x:o+c+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Gi(Gi({},A),r?{width:Math.max(r.x+r.width-A.x,0),height:u}:{})}var M=r?{width:c,height:u}:{};return s==="insideLeft"?Gi({x:o+v,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},M):s==="insideRight"?Gi({x:o+c-v,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},M):s==="insideTop"?Gi({x:o+c/2,y:l+f,textAnchor:"middle",verticalAnchor:m},M):s==="insideBottom"?Gi({x:o+c/2,y:l+u-f,textAnchor:"middle",verticalAnchor:h},M):s==="insideTopLeft"?Gi({x:o+v,y:l+f,textAnchor:w,verticalAnchor:m},M):s==="insideTopRight"?Gi({x:o+c-v,y:l+f,textAnchor:y,verticalAnchor:m},M):s==="insideBottomLeft"?Gi({x:o+v,y:l+u-f,textAnchor:w,verticalAnchor:h},M):s==="insideBottomRight"?Gi({x:o+c-v,y:l+u-f,textAnchor:y,verticalAnchor:h},M):by(s)&&(_t(s.x)||mp(s.x))&&(_t(s.y)||mp(s.y))?Gi({x:o+ga(s.x,c),y:l+ga(s.y,u),textAnchor:"end",verticalAnchor:"end"},M):Gi({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},M)},clt=function(e){return"cx"in e&&_t(e.cx)};function hs(t){var e=t.offset,n=e===void 0?5:e,r=Qot(t,Xot),i=Gi({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,d=u===void 0?"":u,f=i.textBreakAll;if(!s||Sn(o)&&Sn(l)&&!T.isValidElement(c)&&!pn(c))return null;if(T.isValidElement(c))return T.cloneElement(c,i);var h;if(pn(c)){if(h=T.createElement(c,i),T.isValidElement(h))return h}else h=ilt(i);var m=clt(s),g=nn(i,!0);if(m&&(a==="insideStart"||a==="insideEnd"||a==="end"))return alt(i,h,g);var v=m?olt(i):llt(i);return ie.createElement(sm,f1({className:Mn("recharts-label",d)},g,v,{breakAll:f}),h)}hs.displayName="Label";var nhe=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,d=e.x,f=e.y,h=e.top,m=e.left,g=e.width,v=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(_t(g)&&_t(v)){if(_t(d)&&_t(f))return{x:d,y:f,width:g,height:v};if(_t(h)&&_t(m))return{x:h,y:m,width:g,height:v}}return _t(d)&&_t(f)?{x:d,y:f,width:0,height:0}:_t(n)&&_t(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},ult=function(e,n){return e?e===!0?ie.createElement(hs,{key:"label-implicit",viewBox:n}):Zi(e)?ie.createElement(hs,{key:"label-implicit",viewBox:n,value:e}):T.isValidElement(e)?e.type===hs?T.cloneElement(e,{key:"label-implicit",viewBox:n}):ie.createElement(hs,{key:"label-implicit",content:e,viewBox:n}):pn(e)?ie.createElement(hs,{key:"label-implicit",content:e,viewBox:n}):by(e)?ie.createElement(hs,f1({viewBox:n},e,{key:"label-implicit"})):null:null},dlt=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=nhe(e),a=_o(i,hs).map(function(l,c){return T.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=ult(e.label,n||s);return[o].concat(qot(a))};hs.parseViewBox=nhe;hs.renderCallByParent=dlt;function flt(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var hlt=flt;const plt=lr(hlt);function h1(t){"@babel/helpers - typeof";return h1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h1(t)}var mlt=["valueAccessor"],glt=["data","dataKey","clockWise","id","textBreakAll"];function vlt(t){return wlt(t)||blt(t)||xlt(t)||ylt()}function ylt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xlt(t,e){if(t){if(typeof t=="string")return pF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pF(t,e)}}function blt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wlt(t){if(Array.isArray(t))return pF(t)}function pF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},X2.apply(this,arguments)}function nY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function rY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nY(Object(n),!0).forEach(function(r){_lt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function _lt(t,e,n){return e=Slt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Slt(t){var e=Elt(t,"string");return h1(e)=="symbol"?e:e+""}function Elt(t,e){if(h1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(h1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iY(t,e){if(t==null)return{};var n=Tlt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Tlt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Alt=function(e){return Array.isArray(e.value)?plt(e.value):e.value};function Nu(t){var e=t.valueAccessor,n=e===void 0?Alt:e,r=iY(t,mlt),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=iY(r,glt);return!i||!i.length?null:ie.createElement(sr,{className:"recharts-label-list"},i.map(function(u,d){var f=Sn(s)?n(u,d):qi(u&&u.payload,s),h=Sn(o)?{}:{id:"".concat(o,"-").concat(d)};return ie.createElement(hs,X2({},nn(u,!0),c,h,{parentViewBox:u.parentViewBox,value:f,textBreakAll:l,viewBox:hs.parseViewBox(Sn(a)?u:rY(rY({},u),{},{clockWise:a})),key:"label-".concat(d),index:d}))}))}Nu.displayName="LabelList";function Mlt(t,e){return t?t===!0?ie.createElement(Nu,{key:"labelList-implicit",data:e}):ie.isValidElement(t)||pn(t)?ie.createElement(Nu,{key:"labelList-implicit",data:e,content:t}):by(t)?ie.createElement(Nu,X2({data:e},t,{key:"labelList-implicit"})):null:null}function Clt(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=_o(r,Nu).map(function(a,o){return T.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=Mlt(t.label,e);return[s].concat(vlt(i))}Nu.renderCallByParent=Clt;function p1(t){"@babel/helpers - typeof";return p1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p1(t)}function mF(){return mF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mF.apply(this,arguments)}function sY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function aY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sY(Object(n),!0).forEach(function(r){Plt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Plt(t,e,n){return e=Rlt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rlt(t){var e=Olt(t,"string");return p1(e)=="symbol"?e:e+""}function Olt(t,e){if(p1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(p1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nlt=function(e,n){var r=ma(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},MT=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,d=Math.asin(l/u)/W2,f=c?s:s+a*d,h=Nr(n,r,u,f),m=Nr(n,r,i,f),g=c?s-a*d:s,v=Nr(n,r,u*Math.cos(d*W2),g);return{center:h,circleTangency:m,lineTangency:v,theta:d}},rhe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=Nlt(a,o),c=a+l,u=Nr(n,r,s,a),d=Nr(n,r,s,c),f="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(d.x,",").concat(d.y,`
  `);if(i>0){var h=Nr(n,r,i,a),m=Nr(n,r,i,c);f+="L ".concat(m.x,",").concat(m.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(h.x,",").concat(h.y," Z")}else f+="L ".concat(n,",").concat(r," Z");return f},Ilt=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,d=ma(u-c),f=MT({cx:n,cy:r,radius:s,angle:c,sign:d,cornerRadius:a,cornerIsExternal:l}),h=f.circleTangency,m=f.lineTangency,g=f.theta,v=MT({cx:n,cy:r,radius:s,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:l}),y=v.circleTangency,w=v.lineTangency,_=v.theta,S=l?Math.abs(c-u):Math.abs(c-u)-g-_;if(S<0)return o?"M ".concat(m.x,",").concat(m.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):rhe({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var E="M ".concat(m.x,",").concat(m.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(h.x,",").concat(h.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(d<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var A=MT({cx:n,cy:r,radius:i,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),M=A.circleTangency,R=A.lineTangency,P=A.theta,O=MT({cx:n,cy:r,radius:i,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),k=O.circleTangency,I=O.lineTangency,F=O.theta,L=l?Math.abs(c-u):Math.abs(c-u)-P-F;if(L<0&&a===0)return"".concat(E,"L").concat(n,",").concat(r,"Z");E+="L".concat(I.x,",").concat(I.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(k.x,",").concat(k.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(L>180),",").concat(+(d>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(d<0),",").concat(R.x,",").concat(R.y,"Z")}else E+="L".concat(n,",").concat(r,"Z");return E},klt={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},ihe=function(e){var n=aY(aY({},klt),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,d=n.endAngle,f=n.className;if(a<s||u===d)return null;var h=Mn("recharts-sector",f),m=a-s,g=ga(o,m,0,!0),v;return g>0&&Math.abs(u-d)<360?v=Ilt({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(g,m/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:d}):v=rhe({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:d}),ie.createElement("path",mF({},nn(n,!0),{className:h,d:v,role:"img"}))};function m1(t){"@babel/helpers - typeof";return m1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m1(t)}function gF(){return gF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gF.apply(this,arguments)}function oY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function lY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oY(Object(n),!0).forEach(function(r){Dlt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Dlt(t,e,n){return e=Llt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Llt(t){var e=jlt(t,"string");return m1(e)=="symbol"?e:e+""}function jlt(t,e){if(m1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(m1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cY={curveBasisClosed:IXe,curveBasisOpen:kXe,curveBasis:NXe,curveBumpX:yXe,curveBumpY:xXe,curveLinearClosed:DXe,curveLinear:zR,curveMonotoneX:LXe,curveMonotoneY:jXe,curveNatural:FXe,curveStep:UXe,curveStepAfter:zXe,curveStepBefore:BXe},CT=function(e){return e.x===+e.x&&e.y===+e.y},qx=function(e){return e.x},Kx=function(e){return e.y},Flt=function(e,n){if(pn(e))return e;var r="curve".concat(UR(e));return(r==="curveMonotone"||r==="curveBump")&&n?cY["".concat(r).concat(n==="vertical"?"Y":"X")]:cY[r]||zR},Ult=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=Flt(r,o),d=c?s.filter(function(g){return CT(g)}):s,f;if(Array.isArray(a)){var h=c?a.filter(function(g){return CT(g)}):a,m=d.map(function(g,v){return lY(lY({},g),{},{base:h[v]})});return o==="vertical"?f=yT().y(Kx).x1(qx).x0(function(g){return g.base.x}):f=yT().x(qx).y1(Kx).y0(function(g){return g.base.y}),f.defined(CT).curve(u),f(m)}return o==="vertical"&&_t(a)?f=yT().y(Kx).x1(qx).x0(a):_t(a)?f=yT().x(qx).y1(Kx).y0(a):f=Jue().x(qx).y(Kx),f.defined(CT).curve(u),f(d)},q2=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?Ult(e):i;return T.createElement("path",gF({},nn(e,!1),y2(e),{className:Mn("recharts-curve",n),d:a,ref:s}))},she={exports:{}},Blt="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",zlt=Blt,Vlt=zlt;function ahe(){}function ohe(){}ohe.resetWarningCache=ahe;var $lt=function(){function t(r,i,s,a,o,l){if(l!==Vlt){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:ohe,resetWarningCache:ahe};return n.PropTypes=n,n};she.exports=$lt();var Hlt=she.exports;const dr=lr(Hlt);var Glt=Object.getOwnPropertyNames,Wlt=Object.getOwnPropertySymbols,Xlt=Object.prototype.hasOwnProperty;function uY(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function PT(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function dY(t){return Glt(t).concat(Wlt(t))}var qlt=Object.hasOwn||function(t,e){return Xlt.call(t,e)};function Em(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var Klt="__v",Ylt="__o",Zlt="_owner",fY=Object.getOwnPropertyDescriptor,hY=Object.keys;function Jlt(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function Qlt(t,e){return Em(t.getTime(),e.getTime())}function ect(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function tct(t,e){return t===e}function pY(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),u=!1,d=0;(o=c.next())&&!o.done;){if(i[d]){d++;continue}var f=a.value,h=o.value;if(n.equals(f[0],h[0],l,d,t,e,n)&&n.equals(f[1],h[1],f[0],h[0],t,e,n)){u=i[d]=!0;break}d++}if(!u)return!1;l++}return!0}var nct=Em;function rct(t,e,n){var r=hY(t),i=r.length;if(hY(e).length!==i)return!1;for(;i-- >0;)if(!lhe(t,e,n,r[i]))return!1;return!0}function Yx(t,e,n){var r=dY(t),i=r.length;if(dY(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!lhe(t,e,n,s)||(a=fY(t,s),o=fY(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function ict(t,e){return Em(t.valueOf(),e.valueOf())}function sct(t,e){return t.source===e.source&&t.flags===e.flags}function mY(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function act(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function oct(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function lhe(t,e,n,r){return(r===Zlt||r===Ylt||r===Klt)&&(t.$$typeof||e.$$typeof)?!0:qlt(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var lct="[object Arguments]",cct="[object Boolean]",uct="[object Date]",dct="[object Error]",fct="[object Map]",hct="[object Number]",pct="[object Object]",mct="[object RegExp]",gct="[object Set]",vct="[object String]",yct="[object URL]",xct=Array.isArray,gY=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,vY=Object.assign,bct=Object.prototype.toString.call.bind(Object.prototype.toString);function wct(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,d=t.areTypedArraysEqual,f=t.areUrlsEqual;return function(m,g,v){if(m===g)return!0;if(m==null||g==null)return!1;var y=typeof m;if(y!==typeof g)return!1;if(y!=="object")return y==="number"?a(m,g,v):y==="function"?i(m,g,v):!1;var w=m.constructor;if(w!==g.constructor)return!1;if(w===Object)return o(m,g,v);if(xct(m))return e(m,g,v);if(gY!=null&&gY(m))return d(m,g,v);if(w===Date)return n(m,g,v);if(w===RegExp)return c(m,g,v);if(w===Map)return s(m,g,v);if(w===Set)return u(m,g,v);var _=bct(m);return _===uct?n(m,g,v):_===mct?c(m,g,v):_===fct?s(m,g,v):_===gct?u(m,g,v):_===pct?typeof m.then!="function"&&typeof g.then!="function"&&o(m,g,v):_===yct?f(m,g,v):_===dct?r(m,g,v):_===lct?o(m,g,v):_===cct||_===hct||_===vct?l(m,g,v):!1}}function _ct(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?Yx:Jlt,areDatesEqual:Qlt,areErrorsEqual:ect,areFunctionsEqual:tct,areMapsEqual:r?uY(pY,Yx):pY,areNumbersEqual:nct,areObjectsEqual:r?Yx:rct,arePrimitiveWrappersEqual:ict,areRegExpsEqual:sct,areSetsEqual:r?uY(mY,Yx):mY,areTypedArraysEqual:r?Yx:act,areUrlsEqual:oct};if(n&&(i=vY({},i,n(i))),e){var s=PT(i.areArraysEqual),a=PT(i.areMapsEqual),o=PT(i.areObjectsEqual),l=PT(i.areSetsEqual);i=vY({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function Sct(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function Ect(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var u=r(),d=u.cache,f=d===void 0?e?new WeakMap:void 0:d,h=u.meta;return n(l,c,{cache:f,equals:i,meta:h,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var Tct=Yf();Yf({strict:!0});Yf({circular:!0});Yf({circular:!0,strict:!0});Yf({createInternalComparator:function(){return Em}});Yf({strict:!0,createInternalComparator:function(){return Em}});Yf({circular:!0,createInternalComparator:function(){return Em}});Yf({circular:!0,createInternalComparator:function(){return Em},strict:!0});function Yf(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=_ct(t),l=wct(o),c=r?r(l):Sct(l);return Ect({circular:n,comparator:l,createState:i,equals:c,strict:a})}function Act(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function yY(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):Act(i)};requestAnimationFrame(r)}function vF(t){"@babel/helpers - typeof";return vF=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vF(t)}function Mct(t){return Oct(t)||Rct(t)||Pct(t)||Cct()}function Cct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pct(t,e){if(t){if(typeof t=="string")return xY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xY(t,e)}}function xY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Oct(t){if(Array.isArray(t))return t}function Nct(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=Mct(a),l=o[0],c=o.slice(1);if(typeof l=="number"){yY(i.bind(null,c),l);return}i(l),yY(i.bind(null,c));return}vF(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function g1(t){"@babel/helpers - typeof";return g1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g1(t)}function bY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function wY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bY(Object(n),!0).forEach(function(r){che(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function che(t,e,n){return e=Ict(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ict(t){var e=kct(t,"string");return g1(e)==="symbol"?e:String(e)}function kct(t,e){if(g1(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(g1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Dct=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},Lct=function(e){return e},jct=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Wb=function(e,n){return Object.keys(n).reduce(function(r,i){return wY(wY({},r),{},che({},i,e(i,n[i])))},{})},_Y=function(e,n,r){return e.map(function(i){return"".concat(jct(i)," ").concat(n,"ms ").concat(r)}).join(",")};function Fct(t,e){return zct(t)||Bct(t,e)||uhe(t,e)||Uct()}function Uct(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Bct(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function zct(t){if(Array.isArray(t))return t}function Vct(t){return Gct(t)||Hct(t)||uhe(t)||$ct()}function $ct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uhe(t,e){if(t){if(typeof t=="string")return yF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yF(t,e)}}function Hct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Gct(t){if(Array.isArray(t))return yF(t)}function yF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var K2=1e-4,dhe=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},fhe=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},SY=function(e,n){return function(r){var i=dhe(e,n);return fhe(i,r)}},Wct=function(e,n){return function(r){var i=dhe(e,n),s=[].concat(Vct(i.map(function(a,o){return a*o}).slice(1)),[0]);return fhe(s,r)}},EY=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),u=Fct(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var d=SY(i,a),f=SY(s,o),h=Wct(i,a),m=function(y){return y>1?1:y<0?0:y},g=function(y){for(var w=y>1?1:y,_=w,S=0;S<8;++S){var E=d(_)-w,A=h(_);if(Math.abs(E-w)<K2||A<K2)return f(_);_=m(_-E/A)}return f(_)};return g.isStepper=!1,g},Xct=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,d,f){var h=-(u-d)*r,m=f*s,g=f+(h-m)*o/1e3,v=f*o/1e3+u;return Math.abs(v-d)<K2&&Math.abs(g)<K2?[d,0]:[v,g]};return l.isStepper=!0,l.dt=o,l},qct=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return EY(i);case"spring":return Xct();default:if(i.split("(")[0]==="cubic-bezier")return EY(i)}return typeof i=="function"?i:null};function v1(t){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v1(t)}function TY(t){return Zct(t)||Yct(t)||hhe(t)||Kct()}function Kct(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Yct(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Zct(t){if(Array.isArray(t))return bF(t)}function AY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AY(Object(n),!0).forEach(function(r){xF(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function xF(t,e,n){return e=Jct(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Jct(t){var e=Qct(t,"string");return v1(e)==="symbol"?e:String(e)}function Qct(t,e){if(v1(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(v1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eut(t,e){return rut(t)||nut(t,e)||hhe(t,e)||tut()}function tut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hhe(t,e){if(t){if(typeof t=="string")return bF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bF(t,e)}}function bF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function nut(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function rut(t){if(Array.isArray(t))return t}var Y2=function(e,n,r){return e+(n-e)*r},wF=function(e){var n=e.from,r=e.to;return n!==r},iut=function t(e,n,r){var i=Wb(function(s,a){if(wF(a)){var o=e(a.from,a.to,a.velocity),l=eut(o,2),c=l[0],u=l[1];return xs(xs({},a),{},{from:c,velocity:u})}return a},n);return r<1?Wb(function(s,a){return wF(a)?xs(xs({},a),{},{velocity:Y2(a.velocity,i[s].velocity,r),from:Y2(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const sut=function(t,e,n,r,i){var s=Dct(t,e),a=s.reduce(function(v,y){return xs(xs({},v),{},xF({},y,[t[y],e[y]]))},{}),o=s.reduce(function(v,y){return xs(xs({},v),{},xF({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,d=function(){return null},f=function(){return Wb(function(y,w){return w.from},o)},h=function(){return!Object.values(o).filter(wF).length},m=function(y){c||(c=y);var w=y-c,_=w/n.dt;o=iut(n,o,_),i(xs(xs(xs({},t),e),f())),c=y,h()||(l=requestAnimationFrame(d))},g=function(y){u||(u=y);var w=(y-u)/r,_=Wb(function(E,A){return Y2.apply(void 0,TY(A).concat([n(w)]))},a);if(i(xs(xs(xs({},t),e),_)),w<1)l=requestAnimationFrame(d);else{var S=Wb(function(E,A){return Y2.apply(void 0,TY(A).concat([n(1)]))},a);i(xs(xs(xs({},t),e),S))}};return d=n.isStepper?m:g,function(){return requestAnimationFrame(d),function(){cancelAnimationFrame(l)}}};function C0(t){"@babel/helpers - typeof";return C0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C0(t)}var aut=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function out(t,e){if(t==null)return{};var n=lut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function lut(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Mk(t){return fut(t)||dut(t)||uut(t)||cut()}function cut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uut(t,e){if(t){if(typeof t=="string")return _F(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _F(t,e)}}function dut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fut(t){if(Array.isArray(t))return _F(t)}function _F(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function MY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _l(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MY(Object(n),!0).forEach(function(r){cb(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function cb(t,e,n){return e=phe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function hut(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function put(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,phe(r.key),r)}}function mut(t,e,n){return e&&put(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function phe(t){var e=gut(t,"string");return C0(e)==="symbol"?e:String(e)}function gut(t,e){if(C0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(C0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vut(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SF(t,e)}function SF(t,e){return SF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},SF(t,e)}function yut(t){var e=xut();return function(){var r=Z2(t),i;if(e){var s=Z2(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return EF(this,i)}}function EF(t,e){if(e&&(C0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TF(t)}function TF(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xut(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z2(t){return Z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Z2(t)}var zc=function(t){vut(n,t);var e=yut(n);function n(r,i){var s;hut(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,d=a.steps,f=a.children,h=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(TF(s)),s.changeStyle=s.changeStyle.bind(TF(s)),!o||h<=0)return s.state={style:{}},typeof f=="function"&&(s.state={style:u}),EF(s);if(d&&d.length)s.state={style:d[0].style};else if(c){if(typeof f=="function")return s.state={style:c},EF(s);s.state={style:l?cb({},l,c):c}}else s.state={style:{}};return s}return mut(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,d=s.from,f=this.state.style;if(o){if(!a){var h={style:l?cb({},l,u):u};this.state&&f&&(l&&f[l]!==u||!l&&f!==u)&&this.setState(h);return}if(!(Tct(i.to,u)&&i.canBegin&&i.isActive)){var m=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var g=m||c?d:i.to;if(this.state&&f){var v={style:l?cb({},l,g):g};(l&&f[l]!==g||!l&&f!==g)&&this.setState(v)}this.runAnimation(_l(_l({},this.props),{},{from:g,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,d=i.onAnimationEnd,f=i.onAnimationStart,h=sut(a,o,qct(c),l,this.changeStyle),m=function(){s.stopJSAnimation=h()};this.manager.start([f,u,m,l,d])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,d=c.duration,f=d===void 0?0:d,h=function(g,v,y){if(y===0)return g;var w=v.duration,_=v.easing,S=_===void 0?"ease":_,E=v.style,A=v.properties,M=v.onAnimationEnd,R=y>0?a[y-1]:v,P=A||Object.keys(E);if(typeof S=="function"||S==="spring")return[].concat(Mk(g),[s.runJSAnimation.bind(s,{from:R.style,to:E,duration:w,easing:S}),w]);var O=_Y(P,w,S),k=_l(_l(_l({},R.style),E),{},{transition:O});return[].concat(Mk(g),[k,w,M]).filter(Lct)};return this.manager.start([l].concat(Mk(a.reduce(h,[u,Math.max(f,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=Nct());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,d=i.onAnimationEnd,f=i.steps,h=i.children,m=this.manager;if(this.unSubscribe=m.subscribe(this.handleStyleChange),typeof c=="function"||typeof h=="function"||c==="spring"){this.runJSAnimation(i);return}if(f.length>1){this.runStepAnimation(i);return}var g=o?cb({},o,l):l,v=_Y(Object.keys(g),a,c);m.start([u,s,_l(_l({},g),{},{transition:v}),a,d])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=out(i,aut),c=T.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var d=function(h){var m=h.props,g=m.style,v=g===void 0?{}:g,y=m.className,w=T.cloneElement(h,_l(_l({},l),{},{style:_l(_l({},v),u),className:y}));return w};return c===1?d(T.Children.only(s)):ie.createElement("div",null,T.Children.map(s,function(f){return d(f)}))}}]),n}(T.PureComponent);zc.displayName="Animate";zc.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};zc.propTypes={from:dr.oneOfType([dr.object,dr.string]),to:dr.oneOfType([dr.object,dr.string]),attributeName:dr.string,duration:dr.number,begin:dr.number,easing:dr.oneOfType([dr.string,dr.func]),steps:dr.arrayOf(dr.shape({duration:dr.number.isRequired,style:dr.object.isRequired,easing:dr.oneOfType([dr.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),dr.func]),properties:dr.arrayOf("string"),onAnimationEnd:dr.func})),children:dr.oneOfType([dr.node,dr.func]),isActive:dr.bool,canBegin:dr.bool,onAnimationEnd:dr.func,shouldReAnimate:dr.bool,onAnimationStart:dr.func,onAnimationReStart:dr.func};function y1(t){"@babel/helpers - typeof";return y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y1(t)}function J2(){return J2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},J2.apply(this,arguments)}function but(t,e){return Eut(t)||Sut(t,e)||_ut(t,e)||wut()}function wut(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _ut(t,e){if(t){if(typeof t=="string")return CY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return CY(t,e)}}function CY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sut(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Eut(t){if(Array.isArray(t))return t}function PY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?PY(Object(n),!0).forEach(function(r){Tut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):PY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Tut(t,e,n){return e=Aut(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Aut(t){var e=Mut(t,"string");return y1(e)=="symbol"?e:e+""}function Mut(t,e){if(y1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(y1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OY=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var d=[0,0,0,0],f=0,h=4;f<h;f++)d[f]=s[f]>a?a:s[f];u="M".concat(e,",").concat(n+o*d[0]),d[0]>0&&(u+="A ".concat(d[0],",").concat(d[0],",0,0,").concat(c,",").concat(e+l*d[0],",").concat(n)),u+="L ".concat(e+r-l*d[1],",").concat(n),d[1]>0&&(u+="A ".concat(d[1],",").concat(d[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*d[1])),u+="L ".concat(e+r,",").concat(n+i-o*d[2]),d[2]>0&&(u+="A ".concat(d[2],",").concat(d[2],",0,0,").concat(c,`,
        `).concat(e+r-l*d[2],",").concat(n+i)),u+="L ".concat(e+l*d[3],",").concat(n+i),d[3]>0&&(u+="A ".concat(d[3],",").concat(d[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*d[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var m=Math.min(a,s);u="M ".concat(e,",").concat(n+o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+l*m,",").concat(n,`
            L `).concat(e+r-l*m,",").concat(n,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*m,`
            L `).concat(e+r,",").concat(n+i-o*m,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e+r-l*m,",").concat(n+i,`
            L `).concat(e+l*m,",").concat(n+i,`
            A `).concat(m,",").concat(m,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*m," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},Cut=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),d=Math.min(a,a+l),f=Math.max(a,a+l);return r>=c&&r<=u&&i>=d&&i<=f}return!1},Put={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Bz=function(e){var n=RY(RY({},Put),e),r=T.useRef(),i=T.useState(-1),s=but(i,2),a=s[0],o=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,d=n.height,f=n.radius,h=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||u===0||d===0)return null;var _=Mn("recharts-rectangle",h);return w?ie.createElement(zc,{canBegin:a>0,from:{width:u,height:d,x:l,y:c},to:{width:u,height:d,x:l,y:c},duration:g,animationEasing:m,isActive:w},function(S){var E=S.width,A=S.height,M=S.x,R=S.y;return ie.createElement(zc,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,isActive:y,easing:m},ie.createElement("path",J2({},nn(n,!0),{className:_,d:OY(M,R,E,A,f),ref:r})))}):ie.createElement("path",J2({},nn(n,!0),{className:_,d:OY(l,c,u,d,f)}))},Rut=["points","className","baseLinePoints","connectNulls"];function av(){return av=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},av.apply(this,arguments)}function Out(t,e){if(t==null)return{};var n=Nut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nut(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function NY(t){return Lut(t)||Dut(t)||kut(t)||Iut()}function Iut(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kut(t,e){if(t){if(typeof t=="string")return AF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AF(t,e)}}function Dut(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Lut(t){if(Array.isArray(t))return AF(t)}function AF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var IY=function(e){return e&&e.x===+e.x&&e.y===+e.y},jut=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return e.forEach(function(r){IY(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),IY(e[0])&&n[n.length-1].push(e[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},Xb=function(e,n){var r=jut(e);n&&(r=[r.reduce(function(s,a){return[].concat(NY(s),NY(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,l){return"".concat(a).concat(l===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},Fut=function(e,n,r){var i=Xb(e,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(Xb(n.reverse(),r).slice(1))},Uut=function(e){var n=e.points,r=e.className,i=e.baseLinePoints,s=e.connectNulls,a=Out(e,Rut);if(!n||!n.length)return null;var o=Mn("recharts-polygon",r);if(i&&i.length){var l=a.stroke&&a.stroke!=="none",c=Fut(n,i,s);return ie.createElement("g",{className:o},ie.createElement("path",av({},nn(a,!0),{fill:c.slice(-1)==="Z"?a.fill:"none",stroke:"none",d:c})),l?ie.createElement("path",av({},nn(a,!0),{fill:"none",d:Xb(n,s)})):null,l?ie.createElement("path",av({},nn(a,!0),{fill:"none",d:Xb(i,s)})):null)}var u=Xb(n,s);return ie.createElement("path",av({},nn(a,!0),{fill:u.slice(-1)==="Z"?a.fill:"none",className:o,d:u}))};function MF(){return MF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},MF.apply(this,arguments)}var iO=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=Mn("recharts-dot",s);return n===+n&&r===+r&&i===+i?T.createElement("circle",MF({},nn(e,!1),y2(e),{className:a,cx:n,cy:r,r:i})):null};function x1(t){"@babel/helpers - typeof";return x1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x1(t)}var But=["x","y","top","left","width","height","className"];function CF(){return CF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},CF.apply(this,arguments)}function kY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zut(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kY(Object(n),!0).forEach(function(r){Vut(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vut(t,e,n){return e=$ut(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $ut(t){var e=Hut(t,"string");return x1(e)=="symbol"?e:e+""}function Hut(t,e){if(x1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(x1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Gut(t,e){if(t==null)return{};var n=Wut(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Wut(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Xut=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},qut=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,d=u===void 0?0:u,f=e.height,h=f===void 0?0:f,m=e.className,g=Gut(e,But),v=zut({x:r,y:s,top:o,left:c,width:d,height:h},g);return!_t(r)||!_t(s)||!_t(d)||!_t(h)||!_t(o)||!_t(c)?null:ie.createElement("path",CF({},nn(v,!0),{className:Mn("recharts-cross",m),d:Xut(r,s,d,h,o,c)}))},Kut=QR,Yut=Afe,Zut=Gc;function Jut(t,e){return t&&t.length?Kut(t,Zut(e),Yut):void 0}var Qut=Jut;const edt=lr(Qut);var tdt=QR,ndt=Gc,rdt=Mfe;function idt(t,e){return t&&t.length?tdt(t,ndt(e),rdt):void 0}var sdt=idt;const adt=lr(sdt);var odt=["cx","cy","angle","ticks","axisLine"],ldt=["ticks","tick","angle","tickFormatter","stroke"];function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function qb(){return qb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qb.apply(this,arguments)}function DY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Oh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?DY(Object(n),!0).forEach(function(r){sO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):DY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function LY(t,e){if(t==null)return{};var n=cdt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function cdt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function udt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ghe(r.key),r)}}function ddt(t,e,n){return e&&jY(t.prototype,e),n&&jY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function fdt(t,e,n){return e=Q2(e),hdt(t,mhe()?Reflect.construct(e,n||[],Q2(t).constructor):e.apply(t,n))}function hdt(t,e){if(e&&(P0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pdt(t)}function pdt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function mhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mhe=function(){return!!t})()}function Q2(t){return Q2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q2(t)}function mdt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PF(t,e)}function PF(t,e){return PF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PF(t,e)}function sO(t,e,n){return e=ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ghe(t){var e=gdt(t,"string");return P0(e)=="symbol"?e:e+""}function gdt(t,e){if(P0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(P0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aO=function(t){function e(){return udt(this,e),fdt(this,e,arguments)}return mdt(e,t),ddt(e,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,l=s.cy;return Nr(o,l,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=edt(o,function(u){return u.coordinate||0}),c=adt(o,function(u){return u.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:c.coordinate||0,outerRadius:l.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,l=r.axisLine,c=LY(r,odt),u=o.reduce(function(m,g){return[Math.min(m[0],g.coordinate),Math.max(m[1],g.coordinate)]},[1/0,-1/0]),d=Nr(i,s,u[0],a),f=Nr(i,s,u[1],a),h=Oh(Oh(Oh({},nn(c,!1)),{},{fill:"none"},nn(l,!1)),{},{x1:d.x,y1:d.y,x2:f.x,y2:f.y});return ie.createElement("line",qb({className:"recharts-polar-radius-axis-line"},h))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,l=i.tickFormatter,c=i.stroke,u=LY(i,ldt),d=this.getTickTextAnchor(),f=nn(u,!1),h=nn(a,!1),m=s.map(function(g,v){var y=r.getTickValueCoord(g),w=Oh(Oh(Oh(Oh({textAnchor:d,transform:"rotate(".concat(90-o,", ").concat(y.x,", ").concat(y.y,")")},f),{},{stroke:"none",fill:c},h),{},{index:v},y),{},{payload:g});return ie.createElement(sr,qb({className:Mn("recharts-polar-radius-axis-tick",the(a)),key:"tick-".concat(g.coordinate)},im(r.props,g,v)),e.renderTickItem(a,w,l?l(g.value,v):g.value))});return ie.createElement(sr,{className:"recharts-polar-radius-axis-ticks"},m)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:ie.createElement(sr,{className:Mn("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),hs.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return ie.isValidElement(r)?a=ie.cloneElement(r,i):pn(r)?a=r(i):a=ie.createElement(sm,qb({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(T.PureComponent);sO(aO,"displayName","PolarRadiusAxis");sO(aO,"axisType","radiusAxis");sO(aO,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jh.apply(this,arguments)}function FY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Nh(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FY(Object(n),!0).forEach(function(r){oO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vdt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,yhe(r.key),r)}}function ydt(t,e,n){return e&&UY(t.prototype,e),n&&UY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xdt(t,e,n){return e=eC(e),bdt(t,vhe()?Reflect.construct(e,n||[],eC(t).constructor):e.apply(t,n))}function bdt(t,e){if(e&&(R0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wdt(t)}function wdt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vhe=function(){return!!t})()}function eC(t){return eC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},eC(t)}function _dt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RF(t,e)}function RF(t,e){return RF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},RF(t,e)}function oO(t,e,n){return e=yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function yhe(t){var e=Sdt(t,"string");return R0(e)=="symbol"?e:e+""}function Sdt(t,e){if(R0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(R0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Edt=Math.PI/180,BY=1e-5,lO=function(t){function e(){return vdt(this,e),xdt(this,e,arguments)}return _dt(e,t),ydt(e,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,l=i.orientation,c=i.tickSize,u=c||8,d=Nr(s,a,o,r.coordinate),f=Nr(s,a,o+(l==="inner"?-1:1)*u,r.coordinate);return{x1:d.x,y1:d.y,x2:f.x,y2:f.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*Edt),a;return s>BY?a=i==="outer"?"start":"end":s<-BY?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,l=r.axisLineType,c=Nh(Nh({},nn(this.props,!1)),{},{fill:"none"},nn(o,!1));if(l==="circle")return ie.createElement(iO,Jh({className:"recharts-polar-angle-axis-line"},c,{cx:i,cy:s,r:a}));var u=this.props.ticks,d=u.map(function(f){return Nr(i,s,a,f.coordinate)});return ie.createElement(Uut,Jh({className:"recharts-polar-angle-axis-line"},c,{points:d}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,l=i.tickFormatter,c=i.stroke,u=nn(this.props,!1),d=nn(a,!1),f=Nh(Nh({},u),{},{fill:"none"},nn(o,!1)),h=s.map(function(m,g){var v=r.getTickLineCoord(m),y=r.getTickTextAnchor(m),w=Nh(Nh(Nh({textAnchor:y},u),{},{stroke:"none",fill:c},d),{},{index:g,payload:m,x:v.x2,y:v.y2});return ie.createElement(sr,Jh({className:Mn("recharts-polar-angle-axis-tick",the(a)),key:"tick-".concat(m.coordinate)},im(r.props,m,g)),o&&ie.createElement("line",Jh({className:"recharts-polar-angle-axis-tick-line"},f,v)),a&&e.renderTickItem(a,w,l?l(m.value,g):m.value))});return ie.createElement(sr,{className:"recharts-polar-angle-axis-ticks"},h)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:ie.createElement(sr,{className:Mn("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return ie.isValidElement(r)?a=ie.cloneElement(r,i):pn(r)?a=r(i):a=ie.createElement(sm,Jh({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(T.PureComponent);oO(lO,"displayName","PolarAngleAxis");oO(lO,"axisType","angleAxis");oO(lO,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var Tdt=_de,Adt=Tdt(Object.getPrototypeOf,Object),Mdt=Adt,Cdt=Yu,Pdt=Mdt,Rdt=Zu,Odt="[object Object]",Ndt=Function.prototype,Idt=Object.prototype,xhe=Ndt.toString,kdt=Idt.hasOwnProperty,Ddt=xhe.call(Object);function Ldt(t){if(!Rdt(t)||Cdt(t)!=Odt)return!1;var e=Pdt(t);if(e===null)return!0;var n=kdt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&xhe.call(n)==Ddt}var jdt=Ldt;const Fdt=lr(jdt);var Udt=Yu,Bdt=Zu,zdt="[object Boolean]";function Vdt(t){return t===!0||t===!1||Bdt(t)&&Udt(t)==zdt}var $dt=Vdt;const Hdt=lr($dt);function b1(t){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b1(t)}function tC(){return tC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},tC.apply(this,arguments)}function Gdt(t,e){return Kdt(t)||qdt(t,e)||Xdt(t,e)||Wdt()}function Wdt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Xdt(t,e){if(t){if(typeof t=="string")return zY(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zY(t,e)}}function zY(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function qdt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Kdt(t){if(Array.isArray(t))return t}function VY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $Y(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VY(Object(n),!0).forEach(function(r){Ydt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ydt(t,e,n){return e=Zdt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Zdt(t){var e=Jdt(t,"string");return b1(e)=="symbol"?e:e+""}function Jdt(t,e){if(b1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(b1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HY=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},Qdt={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},eft=function(e){var n=$Y($Y({},Qdt),e),r=T.useRef(),i=T.useState(-1),s=Gdt(i,2),a=s[0],o=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,d=n.lowerWidth,f=n.height,h=n.className,m=n.animationEasing,g=n.animationDuration,v=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||d!==+d||f!==+f||u===0&&d===0||f===0)return null;var w=Mn("recharts-trapezoid",h);return y?ie.createElement(zc,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:f,x:l,y:c},to:{upperWidth:u,lowerWidth:d,height:f,x:l,y:c},duration:g,animationEasing:m,isActive:y},function(_){var S=_.upperWidth,E=_.lowerWidth,A=_.height,M=_.x,R=_.y;return ie.createElement(zc,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:g,easing:m},ie.createElement("path",tC({},nn(n,!0),{className:w,d:HY(M,R,S,E,A),ref:r})))}):ie.createElement("g",null,ie.createElement("path",tC({},nn(n,!0),{className:w,d:HY(l,c,u,d,f)})))},tft=["option","shapeType","propTransformer","activeClassName","isActive"];function w1(t){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w1(t)}function nft(t,e){if(t==null)return{};var n=rft(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function rft(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function nC(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?GY(Object(n),!0).forEach(function(r){ift(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):GY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ift(t,e,n){return e=sft(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sft(t){var e=aft(t,"string");return w1(e)=="symbol"?e:e+""}function aft(t,e){if(w1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(w1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oft(t,e){return nC(nC({},e),t)}function lft(t,e){return t==="symbols"}function WY(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ie.createElement(Bz,n);case"trapezoid":return ie.createElement(eft,n);case"sector":return ie.createElement(ihe,n);case"symbols":if(lft(e))return ie.createElement(sz,n);break;default:return null}}function cft(t){return T.isValidElement(t)?t.props:t}function bhe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?oft:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=nft(t,tft),c;if(T.isValidElement(e))c=T.cloneElement(e,nC(nC({},l),cft(e)));else if(pn(e))c=e(l);else if(Fdt(e)&&!Hdt(e)){var u=i(e,l);c=ie.createElement(WY,{shapeType:n,elementProps:u})}else{var d=l;c=ie.createElement(WY,{shapeType:n,elementProps:d})}return o?ie.createElement(sr,{className:a},c):c}function cO(t,e){return e!=null&&"trapezoids"in t.props}function uO(t,e){return e!=null&&"sectors"in t.props}function _1(t,e){return e!=null&&"points"in t.props}function uft(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function dft(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function fft(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function hft(t,e){var n;return cO(t,e)?n=uft:uO(t,e)?n=dft:_1(t,e)&&(n=fft),n}function pft(t,e){var n;return cO(t,e)?n="trapezoids":uO(t,e)?n="sectors":_1(t,e)&&(n="points"),n}function mft(t,e){if(cO(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(uO(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return _1(t,e)?e.payload:{}}function gft(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=pft(n,e),s=mft(n,e),a=r.filter(function(l,c){var u=R_(s,l),d=n.props[i].filter(function(m){var g=hft(n,e);return g(m,e)}),f=n.props[i].indexOf(d[d.length-1]),h=c===f;return u&&h}),o=r.indexOf(a[a.length-1]);return o}var fA;function O0(t){"@babel/helpers - typeof";return O0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},O0(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ov.apply(this,arguments)}function XY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?XY(Object(n),!0).forEach(function(r){qo(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):XY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function vft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_he(r.key),r)}}function yft(t,e,n){return e&&qY(t.prototype,e),n&&qY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function xft(t,e,n){return e=rC(e),bft(t,whe()?Reflect.construct(e,n||[],rC(t).constructor):e.apply(t,n))}function bft(t,e){if(e&&(O0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return wft(t)}function wft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function whe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(whe=function(){return!!t})()}function rC(t){return rC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rC(t)}function _ft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OF(t,e)}function OF(t,e){return OF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},OF(t,e)}function qo(t,e,n){return e=_he(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _he(t){var e=Sft(t,"string");return O0(e)=="symbol"?e:e+""}function Sft(t,e){if(O0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(O0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Qu=function(t){function e(n){var r;return vft(this,e),r=xft(this,e,[n]),qo(r,"pieRef",null),qo(r,"sectorRefs",[]),qo(r,"id",Ey("recharts-pie-")),qo(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),pn(i)&&i()}),qo(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),pn(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return _ft(e,t),yft(e,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,l=s.dataKey,c=s.valueKey,u=nn(this.props,!1),d=nn(a,!1),f=nn(o,!1),h=a&&a.offsetRadius||20,m=r.map(function(g,v){var y=(g.startAngle+g.endAngle)/2,w=Nr(g.cx,g.cy,g.outerRadius+h,y),_=Cr(Cr(Cr(Cr({},u),g),{},{stroke:"none"},d),{},{index:v,textAnchor:e.getTextAnchor(w.x,g.cx)},w),S=Cr(Cr(Cr(Cr({},u),g),{},{fill:"none",stroke:g.fill},f),{},{index:v,points:[Nr(g.cx,g.cy,g.outerRadius,y),w]}),E=l;return Sn(l)&&Sn(c)?E="value":Sn(l)&&(E=c),ie.createElement(sr,{key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},o&&e.renderLabelLineItem(o,S,"line"),e.renderLabelItem(a,_,qi(g,E)))});return ie.createElement(sr,{className:"recharts-pie-labels"},m)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,l=s.inactiveShape;return r.map(function(c,u){if((c==null?void 0:c.startAngle)===0&&(c==null?void 0:c.endAngle)===0&&r.length!==1)return null;var d=i.isActiveIndex(u),f=l&&i.hasActiveIndex()?l:null,h=d?a:f,m=Cr(Cr({},c),{},{stroke:o?c.fill:c.stroke,tabIndex:-1});return ie.createElement(sr,ov({ref:function(v){v&&!i.sectorRefs.includes(v)&&i.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},im(i.props,c,u),{key:"sector-".concat(c==null?void 0:c.startAngle,"-").concat(c==null?void 0:c.endAngle,"-").concat(c.midAngle,"-").concat(u)}),ie.createElement(bhe,ov({option:h,isActive:d,shapeType:"sector"},m)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,l=i.animationDuration,c=i.animationEasing,u=i.animationId,d=this.state,f=d.prevSectors,h=d.prevIsAnimationActive;return ie.createElement(zc,{begin:o,duration:l,isActive:a,easing:c,from:{t:0},to:{t:1},key:"pie-".concat(u,"-").concat(h),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(m){var g=m.t,v=[],y=s&&s[0],w=y.startAngle;return s.forEach(function(_,S){var E=f&&f[S],A=S>0?wo(_,"paddingAngle",0):0;if(E){var M=fo(E.endAngle-E.startAngle,_.endAngle-_.startAngle),R=Cr(Cr({},_),{},{startAngle:w+A,endAngle:w+M(g)+A});v.push(R),w=R.endAngle}else{var P=_.endAngle,O=_.startAngle,k=fo(0,P-O),I=k(g),F=Cr(Cr({},_),{},{startAngle:w+A,endAngle:w+I+A});v.push(F),w=F.endAngle}}),ie.createElement(sr,null,r.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!R_(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,l=i.label,c=i.cx,u=i.cy,d=i.innerRadius,f=i.outerRadius,h=i.isAnimationActive,m=this.state.isAnimationFinished;if(s||!a||!a.length||!_t(c)||!_t(u)||!_t(d)||!_t(f))return null;var g=Mn("recharts-pie",o);return ie.createElement(sr,{tabIndex:this.props.rootTabIndex,className:g,ref:function(y){r.pieRef=y}},this.renderSectors(),l&&this.renderLabels(a),hs.renderCallByParent(this.props,null,!1),(!h||m)&&Nu.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(ie.isValidElement(r))return ie.cloneElement(r,i);if(pn(r))return r(i);var a=Mn("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return ie.createElement(q2,ov({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(ie.isValidElement(r))return ie.cloneElement(r,i);var a=s;if(pn(r)&&(a=r(i),ie.isValidElement(a)))return a;var o=Mn("recharts-pie-label-text",typeof r!="boolean"&&!pn(r)?r.className:"");return ie.createElement(sm,ov({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(T.PureComponent);fA=Qu;qo(Qu,"displayName","Pie");qo(Qu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Nc.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});qo(Qu,"parseDeltaAngle",function(t,e){var n=ma(e-t),r=Math.min(Math.abs(e-t),360);return n*r});qo(Qu,"getRealPieData",function(t){var e=t.data,n=t.children,r=nn(t,!1),i=_o(n,WR);return e&&e.length?e.map(function(s,a){return Cr(Cr(Cr({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Cr(Cr({},r),s.props)}):[]});qo(Qu,"parseCoordinateOfPie",function(t,e){var n=e.top,r=e.left,i=e.width,s=e.height,a=ehe(i,s),o=r+ga(t.cx,i,i/2),l=n+ga(t.cy,s,s/2),c=ga(t.innerRadius,a,0),u=ga(t.outerRadius,a,a*.8),d=t.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:l,innerRadius:c,outerRadius:u,maxRadius:d}});qo(Qu,"getComposedData",function(t){var e=t.item,n=t.offset,r=e.type.defaultProps!==void 0?Cr(Cr({},e.type.defaultProps),e.props):e.props,i=fA.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,l=r.paddingAngle,c=r.dataKey,u=r.nameKey,d=r.valueKey,f=r.tooltipType,h=Math.abs(r.minAngle),m=fA.parseCoordinateOfPie(r,n),g=fA.parseDeltaAngle(a,o),v=Math.abs(g),y=c;Sn(c)&&Sn(d)?(Gl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y="value"):Sn(c)&&(Gl(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),y=d);var w=i.filter(function(R){return qi(R,y,0)!==0}).length,_=(v>=360?w:w-1)*l,S=v-w*h-_,E=i.reduce(function(R,P){var O=qi(P,y,0);return R+(_t(O)?O:0)},0),A;if(E>0){var M;A=i.map(function(R,P){var O=qi(R,y,0),k=qi(R,u,P),I=(_t(O)?O:0)/E,F;P?F=M.endAngle+ma(g)*l*(O!==0?1:0):F=a;var L=F+ma(g)*((O!==0?h:0)+I*S),V=(F+L)/2,z=(m.innerRadius+m.outerRadius)/2,K=[{name:k,value:O,payload:R,dataKey:y,type:f}],j=Nr(m.cx,m.cy,z,V);return M=Cr(Cr(Cr({percent:I,cornerRadius:s,name:k,tooltipPayload:K,midAngle:V,middleRadius:z,tooltipPosition:j},R),m),{},{value:qi(R,y),startAngle:F,endAngle:L,payload:R,paddingAngle:ma(g)*l}),M})}return Cr(Cr({},m),{},{sectors:A,data:i})});var Eft=Math.ceil,Tft=Math.max;function Aft(t,e,n,r){for(var i=-1,s=Tft(Eft((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var Mft=Aft,Cft=zde,KY=1/0,Pft=17976931348623157e292;function Rft(t){if(!t)return t===0?t:0;if(t=Cft(t),t===KY||t===-KY){var e=t<0?-1:1;return e*Pft}return t===t?t:0}var She=Rft,Oft=Mft,Nft=GR,Ck=She;function Ift(t){return function(e,n,r){return r&&typeof r!="number"&&Nft(e,n,r)&&(n=r=void 0),e=Ck(e),n===void 0?(n=e,e=0):n=Ck(n),r=r===void 0?e<n?1:-1:Ck(r),Oft(e,n,r,t)}}var kft=Ift,Dft=kft,Lft=Dft(),jft=Lft;const iC=lr(jft);function S1(t){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S1(t)}function YY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ZY(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YY(Object(n),!0).forEach(function(r){Ehe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ehe(t,e,n){return e=Fft(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Fft(t){var e=Uft(t,"string");return S1(e)=="symbol"?e:e+""}function Uft(t,e){if(S1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Bft=["Webkit","Moz","O","ms"],zft=function(e,n){var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=Bft.reduce(function(s,a){return ZY(ZY({},s),{},Ehe({},a+r,n))},{});return i[e]=n,i};function N0(t){"@babel/helpers - typeof";return N0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},N0(t)}function sC(){return sC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},sC.apply(this,arguments)}function JY(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Pk(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?JY(Object(n),!0).forEach(function(r){ao(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):JY(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Vft(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function QY(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ahe(r.key),r)}}function $ft(t,e,n){return e&&QY(t.prototype,e),n&&QY(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hft(t,e,n){return e=aC(e),Gft(t,The()?Reflect.construct(e,n||[],aC(t).constructor):e.apply(t,n))}function Gft(t,e){if(e&&(N0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wft(t)}function Wft(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function The(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(The=function(){return!!t})()}function aC(t){return aC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},aC(t)}function Xft(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NF(t,e)}function NF(t,e){return NF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},NF(t,e)}function ao(t,e,n){return e=Ahe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ahe(t){var e=qft(t,"string");return N0(e)=="symbol"?e:e+""}function qft(t,e){if(N0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(N0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Kft=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=Hb().domain(iC(0,l)).range([s,s+a-o]),u=c.domain().map(function(d){return c(d)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},eZ=function(e){return e.changedTouches&&!!e.changedTouches.length},I0=function(t){function e(n){var r;return Vft(this,e),r=Hft(this,e,[n]),ao(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ao(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ao(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),ao(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ao(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ao(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ao(r,"handleSlideDragStart",function(i){var s=eZ(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return Xft(e,t),$ft(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,d=Math.min(i,s),f=Math.max(i,s),h=e.getIndexInRange(a,d),m=e.getIndexInRange(a,f);return{startIndex:h-h%l,endIndex:m===u?u:m-m%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=qi(s[r],o,r);return pn(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,d=l.travellerWidth,f=l.startIndex,h=l.endIndex,m=l.onChange,g=r.pageX-s;g>0?g=Math.min(g,c+u-d-o,c+u-d-a):g<0&&(g=Math.max(g,c-a,c-o));var v=this.getIndex({startX:a+g,endX:o+g});(v.startIndex!==f||v.endIndex!==h)&&m&&m(v),this.setState({startX:a+g,endX:o+g,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=eZ(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,d=u.x,f=u.width,h=u.travellerWidth,m=u.onChange,g=u.gap,v=u.data,y={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,d+f-h-c):w<0&&(w=Math.max(w,d-c)),y[a]=c+w;var _=this.getIndex(y),S=_.startIndex,E=_.endIndex,A=function(){var R=v.length-1;return a==="startX"&&(o>l?S%g===0:E%g===0)||o<l&&E===R||a==="endX"&&(o>l?E%g===0:S%g===0)||o>l&&E===R};this.setState(ao(ao({},a,c+w),"brushMoveStartX",r.pageX),function(){m&&A()&&m(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],d=o.indexOf(u);if(d!==-1){var f=d+r;if(!(f===-1||f>=o.length)){var h=o[f];i==="startX"&&h>=c||i==="endX"&&h<=l||this.setState(ao({},i,h),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return ie.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,d=T.Children.only(c);return d?ie.cloneElement(d,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,d=l.height,f=l.traveller,h=l.ariaLabel,m=l.data,g=l.startIndex,v=l.endIndex,y=Math.max(r,this.props.x),w=Pk(Pk({},nn(this.props,!1)),{},{x:y,y:c,width:u,height:d}),_=h||"Min value: ".concat((s=m[g])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=m[v])===null||a===void 0?void 0:a.name);return ie.createElement(sr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(E){["ArrowLeft","ArrowRight"].includes(E.key)&&(E.preventDefault(),E.stopPropagation(),o.handleTravellerMoveKeyboard(E.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(f,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,d=Math.max(Math.abs(i-r)-c,0);return ie.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:d,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,d=u.startX,f=u.endX,h=5,m={pointerEvents:"none",fill:c};return ie.createElement(sr,{className:"recharts-brush-texts"},ie.createElement(sm,sC({textAnchor:"end",verticalAnchor:"middle",x:Math.min(d,f)-h,y:a+o/2},m),this.getTextOfTick(i)),ie.createElement(sm,sC({textAnchor:"start",verticalAnchor:"middle",x:Math.max(d,f)+l+h,y:a+o/2},m),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,u=r.height,d=r.alwaysShowText,f=this.state,h=f.startX,m=f.endX,g=f.isTextActive,v=f.isSlideMoving,y=f.isTravellerMoving,w=f.isTravellerFocused;if(!i||!i.length||!_t(o)||!_t(l)||!_t(c)||!_t(u)||c<=0||u<=0)return null;var _=Mn("recharts-brush",s),S=ie.Children.count(a)===1,E=zft("userSelect","none");return ie.createElement(sr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:E},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(h,m),this.renderTravellerLayer(h,"startX"),this.renderTravellerLayer(m,"endX"),(g||v||y||w||d)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return ie.createElement(ie.Fragment,null,ie.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),ie.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),ie.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ie.isValidElement(r)?s=ie.cloneElement(r,i):pn(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,d=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return Pk({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?Kft({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:d}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var f=i.scale.domain().map(function(h){return i.scale(h)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:f}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(T.PureComponent);ao(I0,"displayName","Brush");ao(I0,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var Yft=fz;function Zft(t,e){var n;return Yft(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var Jft=Zft,Qft=pde,eht=Gc,tht=Jft,nht=Xa,rht=GR;function iht(t,e,n){var r=nht(t)?Qft:tht;return n&&rht(t,e,n)&&(e=void 0),r(t,eht(e))}var sht=iht;const aht=lr(sht);var kc=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},tZ=Lde;function oht(t,e,n){e=="__proto__"&&tZ?tZ(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var lht=oht,cht=lht,uht=kde,dht=Gc;function fht(t,e){var n={};return e=dht(e),uht(t,function(r,i,s){cht(n,i,e(r,i,s))}),n}var hht=fht;const pht=lr(hht);function mht(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var ght=mht,vht=fz;function yht(t,e){var n=!0;return vht(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var xht=yht,bht=ght,wht=xht,_ht=Gc,Sht=Xa,Eht=GR;function Tht(t,e,n){var r=Sht(t)?bht:wht;return n&&Eht(t,e,n)&&(e=void 0),r(t,_ht(e))}var Aht=Tht;const Mhe=lr(Aht);var Mht=["x","y"];function E1(t){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E1(t)}function IF(){return IF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},IF.apply(this,arguments)}function nZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nZ(Object(n),!0).forEach(function(r){Cht(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Cht(t,e,n){return e=Pht(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Pht(t){var e=Rht(t,"string");return E1(e)=="symbol"?e:e+""}function Rht(t,e){if(E1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Oht(t,e){if(t==null)return{};var n=Nht(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Nht(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Iht(t,e){var n=t.x,r=t.y,i=Oht(t,Mht),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),d="".concat(e.width||i.width),f=parseInt(d,10);return Zx(Zx(Zx(Zx(Zx({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:f,name:e.name,radius:e.radius})}function rZ(t){return ie.createElement(bhe,IF({shapeType:"rectangle",propTransformer:Iht,activeClassName:"recharts-active-bar"},t))}var kht=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=_t(r)||r7e(r);return s?e(r,i):(s||om(),n)}},Dht=["value","background"],Che;function k0(t){"@babel/helpers - typeof";return k0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k0(t)}function Lht(t,e){if(t==null)return{};var n=jht(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jht(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function oC(){return oC=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oC.apply(this,arguments)}function iZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ki(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iZ(Object(n),!0).forEach(function(r){Jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fht(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Rhe(r.key),r)}}function Uht(t,e,n){return e&&sZ(t.prototype,e),n&&sZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bht(t,e,n){return e=lC(e),zht(t,Phe()?Reflect.construct(e,n||[],lC(t).constructor):e.apply(t,n))}function zht(t,e){if(e&&(k0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vht(t)}function Vht(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Phe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Phe=function(){return!!t})()}function lC(t){return lC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},lC(t)}function $ht(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kF(t,e)}function kF(t,e){return kF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},kF(t,e)}function Jd(t,e,n){return e=Rhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Rhe(t){var e=Hht(t,"string");return k0(e)=="symbol"?e:e+""}function Hht(t,e){if(k0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(k0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Tm=function(t){function e(){var n;Fht(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Bht(this,e,[].concat(i)),Jd(n,"state",{isAnimationFinished:!1}),Jd(n,"id",Ey("recharts-bar-")),Jd(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Jd(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return $ht(e,t),Uht(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=nn(this.props,!1);return r&&r.map(function(d,f){var h=f===l,m=h?c:a,g=ki(ki(ki({},u),d),{},{isActive:h,option:m,index:f,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ie.createElement(sr,oC({className:"recharts-bar-rectangle"},im(i.props,d,f),{key:"rectangle-".concat(d==null?void 0:d.x,"-").concat(d==null?void 0:d.y,"-").concat(d==null?void 0:d.value,"-").concat(f)}),ie.createElement(rZ,g))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,d=i.animationId,f=this.state.prevData;return ie.createElement(zc,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(d),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(h){var m=h.t,g=s.map(function(v,y){var w=f&&f[y];if(w){var _=fo(w.x,v.x),S=fo(w.y,v.y),E=fo(w.width,v.width),A=fo(w.height,v.height);return ki(ki({},v),{},{x:_(m),y:S(m),width:E(m),height:A(m)})}if(a==="horizontal"){var M=fo(0,v.height),R=M(m);return ki(ki({},v),{},{y:v.y+v.height-R,height:R})}var P=fo(0,v.width),O=P(m);return ki(ki({},v),{},{width:O})});return ie.createElement(sr,null,r.renderRectanglesStatically(g))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!R_(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=nn(this.props.background,!1);return s.map(function(c,u){c.value;var d=c.background,f=Lht(c,Dht);if(!d)return null;var h=ki(ki(ki(ki(ki({},f),{},{fill:"#eee"},d),l),im(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return ie.createElement(rZ,oC({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},h))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=_o(u,O_);if(!d)return null;var f=c==="vertical"?a[0].height/2:a[0].width/2,h=function(v,y){var w=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:w,errorVal:qi(v,y)}},m={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ie.createElement(sr,m,d.map(function(g){return ie.cloneElement(g,{key:"error-bar-".concat(i,"-").concat(g.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:f,dataPointFormatter:h})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,d=r.width,f=r.height,h=r.isAnimationActive,m=r.background,g=r.id;if(i||!s||!s.length)return null;var v=this.state.isAnimationFinished,y=Mn("recharts-bar",a),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,S=w||_,E=Sn(g)?this.id:g;return ie.createElement(sr,{className:y},w||_?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(E)},ie.createElement("rect",{x:w?c:c-d/2,y:_?u:u-f/2,width:w?d:d*2,height:_?f:f*2}))):null,ie.createElement(sr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(E,")"):null},m?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,E),(!h||v)&&Nu.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(T.PureComponent);Che=Tm;Jd(Tm,"displayName","Bar");Jd(Tm,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Nc.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Jd(Tm,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,d=t.displayedData,f=t.offset,h=Eot(r,n);if(!h)return null;var m=e.layout,g=n.type.defaultProps,v=g!==void 0?ki(ki({},g),n.props):n.props,y=v.dataKey,w=v.children,_=v.minPointSize,S=m==="horizontal"?a:s,E=c?S.scale.domain():null,A=Oot({numericAxis:S}),M=_o(w,WR),R=d.map(function(P,O){var k,I,F,L,V,z;c?k=Tot(c[u+O],E):(k=qi(P,y),Array.isArray(k)||(k=[A,k]));var K=kht(_,Che.defaultProps.minPointSize)(k[1],O);if(m==="horizontal"){var j,U=[a.scale(k[0]),a.scale(k[1])],$=U[0],G=U[1];I=qK({axis:s,ticks:o,bandSize:i,offset:h.offset,entry:P,index:O}),F=(j=G??$)!==null&&j!==void 0?j:void 0,L=h.size;var X=$-G;if(V=Number.isNaN(X)?0:X,z={x:I,y:a.y,width:L,height:a.height},Math.abs(K)>0&&Math.abs(V)<Math.abs(K)){var Q=ma(V||K)*(Math.abs(K)-Math.abs(V));F-=Q,V+=Q}}else{var oe=[s.scale(k[0]),s.scale(k[1])],de=oe[0],ae=oe[1];if(I=de,F=qK({axis:a,ticks:l,bandSize:i,offset:h.offset,entry:P,index:O}),L=ae-de,V=h.size,z={x:s.x,y:F,width:s.width,height:V},Math.abs(K)>0&&Math.abs(L)<Math.abs(K)){var ne=ma(L||K)*(Math.abs(K)-Math.abs(L));L+=ne}}return ki(ki(ki({},P),{},{x:I,y:F,width:L,height:V,value:c?k:k[1],payload:P,background:z},M&&M[O]&&M[O].props),{},{tooltipPayload:[Jfe(n,P)],tooltipPosition:{x:I+L/2,y:F+V/2}})});return ki({data:R,layout:m},f)});function T1(t){"@babel/helpers - typeof";return T1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T1(t)}function Ght(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ohe(r.key),r)}}function Wht(t,e,n){return e&&aZ(t.prototype,e),n&&aZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function oZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function kl(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?oZ(Object(n),!0).forEach(function(r){dO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):oZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function dO(t,e,n){return e=Ohe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ohe(t){var e=Xht(t,"string");return T1(e)=="symbol"?e:e+""}function Xht(t,e){if(T1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(T1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Nhe=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),d={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},f=!!lo(c,Tm);return u.reduce(function(h,m){var g=n[m],v=g.orientation,y=g.domain,w=g.padding,_=w===void 0?{}:w,S=g.mirror,E=g.reversed,A="".concat(v).concat(S?"Mirror":""),M,R,P,O,k;if(g.type==="number"&&(g.padding==="gap"||g.padding==="no-gap")){var I=y[1]-y[0],F=1/0,L=g.categoricalDomain.sort(a7e);if(L.forEach(function(oe,de){de>0&&(F=Math.min((oe||0)-(L[de-1]||0),F))}),Number.isFinite(F)){var V=F/I,z=g.layout==="vertical"?r.height:r.width;if(g.padding==="gap"&&(M=V*z/2),g.padding==="no-gap"){var K=ga(e.barCategoryGap,V*z),j=V*z/2;M=j-K-(j-K)/z*K}}}i==="xAxis"?R=[r.left+(_.left||0)+(M||0),r.left+r.width-(_.right||0)-(M||0)]:i==="yAxis"?R=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(M||0),r.top+r.height-(_.bottom||0)-(M||0)]:R=g.range,E&&(R=[R[1],R[0]]);var U=qfe(g,s,f),$=U.scale,G=U.realScaleType;$.domain(y).range(R),Kfe($);var X=Yfe($,kl(kl({},g),{},{realScaleType:G}));i==="xAxis"?(k=v==="top"&&!S||v==="bottom"&&S,P=r.left,O=d[A]-k*g.height):i==="yAxis"&&(k=v==="left"&&!S||v==="right"&&S,P=d[A]-k*g.width,O=r.top);var Q=kl(kl(kl({},g),X),{},{realScaleType:G,x:P,y:O,scale:$,width:i==="xAxis"?r.width:g.width,height:i==="yAxis"?r.height:g.height});return Q.bandSize=G2(Q,X),!g.hide&&i==="xAxis"?d[A]+=(k?-1:1)*Q.height:g.hide||(d[A]+=(k?-1:1)*Q.width),kl(kl({},h),{},dO({},m,Q))},{})},Ihe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},qht=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return Ihe({x:n,y:r},{x:i,y:s})},khe=function(){function t(e){Ght(this,t),this.scale=e}return Wht(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();dO(khe,"EPS",1e-4);var zz=function(e){var n=Object.keys(e).reduce(function(r,i){return kl(kl({},r),{},dO({},i,khe.create(e[i])))},{});return kl(kl({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return pht(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return Mhe(i,function(s,a){return n[a].isInRange(s)})}})};function Kht(t){return(t%180+180)%180}var Yht=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=Kht(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},Zht=Gc,Jht=T_,Qht=$R;function ept(t){return function(e,n,r){var i=Object(e);if(!Jht(e)){var s=Zht(n);e=Qht(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var tpt=ept,npt=She;function rpt(t){var e=npt(t),n=e%1;return e===e?n?e-n:e:0}var ipt=rpt,spt=Cde,apt=Gc,opt=ipt,lpt=Math.max;function cpt(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:opt(n);return i<0&&(i=lpt(r+i,0)),spt(t,apt(e),i)}var upt=cpt,dpt=tpt,fpt=upt,hpt=dpt(fpt),ppt=hpt;const mpt=lr(ppt);var gpt=o9e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),Vz=T.createContext(void 0),$z=T.createContext(void 0),Dhe=T.createContext(void 0),Lhe=T.createContext({}),jhe=T.createContext(void 0),Fhe=T.createContext(0),Uhe=T.createContext(0),lZ=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=gpt(s);return ie.createElement(Vz.Provider,{value:r},ie.createElement($z.Provider,{value:i},ie.createElement(Lhe.Provider,{value:s},ie.createElement(Dhe.Provider,{value:u},ie.createElement(jhe.Provider,{value:a},ie.createElement(Fhe.Provider,{value:c},ie.createElement(Uhe.Provider,{value:l},o)))))))},vpt=function(){return T.useContext(jhe)},Bhe=function(e){var n=T.useContext(Vz);n==null&&om();var r=n[e];return r==null&&om(),r},ypt=function(){var e=T.useContext(Vz);return Ud(e)},xpt=function(){var e=T.useContext($z),n=mpt(e,function(r){return Mhe(r.domain,Number.isFinite)});return n||Ud(e)},zhe=function(e){var n=T.useContext($z);n==null&&om();var r=n[e];return r==null&&om(),r},bpt=function(){var e=T.useContext(Dhe);return e},wpt=function(){return T.useContext(Lhe)},Hz=function(){return T.useContext(Uhe)},Gz=function(){return T.useContext(Fhe)};function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function _pt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Spt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,$he(r.key),r)}}function Ept(t,e,n){return e&&Spt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tpt(t,e,n){return e=cC(e),Apt(t,Vhe()?Reflect.construct(e,n||[],cC(t).constructor):e.apply(t,n))}function Apt(t,e){if(e&&(D0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Mpt(t)}function Mpt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Vhe=function(){return!!t})()}function cC(t){return cC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},cC(t)}function Cpt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DF(t,e)}function DF(t,e){return DF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},DF(t,e)}function cZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function uZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?cZ(Object(n),!0).forEach(function(r){Wz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):cZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Wz(t,e,n){return e=$he(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function $he(t){var e=Ppt(t,"string");return D0(e)=="symbol"?e:e+""}function Ppt(t,e){if(D0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(D0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rpt(t,e){return kpt(t)||Ipt(t,e)||Npt(t,e)||Opt()}function Opt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Npt(t,e){if(t){if(typeof t=="string")return dZ(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return dZ(t,e)}}function dZ(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Ipt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function kpt(t){if(Array.isArray(t))return t}function LF(){return LF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},LF.apply(this,arguments)}var Dpt=function(e,n){var r;return ie.isValidElement(e)?r=ie.cloneElement(e,n):pn(e)?r=e(n):r=ie.createElement("line",LF({},n,{className:"recharts-reference-line-line"})),r},Lpt=function(e,n,r,i,s,a,o,l,c){var u=s.x,d=s.y,f=s.width,h=s.height;if(r){var m=c.y,g=e.y.apply(m,{position:a});if(kc(c,"discard")&&!e.y.isInRange(g))return null;var v=[{x:u+f,y:g},{x:u,y:g}];return l==="left"?v.reverse():v}if(n){var y=c.x,w=e.x.apply(y,{position:a});if(kc(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:d+h},{x:w,y:d}];return o==="top"?_.reverse():_}if(i){var S=c.segment,E=S.map(function(A){return e.apply(A,{position:a})});return kc(c,"discard")&&aht(E,function(A){return!e.isInRange(A)})?null:E}return null};function jpt(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=vpt(),u=Bhe(i),d=zhe(s),f=bpt();if(!c||!f)return null;Gl(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var h=zz({x:u.scale,y:d.scale}),m=Zi(e),g=Zi(n),v=r&&r.length===2,y=Lpt(h,m,g,v,f,t.position,u.orientation,d.orientation,t);if(!y)return null;var w=Rpt(y,2),_=w[0],S=_.x,E=_.y,A=w[1],M=A.x,R=A.y,P=kc(t,"hidden")?"url(#".concat(c,")"):void 0,O=uZ(uZ({clipPath:P},nn(t,!0)),{},{x1:S,y1:E,x2:M,y2:R});return ie.createElement(sr,{className:Mn("recharts-reference-line",o)},Dpt(a,O),hs.renderCallByParent(t,qht({x1:S,y1:E,x2:M,y2:R})))}var Xz=function(t){function e(){return _pt(this,e),Tpt(this,e,arguments)}return Cpt(e,t),Ept(e,[{key:"render",value:function(){return ie.createElement(jpt,this.props)}}])}(ie.Component);Wz(Xz,"displayName","ReferenceLine");Wz(Xz,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function jF(){return jF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},jF.apply(this,arguments)}function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function fZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function hZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fZ(Object(n),!0).forEach(function(r){fO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Fpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Upt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Ghe(r.key),r)}}function Bpt(t,e,n){return e&&Upt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function zpt(t,e,n){return e=uC(e),Vpt(t,Hhe()?Reflect.construct(e,n||[],uC(t).constructor):e.apply(t,n))}function Vpt(t,e){if(e&&(L0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $pt(t)}function $pt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Hhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hhe=function(){return!!t})()}function uC(t){return uC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uC(t)}function Hpt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FF(t,e)}function FF(t,e){return FF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},FF(t,e)}function fO(t,e,n){return e=Ghe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ghe(t){var e=Gpt(t,"string");return L0(e)=="symbol"?e:e+""}function Gpt(t,e){if(L0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(L0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wpt=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=zz({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return kc(e,"discard")&&!a.isInRange(o)?null:o},hO=function(t){function e(){return Fpt(this,e),zpt(this,e,arguments)}return Hpt(e,t),Bpt(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Zi(i),u=Zi(s);if(Gl(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var d=Wpt(this.props);if(!d)return null;var f=d.x,h=d.y,m=this.props,g=m.shape,v=m.className,y=kc(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=hZ(hZ({clipPath:y},nn(this.props,!0)),{},{cx:f,cy:h});return ie.createElement(sr,{className:Mn("recharts-reference-dot",v)},e.renderDot(g,w),hs.renderCallByParent(this.props,{x:f-a,y:h-a,width:2*a,height:2*a}))}}])}(ie.Component);fO(hO,"displayName","ReferenceDot");fO(hO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});fO(hO,"renderDot",function(t,e){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,e):pn(t)?n=t(e):n=ie.createElement(iO,jF({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function UF(){return UF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},UF.apply(this,arguments)}function j0(t){"@babel/helpers - typeof";return j0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j0(t)}function pZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mZ(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pZ(Object(n),!0).forEach(function(r){pO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Xpt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qpt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Xhe(r.key),r)}}function Kpt(t,e,n){return e&&qpt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ypt(t,e,n){return e=dC(e),Zpt(t,Whe()?Reflect.construct(e,n||[],dC(t).constructor):e.apply(t,n))}function Zpt(t,e){if(e&&(j0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Jpt(t)}function Jpt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Whe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Whe=function(){return!!t})()}function dC(t){return dC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},dC(t)}function Qpt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&BF(t,e)}function BF(t,e){return BF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},BF(t,e)}function pO(t,e,n){return e=Xhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Xhe(t){var e=emt(t,"string");return j0(e)=="symbol"?e:e+""}function emt(t,e){if(j0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(j0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tmt=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,d=s.yAxis;if(!u||!d)return null;var f=zz({x:u.scale,y:d.scale}),h={x:e?f.x.apply(a,{position:"start"}):f.x.rangeMin,y:r?f.y.apply(l,{position:"start"}):f.y.rangeMin},m={x:n?f.x.apply(o,{position:"end"}):f.x.rangeMax,y:i?f.y.apply(c,{position:"end"}):f.y.rangeMax};return kc(s,"discard")&&(!f.isInRange(h)||!f.isInRange(m))?null:Ihe(h,m)},mO=function(t){function e(){return Xpt(this,e),Ypt(this,e,arguments)}return Qpt(e,t),Kpt(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;Gl(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var d=Zi(i),f=Zi(s),h=Zi(a),m=Zi(o),g=this.props.shape;if(!d&&!f&&!h&&!m&&!g)return null;var v=tmt(d,f,h,m,this.props);if(!v&&!g)return null;var y=kc(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ie.createElement(sr,{className:Mn("recharts-reference-area",l)},e.renderRect(g,mZ(mZ({clipPath:y},nn(this.props,!0)),v)),hs.renderCallByParent(this.props,v))}}])}(ie.Component);pO(mO,"displayName","ReferenceArea");pO(mO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});pO(mO,"renderRect",function(t,e){var n;return ie.isValidElement(t)?n=ie.cloneElement(t,e):pn(t)?n=t(e):n=ie.createElement(Bz,UF({},e,{className:"recharts-reference-area-rect"})),n});function qhe(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)r.push(t[i]);return r}function nmt(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return Yht(r,n)}function rmt(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function fC(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function imt(t,e){return qhe(t,e+1)}function smt(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,d=function(){var m=r==null?void 0:r[l];if(m===void 0)return{v:qhe(r,c)};var g=l,v,y=function(){return v===void 0&&(v=n(m,g)),v},w=m.coordinate,_=l===0||fC(t,w,y,u,o);_||(l=0,u=a,c+=1),_&&(u=w+t*(y()/2+i),l+=c)},f;c<=s.length;)if(f=d(),f)return f.v;return[]}function A1(t){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A1(t)}function gZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Fs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?gZ(Object(n),!0).forEach(function(r){amt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):gZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function amt(t,e,n){return e=omt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function omt(t){var e=lmt(t,"string");return A1(e)=="symbol"?e:e+""}function lmt(t,e){if(A1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(A1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cmt(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(f){var h=s[f],m,g=function(){return m===void 0&&(m=n(h,f)),m};if(f===a-1){var v=t*(h.coordinate+t*g()/2-l);s[f]=h=Fs(Fs({},h),{},{tickCoord:v>0?h.coordinate-v*t:h.coordinate})}else s[f]=h=Fs(Fs({},h),{},{tickCoord:h.coordinate});var y=fC(t,h.tickCoord,g,o,l);y&&(l=h.tickCoord-t*(g()/2+i),s[f]=Fs(Fs({},h),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function umt(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=r[o-1],d=n(u,o-1),f=t*(u.coordinate+t*d/2-c);a[o-1]=u=Fs(Fs({},u),{},{tickCoord:f>0?u.coordinate-f*t:u.coordinate});var h=fC(t,u.tickCoord,function(){return d},l,c);h&&(c=u.tickCoord-t*(d/2+i),a[o-1]=Fs(Fs({},u),{},{isShow:!0}))}for(var m=s?o-1:o,g=function(w){var _=a[w],S,E=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var A=t*(_.coordinate-t*E()/2-l);a[w]=_=Fs(Fs({},_),{},{tickCoord:A<0?_.coordinate-A*t:_.coordinate})}else a[w]=_=Fs(Fs({},_),{},{tickCoord:_.coordinate});var M=fC(t,_.tickCoord,E,l,c);M&&(l=_.tickCoord+t*(E()/2+i),a[w]=Fs(Fs({},_),{},{isShow:!0}))},v=0;v<m;v++)g(v);return a}function qz(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,d=t.angle;if(!i||!i.length||!r)return[];if(_t(l)||Nc.isSsr)return imt(i,typeof l=="number"&&_t(l)?l:0);var f=[],h=o==="top"||o==="bottom"?"width":"height",m=u&&h==="width"?$b(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},g=function(_,S){var E=pn(c)?c(_.value,S):_.value;return h==="width"?nmt($b(E,{fontSize:e,letterSpacing:n}),m,d):$b(E,{fontSize:e,letterSpacing:n})[h]},v=i.length>=2?ma(i[1].coordinate-i[0].coordinate):1,y=rmt(s,v,h);return l==="equidistantPreserveStart"?smt(v,y,g,i,a):(l==="preserveStart"||l==="preserveStartEnd"?f=umt(v,y,g,i,a,l==="preserveStartEnd"):f=cmt(v,y,g,i,a),f.filter(function(w){return w.isShow}))}var dmt=["viewBox"],fmt=["viewBox"],hmt=["ticks"];function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function lv(){return lv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},lv.apply(this,arguments)}function vZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Hi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vZ(Object(n),!0).forEach(function(r){Kz(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Rk(t,e){if(t==null)return{};var n=pmt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function pmt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function mmt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function yZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Yhe(r.key),r)}}function gmt(t,e,n){return e&&yZ(t.prototype,e),n&&yZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vmt(t,e,n){return e=hC(e),ymt(t,Khe()?Reflect.construct(e,n||[],hC(t).constructor):e.apply(t,n))}function ymt(t,e){if(e&&(F0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xmt(t)}function xmt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Khe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Khe=function(){return!!t})()}function hC(t){return hC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hC(t)}function bmt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zF(t,e)}function zF(t,e){return zF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},zF(t,e)}function Kz(t,e,n){return e=Yhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Yhe(t){var e=wmt(t,"string");return F0(e)=="symbol"?e:e+""}function wmt(t,e){if(F0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(F0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Oy=function(t){function e(n){var r;return mmt(this,e),r=vmt(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return bmt(e,t),gmt(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=Rk(r,dmt),o=this.props,l=o.viewBox,c=Rk(o,fmt);return!Mv(s,l)||!Mv(a,c)||!Mv(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,d=i.mirror,f=i.tickMargin,h,m,g,v,y,w,_=d?-1:1,S=r.tickSize||u,E=_t(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":h=m=r.coordinate,v=a+ +!d*l,g=v-_*S,w=g-_*f,y=E;break;case"left":g=v=r.coordinate,m=s+ +!d*o,h=m-_*S,y=h-_*f,w=E;break;case"right":g=v=r.coordinate,m=s+ +d*o,h=m+_*S,y=h+_*f,w=E;break;default:h=m=r.coordinate,v=a+ +d*l,g=v+_*S,w=g+_*f,y=E;break}return{line:{x1:h,y1:g,x2:m,y2:v},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,d=Hi(Hi(Hi({},nn(this.props,!1)),nn(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var f=+(l==="top"&&!c||l==="bottom"&&c);d=Hi(Hi({},d),{},{x1:i,y1:s+f*o,x2:i+a,y2:s+f*o})}else{var h=+(l==="left"&&!c||l==="right"&&c);d=Hi(Hi({},d),{},{x1:i+h*a,y1:s,x2:i+h*a,y2:s+o})}return ie.createElement("line",lv({},d,{className:Mn("recharts-cartesian-axis-line",wo(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,d=o.tickFormatter,f=o.unit,h=qz(Hi(Hi({},this.props),{},{ticks:r}),i,s),m=this.getTickTextAnchor(),g=this.getTickVerticalAnchor(),v=nn(this.props,!1),y=nn(u,!1),w=Hi(Hi({},v),{},{fill:"none"},nn(l,!1)),_=h.map(function(S,E){var A=a.getTickLineCoord(S),M=A.line,R=A.tick,P=Hi(Hi(Hi(Hi({textAnchor:m,verticalAnchor:g},v),{},{stroke:"none",fill:c},y),R),{},{index:E,payload:S,visibleTicksCount:h.length,tickFormatter:d});return ie.createElement(sr,lv({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},im(a.props,S,E)),l&&ie.createElement("line",lv({},w,M,{className:Mn("recharts-cartesian-axis-tick-line",wo(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(pn(d)?d(S.value,E):S.value).concat(f||"")))});return ie.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var d=this.props,f=d.ticks,h=Rk(d,hmt),m=f;return pn(l)&&(m=f&&f.length>0?l(this.props):l(h)),a<=0||o<=0||!m||!m.length?null:ie.createElement(sr,{className:Mn("recharts-cartesian-axis",c),ref:function(v){r.layerReference=v}},s&&this.renderAxisLine(),this.renderTicks(m,this.state.fontSize,this.state.letterSpacing),hs.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=Mn(i.className,"recharts-cartesian-axis-tick-value");return ie.isValidElement(r)?a=ie.cloneElement(r,Hi(Hi({},i),{},{className:o})):pn(r)?a=r(Hi(Hi({},i),{},{className:o})):a=ie.createElement(sm,lv({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(T.Component);Kz(Oy,"displayName","CartesianAxis");Kz(Oy,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _mt=["x1","y1","x2","y2","key"],Smt=["offset"];function lm(t){"@babel/helpers - typeof";return lm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lm(t)}function xZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function zs(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xZ(Object(n),!0).forEach(function(r){Emt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Emt(t,e,n){return e=Tmt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Tmt(t){var e=Amt(t,"string");return lm(e)=="symbol"?e:e+""}function Amt(t,e){if(lm(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(lm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},yp.apply(this,arguments)}function bZ(t,e){if(t==null)return{};var n=Mmt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Mmt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Cmt=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return ie.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Zhe(t,e){var n;if(ie.isValidElement(t))n=ie.cloneElement(t,e);else if(pn(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=bZ(e,_mt),c=nn(l,!1);c.offset;var u=bZ(c,Smt);n=ie.createElement("line",yp({},u,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function Pmt(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=zs(zs({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return Zhe(i,c)});return ie.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function Rmt(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=zs(zs({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return Zhe(i,c)});return ie.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function Omt(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(f){return Math.round(f+i-i)}).sort(function(f,h){return f-h});i!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var m=!u[h+1],g=m?i+a-f:u[h+1]-f;if(g<=0)return null;var v=h%e.length;return ie.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:g,width:s,stroke:"none",fill:e[v],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function Nmt(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(f){return Math.round(f+s-s)}).sort(function(f,h){return f-h});s!==u[0]&&u.unshift(0);var d=u.map(function(f,h){var m=!u[h+1],g=m?s+o-f:u[h+1]-f;if(g<=0)return null;var v=h%r.length;return ie.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:g,height:l,stroke:"none",fill:r[v],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ie.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var Imt=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return Xfe(qz(zs(zs(zs({},Oy.defaultProps),r),{},{ticks:Mu(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},kmt=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return Xfe(qz(zs(zs(zs({},Oy.defaultProps),r),{},{ticks:Mu(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Tg={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function pC(t){var e,n,r,i,s,a,o=Hz(),l=Gz(),c=wpt(),u=zs(zs({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:Tg.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:Tg.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:Tg.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:Tg.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:Tg.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:Tg.verticalFill,x:_t(t.x)?t.x:c.left,y:_t(t.y)?t.y:c.top,width:_t(t.width)?t.width:c.width,height:_t(t.height)?t.height:c.height}),d=u.x,f=u.y,h=u.width,m=u.height,g=u.syncWithTicks,v=u.horizontalValues,y=u.verticalValues,w=ypt(),_=xpt();if(!_t(h)||h<=0||!_t(m)||m<=0||!_t(d)||d!==+d||!_t(f)||f!==+f)return null;var S=u.verticalCoordinatesGenerator||Imt,E=u.horizontalCoordinatesGenerator||kmt,A=u.horizontalPoints,M=u.verticalPoints;if((!A||!A.length)&&pn(E)){var R=v&&v.length,P=E({yAxis:_?zs(zs({},_),{},{ticks:R?v:_.ticks}):void 0,width:o,height:l,offset:c},R?!0:g);Gl(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(lm(P),"]")),Array.isArray(P)&&(A=P)}if((!M||!M.length)&&pn(S)){var O=y&&y.length,k=S({xAxis:w?zs(zs({},w),{},{ticks:O?y:w.ticks}):void 0,width:o,height:l,offset:c},O?!0:g);Gl(Array.isArray(k),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(lm(k),"]")),Array.isArray(k)&&(M=k)}return ie.createElement("g",{className:"recharts-cartesian-grid"},ie.createElement(Cmt,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ie.createElement(Pmt,yp({},u,{offset:c,horizontalPoints:A,xAxis:w,yAxis:_})),ie.createElement(Rmt,yp({},u,{offset:c,verticalPoints:M,xAxis:w,yAxis:_})),ie.createElement(Omt,yp({},u,{horizontalPoints:A})),ie.createElement(Nmt,yp({},u,{verticalPoints:M})))}pC.displayName="CartesianGrid";var Dmt=["type","layout","connectNulls","ref"],Lmt=["key"];function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function wZ(t,e){if(t==null)return{};var n=jmt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function jmt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Kb(){return Kb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Kb.apply(this,arguments)}function _Z(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function so(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?_Z(Object(n),!0).forEach(function(r){Dl(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_Z(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Ag(t){return zmt(t)||Bmt(t)||Umt(t)||Fmt()}function Fmt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Umt(t,e){if(t){if(typeof t=="string")return VF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VF(t,e)}}function Bmt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zmt(t){if(Array.isArray(t))return VF(t)}function VF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Vmt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SZ(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Qhe(r.key),r)}}function $mt(t,e,n){return e&&SZ(t.prototype,e),n&&SZ(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Hmt(t,e,n){return e=mC(e),Gmt(t,Jhe()?Reflect.construct(e,n||[],mC(t).constructor):e.apply(t,n))}function Gmt(t,e){if(e&&(U0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wmt(t)}function Wmt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Jhe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Jhe=function(){return!!t})()}function mC(t){return mC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},mC(t)}function Xmt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$F(t,e)}function $F(t,e){return $F=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$F(t,e)}function Dl(t,e,n){return e=Qhe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Qhe(t){var e=qmt(t,"string");return U0(e)=="symbol"?e:e+""}function qmt(t,e){if(U0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(U0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cm=function(t){function e(){var n;Vmt(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=Hmt(this,e,[].concat(i)),Dl(n,"state",{isAnimationFinished:!0,totalLength:0}),Dl(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Dl(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var u=Math.floor(a/c),d=a%c,f=o-a,h=[],m=0,g=0;m<l.length;g+=l[m],++m)if(g+l[m]>d){h=[].concat(Ag(l.slice(0,m)),[d-g]);break}var v=h.length%2===0?[0,f]:[f];return[].concat(Ag(e.repeat(l,u)),Ag(h),v).map(function(y){return"".concat(y,"px")}).join(", ")}),Dl(n,"id",Ey("recharts-line-")),Dl(n,"pathRef",function(a){n.mainCurve=a}),Dl(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Dl(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return Xmt(e,t),$mt(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,d=_o(u,O_);if(!d)return null;var f=function(g,v){return{x:g.x,y:g.y,value:g.value,errorVal:qi(g.payload,v)}},h={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ie.createElement(sr,h,d.map(function(m){return ie.cloneElement(m,{key:"bar-".concat(m.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:f})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,d=nn(this.props,!1),f=nn(l,!0),h=c.map(function(g,v){var y=so(so(so({key:"dot-".concat(v),r:3},d),f),{},{index:v,cx:g.x,cy:g.y,value:g.value,dataKey:u,payload:g.payload,points:c});return e.renderDotItem(l,y)}),m={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ie.createElement(sr,Kb({className:"recharts-line-dots",key:"dots"},m),h)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var d=wZ(o,Dmt),f=so(so(so({},nn(d,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return ie.createElement(q2,Kb({},f,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,d=a.animationDuration,f=a.animationEasing,h=a.animationId,m=a.animateNewValues,g=a.width,v=a.height,y=this.state,w=y.prevPoints,_=y.totalLength;return ie.createElement(zc,{begin:u,duration:d,isActive:c,easing:f,from:{t:0},to:{t:1},key:"line-".concat(h),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var E=S.t;if(w){var A=w.length/o.length,M=o.map(function(I,F){var L=Math.floor(F*A);if(w[L]){var V=w[L],z=fo(V.x,I.x),K=fo(V.y,I.y);return so(so({},I),{},{x:z(E),y:K(E)})}if(m){var j=fo(g*2,I.x),U=fo(v/2,I.y);return so(so({},I),{},{x:j(E),y:U(E)})}return so(so({},I),{},{x:I.x,y:I.y})});return s.renderCurveStatically(M,r,i)}var R=fo(0,_),P=R(E),O;if(l){var k="".concat(l).split(/[,\s]+/gim).map(function(I){return parseFloat(I)});O=s.getStrokeDasharray(P,_,k)}else O=s.generateSimpleStrokeDasharray(_,P);return s.renderCurveStatically(o,r,i,{strokeDasharray:O})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&a&&a.length&&(!c&&u>0||!R_(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,d=i.top,f=i.left,h=i.width,m=i.height,g=i.isAnimationActive,v=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=Mn("recharts-line",l),S=c&&c.allowDataOverflow,E=u&&u.allowDataOverflow,A=S||E,M=Sn(v)?this.id:v,R=(r=nn(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=R.r,O=P===void 0?3:P,k=R.strokeWidth,I=k===void 0?2:k,F=m7e(a)?a:{},L=F.clipDot,V=L===void 0?!0:L,z=O*2+I;return ie.createElement(sr,{className:_},S||E?ie.createElement("defs",null,ie.createElement("clipPath",{id:"clipPath-".concat(M)},ie.createElement("rect",{x:S?f:f-h/2,y:E?d:d-m/2,width:S?h:h*2,height:E?m:m*2})),!V&&ie.createElement("clipPath",{id:"clipPath-dots-".concat(M)},ie.createElement("rect",{x:f-z/2,y:d-z/2,width:h+z,height:m+z}))):null,!w&&this.renderCurve(A,M),this.renderErrorBar(A,M),(w||a)&&this.renderDots(A,V,M),(!g||y)&&Nu.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Ag(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(Ag(a),Ag(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(ie.isValidElement(r))s=ie.cloneElement(r,i);else if(pn(r))s=r(i);else{var a=i.key,o=wZ(i,Lmt),l=Mn("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ie.createElement(iO,Kb({key:a},o,{className:l}))}return s}}])}(T.PureComponent);Dl(cm,"displayName","Line");Dl(cm,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Nc.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Dl(cm,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,d=l.map(function(f,h){var m=qi(f,a);return u==="horizontal"?{x:XK({axis:n,ticks:i,bandSize:o,entry:f,index:h}),y:Sn(m)?null:r.scale(m),value:m,payload:f}:{x:Sn(m)?null:n.scale(m),y:XK({axis:r,ticks:s,bandSize:o,entry:f,index:h}),value:m,payload:f}});return so({points:d,layout:u},c)});function B0(t){"@babel/helpers - typeof";return B0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},B0(t)}function Kmt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Ymt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,npe(r.key),r)}}function Zmt(t,e,n){return e&&Ymt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Jmt(t,e,n){return e=gC(e),Qmt(t,epe()?Reflect.construct(e,n||[],gC(t).constructor):e.apply(t,n))}function Qmt(t,e){if(e&&(B0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return egt(t)}function egt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function epe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(epe=function(){return!!t})()}function gC(t){return gC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gC(t)}function tgt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HF(t,e)}function HF(t,e){return HF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HF(t,e)}function tpe(t,e,n){return e=npe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function npe(t){var e=ngt(t,"string");return B0(e)=="symbol"?e:e+""}function ngt(t,e){if(B0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(B0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GF(){return GF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},GF.apply(this,arguments)}function rgt(t){var e=t.xAxisId,n=Hz(),r=Gz(),i=Bhe(e);return i==null?null:T.createElement(Oy,GF({},i,{className:Mn("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return Mu(a,!0)}}))}var um=function(t){function e(){return Kmt(this,e),Jmt(this,e,arguments)}return tgt(e,t),Zmt(e,[{key:"render",value:function(){return T.createElement(rgt,this.props)}}])}(T.Component);tpe(um,"displayName","XAxis");tpe(um,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function igt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sgt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,spe(r.key),r)}}function agt(t,e,n){return e&&sgt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ogt(t,e,n){return e=vC(e),lgt(t,rpe()?Reflect.construct(e,n||[],vC(t).constructor):e.apply(t,n))}function lgt(t,e){if(e&&(z0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cgt(t)}function cgt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rpe=function(){return!!t})()}function vC(t){return vC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},vC(t)}function ugt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WF(t,e)}function WF(t,e){return WF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},WF(t,e)}function ipe(t,e,n){return e=spe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function spe(t){var e=dgt(t,"string");return z0(e)=="symbol"?e:e+""}function dgt(t,e){if(z0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(z0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XF(){return XF=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},XF.apply(this,arguments)}var fgt=function(e){var n=e.yAxisId,r=Hz(),i=Gz(),s=zhe(n);return s==null?null:T.createElement(Oy,XF({},s,{className:Mn("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return Mu(o,!0)}}))},dm=function(t){function e(){return igt(this,e),ogt(this,e,arguments)}return ugt(e,t),agt(e,[{key:"render",value:function(){return T.createElement(fgt,this.props)}}])}(T.Component);ipe(dm,"displayName","YAxis");ipe(dm,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function EZ(t){return ggt(t)||mgt(t)||pgt(t)||hgt()}function hgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function pgt(t,e){if(t){if(typeof t=="string")return qF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return qF(t,e)}}function mgt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function ggt(t){if(Array.isArray(t))return qF(t)}function qF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var KF=function(e,n,r,i,s){var a=_o(e,Xz),o=_o(e,hO),l=[].concat(EZ(a),EZ(o)),c=_o(e,mO),u="".concat(i,"Id"),d=i[0],f=n;if(l.length&&(f=l.reduce(function(g,v){if(v.props[u]===r&&kc(v.props,"extendDomain")&&_t(v.props[d])){var y=v.props[d];return[Math.min(g[0],y),Math.max(g[1],y)]}return g},f)),c.length){var h="".concat(d,"1"),m="".concat(d,"2");f=c.reduce(function(g,v){if(v.props[u]===r&&kc(v.props,"extendDomain")&&_t(v.props[h])&&_t(v.props[m])){var y=v.props[h],w=v.props[m];return[Math.min(g[0],y,w),Math.max(g[1],y,w)]}return g},f)}return s&&s.length&&(f=s.reduce(function(g,v){return _t(v)?[Math.min(g[0],v),Math.max(g[1],v)]:g},f)),f},ape={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,d,f){if(typeof u!="function")throw new TypeError("The listener must be a function");var h=new i(u,d||l,f),m=n?n+c:c;return l._events[m]?l._events[m].fn?l._events[m]=[l._events[m],h]:l._events[m].push(h):(l._events[m]=h,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,d;if(this._eventsCount===0)return c;for(d in u=this._events)e.call(u,d)&&c.push(n?d.slice(1):d);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,d=this._events[u];if(!d)return[];if(d.fn)return[d.fn];for(var f=0,h=d.length,m=new Array(h);f<h;f++)m[f]=d[f].fn;return m},o.prototype.listenerCount=function(c){var u=n?n+c:c,d=this._events[u];return d?d.fn?1:d.length:0},o.prototype.emit=function(c,u,d,f,h,m){var g=n?n+c:c;if(!this._events[g])return!1;var v=this._events[g],y=arguments.length,w,_;if(v.fn){switch(v.once&&this.removeListener(c,v.fn,void 0,!0),y){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,u),!0;case 3:return v.fn.call(v.context,u,d),!0;case 4:return v.fn.call(v.context,u,d,f),!0;case 5:return v.fn.call(v.context,u,d,f,h),!0;case 6:return v.fn.call(v.context,u,d,f,h,m),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];v.fn.apply(v.context,w)}else{var S=v.length,E;for(_=0;_<S;_++)switch(v[_].once&&this.removeListener(c,v[_].fn,void 0,!0),y){case 1:v[_].fn.call(v[_].context);break;case 2:v[_].fn.call(v[_].context,u);break;case 3:v[_].fn.call(v[_].context,u,d);break;case 4:v[_].fn.call(v[_].context,u,d,f);break;default:if(!w)for(E=1,w=new Array(y-1);E<y;E++)w[E-1]=arguments[E];v[_].fn.apply(v[_].context,w)}}return!0},o.prototype.on=function(c,u,d){return s(this,c,u,d,!1)},o.prototype.once=function(c,u,d){return s(this,c,u,d,!0)},o.prototype.removeListener=function(c,u,d,f){var h=n?n+c:c;if(!this._events[h])return this;if(!u)return a(this,h),this;var m=this._events[h];if(m.fn)m.fn===u&&(!f||m.once)&&(!d||m.context===d)&&a(this,h);else{for(var g=0,v=[],y=m.length;g<y;g++)(m[g].fn!==u||f&&!m[g].once||d&&m[g].context!==d)&&v.push(m[g]);v.length?this._events[h]=v.length===1?v[0]:v:a(this,h)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(ape);var vgt=ape.exports;const ygt=lr(vgt);var Ok=new ygt,Nk="recharts.syncMouseEvents";function M1(t){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M1(t)}function xgt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bgt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,ope(r.key),r)}}function wgt(t,e,n){return e&&bgt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Ik(t,e,n){return e=ope(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ope(t){var e=_gt(t,"string");return M1(e)=="symbol"?e:e+""}function _gt(t,e){if(M1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e);if(M1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Sgt=function(){function t(){xgt(this,t),Ik(this,"activeIndex",0),Ik(this,"coordinateList",[]),Ik(this,"layout","horizontal")}return wgt(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,d=u===void 0?null:u,f=n.mouseHandlerCallback,h=f===void 0?null:f;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=d??this.offset,this.mouseHandlerCallback=h??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,d=s+l+c,f=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:d,pageY:f})}}}])}();function Egt(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&_t(r)&&_t(i))return!0}return!1}function Tgt(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function lpe(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Nr(e,n,r,i),o=Nr(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function Agt(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,d=e.angle,f=Nr(o,l,c,d),h=Nr(o,l,u,d);r=f.x,i=f.y,s=h.x,a=h.y}else return lpe(e);return[{x:r,y:i},{x:s,y:a}]}function C1(t){"@babel/helpers - typeof";return C1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C1(t)}function TZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function RT(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TZ(Object(n),!0).forEach(function(r){Mgt(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Mgt(t,e,n){return e=Cgt(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Cgt(t){var e=Pgt(t,"string");return C1(e)=="symbol"?e:e+""}function Pgt(t,e){if(C1(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(C1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Rgt(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,d=t.layout,f=t.chartName,h=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!h||!s||!a||f!=="ScatterChart"&&i!=="axis")return null;var m,g=q2;if(f==="ScatterChart")m=a,g=qut;else if(f==="BarChart")m=Tgt(d,a,l,u),g=Bz;else if(d==="radial"){var v=lpe(a),y=v.cx,w=v.cy,_=v.radius,S=v.startAngle,E=v.endAngle;m={cx:y,cy:w,startAngle:S,endAngle:E,innerRadius:_,outerRadius:_},g=ihe}else m={points:Agt(d,a,l)},g=q2;var A=RT(RT(RT(RT({stroke:"#ccc",pointerEvents:"none"},l),m),nn(h,!1)),{},{payload:o,payloadIndex:c,className:Mn("recharts-tooltip-cursor",h.className)});return T.isValidElement(h)?T.cloneElement(h,A):T.createElement(g,A)}var Ogt=["item"],Ngt=["children","className","width","height","style","compact","title","desc"];function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function cv(){return cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cv.apply(this,arguments)}function AZ(t,e){return Dgt(t)||kgt(t,e)||upe(t,e)||Igt()}function Igt(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kgt(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e!==0)for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Dgt(t){if(Array.isArray(t))return t}function MZ(t,e){if(t==null)return{};var n=Lgt(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Lgt(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function jgt(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Fgt(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,dpe(r.key),r)}}function Ugt(t,e,n){return e&&Fgt(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Bgt(t,e,n){return e=yC(e),zgt(t,cpe()?Reflect.construct(e,n||[],yC(t).constructor):e.apply(t,n))}function zgt(t,e){if(e&&(V0(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Vgt(t)}function Vgt(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function cpe(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(cpe=function(){return!!t})()}function yC(t){return yC=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},yC(t)}function $gt(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YF(t,e)}function YF(t,e){return YF=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},YF(t,e)}function $0(t){return Wgt(t)||Ggt(t)||upe(t)||Hgt()}function Hgt(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function upe(t,e){if(t){if(typeof t=="string")return ZF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ZF(t,e)}}function Ggt(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Wgt(t){if(Array.isArray(t))return ZF(t)}function ZF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CZ(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Qe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?CZ(Object(n),!0).forEach(function(r){an(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):CZ(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function an(t,e,n){return e=dpe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dpe(t){var e=Xgt(t,"string");return V0(e)=="symbol"?e:e+""}function Xgt(t,e){if(V0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(V0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qgt={xAxis:["bottom","top"],yAxis:["left","right"]},Kgt={width:"100%",height:"100%"},fpe={x:0,y:0};function OT(t){return t}var Ygt=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},Zgt=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return Qe(Qe(Qe({},i),Nr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return Qe(Qe(Qe({},i),Nr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return fpe},gO=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat($0(o),$0(c)):o},[]);return a.length>0?a:e&&e.length&&_t(i)&&_t(s)?e.slice(i,s+1):[]};function hpe(t){return t==="number"?[0,"auto"]:void 0}var JF=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=gO(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var u,d=(u=c.props.data)!==null&&u!==void 0?u:n;d&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(d=d.slice(e.dataStartIndex,e.dataEndIndex+1));var f;if(a.dataKey&&!a.allowDuplicatedCategory){var h=d===void 0?o:d;f=v2(h,a.dataKey,i)}else f=d&&d[r]||o[r];return f?[].concat($0(l),[Jfe(c,f)]):l},[])},PZ=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=Ygt(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=yot(a,o,c,l);if(u>=0&&c){var d=c[u]&&c[u].value,f=JF(e,n,u,d),h=Zgt(r,o,u,s);return{activeTooltipIndex:u,activeLabel:d,activePayload:f,activeCoordinate:h}}return null},Jgt=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=e.stackOffset,h=Wfe(u,s);return r.reduce(function(m,g){var v,y=g.type.defaultProps!==void 0?Qe(Qe({},g.type.defaultProps),g.props):g.props,w=y.type,_=y.dataKey,S=y.allowDataOverflow,E=y.allowDuplicatedCategory,A=y.scale,M=y.ticks,R=y.includeHidden,P=y[a];if(m[P])return m;var O=gO(e.data,{graphicalItems:i.filter(function(X){var Q,oe=a in X.props?X.props[a]:(Q=X.type.defaultProps)===null||Q===void 0?void 0:Q[a];return oe===P}),dataStartIndex:l,dataEndIndex:c}),k=O.length,I,F,L;Egt(y.domain,S,w)&&(I=fF(y.domain,null,S),h&&(w==="number"||A!=="auto")&&(L=Gb(O,_,"category")));var V=hpe(w);if(!I||I.length===0){var z,K=(z=y.domain)!==null&&z!==void 0?z:V;if(_){if(I=Gb(O,_,w),w==="category"&&h){var j=s7e(I);E&&j?(F=I,I=iC(0,k)):E||(I=ZK(K,I,g).reduce(function(X,Q){return X.indexOf(Q)>=0?X:[].concat($0(X),[Q])},[]))}else if(w==="category")E?I=I.filter(function(X){return X!==""&&!Sn(X)}):I=ZK(K,I,g).reduce(function(X,Q){return X.indexOf(Q)>=0||Q===""||Sn(Q)?X:[].concat($0(X),[Q])},[]);else if(w==="number"){var U=Sot(O,i.filter(function(X){var Q,oe,de=a in X.props?X.props[a]:(Q=X.type.defaultProps)===null||Q===void 0?void 0:Q[a],ae="hide"in X.props?X.props.hide:(oe=X.type.defaultProps)===null||oe===void 0?void 0:oe.hide;return de===P&&(R||!ae)}),_,s,u);U&&(I=U)}h&&(w==="number"||A!=="auto")&&(L=Gb(O,_,"category"))}else h?I=iC(0,k):o&&o[P]&&o[P].hasStack&&w==="number"?I=f==="expand"?[0,1]:Zfe(o[P].stackGroups,l,c):I=Gfe(O,i.filter(function(X){var Q=a in X.props?X.props[a]:X.type.defaultProps[a],oe="hide"in X.props?X.props.hide:X.type.defaultProps.hide;return Q===P&&(R||!oe)}),w,u,!0);if(w==="number")I=KF(d,I,P,s,M),K&&(I=fF(K,I,S));else if(w==="category"&&K){var $=K,G=I.every(function(X){return $.indexOf(X)>=0});G&&(I=$)}}return Qe(Qe({},m),{},an({},P,Qe(Qe({},y),{},{axisType:s,domain:I,categoricalDomain:L,duplicateDomain:F,originalDomain:(v=y.domain)!==null&&v!==void 0?v:V,isCategorical:h,layout:u})))},{})},Qgt=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,d=e.children,f=gO(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),h=f.length,m=Wfe(u,s),g=-1;return r.reduce(function(v,y){var w=y.type.defaultProps!==void 0?Qe(Qe({},y.type.defaultProps),y.props):y.props,_=w[a],S=hpe("number");if(!v[_]){g++;var E;return m?E=iC(0,h):o&&o[_]&&o[_].hasStack?(E=Zfe(o[_].stackGroups,l,c),E=KF(d,E,_,s)):(E=fF(S,Gfe(f,r.filter(function(A){var M,R,P=a in A.props?A.props[a]:(M=A.type.defaultProps)===null||M===void 0?void 0:M[a],O="hide"in A.props?A.props.hide:(R=A.type.defaultProps)===null||R===void 0?void 0:R.hide;return P===_&&!O}),"number",u),i.defaultProps.allowDataOverflow),E=KF(d,E,_,s)),Qe(Qe({},v),{},an({},_,Qe(Qe({axisType:s},i.defaultProps),{},{hide:!0,orientation:wo(qgt,"".concat(s,".").concat(g%2),null),domain:E,originalDomain:S,isCategorical:m,layout:u})))}return v},{})},evt=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,d="".concat(i,"Id"),f=_o(u,s),h={};return f&&f.length?h=Jgt(e,{axes:f,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(h=Qgt(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:d,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),h},tvt=function(e){var n=Ud(e),r=Mu(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:hz(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:G2(n,r)}},RZ=function(e){var n=e.children,r=e.defaultShowTooltip,i=lo(n,I0),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},nvt=function(e){return!e||!e.length?!1:e.some(function(n){var r=Ru(n&&n.type);return r&&r.indexOf("Bar")>=0})},OZ=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},rvt=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,d=r.children,f=r.margin||{},h=lo(d,I0),m=lo(d,Cv),g=Object.keys(l).reduce(function(E,A){var M=l[A],R=M.orientation;return!M.mirror&&!M.hide?Qe(Qe({},E),{},an({},R,E[R]+M.width)):E},{left:f.left||0,right:f.right||0}),v=Object.keys(a).reduce(function(E,A){var M=a[A],R=M.orientation;return!M.mirror&&!M.hide?Qe(Qe({},E),{},an({},R,wo(E,"".concat(R))+M.height)):E},{top:f.top||0,bottom:f.bottom||0}),y=Qe(Qe({},v),g),w=y.bottom;h&&(y.bottom+=h.props.height||I0.defaultProps.height),m&&n&&(y=wot(y,i,r,n));var _=c-y.left-y.right,S=u-y.top-y.bottom;return Qe(Qe({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(S,0)})},ivt=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},Yz=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,d=e.defaultProps,f=function(y,w){var _=w.graphicalItems,S=w.stackGroups,E=w.offset,A=w.updateId,M=w.dataStartIndex,R=w.dataEndIndex,P=y.barSize,O=y.layout,k=y.barGap,I=y.barCategoryGap,F=y.maxBarSize,L=OZ(O),V=L.numericAxisName,z=L.cateAxisName,K=nvt(_),j=[];return _.forEach(function(U,$){var G=gO(y.data,{graphicalItems:[U],dataStartIndex:M,dataEndIndex:R}),X=U.type.defaultProps!==void 0?Qe(Qe({},U.type.defaultProps),U.props):U.props,Q=X.dataKey,oe=X.maxBarSize,de=X["".concat(V,"Id")],ae=X["".concat(z,"Id")],ne={},ve=l.reduce(function(te,me){var W=w["".concat(me.axisType,"Map")],B=X["".concat(me.axisType,"Id")];W&&W[B]||me.axisType==="zAxis"||om();var re=W[B];return Qe(Qe({},te),{},an(an({},me.axisType,re),"".concat(me.axisType,"Ticks"),Mu(re)))},ne),ge=ve[z],_e=ve["".concat(z,"Ticks")],ye=S&&S[de]&&S[de].hasStack&&Not(U,S[de].stackGroups),ce=Ru(U.type).indexOf("Bar")>=0,De=G2(ge,_e),Ee=[],Z=K&&xot({barSize:P,stackGroups:S,totalSize:ivt(ve,z)});if(ce){var Me,Oe,Ce=Sn(oe)?F:oe,Ne=(Me=(Oe=G2(ge,_e,!0))!==null&&Oe!==void 0?Oe:Ce)!==null&&Me!==void 0?Me:0;Ee=bot({barGap:k,barCategoryGap:I,bandSize:Ne!==De?Ne:De,sizeList:Z[ae],maxBarSize:Ce}),Ne!==De&&(Ee=Ee.map(function(te){return Qe(Qe({},te),{},{position:Qe(Qe({},te.position),{},{offset:te.position.offset-Ne/2})})}))}var ee=U&&U.type&&U.type.getComposedData;ee&&j.push({props:Qe(Qe({},ee(Qe(Qe({},ve),{},{displayedData:G,props:y,dataKey:Q,item:U,bandSize:De,barPosition:Ee,offset:E,stackedData:ye,layout:O,dataStartIndex:M,dataEndIndex:R}))),{},an(an(an({key:U.key||"item-".concat($)},V,ve[V]),z,ve[z]),"animationId",A)),childIndex:y7e(U,y.children),item:U})}),j},h=function(y,w){var _=y.props,S=y.dataStartIndex,E=y.dataEndIndex,A=y.updateId;if(!HX({props:_}))return null;var M=_.children,R=_.layout,P=_.stackOffset,O=_.data,k=_.reverseStackOrder,I=OZ(R),F=I.numericAxisName,L=I.cateAxisName,V=_o(M,r),z=Rot(O,V,"".concat(F,"Id"),"".concat(L,"Id"),P,k),K=l.reduce(function(X,Q){var oe="".concat(Q.axisType,"Map");return Qe(Qe({},X),{},an({},oe,evt(_,Qe(Qe({},Q),{},{graphicalItems:V,stackGroups:Q.axisType===F&&z,dataStartIndex:S,dataEndIndex:E}))))},{}),j=rvt(Qe(Qe({},K),{},{props:_,graphicalItems:V}),w==null?void 0:w.legendBBox);Object.keys(K).forEach(function(X){K[X]=u(_,K[X],j,X.replace("Map",""),n)});var U=K["".concat(L,"Map")],$=tvt(U),G=f(_,Qe(Qe({},K),{},{dataStartIndex:S,dataEndIndex:E,updateId:A,graphicalItems:V,stackGroups:z,offset:j}));return Qe(Qe({formattedGraphicalItems:G,graphicalItems:V,offset:j,stackGroups:z},$),K)},m=function(v){function y(w){var _,S,E;return jgt(this,y),E=Bgt(this,y,[w]),an(E,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),an(E,"accessibilityManager",new Sgt),an(E,"handleLegendBBoxUpdate",function(A){if(A){var M=E.state,R=M.dataStartIndex,P=M.dataEndIndex,O=M.updateId;E.setState(Qe({legendBBox:A},h({props:E.props,dataStartIndex:R,dataEndIndex:P,updateId:O},Qe(Qe({},E.state),{},{legendBBox:A}))))}}),an(E,"handleReceiveSyncEvent",function(A,M,R){if(E.props.syncId===A){if(R===E.eventEmitterSymbol&&typeof E.props.syncMethod!="function")return;E.applySyncEvent(M)}}),an(E,"handleBrushChange",function(A){var M=A.startIndex,R=A.endIndex;if(M!==E.state.dataStartIndex||R!==E.state.dataEndIndex){var P=E.state.updateId;E.setState(function(){return Qe({dataStartIndex:M,dataEndIndex:R},h({props:E.props,dataStartIndex:M,dataEndIndex:R,updateId:P},E.state))}),E.triggerSyncEvent({dataStartIndex:M,dataEndIndex:R})}}),an(E,"handleMouseEnter",function(A){var M=E.getMouseInfo(A);if(M){var R=Qe(Qe({},M),{},{isTooltipActive:!0});E.setState(R),E.triggerSyncEvent(R);var P=E.props.onMouseEnter;pn(P)&&P(R,A)}}),an(E,"triggeredAfterMouseMove",function(A){var M=E.getMouseInfo(A),R=M?Qe(Qe({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};E.setState(R),E.triggerSyncEvent(R);var P=E.props.onMouseMove;pn(P)&&P(R,A)}),an(E,"handleItemMouseEnter",function(A){E.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),an(E,"handleItemMouseLeave",function(){E.setState(function(){return{isTooltipActive:!1}})}),an(E,"handleMouseMove",function(A){A.persist(),E.throttleTriggeredAfterMouseMove(A)}),an(E,"handleMouseLeave",function(A){E.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};E.setState(M),E.triggerSyncEvent(M);var R=E.props.onMouseLeave;pn(R)&&R(M,A)}),an(E,"handleOuterEvent",function(A){var M=v7e(A),R=wo(E.props,"".concat(M));if(M&&pn(R)){var P,O;/.*touch.*/i.test(M)?O=E.getMouseInfo(A.changedTouches[0]):O=E.getMouseInfo(A),R((P=O)!==null&&P!==void 0?P:{},A)}}),an(E,"handleClick",function(A){var M=E.getMouseInfo(A);if(M){var R=Qe(Qe({},M),{},{isTooltipActive:!0});E.setState(R),E.triggerSyncEvent(R);var P=E.props.onClick;pn(P)&&P(R,A)}}),an(E,"handleMouseDown",function(A){var M=E.props.onMouseDown;if(pn(M)){var R=E.getMouseInfo(A);M(R,A)}}),an(E,"handleMouseUp",function(A){var M=E.props.onMouseUp;if(pn(M)){var R=E.getMouseInfo(A);M(R,A)}}),an(E,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),an(E,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseDown(A.changedTouches[0])}),an(E,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&E.handleMouseUp(A.changedTouches[0])}),an(E,"handleDoubleClick",function(A){var M=E.props.onDoubleClick;if(pn(M)){var R=E.getMouseInfo(A);M(R,A)}}),an(E,"handleContextMenu",function(A){var M=E.props.onContextMenu;if(pn(M)){var R=E.getMouseInfo(A);M(R,A)}}),an(E,"triggerSyncEvent",function(A){E.props.syncId!==void 0&&Ok.emit(Nk,E.props.syncId,A,E.eventEmitterSymbol)}),an(E,"applySyncEvent",function(A){var M=E.props,R=M.layout,P=M.syncMethod,O=E.state.updateId,k=A.dataStartIndex,I=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)E.setState(Qe({dataStartIndex:k,dataEndIndex:I},h({props:E.props,dataStartIndex:k,dataEndIndex:I,updateId:O},E.state)));else if(A.activeTooltipIndex!==void 0){var F=A.chartX,L=A.chartY,V=A.activeTooltipIndex,z=E.state,K=z.offset,j=z.tooltipTicks;if(!K)return;if(typeof P=="function")V=P(j,A);else if(P==="value"){V=-1;for(var U=0;U<j.length;U++)if(j[U].value===A.activeLabel){V=U;break}}var $=Qe(Qe({},K),{},{x:K.left,y:K.top}),G=Math.min(F,$.x+$.width),X=Math.min(L,$.y+$.height),Q=j[V]&&j[V].value,oe=JF(E.state,E.props.data,V),de=j[V]?{x:R==="horizontal"?j[V].coordinate:G,y:R==="horizontal"?X:j[V].coordinate}:fpe;E.setState(Qe(Qe({},A),{},{activeLabel:Q,activeCoordinate:de,activePayload:oe,activeTooltipIndex:V}))}else E.setState(A)}),an(E,"renderCursor",function(A){var M,R=E.state,P=R.isTooltipActive,O=R.activeCoordinate,k=R.activePayload,I=R.offset,F=R.activeTooltipIndex,L=R.tooltipAxisBandSize,V=E.getTooltipEventType(),z=(M=A.props.active)!==null&&M!==void 0?M:P,K=E.props.layout,j=A.key||"_recharts-cursor";return ie.createElement(Rgt,{key:j,activeCoordinate:O,activePayload:k,activeTooltipIndex:F,chartName:n,element:A,isActive:z,layout:K,offset:I,tooltipAxisBandSize:L,tooltipEventType:V})}),an(E,"renderPolarAxis",function(A,M,R){var P=wo(A,"type.axisType"),O=wo(E.state,"".concat(P,"Map")),k=A.type.defaultProps,I=k!==void 0?Qe(Qe({},k),A.props):A.props,F=O&&O[I["".concat(P,"Id")]];return T.cloneElement(A,Qe(Qe({},F),{},{className:Mn(P,F.className),key:A.key||"".concat(M,"-").concat(R),ticks:Mu(F,!0)}))}),an(E,"renderPolarGrid",function(A){var M=A.props,R=M.radialLines,P=M.polarAngles,O=M.polarRadius,k=E.state,I=k.radiusAxisMap,F=k.angleAxisMap,L=Ud(I),V=Ud(F),z=V.cx,K=V.cy,j=V.innerRadius,U=V.outerRadius;return T.cloneElement(A,{polarAngles:Array.isArray(P)?P:Mu(V,!0).map(function($){return $.coordinate}),polarRadius:Array.isArray(O)?O:Mu(L,!0).map(function($){return $.coordinate}),cx:z,cy:K,innerRadius:j,outerRadius:U,key:A.key||"polar-grid",radialLines:R})}),an(E,"renderLegend",function(){var A=E.state.formattedGraphicalItems,M=E.props,R=M.children,P=M.width,O=M.height,k=E.props.margin||{},I=P-(k.left||0)-(k.right||0),F=$fe({children:R,formattedGraphicalItems:A,legendWidth:I,legendContent:c});if(!F)return null;var L=F.item,V=MZ(F,Ogt);return T.cloneElement(L,Qe(Qe({},V),{},{chartWidth:P,chartHeight:O,margin:k,onBBoxUpdate:E.handleLegendBBoxUpdate}))}),an(E,"renderTooltip",function(){var A,M=E.props,R=M.children,P=M.accessibilityLayer,O=lo(R,co);if(!O)return null;var k=E.state,I=k.isTooltipActive,F=k.activeCoordinate,L=k.activePayload,V=k.activeLabel,z=k.offset,K=(A=O.props.active)!==null&&A!==void 0?A:I;return T.cloneElement(O,{viewBox:Qe(Qe({},z),{},{x:z.left,y:z.top}),active:K,label:V,payload:K?L:[],coordinate:F,accessibilityLayer:P})}),an(E,"renderBrush",function(A){var M=E.props,R=M.margin,P=M.data,O=E.state,k=O.offset,I=O.dataStartIndex,F=O.dataEndIndex,L=O.updateId;return T.cloneElement(A,{key:A.key||"_recharts-brush",onChange:AT(E.handleBrushChange,A.props.onChange),data:P,x:_t(A.props.x)?A.props.x:k.left,y:_t(A.props.y)?A.props.y:k.top+k.height+k.brushBottom-(R.bottom||0),width:_t(A.props.width)?A.props.width:k.width,startIndex:I,endIndex:F,updateId:"brush-".concat(L)})}),an(E,"renderReferenceElement",function(A,M,R){if(!A)return null;var P=E,O=P.clipPathId,k=E.state,I=k.xAxisMap,F=k.yAxisMap,L=k.offset,V=A.type.defaultProps||{},z=A.props,K=z.xAxisId,j=K===void 0?V.xAxisId:K,U=z.yAxisId,$=U===void 0?V.yAxisId:U;return T.cloneElement(A,{key:A.key||"".concat(M,"-").concat(R),xAxis:I[j],yAxis:F[$],viewBox:{x:L.left,y:L.top,width:L.width,height:L.height},clipPathId:O})}),an(E,"renderActivePoints",function(A){var M=A.item,R=A.activePoint,P=A.basePoint,O=A.childIndex,k=A.isRange,I=[],F=M.props.key,L=M.item.type.defaultProps!==void 0?Qe(Qe({},M.item.type.defaultProps),M.item.props):M.item.props,V=L.activeDot,z=L.dataKey,K=Qe(Qe({index:O,dataKey:z,cx:R.x,cy:R.y,r:4,fill:Uz(M.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},nn(V,!1)),y2(V));return I.push(y.renderActiveDot(V,K,"".concat(F,"-activePoint-").concat(O))),P?I.push(y.renderActiveDot(V,Qe(Qe({},K),{},{cx:P.x,cy:P.y}),"".concat(F,"-basePoint-").concat(O))):k&&I.push(null),I}),an(E,"renderGraphicChild",function(A,M,R){var P=E.filterFormatItem(A,M,R);if(!P)return null;var O=E.getTooltipEventType(),k=E.state,I=k.isTooltipActive,F=k.tooltipAxis,L=k.activeTooltipIndex,V=k.activeLabel,z=E.props.children,K=lo(z,co),j=P.props,U=j.points,$=j.isRange,G=j.baseLine,X=P.item.type.defaultProps!==void 0?Qe(Qe({},P.item.type.defaultProps),P.item.props):P.item.props,Q=X.activeDot,oe=X.hide,de=X.activeBar,ae=X.activeShape,ne=!!(!oe&&I&&K&&(Q||de||ae)),ve={};O!=="axis"&&K&&K.props.trigger==="click"?ve={onClick:AT(E.handleItemMouseEnter,A.props.onClick)}:O!=="axis"&&(ve={onMouseLeave:AT(E.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:AT(E.handleItemMouseEnter,A.props.onMouseEnter)});var ge=T.cloneElement(A,Qe(Qe({},P.props),ve));function _e(me){return typeof F.dataKey=="function"?F.dataKey(me.payload):null}if(ne)if(L>=0){var ye,ce;if(F.dataKey&&!F.allowDuplicatedCategory){var De=typeof F.dataKey=="function"?_e:"payload.".concat(F.dataKey.toString());ye=v2(U,De,V),ce=$&&G&&v2(G,De,V)}else ye=U==null?void 0:U[L],ce=$&&G&&G[L];if(ae||de){var Ee=A.props.activeIndex!==void 0?A.props.activeIndex:L;return[T.cloneElement(A,Qe(Qe(Qe({},P.props),ve),{},{activeIndex:Ee})),null,null]}if(!Sn(ye))return[ge].concat($0(E.renderActivePoints({item:P,activePoint:ye,basePoint:ce,childIndex:L,isRange:$})))}else{var Z,Me=(Z=E.getItemByXY(E.state.activeCoordinate))!==null&&Z!==void 0?Z:{graphicalItem:ge},Oe=Me.graphicalItem,Ce=Oe.item,Ne=Ce===void 0?A:Ce,ee=Oe.childIndex,te=Qe(Qe(Qe({},P.props),ve),{},{activeIndex:ee});return[T.cloneElement(Ne,te),null,null]}return $?[ge,null,null]:[ge,null]}),an(E,"renderCustomized",function(A,M,R){return T.cloneElement(A,Qe(Qe({key:"recharts-customized-".concat(R)},E.props),E.state))}),an(E,"renderMap",{CartesianGrid:{handler:OT,once:!0},ReferenceArea:{handler:E.renderReferenceElement},ReferenceLine:{handler:OT},ReferenceDot:{handler:E.renderReferenceElement},XAxis:{handler:OT},YAxis:{handler:OT},Brush:{handler:E.renderBrush,once:!0},Bar:{handler:E.renderGraphicChild},Line:{handler:E.renderGraphicChild},Area:{handler:E.renderGraphicChild},Radar:{handler:E.renderGraphicChild},RadialBar:{handler:E.renderGraphicChild},Scatter:{handler:E.renderGraphicChild},Pie:{handler:E.renderGraphicChild},Funnel:{handler:E.renderGraphicChild},Tooltip:{handler:E.renderCursor,once:!0},PolarGrid:{handler:E.renderPolarGrid,once:!0},PolarAngleAxis:{handler:E.renderPolarAxis},PolarRadiusAxis:{handler:E.renderPolarAxis},Customized:{handler:E.renderCustomized}}),E.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:Ey("recharts"),"-clip"),E.throttleTriggeredAfterMouseMove=Vde(E.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),E.state={},E}return $gt(y,v),Ugt(y,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,E=_.data,A=_.height,M=_.layout,R=lo(S,co);if(R){var P=R.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var O=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,k=JF(this.state,E,P,O),I=this.state.tooltipTicks[P].coordinate,F=(this.state.offset.top+A)/2,L=M==="horizontal",V=L?{x:I,y:F}:{y:I,x:F},z=this.state.formattedGraphicalItems.find(function(j){var U=j.item;return U.type.name==="Scatter"});z&&(V=Qe(Qe({},V),z.props.points[P].tooltipPosition),k=z.props.points[P].tooltipPayload);var K={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:O,activePayload:k,activeCoordinate:V};this.setState(K),this.renderCursor(R),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var E,A;this.accessibilityManager.setDetails({offset:{left:(E=this.props.margin.left)!==null&&E!==void 0?E:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(_){Mj([lo(_.children,co)],[lo(this.props.children,co)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=lo(this.props.children,co);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,E=S.getBoundingClientRect(),A=Wnt(E),M={chartX:Math.round(_.pageX-A.left),chartY:Math.round(_.pageY-A.top)},R=E.width/S.offsetWidth||1,P=this.inRange(M.chartX,M.chartY,R);if(!P)return null;var O=this.state,k=O.xAxisMap,I=O.yAxisMap,F=this.getTooltipEventType(),L=PZ(this.state,this.props.data,this.props.layout,P);if(F!=="axis"&&k&&I){var V=Ud(k).scale,z=Ud(I).scale,K=V&&V.invert?V.invert(M.chartX):null,j=z&&z.invert?z.invert(M.chartY):null;return Qe(Qe({},M),{},{xValue:K,yValue:j},L)}return L?Qe(Qe({},M),L):null}},{key:"inRange",value:function(_,S){var E=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,M=_/E,R=S/E;if(A==="horizontal"||A==="vertical"){var P=this.state.offset,O=M>=P.left&&M<=P.left+P.width&&R>=P.top&&R<=P.top+P.height;return O?{x:M,y:R}:null}var k=this.state,I=k.angleAxisMap,F=k.radiusAxisMap;if(I&&F){var L=Ud(I);return eY({x:M,y:R},L)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),E=lo(_,co),A={};E&&S==="axis"&&(E.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=y2(this.props,this.handleOuterEvent);return Qe(Qe({},M),A)}},{key:"addListener",value:function(){Ok.on(Nk,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){Ok.removeListener(Nk,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,E){for(var A=this.state.formattedGraphicalItems,M=0,R=A.length;M<R;M++){var P=A[M];if(P.item===_||P.props.key===_.key||S===Ru(P.item.type)&&E===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,E=S.left,A=S.top,M=S.height,R=S.width;return ie.createElement("defs",null,ie.createElement("clipPath",{id:_},ie.createElement("rect",{x:E,y:A,height:M,width:R})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,E){var A=AZ(E,2),M=A[0],R=A[1];return Qe(Qe({},S),{},an({},M,R.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,E){var A=AZ(E,2),M=A[0],R=A[1];return Qe(Qe({},S),{},an({},M,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,E=S.formattedGraphicalItems,A=S.activeItem;if(E&&E.length)for(var M=0,R=E.length;M<R;M++){var P=E[M],O=P.props,k=P.item,I=k.type.defaultProps!==void 0?Qe(Qe({},k.type.defaultProps),k.props):k.props,F=Ru(k.type);if(F==="Bar"){var L=(O.data||[]).find(function(j){return Cut(_,j)});if(L)return{graphicalItem:P,payload:L}}else if(F==="RadialBar"){var V=(O.data||[]).find(function(j){return eY(_,j)});if(V)return{graphicalItem:P,payload:V}}else if(cO(P,A)||uO(P,A)||_1(P,A)){var z=gft({graphicalItem:P,activeTooltipItem:A,itemData:I.data}),K=I.activeIndex===void 0?z:I.activeIndex;return{graphicalItem:Qe(Qe({},P),{},{childIndex:K}),payload:_1(P,A)?I.data[z]:P.props.data[z]}}}return null}},{key:"render",value:function(){var _=this;if(!HX(this))return null;var S=this.props,E=S.children,A=S.className,M=S.width,R=S.height,P=S.style,O=S.compact,k=S.title,I=S.desc,F=MZ(S,Ngt),L=nn(F,!1);if(O)return ie.createElement(lZ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement(Pj,cv({},L,{width:M,height:R,title:k,desc:I}),this.renderClipPath(),WX(E,this.renderMap)));if(this.props.accessibilityLayer){var V,z;L.tabIndex=(V=this.props.tabIndex)!==null&&V!==void 0?V:0,L.role=(z=this.props.role)!==null&&z!==void 0?z:"application",L.onKeyDown=function(j){_.accessibilityManager.keyboardEvent(j)},L.onFocus=function(){_.accessibilityManager.focus()}}var K=this.parseEventsOfWrapper();return ie.createElement(lZ,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ie.createElement("div",cv({className:Mn("recharts-wrapper",A),style:Qe({position:"relative",cursor:"default",width:M,height:R},P)},K,{ref:function(U){_.container=U}}),ie.createElement(Pj,cv({},L,{width:M,height:R,title:k,desc:I,style:Kgt}),this.renderClipPath(),WX(E,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);an(m,"displayName",n),an(m,"defaultProps",Qe({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},d)),an(m,"getDerivedStateFromProps",function(v,y){var w=v.dataKey,_=v.data,S=v.children,E=v.width,A=v.height,M=v.layout,R=v.stackOffset,P=v.margin,O=y.dataStartIndex,k=y.dataEndIndex;if(y.updateId===void 0){var I=RZ(v);return Qe(Qe(Qe({},I),{},{updateId:0},h(Qe(Qe({props:v},I),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:A,prevLayout:M,prevStackOffset:R,prevMargin:P,prevChildren:S})}if(w!==y.prevDataKey||_!==y.prevData||E!==y.prevWidth||A!==y.prevHeight||M!==y.prevLayout||R!==y.prevStackOffset||!Mv(P,y.prevMargin)){var F=RZ(v),L={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},V=Qe(Qe({},PZ(y,_,M)),{},{updateId:y.updateId+1}),z=Qe(Qe(Qe({},F),L),V);return Qe(Qe(Qe({},z),h(Qe({props:v},z),y)),{},{prevDataKey:w,prevData:_,prevWidth:E,prevHeight:A,prevLayout:M,prevStackOffset:R,prevMargin:P,prevChildren:S})}if(!Mj(S,y.prevChildren)){var K,j,U,$,G=lo(S,I0),X=G&&(K=(j=G.props)===null||j===void 0?void 0:j.startIndex)!==null&&K!==void 0?K:O,Q=G&&(U=($=G.props)===null||$===void 0?void 0:$.endIndex)!==null&&U!==void 0?U:k,oe=X!==O||Q!==k,de=!Sn(_),ae=de&&!oe?y.updateId:y.updateId+1;return Qe(Qe({updateId:ae},h(Qe(Qe({props:v},y),{},{updateId:ae,dataStartIndex:X,dataEndIndex:Q}),y)),{},{prevChildren:S,dataStartIndex:X,dataEndIndex:Q})}return null}),an(m,"renderActiveDot",function(v,y,w){var _;return T.isValidElement(v)?_=T.cloneElement(v,y):pn(v)?_=v(y):_=ie.createElement(iO,y),ie.createElement(sr,{className:"recharts-active-dot",key:w},_)});var g=T.forwardRef(function(y,w){return ie.createElement(m,cv({},y,{ref:w}))});return g.displayName=m.displayName,g},ppe=Yz({chartName:"LineChart",GraphicalChild:cm,axisComponents:[{axisType:"xAxis",AxisComp:um},{axisType:"yAxis",AxisComp:dm}],formatAxisMap:Nhe}),svt=Yz({chartName:"BarChart",GraphicalChild:Tm,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:um},{axisType:"yAxis",AxisComp:dm}],formatAxisMap:Nhe}),avt=Yz({chartName:"PieChart",GraphicalChild:Qu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:lO},{axisType:"radiusAxis",AxisComp:aO}],formatAxisMap:Vot,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const kk=768;function ovt(){const[t,e]=T.useState(void 0);return T.useEffect(()=>{const n=window.matchMedia(`(max-width: ${kk-1}px)`),r=()=>{e(window.innerWidth<kk)};return n.addEventListener("change",r),e(window.innerWidth<kk),()=>n.removeEventListener("change",r)},[]),!!t}const mpe=Lie,lvt=jie,cvt=Fie,gpe=T.forwardRef(({className:t,...e},n)=>p.jsx(pP,{className:ht("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));gpe.displayName=pP.displayName;const uvt=K0("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),Zz=T.forwardRef(({side:t="right",className:e,children:n,...r},i)=>p.jsxs(cvt,{children:[p.jsx(gpe,{}),p.jsxs(mP,{ref:i,className:ht(uvt({side:t}),e),...r,children:[n,p.jsxs(Uie,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[p.jsx(Y0,{className:"h-4 w-4"}),p.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Zz.displayName=mP.displayName;const dvt=T.forwardRef(({className:t,...e},n)=>p.jsx(gP,{ref:n,className:ht("text-lg font-semibold text-foreground",t),...e}));dvt.displayName=gP.displayName;const fvt=T.forwardRef(({className:t,...e},n)=>p.jsx(vP,{ref:n,className:ht("text-sm text-muted-foreground",t),...e}));fvt.displayName=vP.displayName;function NZ({className:t,...e}){return p.jsx("div",{className:ht("animate-pulse rounded-md bg-muted",t),...e})}const hvt="sidebar:state",pvt=60*60*24*7,mvt="16rem",gvt="18rem",vvt="3rem",yvt="b",vpe=T.createContext(null);function vO(){const t=T.useContext(vpe);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const ype=T.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:i,children:s,...a},o)=>{const l=ovt(),[c,u]=T.useState(!1),[d,f]=T.useState(t),h=e??d,m=T.useCallback(w=>{const _=typeof w=="function"?w(h):w;n?n(_):f(_),document.cookie=`${hvt}=${_}; path=/; max-age=${pvt}`},[n,h]),g=T.useCallback(()=>l?u(w=>!w):m(w=>!w),[l,m,u]);T.useEffect(()=>{const w=_=>{_.key===yvt&&(_.metaKey||_.ctrlKey)&&(_.preventDefault(),g())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[g]);const v=h?"expanded":"collapsed",y=T.useMemo(()=>({state:v,open:h,setOpen:m,isMobile:l,openMobile:c,setOpenMobile:u,toggleSidebar:g}),[v,h,m,l,c,u,g]);return p.jsx(vpe.Provider,{value:y,children:p.jsx(Dte,{delayDuration:0,children:p.jsx("div",{style:{"--sidebar-width":mvt,"--sidebar-width-icon":vvt,...i},className:ht("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:o,...a,children:s})})})});ype.displayName="SidebarProvider";const xpe=T.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:i,...s},a)=>{const{isMobile:o,state:l,openMobile:c,setOpenMobile:u}=vO();return n==="none"?p.jsx("div",{className:ht("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:a,...s,children:i}):o?p.jsx(mpe,{open:c,onOpenChange:u,...s,children:p.jsx(Zz,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":gvt},side:t,children:p.jsx("div",{className:"flex h-full w-full flex-col",children:i})})}):p.jsxs("div",{ref:a,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[p.jsx("div",{className:ht("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),p.jsx("div",{className:ht("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:p.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:i})})]})});xpe.displayName="Sidebar";const bpe=T.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:i}=vO();return p.jsxs(St,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:ht("h-7 w-7",t),onClick:s=>{e==null||e(s),i()},...n,children:[p.jsx(Kxe,{}),p.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});bpe.displayName="SidebarTrigger";const wpe=T.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=vO();return p.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:ht("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});wpe.displayName="SidebarRail";const _pe=T.forwardRef(({className:t,...e},n)=>p.jsx("main",{ref:n,className:ht("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));_pe.displayName="SidebarInset";const xvt=T.forwardRef(({className:t,...e},n)=>p.jsx(mr,{ref:n,"data-sidebar":"input",className:ht("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));xvt.displayName="SidebarInput";const Spe=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,"data-sidebar":"header",className:ht("flex flex-col gap-2 p-2",t),...e}));Spe.displayName="SidebarHeader";const Epe=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,"data-sidebar":"footer",className:ht("flex flex-col gap-2 p-2",t),...e}));Epe.displayName="SidebarFooter";const bvt=T.forwardRef(({className:t,...e},n)=>p.jsx(Z1,{ref:n,"data-sidebar":"separator",className:ht("mx-2 w-auto bg-sidebar-border",t),...e}));bvt.displayName="SidebarSeparator";const Tpe=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,"data-sidebar":"content",className:ht("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));Tpe.displayName="SidebarContent";const Dg=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,"data-sidebar":"group",className:ht("relative flex w-full min-w-0 flex-col p-2",t),...e}));Dg.displayName="SidebarGroup";const Lg=T.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?mm:"div";return p.jsx(i,{ref:r,"data-sidebar":"group-label",className:ht("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});Lg.displayName="SidebarGroupLabel";const wvt=T.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const i=e?mm:"button";return p.jsx(i,{ref:r,"data-sidebar":"group-action",className:ht("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});wvt.displayName="SidebarGroupAction";const jg=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,"data-sidebar":"group-content",className:ht("w-full text-sm",t),...e}));jg.displayName="SidebarGroupContent";const $h=T.forwardRef(({className:t,...e},n)=>p.jsx("ul",{ref:n,"data-sidebar":"menu",className:ht("flex w-full min-w-0 flex-col gap-1",t),...e}));$h.displayName="SidebarMenu";const Hh=T.forwardRef(({className:t,...e},n)=>p.jsx("li",{ref:n,"data-sidebar":"menu-item",className:ht("group/menu-item relative",t),...e}));Hh.displayName="SidebarMenuItem";const _vt=K0("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),Fg=T.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:i,className:s,...a},o)=>{const l=t?mm:"button",{isMobile:c,state:u}=vO(),d=p.jsx(l,{ref:o,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:ht(_vt({variant:n,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),p.jsxs(e_e,{children:[p.jsx(t_e,{asChild:!0,children:d}),p.jsx(Lte,{side:"right",align:"center",hidden:u!=="collapsed"||c,...i})]})):d});Fg.displayName="SidebarMenuButton";const Svt=T.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},i)=>{const s=e?mm:"button";return p.jsx(s,{ref:i,"data-sidebar":"menu-action",className:ht("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});Svt.displayName="SidebarMenuAction";const Evt=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:ht("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));Evt.displayName="SidebarMenuBadge";const Tvt=T.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const i=T.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return p.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:ht("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&p.jsx(NZ,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),p.jsx(NZ,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":i}})]})});Tvt.displayName="SidebarMenuSkeleton";const Avt=T.forwardRef(({className:t,...e},n)=>p.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:ht("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));Avt.displayName="SidebarMenuSub";const Mvt=T.forwardRef(({...t},e)=>p.jsx("li",{ref:e,...t}));Mvt.displayName="SidebarMenuSubItem";const Cvt=T.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...i},s)=>{const a=t?mm:"a";return p.jsx(a,{ref:s,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:ht("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})});Cvt.displayName="SidebarMenuSubButton";function Pvt(){return rB.useSyncExternalStore(Rvt,()=>!0,()=>!1)}function Rvt(){return()=>{}}var Jz="Avatar",[Ovt,xbt]=Xs(Jz),[Nvt,Ape]=Ovt(Jz),Mpe=T.forwardRef((t,e)=>{const{__scopeAvatar:n,...r}=t,[i,s]=T.useState("idle");return p.jsx(Nvt,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:p.jsx(Lt.span,{...r,ref:e})})});Mpe.displayName=Jz;var Cpe="AvatarImage",Ppe=T.forwardRef((t,e)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=t,a=Ape(Cpe,n),o=Ivt(r,s),l=fi(c=>{i(c),a.onImageLoadingStatusChange(c)});return Mi(()=>{o!=="idle"&&l(o)},[o,l]),o==="loaded"?p.jsx(Lt.img,{...s,ref:e,src:r}):null});Ppe.displayName=Cpe;var Rpe="AvatarFallback",Ope=T.forwardRef((t,e)=>{const{__scopeAvatar:n,delayMs:r,...i}=t,s=Ape(Rpe,n),[a,o]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(l)}},[r]),a&&s.imageLoadingStatus!=="loaded"?p.jsx(Lt.span,{...i,ref:e}):null});Ope.displayName=Rpe;function IZ(t,e){return t?e?(t.src!==e&&(t.src=e),t.complete&&t.naturalWidth>0?"loaded":"loading"):"error":"idle"}function Ivt(t,{referrerPolicy:e,crossOrigin:n}){const r=Pvt(),i=T.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=T.useState(()=>IZ(s,t));return Mi(()=>{o(IZ(s,t))},[s,t]),Mi(()=>{const l=d=>()=>{o(d)};if(!s)return;const c=l("loaded"),u=l("error");return s.addEventListener("load",c),s.addEventListener("error",u),e&&(s.referrerPolicy=e),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",c),s.removeEventListener("error",u)}},[s,n,e]),a}var Npe=Mpe,Ipe=Ppe,kpe=Ope;const Dpe=T.forwardRef(({className:t,...e},n)=>p.jsx(Npe,{ref:n,className:ht("relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full",t),...e}));Dpe.displayName=Npe.displayName;const Lpe=T.forwardRef(({className:t,...e},n)=>p.jsx(Ipe,{ref:n,className:ht("aspect-square h-full w-full",t),...e}));Lpe.displayName=Ipe.displayName;const jpe=T.forwardRef(({className:t,...e},n)=>p.jsx(kpe,{ref:n,className:ht("flex h-full w-full items-center justify-center rounded-full bg-muted",t),...e}));jpe.displayName=kpe.displayName;function kvt(){var o,l;const{pathname:t}=qu(),{user:e,signOut:n}=J1(),r=[{title:"Dashboard",url:"/dashboard",icon:zxe},{title:"Experience",url:"/experience",icon:lf}],i=[{title:"Users",url:"/dashboard/users",icon:Wv},{title:"Training Modules",url:"/dashboard/modules",icon:pw},{title:"AI Guide",url:"/dashboard/ai-guide",icon:Xv},{title:"Environments",url:"/dashboard/environments",icon:lf}],s=[{title:"Live Sessions",url:"/dashboard/live-sessions",icon:ND},{title:"Analytics",url:"/dashboard/analytics",icon:Xee}],a=[{title:"Assets Manager",url:"/dashboard/assets",icon:lf}];return p.jsxs(xpe,{collapsible:"icon",children:[p.jsx(Spe,{children:p.jsxs("div",{className:"flex items-center gap-2 px-2 py-2",children:[p.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-lg bg-primary text-primary-foreground",children:p.jsx(Xv,{className:"size-4"})}),p.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight",children:[p.jsx("span",{className:"truncate font-semibold",children:"NextVerse"}),p.jsx("span",{className:"truncate text-xs",children:"Enterprise"})]})]})}),p.jsxs(Tpe,{children:[p.jsxs(Dg,{children:[p.jsx(Lg,{children:"Main"}),p.jsx(jg,{children:p.jsx($h,{children:r.map(c=>p.jsx(Hh,{children:p.jsx(Fg,{asChild:!0,isActive:t===c.url,tooltip:c.title,className:"transition-all duration-300 hover:shadow-[0_0_20px_hsl(188,95%,52%,0.4)] hover:border-primary/50",children:p.jsxs(fr,{to:c.url,children:[p.jsx(c.icon,{}),p.jsx("span",{children:c.title})]})})},c.title))})})]}),p.jsxs(Dg,{children:[p.jsx(Lg,{children:"Management"}),p.jsx(jg,{children:p.jsx($h,{children:i.map(c=>p.jsx(Hh,{children:p.jsx(Fg,{asChild:!0,isActive:t===c.url,tooltip:c.title,className:"transition-all duration-300 hover:shadow-[0_0_20px_hsl(188,95%,52%,0.4)] hover:border-primary/50",children:p.jsxs(fr,{to:c.url,children:[p.jsx(c.icon,{}),p.jsx("span",{children:c.title})]})})},c.title))})})]}),p.jsxs(Dg,{children:[p.jsx(Lg,{children:"Monitoring"}),p.jsx(jg,{children:p.jsx($h,{children:s.map(c=>p.jsx(Hh,{children:p.jsx(Fg,{asChild:!0,isActive:t===c.url,tooltip:c.title,className:"transition-all duration-300 hover:shadow-[0_0_20px_hsl(188,95%,52%,0.4)] hover:border-primary/50",children:p.jsxs(fr,{to:c.url,children:[p.jsx(c.icon,{}),p.jsx("span",{children:c.title})]})})},c.title))})})]}),p.jsxs(Dg,{children:[p.jsx(Lg,{children:"Content"}),p.jsx(jg,{children:p.jsx($h,{children:a.map(c=>p.jsx(Hh,{children:p.jsx(Fg,{asChild:!0,isActive:t===c.url,tooltip:c.title,className:"transition-all duration-300 hover:shadow-[0_0_20px_hsl(188,95%,52%,0.4)] hover:border-primary/50",children:p.jsxs(fr,{to:c.url,children:[p.jsx(c.icon,{}),p.jsx("span",{children:c.title})]})})},c.title))})})]}),p.jsxs(Dg,{children:[p.jsx(Lg,{children:"System"}),p.jsx(jg,{children:p.jsx($h,{children:p.jsx(Hh,{children:p.jsx(Fg,{asChild:!0,tooltip:"Settings",className:"transition-all duration-300 hover:shadow-[0_0_20px_hsl(188,95%,52%,0.4)] hover:border-primary/50",children:p.jsxs(fr,{to:"/dashboard/settings",children:[p.jsx(Vee,{}),p.jsx("span",{children:"Settings"})]})})})})})]})]}),p.jsx(Epe,{children:p.jsx($h,{children:p.jsx(Hh,{children:p.jsxs("div",{className:"flex items-center gap-2 p-2",children:[p.jsxs(Dpe,{className:"h-8 w-8 rounded-lg",children:[p.jsx(Lpe,{src:(o=e==null?void 0:e.user_metadata)==null?void 0:o.avatar_url,alt:(e==null?void 0:e.email)||""}),p.jsx(jpe,{className:"rounded-lg",children:p.jsx(Wv,{className:"h-4 w-4"})})]}),p.jsxs("div",{className:"grid flex-1 text-left text-sm leading-tight group-data-[collapsible=icon]:hidden",children:[p.jsx("span",{className:"truncate font-semibold",children:((l=e==null?void 0:e.user_metadata)==null?void 0:l.first_name)||"User"}),p.jsx("span",{className:"truncate text-xs",children:e==null?void 0:e.email})]}),p.jsx(St,{variant:"ghost",size:"icon",className:"ml-auto h-8 w-8 group-data-[collapsible=icon]:hidden",onClick:()=>n(),children:p.jsx($xe,{className:"h-4 w-4"})})]})})})}),p.jsx(wpe,{})]})}const Fpe=T.forwardRef(({...t},e)=>p.jsx("nav",{ref:e,"aria-label":"breadcrumb",...t}));Fpe.displayName="Breadcrumb";const Upe=T.forwardRef(({className:t,...e},n)=>p.jsx("ol",{ref:n,className:ht("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",t),...e}));Upe.displayName="BreadcrumbList";const QF=T.forwardRef(({className:t,...e},n)=>p.jsx("li",{ref:n,className:ht("inline-flex items-center gap-1.5",t),...e}));QF.displayName="BreadcrumbItem";const Bpe=T.forwardRef(({asChild:t,className:e,...n},r)=>{const i=t?mm:"a";return p.jsx(i,{ref:r,className:ht("transition-colors hover:text-foreground",e),...n})});Bpe.displayName="BreadcrumbLink";const zpe=T.forwardRef(({className:t,...e},n)=>p.jsx("span",{ref:n,role:"link","aria-disabled":"true","aria-current":"page",className:ht("font-normal text-foreground",t),...e}));zpe.displayName="BreadcrumbPage";const Vpe=({children:t,className:e,...n})=>p.jsx("li",{role:"presentation","aria-hidden":"true",className:ht("[&>svg]:size-3.5",e),...n,children:t??p.jsx(Fee,{})});Vpe.displayName="BreadcrumbSeparator";function ed({children:t}){const n=qu().pathname.split("/").filter(Boolean);return p.jsxs(ype,{children:[p.jsx(kvt,{}),p.jsxs(_pe,{children:[p.jsx("header",{className:"flex h-16 shrink-0 items-center gap-2 transition-[width,height] ease-linear group-has-[[data-collapsible=icon]]/sidebar-wrapper:h-12",children:p.jsxs("div",{className:"flex items-center gap-2 px-4",children:[p.jsx(bpe,{className:"-ml-1"}),p.jsx(Z1,{orientation:"vertical",className:"mr-2 h-4"}),p.jsx(Fpe,{children:p.jsxs(Upe,{children:[p.jsx(QF,{className:"hidden md:block",children:p.jsx(Bpe,{href:"/dashboard",children:"Dashboard"})}),n.length>1&&p.jsxs(p.Fragment,{children:[p.jsx(Vpe,{className:"hidden md:block"}),p.jsx(QF,{children:p.jsx(zpe,{className:"capitalize",children:n[n.length-1]})})]})]})})]})}),p.jsx("div",{className:"flex flex-1 flex-col gap-4 p-4 pt-0",children:t})]})]})}const Dvt=[{name:"Mon",hours:2},{name:"Tue",hours:1.5},{name:"Wed",hours:3},{name:"Thu",hours:2.5},{name:"Fri",hours:4},{name:"Sat",hours:1},{name:"Sun",hours:2}],Lvt=()=>{var i;const{user:t}=J1(),e=((i=t==null?void 0:t.user_metadata)==null?void 0:i.first_name)||"Learner",n={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},r={hidden:{y:20,opacity:0},show:{y:0,opacity:1}};return p.jsx(ed,{children:p.jsxs(Jt.div,{variants:n,initial:"hidden",animate:"show",className:"space-y-8",children:[p.jsxs(Jt.div,{variants:r,className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-4xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"Dashboard"}),p.jsxs("p",{className:"text-muted-foreground mt-2",children:["Welcome back, ",e,"! You're on a 3-day streak."]})]}),p.jsx(fr,{to:"/experience",children:p.jsxs(St,{size:"lg",className:"gap-2 shadow-lg shadow-primary/25",children:[p.jsx(Yxe,{className:"w-4 h-4"})," Resume Training"]})})]}),p.jsxs(Jt.div,{variants:r,className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-colors",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Total Modules"}),p.jsx(pw,{className:"w-4 h-4 text-primary"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"12/24"}),p.jsx(SR,{value:50,className:"mt-2 h-1"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-colors",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Time Spent"}),p.jsx(BA,{className:"w-4 h-4 text-blue-400"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"14.5h"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+2.5h from last week"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-colors",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Skill Score"}),p.jsx(ND,{className:"w-4 h-4 text-green-400"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"850"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Top 10% of learners"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-colors",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Certificates"}),p.jsx(Xee,{className:"w-4 h-4 text-yellow-400"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"3"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Latest: Industrial Safety"})]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[p.jsx(Jt.div,{variants:r,className:"lg:col-span-2",children:p.jsxs(xn,{className:"h-full bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"Learning Activity"}),p.jsx(br,{children:"Your study hours over the last 7 days"})]}),p.jsx(On,{className:"h-[300px]",children:p.jsx(dA,{width:"100%",height:"100%",children:p.jsxs(ppe,{data:Dvt,children:[p.jsx(pC,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),p.jsx(um,{dataKey:"name",stroke:"#888",tickLine:!1,axisLine:!1}),p.jsx(dm,{stroke:"#888",tickLine:!1,axisLine:!1}),p.jsx(co,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"8px"}}),p.jsx(cm,{type:"monotone",dataKey:"hours",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4,fill:"#8b5cf6"},activeDot:{r:6,fill:"#fff"}})]})})})]})}),p.jsxs(Jt.div,{variants:r,className:"space-y-6",children:[p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"Continue Learning"}),p.jsx(br,{children:"Pick up where you left off"})]}),p.jsxs(On,{className:"space-y-4",children:[p.jsxs("div",{className:"group flex items-center gap-4 p-3 rounded-xl bg-accent/50 hover:bg-accent transition-colors cursor-pointer border border-transparent hover:border-primary/20",children:[p.jsx("div",{className:"h-12 w-12 rounded-lg bg-primary/20 flex items-center justify-center text-primary group-hover:scale-110 transition-transform",children:p.jsx(lf,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-medium group-hover:text-primary transition-colors",children:"Industrial Safety"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Module 2  45% Complete"})]}),p.jsx(St,{size:"icon",variant:"ghost",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(yf,{className:"w-4 h-4"})})]}),p.jsxs("div",{className:"group flex items-center gap-4 p-3 rounded-xl bg-accent/50 hover:bg-accent transition-colors cursor-pointer border border-transparent hover:border-primary/20",children:[p.jsx("div",{className:"h-12 w-12 rounded-lg bg-blue-500/20 flex items-center justify-center text-blue-400 group-hover:scale-110 transition-transform",children:p.jsx(ND,{className:"w-6 h-6"})}),p.jsxs("div",{className:"flex-1",children:[p.jsx("h4",{className:"font-medium group-hover:text-blue-400 transition-colors",children:"Assembly Basics"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Module 1  Completed"})]}),p.jsx(St,{size:"icon",variant:"ghost",className:"opacity-0 group-hover:opacity-100 transition-opacity",children:p.jsx(yf,{className:"w-4 h-4"})})]})]})]}),p.jsx(xn,{className:"bg-gradient-to-br from-primary/20 to-purple-900/20 border-primary/20",children:p.jsxs(On,{className:"p-6",children:[p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Pro Tip"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Use VR mode for 2x faster skill retention. Connect your headset to start immersive training."}),p.jsx(St,{variant:"outline",className:"w-full border-primary/50 hover:bg-primary/10",children:"Setup VR Headset"})]})})]})]})]})})},$pe=T.forwardRef(({className:t,...e},n)=>p.jsx("div",{className:"relative w-full overflow-auto",children:p.jsx("table",{ref:n,className:ht("w-full caption-bottom text-sm",t),...e})}));$pe.displayName="Table";const Hpe=T.forwardRef(({className:t,...e},n)=>p.jsx("thead",{ref:n,className:ht("[&_tr]:border-b",t),...e}));Hpe.displayName="TableHeader";const Gpe=T.forwardRef(({className:t,...e},n)=>p.jsx("tbody",{ref:n,className:ht("[&_tr:last-child]:border-0",t),...e}));Gpe.displayName="TableBody";const jvt=T.forwardRef(({className:t,...e},n)=>p.jsx("tfoot",{ref:n,className:ht("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));jvt.displayName="TableFooter";const eU=T.forwardRef(({className:t,...e},n)=>p.jsx("tr",{ref:n,className:ht("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));eU.displayName="TableRow";const Gh=T.forwardRef(({className:t,...e},n)=>p.jsx("th",{ref:n,className:ht("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Gh.displayName="TableHead";const Wh=T.forwardRef(({className:t,...e},n)=>p.jsx("td",{ref:n,className:ht("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Wh.displayName="TableCell";const Fvt=T.forwardRef(({className:t,...e},n)=>p.jsx("caption",{ref:n,className:ht("mt-4 text-sm text-muted-foreground",t),...e}));Fvt.displayName="TableCaption";const Uvt=()=>{const t=[{id:1,name:"John Doe",email:"john@example.com",role:"Admin",status:"Active",modules:12},{id:2,name:"Jane Smith",email:"jane@example.com",role:"Trainee",status:"Active",modules:8},{id:3,name:"Mike Johnson",email:"mike@example.com",role:"Instructor",status:"Active",modules:15}];return p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"User Management"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage users, roles, and permissions"})]}),p.jsxs(St,{className:"gap-2",children:[p.jsx(zee,{className:"w-4 h-4"}),"Add User"]})]}),p.jsx("div",{className:"flex gap-4",children:p.jsxs("div",{className:"relative flex-1",children:[p.jsx(a4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(mr,{placeholder:"Search users...",className:"pl-10"})]})}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"All Users"}),p.jsx(br,{children:"Manage your platform users and their access"})]}),p.jsx(On,{children:p.jsxs($pe,{children:[p.jsx(Hpe,{children:p.jsxs(eU,{children:[p.jsx(Gh,{children:"Name"}),p.jsx(Gh,{children:"Email"}),p.jsx(Gh,{children:"Role"}),p.jsx(Gh,{children:"Status"}),p.jsx(Gh,{children:"Modules"}),p.jsx(Gh,{className:"text-right",children:"Actions"})]})}),p.jsx(Gpe,{children:t.map(e=>p.jsxs(eU,{children:[p.jsx(Wh,{className:"font-medium",children:e.name}),p.jsx(Wh,{children:e.email}),p.jsx(Wh,{children:p.jsxs(Ui,{variant:e.role==="Admin"?"default":"secondary",className:"gap-1",children:[p.jsx($ee,{className:"w-3 h-3"}),e.role]})}),p.jsx(Wh,{children:p.jsx(Ui,{variant:"outline",className:"border-green-500/50 text-green-400",children:e.status})}),p.jsxs(Wh,{children:[e.modules,"/24"]}),p.jsx(Wh,{className:"text-right",children:p.jsxs("div",{className:"flex gap-2 justify-end",children:[p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(Gee,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(qT,{className:"w-4 h-4"})})]})})]},e.id))})]})})]})]})})},Bvt=()=>{const t=[{id:1,title:"Industrial Safety Basics",difficulty:"Beginner",status:"Published",completion:85,users:24},{id:2,title:"Assembly Line Operations",difficulty:"Intermediate",status:"Published",completion:65,users:18},{id:3,title:"Hazard Identification",difficulty:"Advanced",status:"Draft",completion:0,users:0}];return p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"Training Modules"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Create and manage VR/AR training content"})]}),p.jsxs(St,{className:"gap-2",children:[p.jsx(zee,{className:"w-4 h-4"}),"Create Module"]})]}),p.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map(e=>p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-all",children:[p.jsx(Fn,{children:p.jsxs("div",{className:"flex justify-between items-start",children:[p.jsxs("div",{className:"flex-1",children:[p.jsx(Un,{className:"text-lg",children:e.title}),p.jsx(br,{className:"mt-1",children:p.jsx(Ui,{variant:"outline",className:"text-xs",children:e.difficulty})})]}),p.jsx(Ui,{variant:e.status==="Published"?"default":"secondary",children:e.status})]})}),p.jsxs(On,{className:"space-y-4",children:[p.jsxs("div",{children:[p.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[p.jsx("span",{className:"text-muted-foreground",children:"Completion Rate"}),p.jsxs("span",{className:"font-medium",children:[e.completion,"%"]})]}),p.jsx(SR,{value:e.completion,className:"h-2"})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Active Users"}),p.jsx("span",{className:"font-medium",children:e.users})]}),p.jsxs("div",{className:"flex gap-2 pt-2",children:[p.jsxs(St,{variant:"outline",size:"sm",className:"flex-1 gap-2",children:[p.jsx(mw,{className:"w-3 h-3"}),"Preview"]}),p.jsxs(St,{variant:"outline",size:"sm",className:"flex-1 gap-2",children:[p.jsx(Gee,{className:"w-3 h-3"}),"Edit"]}),p.jsx(St,{variant:"ghost",size:"sm",children:e.status==="Published"?p.jsx(zA,{className:"w-4 h-4"}):p.jsx(Vxe,{className:"w-4 h-4"})})]})]})]},e.id))})]})})};var yO="Switch",[zvt,bbt]=Xs(yO),[Vvt,$vt]=zvt(yO),Wpe=T.forwardRef((t,e)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:l="on",onCheckedChange:c,form:u,...d}=t,[f,h]=T.useState(null),m=mn(e,_=>h(_)),g=T.useRef(!1),v=f?u||!!f.closest("form"):!0,[y,w]=Xl({prop:i,defaultProp:s??!1,onChange:c,caller:yO});return p.jsxs(Vvt,{scope:n,checked:y,disabled:o,children:[p.jsx(Lt.button,{type:"button",role:"switch","aria-checked":y,"aria-required":a,"data-state":Ype(y),"data-disabled":o?"":void 0,disabled:o,value:l,...d,ref:m,onClick:vt(t.onClick,_=>{w(S=>!S),v&&(g.current=_.isPropagationStopped(),g.current||_.stopPropagation())})}),v&&p.jsx(Kpe,{control:f,bubbles:!g.current,name:r,value:l,checked:y,required:a,disabled:o,form:u,style:{transform:"translateX(-100%)"}})]})});Wpe.displayName=yO;var Xpe="SwitchThumb",qpe=T.forwardRef((t,e)=>{const{__scopeSwitch:n,...r}=t,i=$vt(Xpe,n);return p.jsx(Lt.span,{"data-state":Ype(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:e})});qpe.displayName=Xpe;var Hvt="SwitchBubbleInput",Kpe=T.forwardRef(({__scopeSwitch:t,control:e,checked:n,bubbles:r=!0,...i},s)=>{const a=T.useRef(null),o=mn(a,s),l=yP(n),c=XC(e);return T.useEffect(()=>{const u=a.current;if(!u)return;const d=window.HTMLInputElement.prototype,h=Object.getOwnPropertyDescriptor(d,"checked").set;if(l!==n&&h){const m=new Event("click",{bubbles:r});h.call(u,n),u.dispatchEvent(m)}},[l,n,r]),p.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...i.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Kpe.displayName=Hvt;function Ype(t){return t?"checked":"unchecked"}var Zpe=Wpe,Gvt=qpe;const Us=T.forwardRef(({className:t,...e},n)=>p.jsx(Zpe,{className:ht("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50",t),...e,ref:n,children:p.jsx(Gvt,{className:ht("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Us.displayName=Zpe.displayName;const Wvt=()=>p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"AI Guide Configuration"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure your AI instructor's behavior and responses"})]}),p.jsxs(gm,{defaultValue:"personality",className:"space-y-6",children:[p.jsxs(Bf,{className:"grid w-full grid-cols-3",children:[p.jsx(Bi,{value:"personality",children:"Personality"}),p.jsx(Bi,{value:"dialogues",children:"Dialogues"}),p.jsx(Bi,{value:"voice",children:"Voice Settings"})]}),p.jsx(Yi,{value:"personality",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Xv,{className:"w-5 h-5 text-primary"}),"AI Personality"]}),p.jsx(br,{children:"Define how your AI guide interacts with trainees"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Personality Type"}),p.jsxs(_u,{defaultValue:"friendly",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"friendly",children:"Friendly & Encouraging"}),p.jsx(Pn,{value:"professional",children:"Professional & Formal"}),p.jsx(Pn,{value:"strict",children:"Strict & Direct"}),p.jsx(Pn,{value:"gamified",children:"Gamified & Fun"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Response Speed"}),p.jsxs(_u,{defaultValue:"normal",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"instant",children:"Instant"}),p.jsx(Pn,{value:"normal",children:"Normal (1-2s)"}),p.jsx(Pn,{value:"slow",children:"Slow (3-4s)"})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Enable Hints"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"AI can provide hints when user struggles"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Adaptive Difficulty"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"AI adjusts based on user performance"})]}),p.jsx(Us,{defaultChecked:!0})]})]})]})}),p.jsx(Yi,{value:"dialogues",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Bee,{className:"w-5 h-5 text-primary"}),"Dialogue Templates"]}),p.jsx(br,{children:"Customize AI messages for different scenarios"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Welcome Message"}),p.jsx(sp,{placeholder:"Enter welcome message...",defaultValue:"Welcome to NextVerse! I'm your AI guide. Let's start your training journey.",rows:3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Success Message"}),p.jsx(sp,{placeholder:"Enter success message...",defaultValue:"Excellent work! You've completed this step correctly.",rows:3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Error Message"}),p.jsx(sp,{placeholder:"Enter error message...",defaultValue:"Not quite right. Let me help you understand what went wrong.",rows:3})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Hint Message"}),p.jsx(sp,{placeholder:"Enter hint message...",defaultValue:"Here's a tip: Try focusing on the highlighted object.",rows:3})]}),p.jsx(St,{className:"w-full",children:"Save Dialogues"})]})]})}),p.jsx(Yi,{value:"voice",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(KT,{className:"w-5 h-5 text-primary"}),"Voice Configuration"]}),p.jsx(br,{children:"Configure text-to-speech settings"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Voice Mode"}),p.jsxs(_u,{defaultValue:"tts",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"text",children:"Text Only"}),p.jsx(Pn,{value:"tts",children:"Text-to-Speech"}),p.jsx(Pn,{value:"avatar",children:"Avatar Mode"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Voice Language"}),p.jsxs(_u,{defaultValue:"en",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"en",children:"English (US)"}),p.jsx(Pn,{value:"fr",children:"French"}),p.jsx(Pn,{value:"ar",children:"Arabic"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Speech Rate"}),p.jsx(mr,{type:"range",min:"0.5",max:"2",step:"0.1",defaultValue:"1"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"1.0x (Normal)"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Pitch"}),p.jsx(mr,{type:"range",min:"0.5",max:"2",step:"0.1",defaultValue:"1"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"1.0x (Normal)"})]}),p.jsx(St,{className:"w-full",children:"Test Voice"})]})]})})]})]})});var Jpe=["PageUp","PageDown"],Qpe=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],eme={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Ny="Slider",[tU,Xvt,qvt]=F1(Ny),[tme,wbt]=Xs(Ny,[qvt]),[Kvt,xO]=tme(Ny),nme=T.forwardRef((t,e)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:l=0,defaultValue:c=[r],value:u,onValueChange:d=()=>{},onValueCommit:f=()=>{},inverted:h=!1,form:m,...g}=t,v=T.useRef(new Set),y=T.useRef(0),_=a==="horizontal"?Yvt:Zvt,[S=[],E]=Xl({prop:u,defaultProp:c,onChange:k=>{var F;(F=[...v.current][y.current])==null||F.focus(),d(k)}}),A=T.useRef(S);function M(k){const I=n0t(S,k);O(k,I)}function R(k){O(k,y.current)}function P(){const k=A.current[y.current];S[y.current]!==k&&f(S)}function O(k,I,{commit:F}={commit:!1}){const L=a0t(s),V=o0t(Math.round((k-r)/s)*s+r,L),z=Rw(V,[r,i]);E((K=[])=>{const j=e0t(K,z,I);if(s0t(j,l*s)){y.current=j.indexOf(z);const U=String(j)!==String(K);return U&&F&&f(j),U?j:K}else return K})}return p.jsx(Kvt,{scope:t.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:y,thumbs:v.current,values:S,orientation:a,form:m,children:p.jsx(tU.Provider,{scope:t.__scopeSlider,children:p.jsx(tU.Slot,{scope:t.__scopeSlider,children:p.jsx(_,{"aria-disabled":o,"data-disabled":o?"":void 0,...g,ref:e,onPointerDown:vt(g.onPointerDown,()=>{o||(A.current=S)}),min:r,max:i,inverted:h,onSlideStart:o?void 0:M,onSlideMove:o?void 0:R,onSlideEnd:o?void 0:P,onHomeKeyDown:()=>!o&&O(r,0,{commit:!0}),onEndKeyDown:()=>!o&&O(i,S.length-1,{commit:!0}),onStepKeyDown:({event:k,direction:I})=>{if(!o){const V=Jpe.includes(k.key)||k.shiftKey&&Qpe.includes(k.key)?10:1,z=y.current,K=S[z],j=s*V*I;O(K+j,z,{commit:!0})}}})})})})});nme.displayName=Ny;var[rme,ime]=tme(Ny,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Yvt=T.forwardRef((t,e)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:l,onStepKeyDown:c,...u}=t,[d,f]=T.useState(null),h=mn(e,_=>f(_)),m=T.useRef(void 0),g=sy(i),v=g==="ltr",y=v&&!s||!v&&s;function w(_){const S=m.current||d.getBoundingClientRect(),E=[0,S.width],M=Qz(E,y?[n,r]:[r,n]);return m.current=S,M(_-S.left)}return p.jsx(rme,{scope:t.__scopeSlider,startEdge:y?"left":"right",endEdge:y?"right":"left",direction:y?1:-1,size:"width",children:p.jsx(sme,{dir:g,"data-orientation":"horizontal",...u,ref:h,style:{...u.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:_=>{const S=w(_.clientX);a==null||a(S)},onSlideMove:_=>{const S=w(_.clientX);o==null||o(S)},onSlideEnd:()=>{m.current=void 0,l==null||l()},onStepKeyDown:_=>{const E=eme[y?"from-left":"from-right"].includes(_.key);c==null||c({event:_,direction:E?-1:1})}})})}),Zvt=T.forwardRef((t,e)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:l,...c}=t,u=T.useRef(null),d=mn(e,u),f=T.useRef(void 0),h=!i;function m(g){const v=f.current||u.current.getBoundingClientRect(),y=[0,v.height],_=Qz(y,h?[r,n]:[n,r]);return f.current=v,_(g-v.top)}return p.jsx(rme,{scope:t.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1,children:p.jsx(sme,{"data-orientation":"vertical",...c,ref:d,style:{...c.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:g=>{const v=m(g.clientY);s==null||s(v)},onSlideMove:g=>{const v=m(g.clientY);a==null||a(v)},onSlideEnd:()=>{f.current=void 0,o==null||o()},onStepKeyDown:g=>{const y=eme[h?"from-bottom":"from-top"].includes(g.key);l==null||l({event:g,direction:y?-1:1})}})})}),sme=T.forwardRef((t,e)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:l,...c}=t,u=xO(Ny,n);return p.jsx(Lt.span,{...c,ref:e,onKeyDown:vt(t.onKeyDown,d=>{d.key==="Home"?(a(d),d.preventDefault()):d.key==="End"?(o(d),d.preventDefault()):Jpe.concat(Qpe).includes(d.key)&&(l(d),d.preventDefault())}),onPointerDown:vt(t.onPointerDown,d=>{const f=d.target;f.setPointerCapture(d.pointerId),d.preventDefault(),u.thumbs.has(f)?f.focus():r(d)}),onPointerMove:vt(t.onPointerMove,d=>{d.target.hasPointerCapture(d.pointerId)&&i(d)}),onPointerUp:vt(t.onPointerUp,d=>{const f=d.target;f.hasPointerCapture(d.pointerId)&&(f.releasePointerCapture(d.pointerId),s(d))})})}),ame="SliderTrack",ome=T.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=xO(ame,n);return p.jsx(Lt.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:e})});ome.displayName=ame;var nU="SliderRange",lme=T.forwardRef((t,e)=>{const{__scopeSlider:n,...r}=t,i=xO(nU,n),s=ime(nU,n),a=T.useRef(null),o=mn(e,a),l=i.values.length,c=i.values.map(f=>dme(f,i.min,i.max)),u=l>1?Math.min(...c):0,d=100-Math.max(...c);return p.jsx(Lt.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...t.style,[s.startEdge]:u+"%",[s.endEdge]:d+"%"}})});lme.displayName=nU;var rU="SliderThumb",cme=T.forwardRef((t,e)=>{const n=Xvt(t.__scopeSlider),[r,i]=T.useState(null),s=mn(e,o=>i(o)),a=T.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return p.jsx(Jvt,{...t,ref:s,index:a})}),Jvt=T.forwardRef((t,e)=>{const{__scopeSlider:n,index:r,name:i,...s}=t,a=xO(rU,n),o=ime(rU,n),[l,c]=T.useState(null),u=mn(e,w=>c(w)),d=l?a.form||!!l.closest("form"):!0,f=XC(l),h=a.values[r],m=h===void 0?0:dme(h,a.min,a.max),g=t0t(r,a.values.length),v=f==null?void 0:f[o.size],y=v?r0t(v,m,o.direction):0;return T.useEffect(()=>{if(l)return a.thumbs.add(l),()=>{a.thumbs.delete(l)}},[l,a.thumbs]),p.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${m}% + ${y}px)`},children:[p.jsx(tU.ItemSlot,{scope:t.__scopeSlider,children:p.jsx(Lt.span,{role:"slider","aria-label":t["aria-label"]||g,"aria-valuemin":a.min,"aria-valuenow":h,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:u,style:h===void 0?{display:"none"}:t.style,onFocus:vt(t.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),d&&p.jsx(ume,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:h},r)]})});cme.displayName=rU;var Qvt="RadioBubbleInput",ume=T.forwardRef(({__scopeSlider:t,value:e,...n},r)=>{const i=T.useRef(null),s=mn(i,r),a=yP(e);return T.useEffect(()=>{const o=i.current;if(!o)return;const l=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(l,"value").set;if(a!==e&&u){const d=new Event("input",{bubbles:!0});u.call(o,e),o.dispatchEvent(d)}},[a,e]),p.jsx(Lt.input,{style:{display:"none"},...n,ref:s,defaultValue:e})});ume.displayName=Qvt;function e0t(t=[],e,n){const r=[...t];return r[n]=e,r.sort((i,s)=>i-s)}function dme(t,e,n){const s=100/(n-e)*(t-e);return Rw(s,[0,100])}function t0t(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function n0t(t,e){if(t.length===1)return 0;const n=t.map(i=>Math.abs(i-e)),r=Math.min(...n);return n.indexOf(r)}function r0t(t,e,n){const r=t/2,s=Qz([0,50],[0,r]);return(r-s(e)*n)*n}function i0t(t){return t.slice(0,-1).map((e,n)=>t[n+1]-e)}function s0t(t,e){if(e>0){const n=i0t(t);return Math.min(...n)>=e}return!0}function Qz(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function a0t(t){return(String(t).split(".")[1]||"").length}function o0t(t,e){const n=Math.pow(10,e);return Math.round(t*n)/n}var fme=nme,l0t=ome,c0t=lme,u0t=cme;const hA=T.forwardRef(({className:t,...e},n)=>p.jsxs(fme,{ref:n,className:ht("relative flex w-full touch-none select-none items-center",t),...e,children:[p.jsx(l0t,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:p.jsx(c0t,{className:"absolute h-full bg-primary"})}),p.jsx(u0t,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));hA.displayName=fme.displayName;const d0t=()=>p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"Environment Controls"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure VR/AR environments and lighting"})]}),p.jsxs(gm,{defaultValue:"environment",className:"space-y-6",children:[p.jsxs(Bf,{className:"grid w-full grid-cols-3",children:[p.jsx(Bi,{value:"environment",children:"Environment"}),p.jsx(Bi,{value:"lighting",children:"Lighting"}),p.jsx(Bi,{value:"safety",children:"Safety Zones"})]}),p.jsx(Yi,{value:"environment",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(jxe,{className:"w-5 h-5 text-primary"}),"Scene Environment"]}),p.jsx(br,{children:"Choose the VR/AR environment preset"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Environment Preset"}),p.jsxs(_u,{defaultValue:"warehouse",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"warehouse",children:"Industrial Warehouse"}),p.jsx(Pn,{value:"laboratory",children:"Laboratory"}),p.jsx(Pn,{value:"meeting",children:"Meeting Room"}),p.jsx(Pn,{value:"living",children:"Living Room"}),p.jsx(Pn,{value:"music",children:"Music Room"}),p.jsx(Pn,{value:"office-large",children:"Office Large"}),p.jsx(Pn,{value:"office-small",children:"Office Small"}),p.jsx(Pn,{value:"outdoor",children:"Outdoor Field"}),p.jsx(Pn,{value:"factory",children:"Factory Floor"}),p.jsx(Pn,{value:"grid",children:"Default Grid"}),p.jsx(Pn,{value:"custom",children:"Custom Import"})]})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"HDRI Environment Map"}),p.jsx("div",{className:"grid grid-cols-2 gap-4",children:[{name:"warehouse",label:"Warehouse"},{name:"meeting",label:"Meeting Room"},{name:"living",label:"Living Room"},{name:"music",label:"Music Room"},{name:"office-large",label:"Office Large"},{name:"office-small",label:"Office Small"},{name:"studio",label:"Studio"},{name:"sunset",label:"Sunset"}].map(t=>p.jsxs("div",{className:"relative aspect-video rounded-lg border-2 border-primary/20 hover:border-primary/50 cursor-pointer overflow-hidden group transition-all",children:[p.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/20 to-purple-900/20 group-hover:from-primary/30 group-hover:to-purple-900/30 transition-all"}),p.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:p.jsx("span",{className:"text-sm font-medium",children:t.label})})]},t.name))})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Custom HDRI Upload"}),p.jsxs("div",{className:"border-2 border-dashed border-primary/20 rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[p.jsx(np,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload or drag and drop"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:".hdr, .exr (max 50MB)"})]})]}),p.jsx(St,{className:"w-full",children:"Apply Environment"})]})]})}),p.jsx(Yi,{value:"lighting",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Wee,{className:"w-5 h-5 text-primary"}),"Lighting System"]}),p.jsx(br,{children:"Configure scene lighting and shadows"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"HDRI Lighting"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Use environment map for lighting"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx(Zt,{children:"Ambient Light Intensity"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"0.4"})]}),p.jsx(hA,{defaultValue:[40],max:100,step:1})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx(Zt,{children:"Directional Light Intensity"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"1.0"})]}),p.jsx(hA,{defaultValue:[100],max:200,step:1})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Dynamic Shadows"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Enable real-time shadow casting"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx(Zt,{children:"Shadow Quality"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"2048x2048"})]}),p.jsxs(_u,{defaultValue:"2048",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"512",children:"512x512 (Low)"}),p.jsx(Pn,{value:"1024",children:"1024x1024 (Medium)"}),p.jsx(Pn,{value:"2048",children:"2048x2048 (High)"}),p.jsx(Pn,{value:"4096",children:"4096x4096 (Ultra)"})]})]})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Ambient Occlusion"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Add depth to shadows"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsx(St,{className:"w-full",children:"Apply Lighting"})]})]})}),p.jsx(Yi,{value:"safety",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx($ee,{className:"w-5 h-5 text-primary"}),"Safety Elements"]}),p.jsx(br,{children:"Configure safety zones and boundaries"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Hazard Zone Stripes"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Yellow/black safety markings"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between",children:[p.jsx(Zt,{children:"Safe Zone Radius"}),p.jsx("span",{className:"text-sm text-muted-foreground",children:"5.0m"})]}),p.jsx(hA,{defaultValue:[50],max:100,step:1})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Safe Zone Visualization"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Show safe area boundaries"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Navigation Boundaries"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Prevent users from leaving area"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Boundary Warning Style"}),p.jsxs(_u,{defaultValue:"fade",children:[p.jsx(bc,{children:p.jsx(Su,{})}),p.jsxs(wc,{children:[p.jsx(Pn,{value:"fade",children:"Fade to Black"}),p.jsx(Pn,{value:"grid",children:"Grid Wall"}),p.jsx(Pn,{value:"warning",children:"Warning Flash"}),p.jsx(Pn,{value:"teleport",children:"Auto Teleport Back"})]})]})]}),p.jsx(St,{className:"w-full",children:"Apply Safety Settings"})]})]})})]})]})}),f0t=()=>{const t=[{id:1,user:"John Doe",module:"Industrial Safety",mode:"VR",status:"active",progress:65,currentStep:"Step 3: Hazard Identification",errors:2,duration:"12:34",lastAction:"Clicked fire extinguisher"},{id:2,user:"Jane Smith",module:"Assembly Line",mode:"AR",status:"active",progress:45,currentStep:"Step 2: Component Assembly",errors:0,duration:"08:15",lastAction:"Grabbed component A"},{id:3,user:"Mike Johnson",module:"Safety Inspection",mode:"VR",status:"idle",progress:100,currentStep:"Completed",errors:1,duration:"15:42",lastAction:"Module completed"}];return p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"Live Sessions"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Monitor active VR/AR training sessions in real-time"})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsx(Fn,{className:"pb-3",children:p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Active Sessions"})}),p.jsxs(On,{children:[p.jsx("div",{className:"text-3xl font-bold text-primary",children:"2"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Currently in VR/AR"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsx(Fn,{className:"pb-3",children:p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Idle Users"})}),p.jsxs(On,{children:[p.jsx("div",{className:"text-3xl font-bold",children:"1"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Connected but inactive"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsx(Fn,{className:"pb-3",children:p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Avg. Session Time"})}),p.jsxs(On,{children:[p.jsx("div",{className:"text-3xl font-bold",children:"12:10"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Minutes per session"})]})]})]}),p.jsx("div",{className:"space-y-4",children:t.map(e=>p.jsx(xn,{className:"bg-card/50 backdrop-blur border-primary/10 hover:border-primary/30 transition-all",children:p.jsxs(On,{className:"p-6",children:[p.jsxs("div",{className:"flex items-start justify-between mb-4",children:[p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[p.jsx("h3",{className:"text-lg font-semibold",children:e.user}),p.jsx(Ui,{variant:e.status==="active"?"default":"secondary",children:e.status==="active"?" Live":" Idle"}),p.jsx(Ui,{variant:"outline",className:"border-primary/50",children:e.mode})]}),p.jsx("p",{className:"text-sm text-muted-foreground",children:e.module})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs(St,{variant:"outline",size:"sm",className:"gap-2",children:[p.jsx(mw,{className:"w-3 h-3"}),"Watch"]}),p.jsxs(St,{variant:"outline",size:"sm",className:"gap-2",children:[p.jsx(Bee,{className:"w-3 h-3"}),"Send Hint"]})]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Progress"}),p.jsxs("span",{className:"font-medium",children:[e.progress,"%"]})]}),p.jsx(SR,{value:e.progress,className:"h-2"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Duration"}),p.jsx("span",{className:"font-medium",children:e.duration})]}),p.jsxs("div",{className:"flex justify-between text-sm",children:[p.jsx("span",{className:"text-muted-foreground",children:"Errors"}),p.jsx("span",{className:`font-medium ${e.errors>0?"text-yellow-400":"text-green-400"}`,children:e.errors})]})]})]}),p.jsxs("div",{className:"bg-accent/30 rounded-lg p-3 space-y-2",children:[p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx(UA,{className:"w-4 h-4 text-primary"}),p.jsx("span",{className:"font-medium",children:"Current Step:"}),p.jsx("span",{className:"text-muted-foreground",children:e.currentStep})]}),p.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[p.jsx(ID,{className:"w-4 h-4 text-muted-foreground"}),p.jsx("span",{className:"font-medium",children:"Last Action:"}),p.jsx("span",{className:"text-muted-foreground",children:e.lastAction})]})]})]})},e.id))})]})})},h0t=()=>{const t=[{date:"Mon",sessions:12,completions:10},{date:"Tue",sessions:15,completions:13},{date:"Wed",sessions:18,completions:16},{date:"Thu",sessions:14,completions:12},{date:"Fri",sessions:20,completions:18},{date:"Sat",sessions:8,completions:7},{date:"Sun",sessions:10,completions:9}],e=[{name:"Industrial Safety",completions:45,avgTime:12.5},{name:"Assembly Line",completions:38,avgTime:15.2},{name:"Hazard ID",completions:32,avgTime:10.8},{name:"Equipment Use",completions:28,avgTime:18.3}],n=[{name:"Excellent",value:35,color:"#10b981"},{name:"Good",value:45,color:"#3b82f6"},{name:"Needs Improvement",value:15,color:"#f59e0b"},{name:"Failed",value:5,color:"#ef4444"}];return p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"Analytics Dashboard"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Training performance insights and metrics"})]}),p.jsxs(St,{className:"gap-2",children:[p.jsx(WT,{className:"w-4 h-4"}),"Export Report"]})]}),p.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Total Sessions"}),p.jsx(Pd,{className:"w-4 h-4 text-primary"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"1,247"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+12% from last month"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Avg Completion"}),p.jsx(ebe,{className:"w-4 h-4 text-green-400"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"87%"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+5% from last month"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Active Users"}),p.jsx(Zg,{className:"w-4 h-4 text-blue-400"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"156"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"+8 new this week"})]})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{className:"flex flex-row items-center justify-between pb-2",children:[p.jsx(Un,{className:"text-sm font-medium text-muted-foreground",children:"Avg Time"}),p.jsx(BA,{className:"w-4 h-4 text-yellow-400"})]}),p.jsxs(On,{children:[p.jsx("div",{className:"text-2xl font-bold",children:"14.2m"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Per session"})]})]})]}),p.jsxs(gm,{defaultValue:"overview",className:"space-y-6",children:[p.jsxs(Bf,{children:[p.jsx(Bi,{value:"overview",children:"Overview"}),p.jsx(Bi,{value:"modules",children:"Module Performance"}),p.jsx(Bi,{value:"users",children:"User Analytics"})]}),p.jsx(Yi,{value:"overview",className:"space-y-6",children:p.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"Session Activity"}),p.jsx(br,{children:"Sessions vs Completions over the last 7 days"})]}),p.jsx(On,{className:"h-[300px]",children:p.jsx(dA,{width:"100%",height:"100%",children:p.jsxs(ppe,{data:t,children:[p.jsx(pC,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),p.jsx(um,{dataKey:"date",stroke:"#888",tickLine:!1,axisLine:!1}),p.jsx(dm,{stroke:"#888",tickLine:!1,axisLine:!1}),p.jsx(co,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"8px"}}),p.jsx(cm,{type:"monotone",dataKey:"sessions",stroke:"#8b5cf6",strokeWidth:3,dot:{r:4}}),p.jsx(cm,{type:"monotone",dataKey:"completions",stroke:"#10b981",strokeWidth:3,dot:{r:4}})]})})})]}),p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"Performance Distribution"}),p.jsx(br,{children:"User performance breakdown"})]}),p.jsx(On,{className:"h-[300px]",children:p.jsx(dA,{width:"100%",height:"100%",children:p.jsxs(avt,{children:[p.jsx(Qu,{data:n,cx:"50%",cy:"50%",labelLine:!1,label:({name:r,percent:i})=>`${r} ${(i*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:n.map((r,i)=>p.jsx(WR,{fill:r.color},`cell-${i}`))}),p.jsx(co,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"8px"}})]})})})]})]})}),p.jsx(Yi,{value:"modules",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"Module Performance"}),p.jsx(br,{children:"Completion rates and average time by module"})]}),p.jsx(On,{className:"h-[400px]",children:p.jsx(dA,{width:"100%",height:"100%",children:p.jsxs(svt,{data:e,children:[p.jsx(pC,{strokeDasharray:"3 3",stroke:"#333",vertical:!1}),p.jsx(um,{dataKey:"name",stroke:"#888",tickLine:!1,axisLine:!1}),p.jsx(dm,{stroke:"#888",tickLine:!1,axisLine:!1}),p.jsx(co,{contentStyle:{backgroundColor:"#111",border:"1px solid #333",borderRadius:"8px"}}),p.jsx(Tm,{dataKey:"completions",fill:"#8b5cf6",radius:[8,8,0,0]})]})})})]})}),p.jsx(Yi,{value:"users",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsx(Un,{children:"User Engagement"}),p.jsx(br,{children:"Coming soon: Heatmaps and user improvement tracking"})]}),p.jsx(On,{className:"h-[400px] flex items-center justify-center",children:p.jsx("p",{className:"text-muted-foreground",children:"User analytics visualization will be displayed here"})})]})})]})]})})},p0t=()=>{const t=[{id:1,name:"Fire Extinguisher",type:"glb",size:"2.4 MB",uploaded:"2024-01-15"},{id:2,name:"Safety Helmet",type:"gltf",size:"1.8 MB",uploaded:"2024-01-14"},{id:3,name:"Warning Sign",type:"fbx",size:"3.2 MB",uploaded:"2024-01-13"}],e=[{id:1,name:"Warehouse Interior",type:"hdr",size:"12.5 MB",uploaded:"2024-01-12"},{id:2,name:"Factory Floor",type:"exr",size:"18.3 MB",uploaded:"2024-01-11"},{id:3,name:"Outdoor Daylight",type:"hdr",size:"15.7 MB",uploaded:"2024-01-10"}],n=[{id:1,name:"Welcome Message",type:"mp3",size:"1.2 MB",uploaded:"2024-01-09"},{id:2,name:"Success Sound",type:"wav",size:"0.8 MB",uploaded:"2024-01-08"},{id:3,name:"Ambient Industrial",type:"mp3",size:"3.5 MB",uploaded:"2024-01-07"}];return p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"Assets Manager"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Manage 3D models, environments, and audio files"})]}),p.jsxs(gm,{defaultValue:"3d",className:"space-y-6",children:[p.jsxs(Bf,{className:"grid w-full grid-cols-3",children:[p.jsx(Bi,{value:"3d",children:"3D Models"}),p.jsx(Bi,{value:"hdri",children:"HDRI Environments"}),p.jsx(Bi,{value:"audio",children:"Audio Files"})]}),p.jsx(Yi,{value:"3d",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsx(Fn,{children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(lf,{className:"w-5 h-5 text-primary"}),"3D Models Library"]}),p.jsx(br,{children:"Upload and manage .glb, .gltf, and .fbx files"})]}),p.jsxs(St,{className:"gap-2",children:[p.jsx(np,{className:"w-4 h-4"}),"Upload Model"]})]})}),p.jsxs(On,{className:"space-y-4",children:[p.jsxs("div",{className:"relative",children:[p.jsx(a4,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-muted-foreground"}),p.jsx(mr,{placeholder:"Search 3D models...",className:"pl-10"})]}),p.jsxs("div",{className:"border-2 border-dashed border-primary/20 rounded-lg p-12 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[p.jsx(np,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload 3D Models"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop files here or click to browse"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: .glb, .gltf, .fbx (max 50MB)"})]}),p.jsx("div",{className:"space-y-2",children:t.map(r=>p.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-primary/10 hover:border-primary/30 transition-all bg-card/30",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-primary/20 flex items-center justify-center",children:p.jsx(lf,{className:"w-6 h-6 text-primary"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:r.name}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsx(Ui,{variant:"outline",className:"text-xs",children:r.type.toUpperCase()}),p.jsx("span",{className:"text-xs text-muted-foreground",children:r.size}),p.jsx("span",{className:"text-xs text-muted-foreground",children:""}),p.jsx("span",{className:"text-xs text-muted-foreground",children:r.uploaded})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(WT,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(qT,{className:"w-4 h-4"})})]})]},r.id))})]})]})}),p.jsx(Yi,{value:"hdri",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsx(Fn,{children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(XT,{className:"w-5 h-5 text-primary"}),"HDRI Environment Maps"]}),p.jsx(br,{children:"Upload and manage .hdr and .exr environment maps"})]}),p.jsxs(St,{className:"gap-2",children:[p.jsx(np,{className:"w-4 h-4"}),"Upload HDRI"]})]})}),p.jsxs(On,{className:"space-y-4",children:[p.jsxs("div",{className:"border-2 border-dashed border-primary/20 rounded-lg p-12 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[p.jsx(XT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload HDRI Maps"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop files here or click to browse"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: .hdr, .exr (max 100MB)"})]}),p.jsx("div",{className:"space-y-2",children:e.map(r=>p.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-primary/10 hover:border-primary/30 transition-all bg-card/30",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-br from-primary/20 to-purple-900/20 flex items-center justify-center",children:p.jsx(XT,{className:"w-6 h-6 text-primary"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:r.name}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsx(Ui,{variant:"outline",className:"text-xs",children:r.type.toUpperCase()}),p.jsx("span",{className:"text-xs text-muted-foreground",children:r.size}),p.jsx("span",{className:"text-xs text-muted-foreground",children:""}),p.jsx("span",{className:"text-xs text-muted-foreground",children:r.uploaded})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(WT,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(qT,{className:"w-4 h-4"})})]})]},r.id))})]})]})}),p.jsx(Yi,{value:"audio",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsx(Fn,{children:p.jsxs("div",{className:"flex justify-between items-center",children:[p.jsxs("div",{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(KT,{className:"w-5 h-5 text-primary"}),"Audio Files"]}),p.jsx(br,{children:"Upload and manage voice clips and ambient sounds"})]}),p.jsxs(St,{className:"gap-2",children:[p.jsx(np,{className:"w-4 h-4"}),"Upload Audio"]})]})}),p.jsxs(On,{className:"space-y-4",children:[p.jsxs("div",{className:"border-2 border-dashed border-primary/20 rounded-lg p-12 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[p.jsx(KT,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),p.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Upload Audio Files"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Drag and drop files here or click to browse"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Supported formats: .mp3, .wav, .ogg (max 20MB)"})]}),p.jsx("div",{className:"space-y-2",children:n.map(r=>p.jsxs("div",{className:"flex items-center justify-between p-4 rounded-lg border border-primary/10 hover:border-primary/30 transition-all bg-card/30",children:[p.jsxs("div",{className:"flex items-center gap-4",children:[p.jsx("div",{className:"w-12 h-12 rounded-lg bg-blue-500/20 flex items-center justify-center",children:p.jsx(KT,{className:"w-6 h-6 text-blue-400"})}),p.jsxs("div",{children:[p.jsx("h4",{className:"font-medium",children:r.name}),p.jsxs("div",{className:"flex gap-2 mt-1",children:[p.jsx(Ui,{variant:"outline",className:"text-xs",children:r.type.toUpperCase()}),p.jsx("span",{className:"text-xs text-muted-foreground",children:r.size}),p.jsx("span",{className:"text-xs text-muted-foreground",children:""}),p.jsx("span",{className:"text-xs text-muted-foreground",children:r.uploaded})]})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(WT,{className:"w-4 h-4"})}),p.jsx(St,{variant:"ghost",size:"icon",children:p.jsx(qT,{className:"w-4 h-4"})})]})]},r.id))})]})]})})]})]})})},m0t=()=>{const t=[{id:1,type:"error",message:"VR session disconnected for user John Doe",time:"2 min ago"},{id:2,type:"success",message:"Module 'Industrial Safety' published successfully",time:"15 min ago"},{id:3,type:"warning",message:"AR tracking quality degraded",time:"1 hour ago"},{id:4,type:"info",message:"New user registered: Jane Smith",time:"2 hours ago"}];return p.jsx(ed,{children:p.jsxs("div",{className:"space-y-6",children:[p.jsxs("div",{children:[p.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-primary to-purple-400 bg-clip-text text-transparent",children:"System Settings"}),p.jsx("p",{className:"text-muted-foreground mt-1",children:"Configure platform settings and integrations"})]}),p.jsxs(gm,{defaultValue:"platform",className:"space-y-6",children:[p.jsxs(Bf,{className:"grid w-full grid-cols-4",children:[p.jsx(Bi,{value:"platform",children:"Platform"}),p.jsx(Bi,{value:"branding",children:"Branding"}),p.jsx(Bi,{value:"languages",children:"Languages"}),p.jsx(Bi,{value:"logs",children:"Logs"})]}),p.jsx(Yi,{value:"platform",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Uxe,{className:"w-5 h-5 text-primary"}),"API Configuration"]}),p.jsx(br,{children:"Manage API keys and integrations"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"OpenAI API Key"}),p.jsx(mr,{type:"password",placeholder:"sk-...",defaultValue:"sk-"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Used for AI guide responses"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"WebXR API Endpoint"}),p.jsx(mr,{placeholder:"https://api.nextverse.com/xr",defaultValue:"https://api.nextverse.com/xr"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"VR/AR session management endpoint"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Analytics Tracking ID"}),p.jsx(mr,{placeholder:"UA-XXXXXXXXX-X",defaultValue:"UA-123456789-1"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Google Analytics or custom tracking"})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Enable Debug Mode"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Show detailed error messages"})]}),p.jsx(Us,{})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Auto-Save Sessions"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Automatically save user progress"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsx(St,{className:"w-full",children:"Save Platform Settings"})]})]})}),p.jsx(Yi,{value:"branding",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(n$,{className:"w-5 h-5 text-primary"}),"Brand Customization"]}),p.jsx(br,{children:"Customize your platform's appearance"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Platform Name"}),p.jsx(mr,{placeholder:"NextVerse",defaultValue:"NextVerse"})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Logo Upload"}),p.jsxs("div",{className:"border-2 border-dashed border-primary/20 rounded-lg p-8 text-center hover:border-primary/50 transition-colors cursor-pointer",children:[p.jsx(n$,{className:"w-8 h-8 mx-auto mb-2 text-muted-foreground"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Click to upload logo"}),p.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"PNG, SVG (max 2MB)"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Primary Color"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(mr,{type:"color",defaultValue:"#14b8a6",className:"w-20 h-10"}),p.jsx(mr,{placeholder:"#14b8a6",defaultValue:"#14b8a6",className:"flex-1"})]})]}),p.jsxs("div",{className:"space-y-2",children:[p.jsx(Zt,{children:"Secondary Color"}),p.jsxs("div",{className:"flex gap-4",children:[p.jsx(mr,{type:"color",defaultValue:"#8b5cf6",className:"w-20 h-10"}),p.jsx(mr,{placeholder:"#8b5cf6",defaultValue:"#8b5cf6",className:"flex-1"})]})]}),p.jsx(St,{className:"w-full",children:"Save Branding"})]})]})}),p.jsx(Yi,{value:"languages",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Uee,{className:"w-5 h-5 text-primary"}),"Multi-Language Support"]}),p.jsx(br,{children:"Configure platform and AI instructor languages"})]}),p.jsxs(On,{className:"space-y-6",children:[p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"English"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Default language"})]}),p.jsx(Us,{defaultChecked:!0,disabled:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"French"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Franais"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Arabic"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:" (RTL support)"})]}),p.jsx(Us,{defaultChecked:!0})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"Spanish"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Espaol"})]}),p.jsx(Us,{})]}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"space-y-0.5",children:[p.jsx(Zt,{children:"German"}),p.jsx("p",{className:"text-sm text-muted-foreground",children:"Deutsch"})]}),p.jsx(Us,{})]}),p.jsx(St,{className:"w-full",children:"Save Language Settings"})]})]})}),p.jsx(Yi,{value:"logs",className:"space-y-6",children:p.jsxs(xn,{className:"bg-card/50 backdrop-blur border-primary/10",children:[p.jsxs(Fn,{children:[p.jsxs(Un,{className:"flex items-center gap-2",children:[p.jsx(Vee,{className:"w-5 h-5 text-primary"}),"System Logs"]}),p.jsx(br,{children:"Monitor system events and errors"})]}),p.jsxs(On,{className:"space-y-4",children:[t.map(e=>p.jsxs("div",{className:"flex items-start gap-4 p-4 rounded-lg border border-primary/10 bg-card/30",children:[e.type==="error"&&p.jsx(ID,{className:"w-5 h-5 text-red-400 mt-0.5"}),e.type==="success"&&p.jsx(UA,{className:"w-5 h-5 text-green-400 mt-0.5"}),e.type==="warning"&&p.jsx(ID,{className:"w-5 h-5 text-yellow-400 mt-0.5"}),e.type==="info"&&p.jsx(UA,{className:"w-5 h-5 text-blue-400 mt-0.5"}),p.jsxs("div",{className:"flex-1",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(Ui,{variant:"outline",className:`text-xs ${e.type==="error"?"border-red-500/50 text-red-400":e.type==="success"?"border-green-500/50 text-green-400":e.type==="warning"?"border-yellow-500/50 text-yellow-400":"border-blue-500/50 text-blue-400"}`,children:e.type.toUpperCase()}),p.jsx("span",{className:"text-xs text-muted-foreground",children:e.time})]}),p.jsx("p",{className:"text-sm",children:e.message})]})]},e.id)),p.jsx(St,{variant:"outline",className:"w-full",children:"Load More Logs"})]})]})})]})]})})};function g0t(t,e){return T.useReducer((n,r)=>e[n][r]??n,t)}var eV="ScrollArea",[hme,_bt]=Xs(eV),[v0t,hl]=hme(eV),pme=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=t,[o,l]=T.useState(null),[c,u]=T.useState(null),[d,f]=T.useState(null),[h,m]=T.useState(null),[g,v]=T.useState(null),[y,w]=T.useState(0),[_,S]=T.useState(0),[E,A]=T.useState(!1),[M,R]=T.useState(!1),P=mn(e,k=>l(k)),O=sy(i);return p.jsx(v0t,{scope:n,type:r,dir:O,scrollHideDelay:s,scrollArea:o,viewport:c,onViewportChange:u,content:d,onContentChange:f,scrollbarX:h,onScrollbarXChange:m,scrollbarXEnabled:E,onScrollbarXEnabledChange:A,scrollbarY:g,onScrollbarYChange:v,scrollbarYEnabled:M,onScrollbarYEnabledChange:R,onCornerWidthChange:w,onCornerHeightChange:S,children:p.jsx(Lt.div,{dir:O,...a,ref:P,style:{position:"relative","--radix-scroll-area-corner-width":y+"px","--radix-scroll-area-corner-height":_+"px",...t.style}})})});pme.displayName=eV;var mme="ScrollAreaViewport",gme=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=t,a=hl(mme,n),o=T.useRef(null),l=mn(e,o,a.onViewportChange);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),p.jsx(Lt.div,{"data-radix-scroll-area-viewport":"",...s,ref:l,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...t.style},children:p.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gme.displayName=mme;var Wc="ScrollAreaScrollbar",tV=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hl(Wc,t.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=t.orientation==="horizontal";return T.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?p.jsx(y0t,{...r,ref:e,forceMount:n}):i.type==="scroll"?p.jsx(x0t,{...r,ref:e,forceMount:n}):i.type==="auto"?p.jsx(vme,{...r,ref:e,forceMount:n}):i.type==="always"?p.jsx(nV,{...r,ref:e}):null});tV.displayName=Wc;var y0t=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hl(Wc,t.__scopeScrollArea),[s,a]=T.useState(!1);return T.useEffect(()=>{const o=i.scrollArea;let l=0;if(o){const c=()=>{window.clearTimeout(l),a(!0)},u=()=>{l=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",c),o.addEventListener("pointerleave",u),()=>{window.clearTimeout(l),o.removeEventListener("pointerenter",c),o.removeEventListener("pointerleave",u)}}},[i.scrollArea,i.scrollHideDelay]),p.jsx(qs,{present:n||s,children:p.jsx(vme,{"data-state":s?"visible":"hidden",...r,ref:e})})}),x0t=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=hl(Wc,t.__scopeScrollArea),s=t.orientation==="horizontal",a=wO(()=>l("SCROLL_END"),100),[o,l]=g0t("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(o==="idle"){const c=window.setTimeout(()=>l("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(c)}},[o,i.scrollHideDelay,l]),T.useEffect(()=>{const c=i.viewport,u=s?"scrollLeft":"scrollTop";if(c){let d=c[u];const f=()=>{const h=c[u];d!==h&&(l("SCROLL"),a()),d=h};return c.addEventListener("scroll",f),()=>c.removeEventListener("scroll",f)}},[i.viewport,s,l,a]),p.jsx(qs,{present:n||o!=="hidden",children:p.jsx(nV,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:e,onPointerEnter:vt(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:vt(t.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),vme=T.forwardRef((t,e)=>{const n=hl(Wc,t.__scopeScrollArea),{forceMount:r,...i}=t,[s,a]=T.useState(!1),o=t.orientation==="horizontal",l=wO(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,u=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?c:u)}},10);return H0(n.viewport,l),H0(n.content,l),p.jsx(qs,{present:r||s,children:p.jsx(nV,{"data-state":s?"visible":"hidden",...i,ref:e})})}),nV=T.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,i=hl(Wc,t.__scopeScrollArea),s=T.useRef(null),a=T.useRef(0),[o,l]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_me(o.viewport,o.content),u={...r,sizes:o,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:f=>s.current=f,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:f=>a.current=f};function d(f,h){return T0t(f,a.current,o,h)}return n==="horizontal"?p.jsx(b0t,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollLeft,h=kZ(f,o,i.dir);s.current.style.transform=`translate3d(${h}px, 0, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollLeft=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollLeft=d(f,i.dir))}}):n==="vertical"?p.jsx(w0t,{...u,ref:e,onThumbPositionChange:()=>{if(i.viewport&&s.current){const f=i.viewport.scrollTop,h=kZ(f,o);s.current.style.transform=`translate3d(0, ${h}px, 0)`}},onWheelScroll:f=>{i.viewport&&(i.viewport.scrollTop=f)},onDragScroll:f=>{i.viewport&&(i.viewport.scrollTop=d(f))}}):null}),b0t=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=hl(Wc,t.__scopeScrollArea),[a,o]=T.useState(),l=T.useRef(null),c=mn(e,l,s.onScrollbarXChange);return T.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),p.jsx(xme,{"data-orientation":"horizontal",...i,ref:c,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bO(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.x),onDragScroll:u=>t.onDragScroll(u.x),onWheelScroll:(u,d)=>{if(s.viewport){const f=s.viewport.scrollLeft+u.deltaX;t.onWheelScroll(f),Eme(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:bC(a.paddingLeft),paddingEnd:bC(a.paddingRight)}})}})}),w0t=T.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...i}=t,s=hl(Wc,t.__scopeScrollArea),[a,o]=T.useState(),l=T.useRef(null),c=mn(e,l,s.onScrollbarYChange);return T.useEffect(()=>{l.current&&o(getComputedStyle(l.current))},[l]),p.jsx(xme,{"data-orientation":"vertical",...i,ref:c,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bO(n)+"px",...t.style},onThumbPointerDown:u=>t.onThumbPointerDown(u.y),onDragScroll:u=>t.onDragScroll(u.y),onWheelScroll:(u,d)=>{if(s.viewport){const f=s.viewport.scrollTop+u.deltaY;t.onWheelScroll(f),Eme(f,d)&&u.preventDefault()}},onResize:()=>{l.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:bC(a.paddingTop),paddingEnd:bC(a.paddingBottom)}})}})}),[_0t,yme]=hme(Wc),xme=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:u,onResize:d,...f}=t,h=hl(Wc,n),[m,g]=T.useState(null),v=mn(e,P=>g(P)),y=T.useRef(null),w=T.useRef(""),_=h.viewport,S=r.content-r.viewport,E=fi(u),A=fi(l),M=wO(d,10);function R(P){if(y.current){const O=P.clientX-y.current.left,k=P.clientY-y.current.top;c({x:O,y:k})}}return T.useEffect(()=>{const P=O=>{const k=O.target;(m==null?void 0:m.contains(k))&&E(O,S)};return document.addEventListener("wheel",P,{passive:!1}),()=>document.removeEventListener("wheel",P,{passive:!1})},[_,m,S,E]),T.useEffect(A,[r,A]),H0(m,M),H0(h.content,M),p.jsx(_0t,{scope:n,scrollbar:m,hasThumb:i,onThumbChange:fi(s),onThumbPointerUp:fi(a),onThumbPositionChange:A,onThumbPointerDown:fi(o),children:p.jsx(Lt.div,{...f,ref:v,style:{position:"absolute",...f.style},onPointerDown:vt(t.onPointerDown,P=>{P.button===0&&(P.target.setPointerCapture(P.pointerId),y.current=m.getBoundingClientRect(),w.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",h.viewport&&(h.viewport.style.scrollBehavior="auto"),R(P))}),onPointerMove:vt(t.onPointerMove,R),onPointerUp:vt(t.onPointerUp,P=>{const O=P.target;O.hasPointerCapture(P.pointerId)&&O.releasePointerCapture(P.pointerId),document.body.style.webkitUserSelect=w.current,h.viewport&&(h.viewport.style.scrollBehavior=""),y.current=null})})})}),xC="ScrollAreaThumb",bme=T.forwardRef((t,e)=>{const{forceMount:n,...r}=t,i=yme(xC,t.__scopeScrollArea);return p.jsx(qs,{present:n||i.hasThumb,children:p.jsx(S0t,{ref:e,...r})})}),S0t=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...i}=t,s=hl(xC,n),a=yme(xC,n),{onThumbPositionChange:o}=a,l=mn(e,d=>a.onThumbChange(d)),c=T.useRef(void 0),u=wO(()=>{c.current&&(c.current(),c.current=void 0)},100);return T.useEffect(()=>{const d=s.viewport;if(d){const f=()=>{if(u(),!c.current){const h=A0t(d,o);c.current=h,o()}};return o(),d.addEventListener("scroll",f),()=>d.removeEventListener("scroll",f)}},[s.viewport,u,o]),p.jsx(Lt.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:vt(t.onPointerDownCapture,d=>{const h=d.target.getBoundingClientRect(),m=d.clientX-h.left,g=d.clientY-h.top;a.onThumbPointerDown({x:m,y:g})}),onPointerUp:vt(t.onPointerUp,a.onThumbPointerUp)})});bme.displayName=xC;var rV="ScrollAreaCorner",wme=T.forwardRef((t,e)=>{const n=hl(rV,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?p.jsx(E0t,{...t,ref:e}):null});wme.displayName=rV;var E0t=T.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,i=hl(rV,n),[s,a]=T.useState(0),[o,l]=T.useState(0),c=!!(s&&o);return H0(i.scrollbarX,()=>{var d;const u=((d=i.scrollbarX)==null?void 0:d.offsetHeight)||0;i.onCornerHeightChange(u),l(u)}),H0(i.scrollbarY,()=>{var d;const u=((d=i.scrollbarY)==null?void 0:d.offsetWidth)||0;i.onCornerWidthChange(u),a(u)}),c?p.jsx(Lt.div,{...r,ref:e,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...t.style}}):null});function bC(t){return t?parseInt(t,10):0}function _me(t,e){const n=t/e;return isNaN(n)?0:n}function bO(t){const e=_me(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function T0t(t,e,n,r="ltr"){const i=bO(n),s=i/2,a=e||s,o=i-a,l=n.scrollbar.paddingStart+a,c=n.scrollbar.size-n.scrollbar.paddingEnd-o,u=n.content-n.viewport,d=r==="ltr"?[0,u]:[u*-1,0];return Sme([l,c],d)(t)}function kZ(t,e,n="ltr"){const r=bO(e),i=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,s=e.scrollbar.size-i,a=e.content-e.viewport,o=s-r,l=n==="ltr"?[0,a]:[a*-1,0],c=Rw(t,l);return Sme([0,a],[0,o])(c)}function Sme(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function Eme(t,e){return t>0&&t<e}var A0t=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function i(){const s={left:t.scrollLeft,top:t.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&e(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function wO(t,e){const n=fi(t),r=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),T.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function H0(t,e){const n=fi(e);Mi(()=>{let r=0;if(t){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(t),()=>{window.cancelAnimationFrame(r),i.unobserve(t)}}},[t,n])}var Tme=pme,M0t=gme,C0t=wme;const Ame=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(Tme,{ref:r,className:ht("relative overflow-hidden",t),...n,children:[p.jsx(M0t,{className:"h-full w-full rounded-[inherit]",children:e}),p.jsx(Mme,{}),p.jsx(C0t,{})]}));Ame.displayName=Tme.displayName;const Mme=T.forwardRef(({className:t,orientation:e="vertical",...n},r)=>p.jsx(tV,{ref:r,orientation:e,className:ht("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:p.jsx(bme,{className:"relative flex-1 rounded-full bg-border"})}));Mme.displayName=tV.displayName;const P0t=()=>{const[t,e]=T.useState(!1),[n,r]=T.useState(()=>{const g=localStorage.getItem("chat-messages");return g?JSON.parse(g):[{role:"assistant",content:" Hi! I'm your NextVerse AI Assistant. Ask me anything about our VR/AR learning platform, pricing, or features!"}]}),[i,s]=T.useState(""),[a,o]=T.useState(!1),[l,c]=T.useState(!0),u=T.useRef(null),{toast:d}=uee();T.useEffect(()=>{localStorage.setItem("chat-messages",JSON.stringify(n))},[n]),T.useEffect(()=>{u.current&&(u.current.scrollTop=u.current.scrollHeight)},[n]);const f=["How does VR training work?","What's the pricing?","Show me case studies","Schedule a demo"],h=g=>{if(g==="Schedule a demo"){e(!1);return}s(g),c(!1)},m=async()=>{if(!i.trim()||a)return;const g=i.trim();s(""),r(v=>[...v,{role:"user",content:g}]),o(!0),c(!1);try{const{data:v,error:y}=await Od.functions.invoke("chat-assistant",{body:{messages:[...n,{role:"user",content:g}]}});if(y)throw y;if(v!=null&&v.reply)r(w=>[...w,{role:"assistant",content:v.reply}]);else throw new Error("No response from assistant")}catch(v){console.error("Chat error:",v),d({title:"Error",description:"Failed to get response. Please try again.",variant:"destructive"}),r(y=>[...y,{role:"assistant",content:"Sorry, I encountered an error. Please try again."}])}finally{o(!1)}};return p.jsxs(p.Fragment,{children:[p.jsx(J$,{children:!t&&p.jsx(Jt.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"fixed bottom-6 right-6 z-50",children:p.jsx(St,{onClick:()=>e(!0),size:"lg",className:"h-14 w-14 rounded-full bg-primary hover:bg-primary/90 shadow-lg shadow-primary/50",children:p.jsx(Gxe,{className:"h-6 w-6"})})})}),p.jsx(J$,{children:t&&p.jsxs(Jt.div,{initial:{opacity:0,y:20,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:20,scale:.95},className:"fixed bottom-6 right-6 z-50 w-[380px] h-[600px] bg-background border border-border rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[p.jsxs("div",{className:"bg-gradient-to-r from-primary/20 via-accent/20 to-primary/20 p-4 border-b border-border flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/20 flex items-center justify-center",children:p.jsx(Hee,{className:"w-4 h-4 text-primary"})}),p.jsxs("div",{children:[p.jsx("h3",{className:"font-semibold text-foreground",children:"NextVerse AI"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Always here to help"})]})]}),p.jsx(St,{variant:"ghost",size:"icon",onClick:()=>e(!1),className:"hover:bg-background/50",children:p.jsx(Y0,{className:"h-4 w-4"})})]}),p.jsx(Ame,{className:"flex-1 p-4",ref:u,children:p.jsxs("div",{className:"space-y-4",children:[n.map((g,v)=>p.jsx(Jt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex ${g.role==="user"?"justify-end":"justify-start"}`,children:p.jsx("div",{className:`max-w-[80%] rounded-2xl px-4 py-2 ${g.role==="user"?"bg-primary text-primary-foreground":"bg-muted text-foreground"}`,children:p.jsx("p",{className:"text-sm whitespace-pre-wrap",children:g.content})})},v)),a&&p.jsx(Jt.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-start",children:p.jsx("div",{className:"bg-muted rounded-2xl px-4 py-2",children:p.jsxs("div",{className:"flex gap-1",children:[p.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce"}),p.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce [animation-delay:0.2s]"}),p.jsx("span",{className:"w-2 h-2 bg-primary rounded-full animate-bounce [animation-delay:0.4s]"})]})})}),l&&n.length===1&&p.jsxs(Jt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-2",children:[p.jsx("p",{className:"text-xs text-muted-foreground text-center",children:" Try asking:"}),p.jsx("div",{className:"flex flex-wrap gap-2",children:f.map((g,v)=>p.jsx(St,{variant:"outline",size:"sm",onClick:()=>h(g),className:"text-xs",children:g},v))})]})]})}),p.jsxs("div",{className:"p-4 border-t border-border bg-background",children:[p.jsxs("form",{onSubmit:g=>{g.preventDefault(),m()},className:"flex gap-2",children:[p.jsx(mr,{value:i,onChange:g=>s(g.target.value),placeholder:"Ask me anything...",disabled:a,className:"flex-1 bg-muted border-border"}),p.jsx(St,{type:"submit",size:"icon",disabled:!i.trim()||a,className:"bg-primary hover:bg-primary/90",children:p.jsx(Zxe,{className:"h-4 w-4"})})]}),p.jsx("div",{className:"mt-2 text-center",children:p.jsx(Bae,{children:p.jsxs(St,{variant:"ghost",size:"sm",className:"text-xs text-primary hover:text-primary/80",children:[p.jsx(FA,{className:"w-3 h-3 mr-1"}),"Schedule Demo"]})})})]})]})})]})},iU=T.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...i},s)=>p.jsx(ASe,{ref:s,to:r,className:({isActive:a,isPending:o})=>ht(t,a&&e,o&&n),...i}));iU.displayName="NavLink";var sU=["Enter"," "],R0t=["ArrowDown","PageUp","Home"],Cme=["ArrowUp","PageDown","End"],O0t=[...R0t,...Cme],N0t={ltr:[...sU,"ArrowRight"],rtl:[...sU,"ArrowLeft"]},I0t={ltr:["ArrowLeft"],rtl:["ArrowRight"]},N_="Menu",[P1,k0t,D0t]=F1(N_),[Am,Pme]=Xs(N_,[D0t,ey,_P]),_O=ey(),Rme=_P(),[L0t,Mm]=Am(N_),[j0t,I_]=Am(N_),Ome=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:i,onOpenChange:s,modal:a=!0}=t,o=_O(e),[l,c]=T.useState(null),u=T.useRef(!1),d=fi(s),f=sy(i);return T.useEffect(()=>{const h=()=>{u.current=!0,document.addEventListener("pointerdown",m,{capture:!0,once:!0}),document.addEventListener("pointermove",m,{capture:!0,once:!0})},m=()=>u.current=!1;return document.addEventListener("keydown",h,{capture:!0}),()=>{document.removeEventListener("keydown",h,{capture:!0}),document.removeEventListener("pointerdown",m,{capture:!0}),document.removeEventListener("pointermove",m,{capture:!0})}},[]),p.jsx(v4,{...o,children:p.jsx(L0t,{scope:e,open:n,onOpenChange:d,content:l,onContentChange:c,children:p.jsx(j0t,{scope:e,onClose:T.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:a,children:r})})})};Ome.displayName=N_;var F0t="MenuAnchor",iV=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=_O(n);return p.jsx(y4,{...i,...r,ref:e})});iV.displayName=F0t;var sV="MenuPortal",[U0t,Nme]=Am(sV,{forceMount:void 0}),Ime=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:i}=t,s=Mm(sV,e);return p.jsx(U0t,{scope:e,forceMount:n,children:p.jsx(qs,{present:n||s.open,children:p.jsx(U1,{asChild:!0,container:i,children:r})})})};Ime.displayName=sV;var il="MenuContent",[B0t,aV]=Am(il),kme=T.forwardRef((t,e)=>{const n=Nme(il,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Mm(il,t.__scopeMenu),a=I_(il,t.__scopeMenu);return p.jsx(P1.Provider,{scope:t.__scopeMenu,children:p.jsx(qs,{present:r||s.open,children:p.jsx(P1.Slot,{scope:t.__scopeMenu,children:a.modal?p.jsx(z0t,{...i,ref:e}):p.jsx(V0t,{...i,ref:e})})})})}),z0t=T.forwardRef((t,e)=>{const n=Mm(il,t.__scopeMenu),r=T.useRef(null),i=mn(e,r);return T.useEffect(()=>{const s=r.current;if(s)return oB(s)},[]),p.jsx(oV,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:vt(t.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),V0t=T.forwardRef((t,e)=>{const n=Mm(il,t.__scopeMenu);return p.jsx(oV,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),$0t=Bp("MenuContent.ScrollLock"),oV=T.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:i,onOpenAutoFocus:s,onCloseAutoFocus:a,disableOutsidePointerEvents:o,onEntryFocus:l,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,disableOutsideScroll:m,...g}=t,v=Mm(il,n),y=I_(il,n),w=_O(n),_=Rme(n),S=k0t(n),[E,A]=T.useState(null),M=T.useRef(null),R=mn(e,M,v.onContentChange),P=T.useRef(0),O=T.useRef(""),k=T.useRef(0),I=T.useRef(null),F=T.useRef("right"),L=T.useRef(0),V=m?fP:T.Fragment,z=m?{as:$0t,allowPinchZoom:!0}:void 0,K=U=>{var ne,ve;const $=O.current+U,G=S().filter(ge=>!ge.disabled),X=document.activeElement,Q=(ne=G.find(ge=>ge.ref.current===X))==null?void 0:ne.textValue,oe=G.map(ge=>ge.textValue),de=tyt(oe,$,Q),ae=(ve=G.find(ge=>ge.textValue===de))==null?void 0:ve.ref.current;(function ge(_e){O.current=_e,window.clearTimeout(P.current),_e!==""&&(P.current=window.setTimeout(()=>ge(""),1e3))})($),ae&&setTimeout(()=>ae.focus())};T.useEffect(()=>()=>window.clearTimeout(P.current),[]),iB();const j=T.useCallback(U=>{var G,X;return F.current===((G=I.current)==null?void 0:G.side)&&ryt(U,(X=I.current)==null?void 0:X.area)},[]);return p.jsx(B0t,{scope:n,searchRef:O,onItemEnter:T.useCallback(U=>{j(U)&&U.preventDefault()},[j]),onItemLeave:T.useCallback(U=>{var $;j(U)||(($=M.current)==null||$.focus(),A(null))},[j]),onTriggerLeave:T.useCallback(U=>{j(U)&&U.preventDefault()},[j]),pointerGraceTimerRef:k,onPointerGraceIntentChange:T.useCallback(U=>{I.current=U},[]),children:p.jsx(V,{...z,children:p.jsx(cP,{asChild:!0,trapped:i,onMountAutoFocus:vt(s,U=>{var $;U.preventDefault(),($=M.current)==null||$.focus({preventScroll:!0})}),onUnmountAutoFocus:a,children:p.jsx(q0,{asChild:!0,disableOutsidePointerEvents:o,onEscapeKeyDown:c,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:h,children:p.jsx(kse,{asChild:!0,..._,dir:y.dir,orientation:"vertical",loop:r,currentTabStopId:E,onCurrentTabStopIdChange:A,onEntryFocus:vt(l,U=>{y.isUsingKeyboardRef.current||U.preventDefault()}),preventScrollOnEntryFocus:!0,children:p.jsx(x4,{role:"menu","aria-orientation":"vertical","data-state":Yme(v.open),"data-radix-menu-content":"",dir:y.dir,...w,...g,ref:R,style:{outline:"none",...g.style},onKeyDown:vt(g.onKeyDown,U=>{const G=U.target.closest("[data-radix-menu-content]")===U.currentTarget,X=U.ctrlKey||U.altKey||U.metaKey,Q=U.key.length===1;G&&(U.key==="Tab"&&U.preventDefault(),!X&&Q&&K(U.key));const oe=M.current;if(U.target!==oe||!O0t.includes(U.key))return;U.preventDefault();const ae=S().filter(ne=>!ne.disabled).map(ne=>ne.ref.current);Cme.includes(U.key)&&ae.reverse(),Q0t(ae)}),onBlur:vt(t.onBlur,U=>{U.currentTarget.contains(U.target)||(window.clearTimeout(P.current),O.current="")}),onPointerMove:vt(t.onPointerMove,R1(U=>{const $=U.target,G=L.current!==U.clientX;if(U.currentTarget.contains($)&&G){const X=U.clientX>L.current?"right":"left";F.current=X,L.current=U.clientX}}))})})})})})})});kme.displayName=il;var H0t="MenuGroup",lV=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Lt.div,{role:"group",...r,ref:e})});lV.displayName=H0t;var G0t="MenuLabel",Dme=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Lt.div,{...r,ref:e})});Dme.displayName=G0t;var wC="MenuItem",DZ="menu.itemSelect",SO=T.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...i}=t,s=T.useRef(null),a=I_(wC,t.__scopeMenu),o=aV(wC,t.__scopeMenu),l=mn(e,s),c=T.useRef(!1),u=()=>{const d=s.current;if(!n&&d){const f=new CustomEvent(DZ,{bubbles:!0,cancelable:!0});d.addEventListener(DZ,h=>r==null?void 0:r(h),{once:!0}),t4(d,f),f.defaultPrevented?c.current=!1:a.onClose()}};return p.jsx(Lme,{...i,ref:l,disabled:n,onClick:vt(t.onClick,u),onPointerDown:d=>{var f;(f=t.onPointerDown)==null||f.call(t,d),c.current=!0},onPointerUp:vt(t.onPointerUp,d=>{var f;c.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:vt(t.onKeyDown,d=>{const f=o.searchRef.current!=="";n||f&&d.key===" "||sU.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});SO.displayName=wC;var Lme=T.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:i,...s}=t,a=aV(wC,n),o=Rme(n),l=T.useRef(null),c=mn(e,l),[u,d]=T.useState(!1),[f,h]=T.useState("");return T.useEffect(()=>{const m=l.current;m&&h((m.textContent??"").trim())},[s.children]),p.jsx(P1.ItemSlot,{scope:n,disabled:r,textValue:i??f,children:p.jsx(Dse,{asChild:!0,...o,focusable:!r,children:p.jsx(Lt.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...s,ref:c,onPointerMove:vt(t.onPointerMove,R1(m=>{r?a.onItemLeave(m):(a.onItemEnter(m),m.defaultPrevented||m.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:vt(t.onPointerLeave,R1(m=>a.onItemLeave(m))),onFocus:vt(t.onFocus,()=>d(!0)),onBlur:vt(t.onBlur,()=>d(!1))})})})}),W0t="MenuCheckboxItem",jme=T.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...i}=t;return p.jsx(Vme,{scope:t.__scopeMenu,checked:n,children:p.jsx(SO,{role:"menuitemcheckbox","aria-checked":_C(n)?"mixed":n,...i,ref:e,"data-state":uV(n),onSelect:vt(i.onSelect,()=>r==null?void 0:r(_C(n)?!0:!n),{checkForDefaultPrevented:!1})})})});jme.displayName=W0t;var Fme="MenuRadioGroup",[X0t,q0t]=Am(Fme,{value:void 0,onValueChange:()=>{}}),Ume=T.forwardRef((t,e)=>{const{value:n,onValueChange:r,...i}=t,s=fi(r);return p.jsx(X0t,{scope:t.__scopeMenu,value:n,onValueChange:s,children:p.jsx(lV,{...i,ref:e})})});Ume.displayName=Fme;var Bme="MenuRadioItem",zme=T.forwardRef((t,e)=>{const{value:n,...r}=t,i=q0t(Bme,t.__scopeMenu),s=n===i.value;return p.jsx(Vme,{scope:t.__scopeMenu,checked:s,children:p.jsx(SO,{role:"menuitemradio","aria-checked":s,...r,ref:e,"data-state":uV(s),onSelect:vt(r.onSelect,()=>{var a;return(a=i.onValueChange)==null?void 0:a.call(i,n)},{checkForDefaultPrevented:!1})})})});zme.displayName=Bme;var cV="MenuItemIndicator",[Vme,K0t]=Am(cV,{checked:!1}),$me=T.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...i}=t,s=K0t(cV,n);return p.jsx(qs,{present:r||_C(s.checked)||s.checked===!0,children:p.jsx(Lt.span,{...i,ref:e,"data-state":uV(s.checked)})})});$me.displayName=cV;var Y0t="MenuSeparator",Hme=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return p.jsx(Lt.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});Hme.displayName=Y0t;var Z0t="MenuArrow",Gme=T.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,i=_O(n);return p.jsx(b4,{...i,...r,ref:e})});Gme.displayName=Z0t;var J0t="MenuSub",[Sbt,Wme]=Am(J0t),ub="MenuSubTrigger",Xme=T.forwardRef((t,e)=>{const n=Mm(ub,t.__scopeMenu),r=I_(ub,t.__scopeMenu),i=Wme(ub,t.__scopeMenu),s=aV(ub,t.__scopeMenu),a=T.useRef(null),{pointerGraceTimerRef:o,onPointerGraceIntentChange:l}=s,c={__scopeMenu:t.__scopeMenu},u=T.useCallback(()=>{a.current&&window.clearTimeout(a.current),a.current=null},[]);return T.useEffect(()=>u,[u]),T.useEffect(()=>{const d=o.current;return()=>{window.clearTimeout(d),l(null)}},[o,l]),p.jsx(iV,{asChild:!0,...c,children:p.jsx(Lme,{id:i.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":i.contentId,"data-state":Yme(n.open),...t,ref:BC(e,i.onTriggerChange),onClick:d=>{var f;(f=t.onClick)==null||f.call(t,d),!(t.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:vt(t.onPointerMove,R1(d=>{s.onItemEnter(d),!d.defaultPrevented&&!t.disabled&&!n.open&&!a.current&&(s.onPointerGraceIntentChange(null),a.current=window.setTimeout(()=>{n.onOpenChange(!0),u()},100))})),onPointerLeave:vt(t.onPointerLeave,R1(d=>{var h,m;u();const f=(h=n.content)==null?void 0:h.getBoundingClientRect();if(f){const g=(m=n.content)==null?void 0:m.dataset.side,v=g==="right",y=v?-5:5,w=f[v?"left":"right"],_=f[v?"right":"left"];s.onPointerGraceIntentChange({area:[{x:d.clientX+y,y:d.clientY},{x:w,y:f.top},{x:_,y:f.top},{x:_,y:f.bottom},{x:w,y:f.bottom}],side:g}),window.clearTimeout(o.current),o.current=window.setTimeout(()=>s.onPointerGraceIntentChange(null),300)}else{if(s.onTriggerLeave(d),d.defaultPrevented)return;s.onPointerGraceIntentChange(null)}})),onKeyDown:vt(t.onKeyDown,d=>{var h;const f=s.searchRef.current!=="";t.disabled||f&&d.key===" "||N0t[r.dir].includes(d.key)&&(n.onOpenChange(!0),(h=n.content)==null||h.focus(),d.preventDefault())})})})});Xme.displayName=ub;var qme="MenuSubContent",Kme=T.forwardRef((t,e)=>{const n=Nme(il,t.__scopeMenu),{forceMount:r=n.forceMount,...i}=t,s=Mm(il,t.__scopeMenu),a=I_(il,t.__scopeMenu),o=Wme(qme,t.__scopeMenu),l=T.useRef(null),c=mn(e,l);return p.jsx(P1.Provider,{scope:t.__scopeMenu,children:p.jsx(qs,{present:r||s.open,children:p.jsx(P1.Slot,{scope:t.__scopeMenu,children:p.jsx(oV,{id:o.contentId,"aria-labelledby":o.triggerId,...i,ref:c,align:"start",side:a.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;a.isUsingKeyboardRef.current&&((d=l.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:vt(t.onFocusOutside,u=>{u.target!==o.trigger&&s.onOpenChange(!1)}),onEscapeKeyDown:vt(t.onEscapeKeyDown,u=>{a.onClose(),u.preventDefault()}),onKeyDown:vt(t.onKeyDown,u=>{var h;const d=u.currentTarget.contains(u.target),f=I0t[a.dir].includes(u.key);d&&f&&(s.onOpenChange(!1),(h=o.trigger)==null||h.focus(),u.preventDefault())})})})})})});Kme.displayName=qme;function Yme(t){return t?"open":"closed"}function _C(t){return t==="indeterminate"}function uV(t){return _C(t)?"indeterminate":t?"checked":"unchecked"}function Q0t(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function eyt(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function tyt(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let a=eyt(t,Math.max(s,0));i.length===1&&(a=a.filter(c=>c!==n));const l=a.find(c=>c.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function nyt(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,a=e.length-1;s<e.length;a=s++){const o=e[s],l=e[a],c=o.x,u=o.y,d=l.x,f=l.y;u>r!=f>r&&n<(d-c)*(r-u)/(f-u)+c&&(i=!i)}return i}function ryt(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return nyt(n,e)}function R1(t){return e=>e.pointerType==="mouse"?t(e):void 0}var iyt=Ome,syt=iV,ayt=Ime,oyt=kme,lyt=lV,cyt=Dme,uyt=SO,dyt=jme,fyt=Ume,hyt=zme,pyt=$me,myt=Hme,gyt=Gme,vyt=Xme,yyt=Kme,EO="DropdownMenu",[xyt,Ebt]=Xs(EO,[Pme]),Ta=Pme(),[byt,Zme]=xyt(EO),Jme=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:i,defaultOpen:s,onOpenChange:a,modal:o=!0}=t,l=Ta(e),c=T.useRef(null),[u,d]=Xl({prop:i,defaultProp:s??!1,onChange:a,caller:EO});return p.jsx(byt,{scope:e,triggerId:Hl(),triggerRef:c,contentId:Hl(),open:u,onOpenChange:d,onOpenToggle:T.useCallback(()=>d(f=>!f),[d]),modal:o,children:p.jsx(iyt,{...l,open:u,onOpenChange:d,dir:r,modal:o,children:n})})};Jme.displayName=EO;var Qme="DropdownMenuTrigger",ege=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...i}=t,s=Zme(Qme,n),a=Ta(n);return p.jsx(syt,{asChild:!0,...a,children:p.jsx(Lt.button,{type:"button",id:s.triggerId,"aria-haspopup":"menu","aria-expanded":s.open,"aria-controls":s.open?s.contentId:void 0,"data-state":s.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...i,ref:BC(e,s.triggerRef),onPointerDown:vt(t.onPointerDown,o=>{!r&&o.button===0&&o.ctrlKey===!1&&(s.onOpenToggle(),s.open||o.preventDefault())}),onKeyDown:vt(t.onKeyDown,o=>{r||(["Enter"," "].includes(o.key)&&s.onOpenToggle(),o.key==="ArrowDown"&&s.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(o.key)&&o.preventDefault())})})})});ege.displayName=Qme;var wyt="DropdownMenuPortal",tge=t=>{const{__scopeDropdownMenu:e,...n}=t,r=Ta(e);return p.jsx(ayt,{...r,...n})};tge.displayName=wyt;var nge="DropdownMenuContent",rge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Zme(nge,n),s=Ta(n),a=T.useRef(!1);return p.jsx(oyt,{id:i.contentId,"aria-labelledby":i.triggerId,...s,...r,ref:e,onCloseAutoFocus:vt(t.onCloseAutoFocus,o=>{var l;a.current||(l=i.triggerRef.current)==null||l.focus(),a.current=!1,o.preventDefault()}),onInteractOutside:vt(t.onInteractOutside,o=>{const l=o.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0,u=l.button===2||c;(!i.modal||u)&&(a.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});rge.displayName=nge;var _yt="DropdownMenuGroup",Syt=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(lyt,{...i,...r,ref:e})});Syt.displayName=_yt;var Eyt="DropdownMenuLabel",ige=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(cyt,{...i,...r,ref:e})});ige.displayName=Eyt;var Tyt="DropdownMenuItem",sge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(uyt,{...i,...r,ref:e})});sge.displayName=Tyt;var Ayt="DropdownMenuCheckboxItem",age=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(dyt,{...i,...r,ref:e})});age.displayName=Ayt;var Myt="DropdownMenuRadioGroup",Cyt=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(fyt,{...i,...r,ref:e})});Cyt.displayName=Myt;var Pyt="DropdownMenuRadioItem",oge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(hyt,{...i,...r,ref:e})});oge.displayName=Pyt;var Ryt="DropdownMenuItemIndicator",lge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(pyt,{...i,...r,ref:e})});lge.displayName=Ryt;var Oyt="DropdownMenuSeparator",cge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(myt,{...i,...r,ref:e})});cge.displayName=Oyt;var Nyt="DropdownMenuArrow",Iyt=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(gyt,{...i,...r,ref:e})});Iyt.displayName=Nyt;var kyt="DropdownMenuSubTrigger",uge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(vyt,{...i,...r,ref:e})});uge.displayName=kyt;var Dyt="DropdownMenuSubContent",dge=T.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,i=Ta(n);return p.jsx(yyt,{...i,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});dge.displayName=Dyt;var Lyt=Jme,jyt=ege,Fyt=tge,fge=rge,hge=ige,pge=sge,mge=age,gge=oge,vge=lge,yge=cge,xge=uge,bge=dge;const wge=Lyt,_ge=jyt,Uyt=T.forwardRef(({className:t,inset:e,children:n,...r},i)=>p.jsxs(xge,{ref:i,className:ht("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,p.jsx(Fee,{className:"ml-auto h-4 w-4"})]}));Uyt.displayName=xge.displayName;const Byt=T.forwardRef(({className:t,...e},n)=>p.jsx(bge,{ref:n,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Byt.displayName=bge.displayName;const dV=T.forwardRef(({className:t,sideOffset:e=4,...n},r)=>p.jsx(Fyt,{children:p.jsx(fge,{ref:r,sideOffset:e,className:ht("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));dV.displayName=fge.displayName;const Yb=T.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(pge,{ref:r,className:ht("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));Yb.displayName=pge.displayName;const zyt=T.forwardRef(({className:t,children:e,checked:n,...r},i)=>p.jsxs(mge,{ref:i,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(vge,{children:p.jsx(s4,{className:"h-4 w-4"})})}),e]}));zyt.displayName=mge.displayName;const Vyt=T.forwardRef(({className:t,children:e,...n},r)=>p.jsxs(gge,{ref:r,className:ht("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[p.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:p.jsx(vge,{children:p.jsx(Ixe,{className:"h-2 w-2 fill-current"})})}),e]}));Vyt.displayName=gge.displayName;const $yt=T.forwardRef(({className:t,inset:e,...n},r)=>p.jsx(hge,{ref:r,className:ht("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));$yt.displayName=hge.displayName;const Hyt=T.forwardRef(({className:t,...e},n)=>p.jsx(yge,{ref:n,className:ht("-mx-1 my-1 h-px bg-muted",t),...e}));Hyt.displayName=yge.displayName;function LZ(){const{setTheme:t}=ste();return p.jsxs(wge,{children:[p.jsx(_ge,{asChild:!0,children:p.jsxs(St,{variant:"ghost",size:"icon",children:[p.jsx(Wee,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),p.jsx(qxe,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),p.jsx("span",{className:"sr-only",children:"Toggle theme"})]})}),p.jsxs(dV,{align:"end",children:[p.jsx(Yb,{onClick:()=>t("light"),children:"Light"}),p.jsx(Yb,{onClick:()=>t("dark"),children:"Dark"}),p.jsx(Yb,{onClick:()=>t("system"),children:"System"})]})]})}const Dk=[{code:"en",name:"English",flag:""},{code:"fr",name:"Franais",flag:""},{code:"ar",name:"",flag:""}];function jZ(){const{i18n:t}=Yl(),e=n=>{t.changeLanguage(n),document.documentElement.dir=n==="ar"?"rtl":"ltr",document.documentElement.lang=n};return Dk.find(n=>n.code===t.language)||Dk[0],p.jsxs(wge,{children:[p.jsx(_ge,{asChild:!0,children:p.jsxs(St,{variant:"ghost",size:"icon",children:[p.jsx(Bxe,{className:"h-[1.2rem] w-[1.2rem]"}),p.jsx("span",{className:"sr-only",children:"Change language"})]})}),p.jsx(dV,{align:"end",children:Dk.map(n=>p.jsxs(Yb,{onClick:()=>e(n.code),className:`flex items-center gap-2 ${t.language===n.code?"bg-accent":""}`,children:[p.jsx("span",{children:n.flag}),p.jsx("span",{children:n.name})]},n.code))})]})}const Gyt=()=>{var o,l,c,u;const[t,e]=T.useState(!1),{user:n,signOut:r}=J1();qu();const{t:i}=Yl(),s=[{name:i("common.home"),href:"/"},{name:i("common.caseStudies"),href:"/case-studies"},{name:i("common.blog"),href:"/blog"},...n?[{name:"Dashboard",href:"/dashboard"}]:[]],a=async()=>{await r(),e(!1)};return p.jsx("header",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:p.jsxs("div",{className:"container flex h-16 items-center justify-between px-4",children:[p.jsx(fr,{to:"/",className:"flex items-center space-x-2",children:p.jsxs(Jt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2",children:[p.jsxs("div",{className:"relative",children:[p.jsx(Xv,{className:"h-8 w-8 text-primary"}),p.jsx("div",{className:"absolute -top-1 -right-1 h-3 w-3 bg-primary rounded-full animate-pulse"})]}),p.jsx("span",{className:"text-xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"NextVerse"})]})}),p.jsx("nav",{className:"hidden md:flex items-center space-x-6",children:s.map(d=>p.jsxs(iU,{to:d.href,className:"text-sm font-medium text-muted-foreground hover:text-foreground transition-colors relative group",activeClassName:"text-primary",children:[d.name,p.jsx("span",{className:"absolute -bottom-1 left-0 w-0 h-0.5 bg-primary transition-all duration-300 group-hover:w-full"})]},d.name))}),p.jsxs("div",{className:"hidden md:flex items-center space-x-4",children:[p.jsx(jZ,{}),p.jsx(LZ,{}),n?p.jsxs("div",{className:"flex items-center space-x-4",children:[p.jsxs("span",{className:"text-sm text-muted-foreground",children:[i("common.welcome"),", ",((o=n.user_metadata)==null?void 0:o.first_name)||((l=n.email)==null?void 0:l.split("@")[0])]}),p.jsx(St,{variant:"outline",onClick:a,children:i("common.signOut")})]}):p.jsxs(p.Fragment,{children:[p.jsx(fr,{to:"/login",children:p.jsx(St,{variant:"ghost",children:i("common.login")})}),p.jsx(fr,{to:"/register",children:p.jsx(St,{children:i("common.getStarted")})})]})]}),p.jsxs(mpe,{open:t,onOpenChange:e,children:[p.jsx(lvt,{asChild:!0,children:p.jsxs(St,{variant:"ghost",size:"icon",className:"md:hidden",children:[p.jsx(Hxe,{className:"h-5 w-5"}),p.jsx("span",{className:"sr-only",children:"Toggle menu"})]})}),p.jsx(Zz,{side:"right",className:"w-[300px] sm:w-[400px]",children:p.jsxs("div",{className:"flex flex-col space-y-6 mt-6",children:[p.jsxs(fr,{to:"/",className:"flex items-center space-x-2",onClick:()=>e(!1),children:[p.jsx(Xv,{className:"h-6 w-6 text-primary"}),p.jsx("span",{className:"text-lg font-bold",children:"NextVerse"})]}),p.jsx("nav",{className:"flex flex-col space-y-4",children:s.map(d=>p.jsx(iU,{to:d.href,className:"text-lg font-medium text-muted-foreground hover:text-foreground transition-colors py-2 px-4 rounded-md hover:bg-accent",activeClassName:"text-primary bg-accent",onClick:()=>e(!1),children:d.name},d.name))}),p.jsxs("div",{className:"border-t pt-6",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("span",{className:"text-sm font-medium",children:i("common.language")}),p.jsx(jZ,{})]}),p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("span",{className:"text-sm font-medium",children:i("common.theme")}),p.jsx(LZ,{})]}),n?p.jsxs("div",{className:"space-y-4",children:[p.jsxs("div",{className:"text-sm text-muted-foreground",children:["Signed in as ",((c=n.user_metadata)==null?void 0:c.first_name)||((u=n.email)==null?void 0:u.split("@")[0])]}),p.jsx(St,{variant:"outline",onClick:a,className:"w-full",children:i("common.signOut")})]}):p.jsxs("div",{className:"flex flex-col space-y-3",children:[p.jsx(fr,{to:"/login",onClick:()=>e(!1),children:p.jsx(St,{variant:"ghost",className:"w-full justify-start",children:i("common.login")})}),p.jsx(fr,{to:"/register",onClick:()=>e(!1),children:p.jsx(St,{className:"w-full",children:i("common.getStarted")})})]})]})]})})]})]})})},Wyt=new E_e,Xyt=()=>p.jsx(A_e,{client:Wyt,children:p.jsx(Bbe,{defaultTheme:"dark",storageKey:"nextverse-theme",children:p.jsx(FIe,{children:p.jsxs(Dte,{children:[p.jsx(Fbe,{}),p.jsx(pwe,{}),p.jsx(P0t,{}),p.jsxs(SSe,{children:[p.jsx(Gyt,{}),p.jsxs(mSe,{children:[p.jsx(cs,{path:"/",element:p.jsx(CIe,{})}),p.jsx(cs,{path:"/case-studies",element:p.jsx(OIe,{})}),p.jsx(cs,{path:"/blog",element:p.jsx(IIe,{})}),p.jsx(cs,{path:"/blog/:slug",element:p.jsx(kIe,{})}),p.jsx(cs,{path:"/login",element:p.jsx(BIe,{})}),p.jsx(cs,{path:"/register",element:p.jsx(WIe,{})}),p.jsx(cs,{path:"/experience",element:p.jsx(vHe,{})}),p.jsx(cs,{path:"/dashboard",element:p.jsx(Lvt,{})}),p.jsx(cs,{path:"/dashboard/users",element:p.jsx(Uvt,{})}),p.jsx(cs,{path:"/dashboard/modules",element:p.jsx(Bvt,{})}),p.jsx(cs,{path:"/dashboard/ai-guide",element:p.jsx(Wvt,{})}),p.jsx(cs,{path:"/dashboard/environments",element:p.jsx(d0t,{})}),p.jsx(cs,{path:"/dashboard/live-sessions",element:p.jsx(f0t,{})}),p.jsx(cs,{path:"/dashboard/analytics",element:p.jsx(h0t,{})}),p.jsx(cs,{path:"/dashboard/assets",element:p.jsx(p0t,{})}),p.jsx(cs,{path:"/dashboard/settings",element:p.jsx(m0t,{})}),p.jsx(cs,{path:"*",element:p.jsx(PIe,{})})]})]})]})})})}),{slice:qyt,forEach:Kyt}=[];function Yyt(t){return Kyt.call(qyt.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function Zyt(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const FZ=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Jyt=function(t,e){const r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},i=encodeURIComponent(e);let s=`${t}=${i}`;if(r.maxAge>0){const a=r.maxAge-0;if(Number.isNaN(a))throw new Error("maxAge should be a Number");s+=`; Max-Age=${Math.floor(a)}`}if(r.domain){if(!FZ.test(r.domain))throw new TypeError("option domain is invalid");s+=`; Domain=${r.domain}`}if(r.path){if(!FZ.test(r.path))throw new TypeError("option path is invalid");s+=`; Path=${r.path}`}if(r.expires){if(typeof r.expires.toUTCString!="function")throw new TypeError("option expires is invalid");s+=`; Expires=${r.expires.toUTCString()}`}if(r.httpOnly&&(s+="; HttpOnly"),r.secure&&(s+="; Secure"),r.sameSite)switch(typeof r.sameSite=="string"?r.sameSite.toLowerCase():r.sameSite){case!0:s+="; SameSite=Strict";break;case"lax":s+="; SameSite=Lax";break;case"strict":s+="; SameSite=Strict";break;case"none":s+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return r.partitioned&&(s+="; Partitioned"),s},UZ={create(t,e,n,r){let i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(i.expires=new Date,i.expires.setTime(i.expires.getTime()+n*60*1e3)),r&&(i.domain=r),document.cookie=Jyt(t,e,i)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let r=0;r<n.length;r++){let i=n[r];for(;i.charAt(0)===" ";)i=i.substring(1,i.length);if(i.indexOf(e)===0)return i.substring(e.length,i.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var Qyt={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return UZ.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:r,cookieDomain:i,cookieOptions:s}=e;n&&typeof document<"u"&&UZ.create(n,t,r,i,s)}},ext={name:"querystring",lookup(t){var r;let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:i}=window.location;!window.location.search&&((r=window.location.hash)==null?void 0:r.indexOf("?"))>-1&&(i=window.location.hash.substring(window.location.hash.indexOf("?")));const a=i.substring(1).split("&");for(let o=0;o<a.length;o++){const l=a[o].indexOf("=");l>0&&a[o].substring(0,l)===e&&(n=a[o].substring(l+1))}}return n}},txt={name:"hash",lookup(t){var i;let{lookupHash:e,lookupFromHashIndex:n}=t,r;if(typeof window<"u"){const{hash:s}=window.location;if(s&&s.length>2){const a=s.substring(1);if(e){const o=a.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===e&&(r=o[l].substring(c+1))}}if(r)return r;if(!r&&n>-1){const o=s.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?(i=o[typeof n=="number"?n:0])==null?void 0:i.replace("/",""):void 0}}}return r}};let Mg=null;const BZ=()=>{if(Mg!==null)return Mg;try{if(Mg=typeof window<"u"&&window.localStorage!==null,!Mg)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Mg=!1}return Mg};var nxt={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&BZ())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&BZ()&&window.localStorage.setItem(n,t)}};let Cg=null;const zZ=()=>{if(Cg!==null)return Cg;try{if(Cg=typeof window<"u"&&window.sessionStorage!==null,!Cg)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Cg=!1}return Cg};var rxt={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&zZ())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&zZ()&&window.sessionStorage.setItem(n,t)}},ixt={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:r,language:i}=navigator;if(n)for(let s=0;s<n.length;s++)e.push(n[s]);r&&e.push(r),i&&e.push(i)}return e.length>0?e:void 0}},sxt={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const r=e||(typeof document<"u"?document.documentElement:null);return r&&typeof r.getAttribute=="function"&&(n=r.getAttribute("lang")),n}},axt={name:"path",lookup(t){var i;let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?(i=n[typeof e=="number"?e:0])==null?void 0:i.replace("/",""):void 0}},oxt={name:"subdomain",lookup(t){var i,s;let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,r=typeof window<"u"&&((s=(i=window.location)==null?void 0:i.hostname)==null?void 0:s.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i));if(r)return r[n]}};let Sge=!1;try{document.cookie,Sge=!0}catch{}const Ege=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];Sge||Ege.splice(1,1);const lxt=()=>({order:Ege,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class Tge{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=Yyt(n,this.options||{},lxt()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=i=>i.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=r,this.addDetector(Qyt),this.addDetector(ext),this.addDetector(nxt),this.addDetector(rxt),this.addDetector(ixt),this.addDetector(sxt),this.addDetector(axt),this.addDetector(oxt),this.addDetector(txt)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(r=>{if(this.detectors[r]){let i=this.detectors[r].lookup(this.options);i&&typeof i=="string"&&(i=[i]),i&&(n=n.concat(i))}}),n=n.filter(r=>r!=null&&!Zyt(r)).map(r=>this.options.convertDetectedLanguage(r)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(r=>{this.detectors[r]&&this.detectors[r].cacheUserLanguage(e,this.options)}))}}Tge.type="languageDetector";const cxt={home:"Home",caseStudies:"Case Studies",blog:"Blog",login:"Sign In",register:"Register",getStarted:"Get Started",signOut:"Sign Out",welcome:"Welcome",backToHome:"Back to Home",loading:"Loading...",error:"Error",success:"Success",cancel:"Cancel",save:"Save",delete:"Delete",edit:"Edit",view:"View",search:"Search",filter:"Filter",sort:"Sort",next:"Next",previous:"Previous",close:"Close",open:"Open",menu:"Menu",settings:"Settings",profile:"Profile",help:"Help",contact:"Contact",about:"About",terms:"Terms of Service",privacy:"Privacy Policy",language:"Language",theme:"Theme"},uxt={title:"NextVerse VR/AR Learning Platform",subtitle:"Transform education with immersive virtual reality experiences",description:"NextVerse is a VR/AR platform that allows users to learn and practice inside fully immersive 3D environments. It also includes an AI teacher/guide that explains everything the user sees and supports them step by step throughout the learning journey. NextVerse has the potential to transform both industry and education by making practical, hands-on training accessible anytime and anywhere  without the need for expensive physical equipment.",ctaPrimary:"Book Demo",ctaSecondary:"Learn More"},dxt={title:"Powerful Features for Modern Education",subtitle:"Learn",description:"NextVerse combines cutting-edge VR/AR technology with intelligent AI to create the most effective learning experience possible.",immersiveLearning:{title:"Immersive Learning",description:"Create fully immersive 3D learning environments that engage students like never before."},realTimeCollaboration:{title:"AI-Powered Guide",description:"Your personal AI teacher explains concepts, answers questions, and adapts to your learning pace."},analytics:{title:"Learn Anywhere",description:"Access world-class training from home. No expensive equipment or travel required."},customContent:{title:"Instant Feedback",description:"Get real-time corrections and guidance as you practice. Accelerate your learning journey."},integration:{title:"Knowledge Hub",description:"Access expert guides, industry trends, and success stories in our comprehensive resources section."}},fxt={login:{title:"Welcome Back",subtitle:"Sign in to your NextVerse account",email:"Email",password:"Password",forgotPassword:"Forgot password?",signIn:"Sign In",noAccount:"New to NextVerse?",createAccount:"Create Account",resetPassword:"Reset Password",sendResetEmail:"Send Reset Email",backToSignIn:"Back to Sign In",demoCredentials:"Demo: Use any email/password to test authentication"},register:{title:"Create Account",subtitle:"Join NextVerse and start your VR learning journey",firstName:"First Name",lastName:"Last Name",email:"Email",password:"Password",confirmPassword:"Confirm Password",agreeToTerms:"I agree to the Terms of Service and Privacy Policy",createAccount:"Create Account",haveAccount:"Already have an account?",signInInstead:"Sign In Instead",accountCreated:"Account Created!",checkEmail:"Please check your email and click the verification link to activate your account.",redirecting:"Redirecting to login page...",passwordRequirements:"Password requirements:",minLength:"At least 8 characters",uppercase:"One uppercase letter",lowercase:"One lowercase letter",number:"One number"}},hxt={title:"Knowledge Hub",subtitle:"VR Training",subtitleHighlight:"Resources & Insights",description:"Stay ahead of the curve with expert guides, industry trends, customer success stories, and practical how-tos for implementing VR training in your organization",featured:"Featured Articles",latest:"Latest Posts",categories:"Categories",tags:"Tags",readMore:"Read More",relatedArticles:"Related Articles",newsletter:{title:"Stay Updated",subtitle:"Get the latest VR training insights, industry trends, and success stories delivered to your inbox.",email:"Enter your email",subscribe:"Subscribe",subscribed:"No spam, unsubscribe at any time.",thanks:"Thanks for subscribing to our newsletter."}},pxt={title:"Real Results from",subtitle:"Real Organizations",description:"Discover how leading companies across industries are transforming their training programs with our immersive VR/AR platform.",readFullCase:"Read Full Case Study",metrics:"Success Stories",results:"Results",ctaTitle:"Ready to Join These Success Stories?",ctaDescription:"See how VR/AR training can transform your organization's learning and development programs.",ctaPrimary:"Get Started Today",ctaSecondary:"Schedule a Demo"},mxt={title:"Industry Applications",subtitle:"Use Cases",description:"NextVerse VR/AR platform serves diverse industries and educational sectors with tailored immersive learning solutions.",industryTraining:{title:"Industry Training",description:"Professional development and certification programs for corporate training and skill development.",examples:["Manufacturing Safety","Healthcare Training","Construction Skills","Aviation Procedures","Oil & Gas Operations"]},education:{title:"Education & Academia",description:"Interactive learning experiences for K-12, higher education, and lifelong learning programs.",examples:["STEM Education","Medical Training","Historical Simulations","Language Learning","Science Experiments"]}},gxt={title:"Why Choose",subtitle:"NextVerse?",description:"The benefits speak for themselves",noEquipment:"No expensive physical equipment needed",ownPace:"Learn at your own pace, anytime",safeEnvironment:"Safe environment to make mistakes",aiAdapts:"AI adapts to your learning style",unlimitedPractice:"Practice unlimited times",instantFeedback:"Instant expert feedback"},vxt={badge:"Transform Your Learning Today",title:"The Future of",subtitle:"Learning",description:"Join thousands of learners and organizations already using NextVerse to revolutionize education and training.",primaryButton:"Get Started Free",secondaryButton:"Schedule a Demo",footer:"No credit card required  Start learning in minutes"},yxt={common:cxt,hero:uxt,features:dxt,auth:fxt,blog:hxt,caseStudies:pxt,useCases:mxt,benefits:gxt,cta:vxt},xxt={home:"Accueil",caseStudies:"tudes de Cas",blog:"Blog",login:"Se Connecter",register:"S'inscrire",getStarted:"Commencer",signOut:"Se Dconnecter",welcome:"Bienvenue",backToHome:"Retour  l'Accueil",loading:"Chargement...",error:"Erreur",success:"Succs",cancel:"Annuler",save:"Sauvegarder",delete:"Supprimer",edit:"Modifier",view:"Voir",search:"Rechercher",filter:"Filtrer",sort:"Trier",next:"Suivant",previous:"Prcdent",close:"Fermer",open:"Ouvrir",menu:"Menu",settings:"Paramtres",profile:"Profil",help:"Aide",contact:"Contact",about:" Propos",terms:"Conditions d'Utilisation",privacy:"Politique de Confidentialit",language:"Langue",theme:"Thme"},bxt={title:"Plateforme d'Apprentissage VR/AR NextVerse",subtitle:"Transformez l'ducation avec des expriences de ralit virtuelle immersive",description:"NextVerse est une plateforme VR/AR qui permet aux utilisateurs d'apprendre et de pratiquer dans des environnements 3D entirement immersifs. Elle comprend galement un enseignant/guide IA qui explique tout ce que l'utilisateur voit et le soutient tape par tape tout au long du parcours d'apprentissage. NextVerse a le potentiel de transformer  la fois l'industrie et l'ducation en rendant la formation pratique et pratique accessible  tout moment et n'importe o  sans avoir besoin d'quipements physiques coteux.",ctaPrimary:"Rserver une Dmo",ctaSecondary:"En Savoir Plus"},wxt={title:"Fonctionnalits Puissantes pour l'ducation Moderne",subtitle:"Apprendre",description:"NextVerse combine une technologie VR/AR de pointe avec une IA intelligente pour crer l'exprience d'apprentissage la plus efficace possible.",immersiveLearning:{title:"Apprentissage Immersif",description:"Crez des environnements d'apprentissage 3D entirement immersifs qui engagent les tudiants comme jamais auparavant."},realTimeCollaboration:{title:"Guide Aliment par IA",description:"Votre enseignant IA personnel explique les concepts, rpond aux questions et s'adapte  votre rythme d'apprentissage."},analytics:{title:"Apprendre Partout",description:"Accdez  une formation de classe mondiale depuis chez vous. Aucun quipement coteux ou voyage requis."},customContent:{title:"Retour Instantan",description:"Obtenez des corrections et des conseils en temps rel pendant que vous pratiquez. Acclrez votre parcours d'apprentissage."},integration:{title:"Centre de Connaissances",description:"Accdez  des guides d'experts, aux tendances de l'industrie et aux histoires de succs dans notre section de ressources complte."}},_xt={login:{title:"Bienvenue de Retour",subtitle:"Connectez-vous  votre compte NextVerse",email:"Email",password:"Mot de Passe",forgotPassword:"Mot de passe oubli ?",signIn:"Se Connecter",noAccount:"Nouveau sur NextVerse ?",createAccount:"Crer un Compte",resetPassword:"Rinitialiser le Mot de Passe",sendResetEmail:"Envoyer l'Email de Rinitialisation",backToSignIn:"Retour  la Connexion",demoCredentials:"Dmo : Utilisez n'importe quel email/mot de passe pour tester l'authentification"},register:{title:"Crer un Compte",subtitle:"Rejoignez NextVerse et commencez votre voyage d'apprentissage VR",firstName:"Prnom",lastName:"Nom",email:"Email",password:"Mot de Passe",confirmPassword:"Confirmer le Mot de Passe",agreeToTerms:"J'accepte les Conditions d'Utilisation et la Politique de Confidentialit",createAccount:"Crer un Compte",haveAccount:"Vous avez dj un compte ?",signInInstead:"Se Connecter  la Place",accountCreated:"Compte Cr !",checkEmail:"Veuillez vrifier votre email et cliquer sur le lien de vrification pour activer votre compte.",redirecting:"Redirection vers la page de connexion...",passwordRequirements:"Exigences du mot de passe :",minLength:"Au moins 8 caractres",uppercase:"Une lettre majuscule",lowercase:"Une lettre minuscule",number:"Un chiffre"}},Sxt={title:"Centre de Connaissances",subtitle:"Formation VR",subtitleHighlight:"Ressources et Insights",description:"Restez en avance sur la courbe avec des guides d'experts, des tendances de l'industrie, des histoires de succs clients, et des guides pratiques pour implmenter la formation VR dans votre organisation",featured:"Articles en Vedette",latest:"Derniers Articles",categories:"Catgories",tags:"tiquettes",readMore:"Lire la Suite",relatedArticles:"Articles Connexes",newsletter:{title:"Restez Inform",subtitle:"Recevez les dernires insights sur la formation VR, les tendances de l'industrie, et les histoires de succs dans votre bote mail.",email:"Entrez votre email",subscribe:"S'abonner",subscribed:"Pas de spam, dsabonnez-vous  tout moment.",thanks:"Merci de vous tre abonn  notre newsletter."}},Ext={title:"Rsultats Rels de",subtitle:"Organisations Relles",description:"Dcouvrez comment les principales entreprises de tous secteurs transforment leurs programmes de formation avec notre plateforme VR/AR immersive.",readFullCase:"Lire l'tude de Cas Complte",metrics:"Histoires de Succs",results:"Rsultats",ctaTitle:"Prt  Rejoindre Ces Histoires de Succs ?",ctaDescription:"Dcouvrez comment la formation VR/AR peut transformer les programmes d'apprentissage et de dveloppement de votre organisation.",ctaPrimary:"Commencer Aujourd'hui",ctaSecondary:"Planifier une Dmo"},Txt={title:"Applications Industrielles",subtitle:"Cas d'Usage",description:"La plateforme VR/AR NextVerse sert divers secteurs industriels et ducatifs avec des solutions d'apprentissage immersif sur mesure.",industryTraining:{title:"Formation Professionnelle",description:"Programmes de dveloppement professionnel et de certification pour la formation d'entreprise et le dveloppement des comptences.",examples:["Scurit Manufacturire","Formation Mdicale","Comptences de Construction","Procdures Aronautiques","Oprations Ptrole & Gaz"]},education:{title:"ducation & Acadmie",description:"Expriences d'apprentissage interactives pour l'enseignement primaire/secondaire, suprieur et les programmes d'apprentissage tout au long de la vie.",examples:["ducation STEM","Formation Mdicale","Simulations Historiques","Apprentissage des Langues","Expriences Scientifiques"]}},Axt={title:"Pourquoi Choisir",subtitle:"NextVerse?",description:"Les avantages parlent d'eux-mmes",noEquipment:"Aucun quipement physique coteux ncessaire",ownPace:"Apprenez  votre rythme, n'importe quand",safeEnvironment:"Environnement sr pour faire des erreurs",aiAdapts:"L'IA s'adapte  votre style d'apprentissage",unlimitedPractice:"Pratiquez un nombre illimit de fois",instantFeedback:"Retour d'expert instantan"},Mxt={badge:"Transformez Votre Apprentissage Aujourd'hui",title:"Le Futur de",subtitle:"l'Apprentissage",description:"Rejoignez des milliers d'apprenants et d'organisations qui utilisent dj NextVerse pour rvolutionner l'ducation et la formation.",primaryButton:"Commencer Gratuitement",secondaryButton:"Planifier une Dmo",footer:"Aucune carte de crdit requise  Commencez  apprendre en quelques minutes"},Cxt={company:"NextVerse",tagline:"Transformer l'ducation Grce  la VR/AR",copyright:" 2025 NextVerse. Tous droits rservs.",links:{about:" Propos",blog:"Blog",careers:"Carrires",contact:"Contact",support:"Support",privacy:"Confidentialit",terms:"Conditions"}},Pxt={common:xxt,hero:bxt,features:wxt,auth:_xt,blog:Sxt,caseStudies:Ext,useCases:Txt,benefits:Axt,cta:Mxt,footer:Cxt},Rxt={home:"",caseStudies:" ",blog:"",login:" ",register:" ",getStarted:" ",signOut:" ",welcome:"",backToHome:"  ",loading:" ...",error:"",success:"",cancel:"",save:"",delete:"",edit:"",view:"",search:"",filter:"",sort:"",next:"",previous:"",close:"",open:"",menu:"",settings:"",profile:" ",help:"",contact:" ",about:"",terms:" ",privacy:" ",language:"",theme:""},Oxt={title:"   NextVerse VR/AR",subtitle:"     ",description:"NextVerse   VR/AR          .   /             .  NextVerse                            .",ctaPrimary:"  ",ctaSecondary:" "},Nxt={title:"   ",subtitle:"",description:" NextVerse   VR/AR          .",immersiveLearning:{title:" ",description:"             ."},realTimeCollaboration:{title:"   ",description:"            ."},analytics:{title:"   ",description:"      .       ."},customContent:{title:" ",description:"        .    ."},integration:{title:" ",description:"           ."}},Ixt={login:{title:"   ",subtitle:"     NextVerse",email:" ",password:" ",forgotPassword:"  ",signIn:" ",noAccount:"  NextVerse",createAccount:" ",resetPassword:"   ",sendResetEmail:"   ",backToSignIn:"   ",demoCredentials:" :    /   "},register:{title:" ",subtitle:"  NextVerse     ",firstName:" ",lastName:" ",email:" ",password:" ",confirmPassword:"  ",agreeToTerms:"     ",createAccount:" ",haveAccount:"  ",signInInstead:"    ",accountCreated:"  !",checkEmail:"          .",redirecting:"     ...",passwordRequirements:"  :",minLength:"8   ",uppercase:"  ",lowercase:"  ",number:" "}},kxt={title:" ",subtitle:" VR",subtitleHighlight:" ",description:"               VR  ",featured:" ",latest:" ",categories:"",tags:"",readMore:" ",relatedArticles:"  ",newsletter:{title:"  ",subtitle:"     VR       .",email:"  ",subscribe:"",subscribed:"       .",thanks:"    ."}},Dxt={title:"  ",subtitle:" ",description:"              VR/AR  .",readFullCase:"   ",metrics:" ",results:"",ctaTitle:"     ",ctaDescription:"    VR/AR      .",ctaPrimary:" ",ctaSecondary:"  "},Lxt={title:" ",subtitle:" ",description:"  NextVerse VR/AR        .",industryTraining:{title:" ",description:"       .",examples:[" "," "," "," ","  "]},education:{title:" ",description:"          .",examples:[" STEM"," "," "," "," "]}},jxt={title:" ",subtitle:"NextVerse",description:"   ",noEquipment:"     ",ownPace:"      ",safeEnvironment:"   ",aiAdapts:"     ",unlimitedPractice:"     ",instantFeedback:"    "},Fxt={badge:"  ",title:"",subtitle:"",description:"        NextVerse     .",primaryButton:" ",secondaryButton:"  ",footer:"        "},Uxt={company:"NextVerse",tagline:"    VR/AR",copyright:" 2025 NextVerse.   .",links:{about:"",blog:"",careers:"",contact:" ",support:"",privacy:"",terms:""}},Bxt={common:Rxt,hero:Oxt,features:Nxt,auth:Ixt,blog:kxt,caseStudies:Dxt,useCases:Lxt,benefits:jxt,cta:Fxt,footer:Uxt},zxt={en:{translation:yxt},fr:{translation:Pxt},ar:{translation:Bxt}};Ea.use(Tge).use(G2e).init({resources:zxt,fallbackLng:"en",debug:!1,interpolation:{escapeValue:!1},detection:{order:["localStorage","navigator","htmlTag"],caches:["localStorage"]},react:{useSuspense:!1}});UC(document.getElementById("root")).render(p.jsx(Xyt,{}));export{un as B,Et as C,wa as E,Vt as F,Eu as G,Jl as L,It as M,$n as O,g_ as P,hr as Q,ie as R,gbt as S,tR as T,J as V,Zze as _,dr as a,lr as b,f5e as c,Ua as d,uA as e,Ks as f,xR as g,rl as h,o_ as i,p as j,Ss as k,Wn as l,$f as m,u_ as n,hy as o,Ve as p,UC as q,T as r};
